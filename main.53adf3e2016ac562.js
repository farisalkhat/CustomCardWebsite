(self.webpackChunkCustomCardWebsite=self.webpackChunkCustomCardWebsite||[]).push([[179],{653:(oo,fc,us)=>{"use strict";function Ne(n){return"function"==typeof n}function ds(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ao=ds(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ti(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Wt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){t=s instanceof ao?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Ia(s)}catch(o){t=null!=t?t:[],o instanceof ao?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ao(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ia(t);else{if(t instanceof Wt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ti(e,t)}remove(t){const{_teardowns:e}=this;e&&ti(e,t),t instanceof Wt&&t._removeParent(this)}}Wt.EMPTY=(()=>{const n=new Wt;return n.closed=!0,n})();const ps=Wt.EMPTY;function mn(n){return n instanceof Wt||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function Ia(n){Ne(n)?n():n.unsubscribe()}const Hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},be={setTimeout(...n){const{delegate:t}=be;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=be;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Se(n){be.setTimeout(()=>{const{onUnhandledError:t}=Hn;if(!t)throw n;t(n)})}function an(){}const Le=lo("C",void 0,void 0);function lo(n,t,e){return{kind:n,value:t,error:e}}let rr=null;function hs(n){if(Hn.useDeprecatedSynchronousErrorHandling){const t=!rr;if(t&&(rr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=rr;if(rr=null,e)throw r}}else n()}class ni extends Wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,mn(t)&&t.add(this)):this.destination=M2}static create(t,e,r){return new mc(t,e,r)}next(t){this.isStopped?gp(function fp(n){return lo("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?gp(function qt(n){return lo("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?gp(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w2=Function.prototype.bind;function mp(n,t){return w2.call(n,t)}class S2{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){gc(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){gc(r)}else gc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){gc(e)}}}class mc extends ni{constructor(t,e,r){let i;if(super(),Ne(t)||!t)i={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let s;this&&Hn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&mp(t.next,s),error:t.error&&mp(t.error,s),complete:t.complete&&mp(t.complete,s)}):i=t}this.destination=new S2(i)}}function gc(n){Hn.useDeprecatedSynchronousErrorHandling?function Pa(n){Hn.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=n)}(n):Se(n)}function gp(n,t){const{onStoppedNotification:e}=Hn;e&&be.setTimeout(()=>e(n,t))}const M2={closed:!0,next:an,error:function x2(n){throw n},complete:an},_p="function"==typeof Symbol&&Symbol.observable||"@@observable";function fs(n){return n}let rt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function I2(n){return n&&n instanceof ni||function E2(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&mn(n)}(e)?e:new mc(e,r,i);return hs(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Q_(r))((i,s)=>{const o=new mc({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[_p](){return this}pipe(...e){return function K_(n){return 0===n.length?fs:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=Q_(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=t=>new n(t),n})();function Q_(n){var t;return null!==(t=null!=n?n:Hn.Promise)&&void 0!==t?t:Promise}const P2=ds(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let gn=(()=>{class n extends rt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new X_(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new P2}next(e){hs(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ps:(s.push(e),new Wt(()=>ti(s,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new rt;return e.source=this,e}}return n.create=(t,e)=>new X_(t,e),n})();class X_ extends gn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:ps}}function Y_(n){return Ne(null==n?void 0:n.lift)}function Dt(n){return t=>{if(Y_(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(n,t,e,r,i){return new A2(n,t,e,r,i)}class A2 extends ni{constructor(t,e,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ee(n,t){return Dt((e,r)=>{let i=0;e.subscribe(dt(r,s=>{r.next(n.call(t,s,i++))}))})}function ms(n){return this instanceof ms?(this.v=n,this):new ms(n)}function R2(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(_){return new Promise(function(y,k){s.push([g,_,y,k])>1||a(g,_)})})}function a(g,_){try{!function l(g){g.value instanceof ms?Promise.resolve(g.value.v).then(c,p):m(s[0][2],g)}(r[g](_))}catch(y){m(s[0][3],y)}}function c(g){a("next",g)}function p(g){a("throw",g)}function m(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function F2(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ev(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const tv=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nv(n){return Ne(null==n?void 0:n.then)}function rv(n){return Ne(n[_p])}function iv(n){return Symbol.asyncIterator&&Ne(null==n?void 0:n[Symbol.asyncIterator])}function sv(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ov=function B2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function av(n){return Ne(null==n?void 0:n[ov])}function lv(n){return R2(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield ms(e.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{e.releaseLock()}})}function cv(n){return Ne(null==n?void 0:n.getReader)}function ir(n){if(n instanceof rt)return n;if(null!=n){if(rv(n))return function V2(n){return new rt(t=>{const e=n[_p]();if(Ne(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(tv(n))return function H2(n){return new rt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(nv(n))return function z2(n){return new rt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Se)})}(n);if(iv(n))return uv(n);if(av(n))return function $2(n){return new rt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(cv(n))return function U2(n){return uv(lv(n))}(n)}throw sv(n)}function uv(n){return new rt(t=>{(function j2(n,t){var e,r,i,s;return function O2(n,t,e,r){return new(e||(e=Promise))(function(s,o){function a(p){try{c(r.next(p))}catch(m){o(m)}}function l(p){try{c(r.throw(p))}catch(m){o(m)}}function c(p){p.done?s(p.value):function i(s){return s instanceof e?s:new e(function(o){o(s)})}(p.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=F2(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ri(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Tt(n,t,e=1/0){return Ne(t)?Tt((r,i)=>Ee((s,o)=>t(r,s,i,o))(ir(n(r,i))),e):("number"==typeof t&&(e=t),Dt((r,i)=>function W2(n,t,e,r,i,s,o,a){const l=[];let c=0,p=0,m=!1;const g=()=>{m&&!l.length&&!c&&t.complete()},_=k=>c<r?y(k):l.push(k),y=k=>{s&&t.next(k),c++;let S=!1;ir(e(k,p++)).subscribe(dt(t,E=>{null==i||i(E),s?_(E):t.next(E)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<r;){const E=l.shift();o?ri(t,o,()=>y(E)):y(E)}g()}catch(E){t.error(E)}}))};return n.subscribe(dt(t,_,()=>{m=!0,g()})),()=>{null==a||a()}}(r,i,n,e)))}function Aa(n=1/0){return Tt(fs,n)}const ii=new rt(n=>n.complete());function yp(n){return n[n.length-1]}function dv(n){return Ne(yp(n))?n.pop():void 0}function Oa(n){return function G2(n){return n&&Ne(n.schedule)}(yp(n))?n.pop():void 0}function pv(n,t=0){return Dt((e,r)=>{e.subscribe(dt(r,i=>ri(r,n,()=>r.next(i),t),()=>ri(r,n,()=>r.complete(),t),i=>ri(r,n,()=>r.error(i),t)))})}function hv(n,t=0){return Dt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function fv(n,t){if(!n)throw new Error("Iterable cannot be null");return new rt(e=>{ri(e,t,()=>{const r=n[Symbol.asyncIterator]();ri(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function wt(n,t){return t?function eM(n,t){if(null!=n){if(rv(n))return function Q2(n,t){return ir(n).pipe(hv(t),pv(t))}(n,t);if(tv(n))return function Y2(n,t){return new rt(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(nv(n))return function X2(n,t){return ir(n).pipe(hv(t),pv(t))}(n,t);if(iv(n))return fv(n,t);if(av(n))return function J2(n,t){return new rt(e=>{let r;return ri(e,t,()=>{r=n[ov](),ri(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>Ne(null==r?void 0:r.return)&&r.return()})}(n,t);if(cv(n))return function Z2(n,t){return fv(lv(n),t)}(n,t)}throw sv(n)}(n,t):ir(n)}function _c(n){return n<=0?()=>ii:Dt((t,e)=>{let r=0;t.subscribe(dt(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Cp(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(_c(1)).subscribe(()=>n())}function Be(n){for(let t in n)if(n[t]===Be)return t;throw Error("Could not find renamed property on target object.")}function bp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function kp(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const rM=Be({__forward_ref__:Be});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Pe(this())},n}function ue(n){return mv(n)?n():n}function mv(n){return"function"==typeof n&&n.hasOwnProperty(rM)&&n.__forward_ref__===Ve}class j extends Error{constructor(t,e){super(function Dp(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Gt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}function vc(n,t){const e=t?` in ${t}`:"";throw new j(-201,`No provider for ${Gt(n)} found${e}`)}function vn(n,t){null==n&&function qe(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tp(n){return gv(n,yc)||gv(n,vv)}function gv(n,t){return n.hasOwnProperty(t)?n[t]:null}function _v(n){return n&&(n.hasOwnProperty(wp)||n.hasOwnProperty(uM))?n[wp]:null}const yc=Be({\u0275prov:Be}),wp=Be({\u0275inj:Be}),vv=Be({ngInjectableDef:Be}),uM=Be({ngInjectorDef:Be});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let Sp;function wi(n){const t=Sp;return Sp=n,t}function yv(n,t,e){const r=Tp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&se.Optional?null:void 0!==t?t:void vc(Pe(n),"Injector")}function Si(n){return{toString:n}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),or=(()=>{return(n=or||(or={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",or;var n})();const pM="undefined"!=typeof globalThis&&globalThis,hM="undefined"!=typeof window&&window,fM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Re=pM||"undefined"!=typeof global&&global||hM||fM,co={},He=[],Cc=Be({\u0275cmp:Be}),xp=Be({\u0275dir:Be}),Mp=Be({\u0275pipe:Be}),Cv=Be({\u0275mod:Be}),oi=Be({\u0275fac:Be}),Na=Be({__NG_ELEMENT_ID__:Be});let mM=0;function Q(n){return Si(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||He,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,id:"c",styles:n.styles||He,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=mM++,r.inputs=Tv(n.inputs,e),r.outputs=Tv(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(bv):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(kv):null,r})}function bv(n){return Rt(n)||function xi(n){return n[xp]||null}(n)}function kv(n){return function gs(n){return n[Mp]||null}(n)}const Dv={};function pt(n){return Si(()=>{const t={type:n.type,bootstrap:n.bootstrap||He,declarations:n.declarations||He,imports:n.imports||He,exports:n.exports||He,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Dv[n.id]=n.type),t})}function Tv(n,t){if(null==n)return co;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}const te=Q;function Kt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rt(n){return n[Cc]||null}function zn(n,t){const e=n[Cv]||null;if(!e&&!0===t)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return e}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function lr(n){return Array.isArray(n)&&!0===n[1]}function Pp(n){return 0!=(8&n.flags)}function Tc(n){return 2==(2&n.flags)}function wc(n){return 1==(1&n.flags)}function cr(n){return null!==n.template}function bM(n){return 0!=(512&n[2])}function Cs(n,t){return n.hasOwnProperty(oi)?n[oi]:null}class TM{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qt(){return Sv}function Sv(n){return n.type.prototype.ngOnChanges&&(n.setInput=SM),wM}function wM(){const n=Mv(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===co)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function SM(n,t,e,r){const i=Mv(n)||function xM(n,t){return n[xv]=t}(n,{previous:co,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[e],l=o[a];s[a]=new TM(l&&l.currentValue,t,o===co),n[r]=t}Qt.ngInherit=!0;const xv="__ngSimpleChanges__";function Mv(n){return n[xv]||null}let Fp;function Lp(){return void 0!==Fp?Fp:"undefined"!=typeof document?document:void 0}function et(n){return!!n.listen}const Ev={createRenderer:(n,t)=>Lp()};function at(n){for(;Array.isArray(n);)n=n[0];return n}function Sc(n,t){return at(t[n])}function jn(n,t){return at(t[n.index])}function Bp(n,t){return n.data[t]}function Cn(n,t){const e=t[n];return wr(e)?e:e[0]}function Iv(n){return 4==(4&n[2])}function Vp(n){return 128==(128&n[2])}function Mi(n,t){return null==t?null:n[t]}function Pv(n){n[18]=0}function Hp(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const re={lFrame:Vv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Av(){return re.bindingsEnabled}function O(){return re.lFrame.lView}function Te(){return re.lFrame.tView}function M(n){return re.lFrame.contextLView=n,n[8]}function ht(){let n=Ov();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ov(){return re.lFrame.currentTNode}function Sr(n,t){const e=re.lFrame;e.currentTNode=n,e.isParent=t}function zp(){return re.lFrame.isParent}function $p(){re.lFrame.isParent=!1}function xc(){return re.isInCheckNoChangesMode}function Mc(n){re.isInCheckNoChangesMode=n}function Xt(){const n=re.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function go(){return re.lFrame.bindingIndex++}function li(n){const t=re.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function jM(n,t){const e=re.lFrame;e.bindingIndex=e.bindingRootIndex=n,Up(t)}function Up(n){re.lFrame.currentDirectiveIndex=n}function Fv(){return re.lFrame.currentQueryIndex}function Wp(n){re.lFrame.currentQueryIndex=n}function qM(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Lv(n,t,e){if(e&se.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&se.Host||(i=qM(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,n=s}const r=re.lFrame=Bv();return r.currentTNode=t,r.lView=n,!0}function Ec(n){const t=Bv(),e=n[1];re.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Bv(){const n=re.lFrame,t=null===n?null:n.child;return null===t?Vv(n):t}function Vv(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Hv(){const n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zv=Hv;function Ic(){const n=Hv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yt(){return re.lFrame.selectedIndex}function Ei(n){re.lFrame.selectedIndex=n}function tt(){const n=re.lFrame;return Bp(n.tView,n.selectedIndex)}function Pc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(e,p)}}function Ac(n,t,e){$v(n,t,3,e)}function Oc(n,t,e,r){(3&n[2])===e&&$v(n,t,e,r)}function qp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function $v(n,t,e,r){const s=null!=r?r:-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(tE(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function tE(n,t,e,r){const i=e[r]<0,s=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Va{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Nc(n,t,e){const r=et(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const o=e[i++],a=e[i++],l=e[i++];r?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++i];Kp(o)?r&&n.setProperty(t,o,a):r?n.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Uv(n){return 3===n||4===n||6===n}function Kp(n){return 64===n.charCodeAt(0)}function Rc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||jv(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function jv(n,t,e,r,i){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Wv(n){return-1!==n}function _o(n){return 32767&n}function vo(n,t){let e=function oE(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Qp=!0;function Fc(n){const t=Qp;return Qp=n,t}let aE=0;function za(n,t){const e=Yp(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Xp(r.data,n),Xp(t,null),Xp(r.blueprint,null));const i=Lc(n,t),s=n.injectorIndex;if(Wv(i)){const o=_o(i),a=vo(i,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function Xp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Yp(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Lc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Bc(n,t,e){!function lE(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Na)&&(r=e[Na]),null==r&&(r=e[Na]=aE++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function Kv(n,t,e){if(e&se.Optional)return n;vc(t,"NodeInjector")}function Qv(n,t,e,r){if(e&se.Optional&&void 0===r&&(r=null),0==(e&(se.Self|se.Host))){const i=n[9],s=wi(void 0);try{return i?i.get(t,r,e&se.Optional):yv(t,r,e&se.Optional)}finally{wi(s)}}return Kv(r,t,e)}function Xv(n,t,e,r=se.Default,i){if(null!==n){const s=function pE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Na)?n[Na]:void 0;return"number"==typeof t?t>=0?255&t:uE:t}(e);if("function"==typeof s){if(!Lv(t,n,r))return r&se.Host?Kv(i,e,r):Qv(t,e,r,i);try{const o=s(r);if(null!=o||r&se.Optional)return o;vc(e)}finally{zv()}}else if("number"==typeof s){let o=null,a=Yp(n,t),l=-1,c=r&se.Host?t[16][6]:null;for((-1===a||r&se.SkipSelf)&&(l=-1===a?Lc(n,t):t[a+8],-1!==l&&Zv(r,!1)?(o=t[1],a=_o(l),t=vo(l,t)):a=-1);-1!==a;){const p=t[1];if(Jv(s,a,p.data)){const m=dE(a,t,e,o,r,c);if(m!==Yv)return m}l=t[a+8],-1!==l&&Zv(r,t[1].data[a+8]===c)&&Jv(s,a,t)?(o=p,a=_o(l),t=vo(l,t)):a=-1}}}return Qv(t,e,r,i)}const Yv={};function uE(){return new yo(ht(),O())}function dE(n,t,e,r,i,s){const o=t[1],a=o.data[n+8],p=Vc(a,o,e,null==r?Tc(a)&&Qp:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==p?$a(t,o,p,a):Yv}function Vc(n,t,e,r,i){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,p=s>>20,g=i?a+p:n.directiveEnd;for(let _=r?a:a+p;_<g;_++){const y=o[_];if(_<l&&e===y||_>=l&&y.type===e)return _}if(i){const _=o[l];if(_&&cr(_)&&_.type===e)return l}return null}function $a(n,t,e,r){let i=n[e];const s=t.data;if(function nE(n){return n instanceof Va}(i)){const o=i;o.resolving&&function iM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new j(-200,`Circular dependency in DI detected for ${n}${e}`)}(Gt(s[e]));const a=Fc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?wi(o.injectImpl):null;Lv(n,r,se.Default);try{i=n[e]=o.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function eE(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Sv(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&wi(l),Fc(a),o.resolving=!1,zv()}}return i}function Jv(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Zv(n,t){return!(n&se.Self||n&se.Host&&t)}class yo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Xv(this._tNode,this._lView,t,r,e)}}function Lt(n){return Si(()=>{const t=n.prototype.constructor,e=t[oi]||Jp(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||Jp(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Jp(n){return mv(n)?()=>{const t=Jp(ue(n));return t&&t()}:Cs(n)}function Ua(n){return function cE(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(Uv(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(ht(),n)}const bo="__parameters__";function Do(n,t,e){return Si(()=>{const r=function Zp(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,p){const m=l.hasOwnProperty(bo)?l[bo]:Object.defineProperty(l,bo,{value:[]})[bo];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class le{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=X({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fE=new le("AnalyzeForEntryComponents");function Wn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Wn(r,t)):t!==n&&t.push(r)}return t}function xr(n,t){n.forEach(e=>Array.isArray(e)?xr(e,t):t(e))}function ty(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Hc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function qa(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function bn(n,t,e){let r=To(n,t);return r>=0?n[1|r]=e:(r=~r,function _E(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function th(n,t){const e=To(n,t);if(e>=0)return n[1|e]}function To(n,t){return function iy(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<e];if(t===o)return s<<e;o>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const Ga={},rh="__NG_DI_FLAG__",$c="ngTempTokenPath",TE=/\n/gm,oy="__source",SE=Be({provide:String,useValue:Be});let Ka;function ay(n){const t=Ka;return Ka=n,t}function xE(n,t=se.Default){if(void 0===Ka)throw new j(203,"");return null===Ka?yv(n,void 0,t):Ka.get(n,t&se.Optional?null:void 0,t)}function L(n,t=se.Default){return(function dM(){return Sp}()||xE)(ue(n),t)}const ME=L;function ih(n){const t=[];for(let e=0;e<n.length;e++){const r=ue(n[e]);if(Array.isArray(r)){if(0===r.length)throw new j(900,"");let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],l=EE(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(L(i,s))}else t.push(L(r))}return t}function Qa(n,t){return n[rh]=t,n.prototype[rh]=t,n}function EE(n){return n[rh]}const Uc=Qa(Do("Inject",n=>({token:n})),-1),Pi=Qa(Do("Optional"),8),Xa=Qa(Do("SkipSelf"),4);let Wc,qc;function So(n){var t;return(null===(t=function oh(){if(void 0===Wc&&(Wc=null,Re.trustedTypes))try{Wc=Re.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Wc}())||void 0===t?void 0:t.createHTML(n))||n}function hy(n){var t;return(null===(t=function ah(){if(void 0===qc&&(qc=null,Re.trustedTypes))try{qc=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return qc}())||void 0===t?void 0:t.createHTML(n))||n}class bs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $E extends bs{getTypeName(){return"HTML"}}class UE extends bs{getTypeName(){return"Style"}}class jE extends bs{getTypeName(){return"Script"}}class WE extends bs{getTypeName(){return"URL"}}class qE extends bs{getTypeName(){return"ResourceURL"}}function kn(n){return n instanceof bs?n.changingThisBreaksApplicationSecurity:n}function Mr(n,t){const e=gy(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function gy(n){return n instanceof bs&&n.getTypeName()||null}class JE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(So(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class ZE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=So(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=So(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const o=e.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const tI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ja(n){return(n=String(n)).match(tI)||n.match(nI)?n:"unsafe:"+n}function Er(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Za(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const yy=Er("area,br,col,hr,img,wbr"),Cy=Er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),by=Er("rp,rt"),lh=Za(yy,Za(Cy,Er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Za(by,Er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Za(by,Cy)),ch=Er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uh=Er("srcset"),ky=Za(ch,uh,Er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rI=Er("script,style,template");class iI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!lh.hasOwnProperty(e))return this.sanitizedSomething=!0,!rI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!ky.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;ch[a]&&(l=Ja(l)),uh[a]&&(n=l,l=(n=String(n)).split(",").map(t=>Ja(t.trim())).join(", ")),this.buf.push(" ",o,'="',Dy(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();lh.hasOwnProperty(e)&&!yy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Dy(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oI=/([^\#-~ |!])/g;function Dy(n){return n.replace(/&/g,"&amp;").replace(sI,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(oI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gc;function Ty(n,t){let e=null;try{Gc=Gc||function _y(n){const t=new ZE(n);return function eI(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch(n){return!1}}()?new JE(t):t}(n);let r=t?String(t):"";e=Gc.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Gc.getInertBodyElement(r)}while(r!==s);return So((new iI).sanitizeChildren(dh(e)||e))}finally{if(e){const r=dh(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function dh(n){return"content"in n&&function aI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $e=(()=>(($e=$e||{})[$e.NONE=0]="NONE",$e[$e.HTML=1]="HTML",$e[$e.STYLE=2]="STYLE",$e[$e.SCRIPT=3]="SCRIPT",$e[$e.URL=4]="URL",$e[$e.RESOURCE_URL=5]="RESOURCE_URL",$e))();function ks(n){const t=el();return t?hy(t.sanitize($e.HTML,n)||""):Mr(n,"HTML")?hy(kn(n)):Ty(Lp(),oe(n))}function P(n){const t=el();return t?t.sanitize($e.URL,n)||"":Mr(n,"URL")?kn(n):Ja(oe(n))}function el(){const n=O();return n&&n[12]}const xy="__ngContext__";function Bt(n,t){n[xy]=t}function hh(n){const t=function tl(n){return n[xy]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function mh(n){return n.ngOriginalError}function DI(n,...t){n.error(...t)}class nl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function kI(n){return n&&n.ngErrorLogger||DI}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&mh(t);for(;e&&mh(e);)e=mh(e);return e||null}}const OI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function rl(n){return n.ownerDocument}function Ir(n){return n instanceof Function?n():n}var Dn=(()=>((Dn=Dn||{})[Dn.Important=1]="Important",Dn[Dn.DashCase=2]="DashCase",Dn))();function _h(n,t){return undefined(n,t)}function il(n){const t=n[3];return lr(t)?t[3]:t}function vh(n){return Fy(n[13])}function yh(n){return Fy(n[4])}function Fy(n){for(;null!==n&&!lr(n);)n=n[4];return n}function Mo(n,t,e,r,i){if(null!=r){let s,o=!1;lr(r)?s=r:wr(r)&&(o=!0,r=r[0]);const a=at(r);0===n&&null!==e?null==i?$y(t,e,a):Ds(t,e,a,i||null,!0):1===n&&null!==e?Ds(t,e,a,i||null,!0):2===n?function Qy(n,t,e){const r=Kc(n,t);r&&function qI(n,t,e,r){et(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function QI(n,t,e,r,i){const s=e[7];s!==at(e)&&Mo(t,n,r,s,i);for(let a=10;a<e.length;a++){const l=e[a];sl(l[1],l,n,t,r,s)}}(t,n,s,e,i)}}function bh(n,t,e){if(et(n))return n.createElement(t,e);{const r=null!==e?function PM(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function By(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Hp(i,-1)),e.splice(r,1)}function kh(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&By(i,r),t>0&&(n[e-1][4]=r[4]);const s=Hc(n,10+t);!function BI(n,t){sl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Vy(n,t){if(!(256&t[2])){const e=t[11];et(e)&&e.destroyNode&&sl(n,t,e,3,null,null),function zI(n){let t=n[13];if(!t)return Dh(n[1],n);for(;t;){let e=null;if(wr(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)wr(t)&&Dh(t[1],t),t=t[3];null===t&&(t=n),wr(t)&&Dh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Dh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function WI(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Va)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,t),function jI(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):at(t[o]),l=r[i=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=e[s+1]];e[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(n,t),1===t[1].type&&et(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&lr(t[3])){e!==t[3]&&By(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Hy(n,t,e){return function zy(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===or.None||i===or.Emulated)return null}return jn(r,e)}(n,t.parent,e)}function Ds(n,t,e,r,i){et(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function $y(n,t,e){et(n)?n.appendChild(t,e):t.appendChild(e)}function Uy(n,t,e,r,i){null!==r?Ds(n,t,e,r,i):$y(n,t,e)}function Kc(n,t){return et(n)?n.parentNode(t):t.parentNode}function jy(n,t,e){return qy(n,t,e)}let qy=function Wy(n,t,e){return 40&n.type?jn(n,e):null};function Qc(n,t,e,r){const i=Hy(n,r,t),s=t[11],a=jy(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Uy(s,i,e[l],a,!1);else Uy(s,i,e,a,!1)}function Xc(n,t){if(null!==t){const e=t.type;if(3&e)return jn(t,n);if(4&e)return wh(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Xc(n,r);{const i=n[t.index];return lr(i)?wh(-1,i):at(i)}}if(32&e)return _h(t,n)()||at(n[t.index]);{const r=Ky(n,t);return null!==r?Array.isArray(r)?r[0]:Xc(il(n[16]),r):Xc(n,t.next)}}return null}function Ky(n,t){return null!==t?n[16][6].projection[t.projection]:null}function wh(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Xc(r,i)}return t[7]}function Sh(n,t,e,r,i,s,o){for(;null!=e;){const a=r[e.index],l=e.type;if(o&&0===t&&(a&&Bt(at(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)Sh(n,t,e.child,r,i,s,!1),Mo(t,n,i,a,s);else if(32&l){const c=_h(e,r);let p;for(;p=c();)Mo(t,n,i,p,s);Mo(t,n,i,a,s)}else 16&l?Xy(n,t,r,e,i,s):Mo(t,n,i,a,s);e=o?e.projectionNext:e.next}}function sl(n,t,e,r,i,s){Sh(e,r,n.firstChild,t,i,s,!1)}function Xy(n,t,e,r,i,s){const o=e[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Mo(t,n,i,l[c],s);else Sh(n,t,l,o[3],i,s,!0)}function Yy(n,t,e){et(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function xh(n,t,e){et(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Jy(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}const Zy="ng-template";function YI(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==Jy(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function e1(n){return 4===n.type&&n.value!==Zy}function JI(n,t,e){return t===(4!==n.type||e?n.value:Zy)}function ZI(n,t,e){let r=4;const i=n.attrs||[],s=function nP(n){for(let t=0;t<n.length;t++)if(Uv(n[t]))return t;return n.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!JI(n,l,e)||""===l&&1===t.length){if(ur(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!YI(n.attrs,c,e)){if(ur(r))return!1;o=!0}continue}const m=eP(8&r?"class":l,i,e1(n),e);if(-1===m){if(ur(r))return!1;o=!0;continue}if(""!==c){let g;g=m>s?"":i[m+1].toLowerCase();const _=8&r?g:null;if(_&&-1!==Jy(_,c,0)||2&r&&c!==g){if(ur(r))return!1;o=!0}}}}else{if(!o&&!ur(r)&&!ur(l))return!1;if(o&&ur(l))continue;o=!1,r=l|1&r}}return ur(r)||o}function ur(n){return 0==(1&n)}function eP(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const o=t[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function rP(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function t1(n,t,e=!1){for(let r=0;r<t.length;r++)if(ZI(n,t[r],e))return!0;return!1}function iP(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function n1(n,t){return n?":not("+t.trim()+")":t}function sP(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&r){const a=n[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ur(o)&&(t+=n1(s,i),i=""),r=o,s=s||!ur(r);e++}return""!==i&&(t+=n1(s,i)),t}const ae={};function f(n){r1(Te(),O(),Yt()+n,xc())}function r1(n,t,e,r){if(!r)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Ac(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Oc(t,s,0,e)}Ei(e)}function Yc(n,t){return n<<17|t<<2}function dr(n){return n>>17&32767}function Mh(n){return 2|n}function ci(n){return(131068&n)>>2}function Eh(n,t){return-131069&n|t<<2}function Ih(n){return 1|n}function f1(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const o=n.data[s];Wp(i),o.contentQueries(2,t[s],s)}}}function ol(n,t,e,r,i,s,o,a,l,c){const p=t.blueprint.slice();return p[0]=i,p[2]=140|r,Pv(p),p[3]=p[15]=n,p[8]=e,p[10]=o||n&&n[10],p[11]=a||n&&n[11],p[12]=l||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=s,p[16]=2==t.type?n[16]:p,p}function Eo(n,t,e,r,i){let s=n.data[t];if(null===s)s=function Vh(n,t,e,r,i){const s=Ov(),o=zp(),l=n.data[t]=function DP(n,t,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,r,i),function UM(){return re.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function Ba(){const n=re.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Sr(s,!0),s}function Io(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function al(n,t,e){Ec(t);try{const r=n.viewQuery;null!==r&&Kh(1,r,e);const i=n.template;null!==i&&m1(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&f1(n,t),n.staticViewQueries&&Kh(2,n.viewQuery,e);const s=n.components;null!==s&&function CP(n,t){for(let e=0;e<t.length;e++)zP(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Ic()}}function Po(n,t,e,r){const i=t[2];if(256==(256&i))return;Ec(t);const s=xc();try{Pv(t),function Nv(n){return re.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&m1(n,t,e,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Ac(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Oc(t,c,0,null),qp(t,0)}if(function VP(n){for(let t=vh(n);null!==t;t=yh(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&Hp(s,1),i[2]|=1024}}}(t),function BP(n){for(let t=vh(n);null!==t;t=yh(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Vp(r)&&Po(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&f1(n,t),!s)if(o){const c=n.contentCheckHooks;null!==c&&Ac(t,c)}else{const c=n.contentHooks;null!==c&&Oc(t,c,1),qp(t,1)}!function vP(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Ei(~i);else{const s=i,o=e[++r],a=e[++r];jM(o,s),a(2,t[s])}}}finally{Ei(-1)}}(n,t);const a=n.components;null!==a&&function yP(n,t){for(let e=0;e<t.length;e++)HP(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Kh(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Ac(t,c)}else{const c=n.viewHooks;null!==c&&Oc(t,c,2),qp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Hp(t[3],-1))}finally{Ic()}}function bP(n,t,e,r){const i=t[10],s=!xc(),o=Iv(t);try{s&&!o&&i.begin&&i.begin(),o&&al(n,t,r),Po(n,t,e,r)}finally{s&&!o&&i.end&&i.end()}}function m1(n,t,e,r,i){const s=Yt(),o=2&r;try{Ei(-1),o&&t.length>20&&r1(n,t,20,xc()),e(r,i)}finally{Ei(s)}}function g1(n,t,e){if(Pp(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Hh(n,t,e){!Av()||(function IP(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||za(e,t),Bt(r,t);const o=e.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=cr(l);c&&RP(t,e,l);const p=$a(t,n,a,e);Bt(p,t),null!==o&&FP(0,a-i,p,l,0,o),c&&(Cn(e.index,t)[8]=p)}}(n,t,e,jn(e,t)),128==(128&e.flags)&&function PP(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=function WM(){return re.lFrame.currentDirectiveIndex}();try{Ei(o);for(let l=r;l<i;l++){const c=n.data[l],p=t[l];Up(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&T1(c,p)}}finally{Ei(-1),Up(a)}}(n,t,e))}function zh(n,t,e=jn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(t,n):n[o];n[i++]=a}}}function _1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=eu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function eu(n,t,e,r,i,s,o,a,l,c){const p=20+r,m=p+i,g=function kP(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ae);return e}(p,m),_="function"==typeof c?c():c;return g[1]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1}}function C1(n,t,e,r){const i=I1(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&P1(n).push(r,i.length-1))}function b1(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function Tn(n,t,e,r,i,s,o,a){const l=jn(t,e);let p,c=t.inputs;!a&&null!=c&&(p=c[r])?(N1(n,e,p,r,i),Tc(t)&&function SP(n,t){const e=Cn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function wP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,t.value||"",r):i,et(s)?s.setProperty(l,r,i):Kp(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function $h(n,t,e,r){let i=!1;if(Av()){const s=function AP(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];t1(e,o.selectors,!1)&&(i||(i=[]),Bc(za(e,t),n,o.type),cr(o)?(w1(n,e),i.unshift(o)):i.push(o))}return i}(n,t,e),o=null===r?null:{"":-1};if(null!==s){i=!0,S1(e,n.data.length,s.length);for(let p=0;p<s.length;p++){const m=s[p];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,c=Io(n,t,s.length,null);for(let p=0;p<s.length;p++){const m=s[p];e.mergedAttrs=Rc(e.mergedAttrs,m.hostAttrs),x1(n,e,t,c,m),NP(c,m,o),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const g=m.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function TP(n,t){const r=t.directiveEnd,i=n.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<r;c++){const p=i[c],m=p.inputs,g=null===s||e1(t)?null:LP(m,s);o.push(g),a=b1(m,c,a),l=b1(p.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function OP(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new j(-301,!1);r.push(t[i],s)}}}(e,r,o)}return e.mergedAttrs=Rc(e.mergedAttrs,e.attrs),i}function D1(n,t,e,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function EP(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function T1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function w1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function NP(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;cr(t)&&(e[""]=n)}}function S1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function x1(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=Cs(i.type)),o=new Va(s,cr(i),null);n.blueprint[r]=o,e[r]=o,D1(n,t,0,r,Io(n,e,i.hostVars,ae),i)}function RP(n,t,e){const r=jn(t,n),i=_1(e),s=n[10],o=tu(n,ol(n,i,null,e.onPush?64:16,r,t,s,s.createRenderer(r,e),null,null));n[t.index]=o}function Pr(n,t,e,r,i,s){const o=jn(n,t);!function Uh(n,t,e,r,i,s,o){if(null==s)et(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const a=null==o?oe(s):o(s,r||"",i);et(n)?n.setAttribute(t,i,a,e):e?t.setAttributeNS(e,i,a):t.setAttribute(i,a)}}(t[11],o,s,n.value,e,r,i)}function FP(n,t,e,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],p=o[l++],m=o[l++];null!==a?r.setInput(e,m,c,p):e[p]=m}}}function LP(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function M1(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function HP(n,t){const e=Cn(t,n);if(Vp(e)){const r=e[1];80&e[2]?Po(r,e,r.template,e[8]):e[5]>0&&jh(e)}}function jh(n){for(let r=vh(n);null!==r;r=yh(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Po(o,s,o.template,s[8])}else s[5]>0&&jh(s)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Cn(e[r],n);Vp(i)&&i[5]>0&&jh(i)}}function zP(n,t){const e=Cn(t,n),r=e[1];(function $P(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),al(r,e,e[8])}function tu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Wh(n){for(;n;){n[2]|=64;const t=il(n);if(bM(n)&&!t)return n;n=t}return null}function Gh(n,t,e){const r=t[10];r.begin&&r.begin();try{Po(n,t,n.template,e)}catch(i){throw O1(t,i),i}finally{r.end&&r.end()}}function E1(n){!function qh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=hh(e),i=r[1];bP(i,r,i.template,e)}}(n[8])}function Kh(n,t,e){Wp(0),t(n,e)}const qP=(()=>Promise.resolve(null))();function I1(n){return n[7]||(n[7]=[])}function P1(n){return n.cleanup||(n.cleanup=[])}function O1(n,t){const e=n[9],r=e?e.get(nl,null):null;r&&r.handleError(t)}function N1(n,t,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ui(n,t,e){const r=Sc(t,n);!function Ly(n,t,e){et(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function nu(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=kp(i,a):2==s&&(r=kp(r,a+": "+t[++o]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const Qh=new le("INJECTOR",-1);class R1{get(t,e=Ga){if(e===Ga){const r=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw r.name="NullInjectorError",r}return e}}const Xh=new le("Set Injector scope."),ll={},QP={};let Yh;function F1(){return void 0===Yh&&(Yh=new R1),Yh}function L1(n,t=null,e=null,r){const i=B1(n,t,e,r);return i._resolveInjectorDefTypes(),i}function B1(n,t=null,e=null,r){return new XP(n,e,t||F1(),r)}class XP{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&xr(e,a=>this.processProvider(a,t,e)),xr([t],a=>this.processInjectorType(a,[],s)),this.records.set(Qh,Ao(void 0,this));const o=this.records.get(Xh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:Pe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ga,r=se.Default){this.assertNotDestroyed();const i=ay(this),s=wi(void 0);try{if(!(r&se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function iA(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(t)&&Tp(t);a=l&&this.injectableDefInScope(l)?Ao(Jh(t),ll):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&se.Self?F1():this.parent).get(t,e=r&se.Optional&&e===Ga?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[$c]=o[$c]||[]).unshift(Pe(t)),i)throw o;return function IE(n,t,e,r){const i=n[$c];throw t[oy]&&i.unshift(t[oy]),n.message=function PE(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Pe(t);if(Array.isArray(t))i=t.map(Pe).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(TE,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[$c]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{wi(s),ay(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Pe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processInjectorType(t,e,r){if(!(t=ue(t)))return!1;let i=_v(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=_v(s)),null==i)return!1;if(null!=i.imports&&!a){let p;r.push(o);try{xr(i.imports,m=>{this.processInjectorType(m,e,r)&&(void 0===p&&(p=[]),p.push(m))})}finally{}if(void 0!==p)for(let m=0;m<p.length;m++){const{ngModule:g,providers:_}=p[m];xr(_,y=>this.processProvider(y,g,_||He))}}this.injectorDefTypes.add(o);const l=Cs(o)||(()=>new o);this.records.set(o,Ao(l,ll));const c=i.providers;if(null!=c&&!a){const p=t;xr(c,m=>this.processProvider(m,p,c))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,r){let i=Oo(t=ue(t))?t:ue(t&&t.provide);const s=function JP(n,t,e){return H1(n)?Ao(void 0,n.useValue):Ao(V1(n),ll)}(t);if(Oo(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ao(void 0,ll,!0),o.factory=()=>ih(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,e){return e.value===ll&&(e.value=QP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function rA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ue(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Jh(n){const t=Tp(n),e=null!==t?t.factory:Cs(n);if(null!==e)return e;if(n instanceof le)throw new j(204,!1);if(n instanceof Function)return function YP(n){const t=n.length;if(t>0)throw qa(t,"?"),new j(204,!1);const e=function lM(n){const t=n&&(n[yc]||n[vv]);if(t){const e=function cM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new j(204,!1)}function V1(n,t,e){let r;if(Oo(n)){const i=ue(n);return Cs(i)||Jh(i)}if(H1(n))r=()=>ue(n.useValue);else if(function eA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ih(n.deps||[]));else if(function ZP(n){return!(!n||!n.useExisting)}(n))r=()=>L(ue(n.useExisting));else{const i=ue(n&&(n.useClass||n.provide));if(!function nA(n){return!!n.deps}(n))return Cs(i)||Jh(i);r=()=>new i(...ih(n.deps))}return r}function Ao(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function H1(n){return null!==n&&"object"==typeof n&&SE in n}function Oo(n){return"function"==typeof n}let mt=(()=>{class n{static create(e,r){var i;if(Array.isArray(e))return L1({name:""},r,e,"");{const s=null!==(i=e.name)&&void 0!==i?i:"";return L1({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ga,n.NULL=new R1,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>L(Qh)}),n.__NG_ELEMENT_ID__=-1,n})();function pA(n,t){Pc(hh(n)[1],ht())}function Ae(n){let t=function J1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(cr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new j(903,"");i=t.\u0275dir}if(i){if(e){r.push(i);const o=n;o.inputs=tf(n.inputs),o.declaredInputs=tf(n.declaredInputs),o.outputs=tf(n.outputs);const a=i.hostBindings;a&&gA(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&fA(n,l),c&&mA(n,c),bp(n.inputs,i.inputs),bp(n.declaredInputs,i.declaredInputs),bp(n.outputs,i.outputs),cr(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(e=!1)}}t=Object.getPrototypeOf(t)}!function hA(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,e=Rc(e,i.hostAttrs))}}(r)}function tf(n){return n===co?{}:n===He?[]:n}function fA(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function mA(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function gA(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let ru=null;function No(){if(!ru){const n=Re.Symbol;if(n&&n.iterator)ru=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ru=r)}}}return ru}function cl(n){return!!nf(n)&&(Array.isArray(n)||!(n instanceof Map)&&No()in n)}function nf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ar(n,t,e){return n[t]=e}function Vt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ts(n,t,e,r){const i=Vt(n,t,e);return Vt(n,t+1,r)||i}function Or(n,t,e,r){const i=O();return Vt(i,go(),t)&&(Te(),Pr(tt(),i,n,t,e,r)),Or}function Fo(n,t,e,r){return Vt(n,go(),e)?t+oe(e)+r:ae}function Lo(n,t,e,r,i,s){const a=Ts(n,function ai(){return re.lFrame.bindingIndex}(),e,i);return li(2),a?t+oe(e)+r+oe(i)+s:ae}function b(n,t,e,r,i,s,o,a){const l=O(),c=Te(),p=n+20,m=c.firstCreatePass?function DA(n,t,e,r,i,s,o,a,l){const c=t.consts,p=Eo(t,n,4,o||null,Mi(c,a));$h(t,e,p,Mi(c,l)),Pc(t,p);const m=p.tViews=eu(2,p,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,p),m.queries=t.queries.embeddedTView(p)),p}(p,c,l,t,e,r,i,s,o):c.data[p];Sr(m,!1);const g=l[11].createComment("");Qc(c,l,g,m),Bt(g,l),tu(l,l[p]=M1(g,l,g,m)),wc(m)&&Hh(c,l,m),null!=o&&zh(l,m,a)}function w(n,t=se.Default){const e=O();return null===e?L(n,t):Xv(ht(),e,ue(n),t)}function lf(){throw new Error("invalid")}function v(n,t,e){const r=O();return Vt(r,go(),t)&&Tn(Te(),tt(),r,n,t,r[11],e,!1),v}function cf(n,t,e,r,i){const o=i?"class":"style";N1(n,e,t.inputs[o],o,r)}function u(n,t,e,r){const i=O(),s=Te(),o=20+n,a=i[11],l=i[o]=bh(a,t,function ZM(){return re.lFrame.currentNamespace}()),c=s.firstCreatePass?function WA(n,t,e,r,i,s,o){const a=t.consts,c=Eo(t,n,2,i,Mi(a,s));return $h(t,e,c,Mi(a,o)),null!==c.attrs&&nu(c,c.attrs,!1),null!==c.mergedAttrs&&nu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,e,r):s.data[o];Sr(c,!0);const p=c.mergedAttrs;null!==p&&Nc(a,l,p);const m=c.classes;null!==m&&xh(a,l,m);const g=c.styles;return null!==g&&Yy(a,l,g),64!=(64&c.flags)&&Qc(s,i,l,c),0===function LM(){return re.lFrame.elementDepthCount}()&&Bt(l,i),function BM(){re.lFrame.elementDepthCount++}(),wc(c)&&(Hh(s,i,c),g1(s,c,i)),null!==r&&zh(i,c),u}function d(){let n=ht();zp()?$p():(n=n.parent,Sr(n,!1));const t=n;!function VM(){re.lFrame.elementDepthCount--}();const e=Te();return e.firstCreatePass&&(Pc(e,n),Pp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function iE(n){return 0!=(16&n.flags)}(t)&&cf(e,t,O(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function sE(n){return 0!=(32&n.flags)}(t)&&cf(e,t,O(),t.stylesWithoutHost,!1),d}function D(n,t,e,r){return u(n,t,e,r),d(),D}function ws(n,t,e){const r=O(),i=Te(),s=n+20,o=i.firstCreatePass?function qA(n,t,e,r,i){const s=t.consts,o=Mi(s,r),a=Eo(t,n,8,"ng-container",o);return null!==o&&nu(a,o,!0),$h(t,e,a,Mi(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,e):i.data[s];Sr(o,!0);const a=r[s]=r[11].createComment("");return Qc(i,r,a,o),Bt(a,r),wc(o)&&(Hh(i,r,o),g1(i,o,r)),null!=e&&zh(r,o),ws}function Ss(){let n=ht();const t=Te();return zp()?$p():(n=n.parent,Sr(n,!1)),t.firstCreatePass&&(Pc(t,n),Pp(n)&&t.queries.elementEnd(n)),Ss}function uf(n,t,e){return ws(n,t,e),Ss(),uf}function B(){return O()}function dl(n){return!!n&&"function"==typeof n.then}const df=function vC(n){return!!n&&"function"==typeof n.subscribe};function T(n,t,e,r){const i=O(),s=Te(),o=ht();return function CC(n,t,e,r,i,s,o,a){const l=wc(r),p=n.firstCreatePass&&P1(n),m=t[8],g=I1(t);let _=!0;if(3&r.type||a){const S=jn(r,t),E=a?a(S):S,x=g.length,N=a?V=>a(at(V[r.index])):r.index;if(et(e)){let V=null;if(!a&&l&&(V=function GA(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=t[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,_=!1;else{s=pf(r,t,m,s,!1);const G=e.listen(E,i,s);g.push(s,G),p&&p.push(i,N,x,x+1)}}else s=pf(r,t,m,s,!0),E.addEventListener(i,s,o),g.push(s),p&&p.push(i,N,x,o)}else s=pf(r,t,m,s,!1);const y=r.outputs;let k;if(_&&null!==y&&(k=y[i])){const S=k.length;if(S)for(let E=0;E<S;E+=2){const xe=t[k[E]][k[E+1]].subscribe(s),Me=g.length;g.push(s,xe),p&&p.push(i,r.index,Me,-(Me+1))}}}(s,i,i[11],o,n,t,!!e,r),T}function bC(n,t,e,r){try{return!1!==e(r)}catch(i){return O1(n,i),!1}}function pf(n,t,e,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Cn(n.index,t):t;0==(32&t[2])&&Wh(a);let l=bC(t,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=bC(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function C(n=1){return function GM(n){return(re.lFrame.contextLView=function KM(n,t){for(;n>0;)t=t[15],n--;return t}(n,re.lFrame.contextLView))[8]}(n)}function KA(n,t){let e=null;const r=function tP(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?t1(n,s,!0):iP(r,s))return i}else e=i}return e}function W(n,t,e){return A(n,"",t,"",e),W}function A(n,t,e,r,i){const s=O(),o=Fo(s,t,e,r);return o!==ae&&Tn(Te(),tt(),s,n,o,s[11],i,!1),A}function AC(n,t,e,r,i){const s=n[e+1],o=null===t;let a=r?dr(s):ci(s),l=!1;for(;0!==a&&(!1===l||o);){const p=n[a+1];YA(n[a],t)&&(l=!0,n[a+1]=r?Ih(p):Mh(p)),a=r?dr(p):ci(p)}l&&(n[e+1]=r?Mh(s):Ih(s))}function YA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&To(n,t)>=0}const gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OC(n){return n.substring(gt.key,gt.keyEnd)}function NC(n,t){const e=gt.textEnd;return e===t?-1:(t=gt.keyEnd=function tO(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,gt.key=t,e),Wo(n,t,e))}function Wo(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function cn(n,t,e){return hr(n,t,e,!1),cn}function Nr(n,t){return hr(n,t,null,!0),Nr}function di(n){!function fr(n,t,e,r){const i=Te(),s=li(2);i.firstUpdatePass&&HC(i,null,s,r);const o=O();if(e!==ae&&Vt(o,s,e)){const a=i.data[Yt()];if(jC(a,r)&&!VC(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=kp(l,e||"")),cf(i,a,o,e,r)}else!function uO(n,t,e,r,i,s,o,a){i===ae&&(i=He);let l=0,c=0,p=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;null!==p||null!==m;){const g=l<i.length?i[l+1]:void 0,_=c<s.length?s[c+1]:void 0;let k,y=null;p===m?(l+=2,c+=2,g!==_&&(y=m,k=_)):null===m||null!==p&&p<m?(l+=2,y=p):(c+=2,y=m,k=_),null!==y&&$C(n,t,e,r,y,k,o,a),p=l<i.length?i[l]:null,m=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function cO(n,t,e){if(null==e||""===e)return He;const r=[],i=kn(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,s)}}(bn,Fr,n,!0)}function Fr(n,t){for(let e=function ZA(n){return function FC(n){gt.key=0,gt.keyEnd=0,gt.value=0,gt.valueEnd=0,gt.textEnd=n.length}(n),NC(n,Wo(n,0,gt.textEnd))}(t);e>=0;e=NC(t,e))bn(n,OC(t),!0)}function hr(n,t,e,r){const i=O(),s=Te(),o=li(2);s.firstUpdatePass&&HC(s,n,o,r),t!==ae&&Vt(i,o,t)&&$C(s,s.data[Yt()],i,i[11],n,i[o+1]=function dO(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Pe(kn(n)))),n}(t,e),r,o)}function VC(n,t){return t>=n.expandoStartIndex}function HC(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[Yt()],o=VC(n,e);jC(s,r)&&null===t&&!o&&(t=!1),t=function sO(n,t,e,r){const i=function jp(n){const t=re.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=pl(e=hf(null,n,t,e,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==i)if(e=hf(i,n,t,e,r),null===s){let l=function oO(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ci(r))return n[dr(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=hf(null,n,t,l[1],r),l=pl(l,t.attrs,r),function aO(n,t,e,r){n[dr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else s=function lO(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=pl(r,n[s].hostAttrs,e);return pl(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function QA(n,t,e,r,i,s){let o=s?t.classBindings:t.styleBindings,a=dr(o),l=ci(o);n[r]=e;let p,c=!1;if(Array.isArray(e)){const m=e;p=m[1],(null===p||To(m,p)>0)&&(c=!0)}else p=e;if(i)if(0!==l){const g=dr(n[a+1]);n[r+1]=Yc(g,a),0!==g&&(n[g+1]=Eh(n[g+1],r)),n[a+1]=function lP(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Yc(a,0),0!==a&&(n[a+1]=Eh(n[a+1],r)),a=r;else n[r+1]=Yc(l,0),0===a?a=r:n[l+1]=Eh(n[l+1],r),l=r;c&&(n[r+1]=Mh(n[r+1])),AC(n,p,r,!0),AC(n,p,r,!1),function XA(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&To(s,t)>=0&&(e[r+1]=Ih(e[r+1]))}(t,p,n,r,s),o=Yc(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,e,o,r)}}function hf(n,t,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],r=pl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function pl(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bn(n,o,!!e||t[++s]))}return void 0===n?null:n}function $C(n,t,e,r,i,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];ou(function o1(n){return 1==(1&n)}(c)?UC(l,t,e,i,ci(c),o):void 0)||(ou(s)||function s1(n){return 2==(2&n)}(c)&&(s=UC(l,null,e,i,a,o)),function XI(n,t,e,r,i){const s=et(n);if(t)i?s?n.addClass(e,r):e.classList.add(r):s?n.removeClass(e,r):e.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Dn.DashCase;if(null==i)s?n.removeStyle(e,r,o):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Dn.Important),s?n.setStyle(e,r,i,o):e.style.setProperty(r,i,a?"important":"")}}}(r,o,Sc(Yt(),e),i,s))}function UC(n,t,e,r,i,s){const o=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),p=c?l[1]:l,m=null===p;let g=e[i+1];g===ae&&(g=m?He:void 0);let _=m?th(g,r):p===r?g:void 0;if(c&&!ou(_)&&(_=th(l,r)),ou(_)&&(a=_,o))return a;const y=n[i+1];i=o?dr(y):ci(y)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=th(l,r))}return a}function ou(n){return void 0!==n}function jC(n,t){return 0!=(n.flags&(t?16:32))}function h(n,t=""){const e=O(),r=Te(),i=n+20,s=r.firstCreatePass?Eo(r,i,1,t,null):r.data[i],o=e[i]=function Ch(n,t){return et(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Qc(r,e,o,s),Sr(s,!1)}function F(n){return I("",n,""),F}function I(n,t,e){const r=O(),i=Fo(r,n,t,e);return i!==ae&&ui(r,Yt(),i),I}function Fe(n,t,e,r,i){const s=O(),o=Lo(s,n,t,e,r,i);return o!==ae&&ui(s,Yt(),o),Fe}const xs=void 0;var PO=["en",[["a","p"],["AM","PM"],xs],[["AM","PM"],xs,xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xs,"{1} 'at' {0}",xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IO(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let qo={};function Zt(n){const t=function AO(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ub(t);if(e)return e;const r=t.split("-")[0];if(e=ub(r),e)return e;if("en"===r)return PO;throw new Error(`Missing locale data for the locale "${n}".`)}function ub(n){return n in qo||(qo[n]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[n]),qo[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const au="en-US";let db=au;function gf(n,t,e,r,i){if(n=ue(n),Array.isArray(n))for(let s=0;s<n.length;s++)gf(n[s],t,e,r,i);else{const s=Te(),o=O();let a=Oo(n)?n:ue(n.provide),l=V1(n);const c=ht(),p=1048575&c.providerIndexes,m=c.directiveStart,g=c.providerIndexes>>20;if(Oo(n)||!n.multi){const _=new Va(l,i,w),y=vf(a,t,i?p:p+g,m);-1===y?(Bc(za(c,o),s,a),_f(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(_),o.push(_)):(e[y]=_,o[y]=_)}else{const _=vf(a,t,p+g,m),y=vf(a,t,p,p+g),k=_>=0&&e[_],S=y>=0&&e[y];if(i&&!S||!i&&!k){Bc(za(c,o),s,a);const E=function IN(n,t,e,r,i){const s=new Va(n,e,w);return s.multi=[],s.index=t,s.componentProviders=0,Rb(s,i,r&&!e),s}(i?EN:MN,e.length,i,r,l);!i&&S&&(e[y].providerFactory=E),_f(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(E),o.push(E)}else _f(s,n,_>-1?_:y,Rb(e[i?y:_],l,!i&&r));!i&&r&&S&&e[y].componentProviders++}}}function _f(n,t,e,r){const i=Oo(t),s=function tA(n){return!!n.useClass}(t);if(i||s){const l=(s?ue(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const p=c.indexOf(e);-1===p?c.push(e,[r,l]):c[p+1].push(r,l)}else c.push(e,l)}}}function Rb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function vf(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function MN(n,t,e,r){return yf(this.multi,[])}function EN(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$a(e,e[1],this.providerFactory.index,r);s=a.slice(0,o),yf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],yf(i,s);return s}function yf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ue(n,t=[]){return e=>{e.providersResolver=(r,i)=>function xN(n,t,e){const r=Te();if(r.firstCreatePass){const i=cr(n);gf(e,r.data,r.blueprint,i,!0),gf(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Fb{}class ON{resolveComponentFactory(t){throw function AN(n){const t=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ko=(()=>{class n{}return n.NULL=new ON,n})();function NN(){return Qo(ht(),O())}function Qo(n,t){return new _t(jn(n,t))}let _t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=NN,n})();function RN(n){return n instanceof _t?n.nativeElement:n}class _l{}let Lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function LN(){const n=O(),e=Cn(ht().index,n);return function FN(n){return n[11]}(wr(e)?e:n)}(),n})(),BN=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class vl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const VN=new vl("13.2.5"),Cf={};function pu(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(at(s)),lr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&pu(l[1],l,c,r)}const o=e.type;if(8&o)pu(n,t,e.child,r);else if(32&o){const a=_h(e,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Ky(t,e);if(Array.isArray(a))r.push(...a);else{const l=il(t[16]);pu(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class yl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return pu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(kh(t,r),Hc(e,r))}this._attachedToViewContainer=!1}Vy(this._lView[1],this._lView)}onDestroy(t){C1(this._lView[1],this._lView,null,t)}markForCheck(){Wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jP(n,t,e){Mc(!0);try{Gh(n,t,e)}finally{Mc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new j(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function HI(n,t){sl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new j(902,"");this._appRef=t}}class HN extends yl{constructor(t){super(t),this._view=t}detectChanges(){E1(this._view)}checkNoChanges(){!function WP(n){Mc(!0);try{E1(n)}finally{Mc(!1)}}(this._view)}get context(){return null}}class Bb extends Ko{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Rt(t);return new bf(e,this.ngModule)}}function Vb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class bf extends Fb{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function oP(n){return n.map(sP).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Vb(this.componentDef.inputs)}get outputs(){return Vb(this.componentDef.outputs)}create(t,e,r,i){const s=(i=i||this.ngModule)?function $N(n,t){return{get:(e,r,i)=>{const s=n.get(e,Cf,i);return s!==Cf||r===Cf?s:t.get(e,r,i)}}}(t,i.injector):t,o=s.get(_l,Ev),a=s.get(BN,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",p=r?function y1(n,t,e){if(et(n))return n.selectRootElement(t,e===or.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(l,r,this.componentDef.encapsulation):bh(o.createRenderer(null,this.componentDef),c,function zN(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),m=this.componentDef.onPush?576:528,g=function Y1(n,t){return{components:[],scheduler:n||OI,clean:qP,playerHandler:t||null,flags:0}}(),_=eu(0,null,null,1,0,null,null,null,null,null),y=ol(null,_,g,m,null,null,o,l,a,s);let k,S;Ec(y);try{const E=function Q1(n,t,e,r,i,s){const o=e[1];e[20]=n;const l=Eo(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(nu(l,c,!0),null!==n&&(Nc(i,n,c),null!==l.classes&&xh(i,n,l.classes),null!==l.styles&&Yy(i,n,l.styles)));const p=r.createRenderer(n,t),m=ol(e,_1(t),null,t.onPush?64:16,e[20],l,r,p,s||null,null);return o.firstCreatePass&&(Bc(za(l,e),o,t.type),w1(o,l),S1(l,e.length,1)),tu(e,m),e[20]=m}(p,this.componentDef,y,o,l);if(p)if(r)Nc(l,p,["ng-version",VN.full]);else{const{attrs:x,classes:N}=function aP(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!ur(i))break;i=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);x&&Nc(l,p,x),N&&N.length>0&&xh(l,p,N.join(" "))}if(S=Bp(_,20),void 0!==e){const x=S.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const V=e[N];x.push(null!=V?Array.from(V):null)}}k=function X1(n,t,e,r,i){const s=e[1],o=function MP(n,t,e){const r=ht();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),x1(n,r,t,Io(n,t,1,null),e));const i=$a(t,n,r.directiveStart,r);Bt(i,t);const s=jn(r,t);return s&&Bt(s,t),i}(s,e,t);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,t)),t.contentQueries){const l=ht();t.contentQueries(1,o,l.directiveStart)}const a=ht();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ei(a.index),D1(e[1],a,0,a.directiveStart,a.directiveEnd,t),T1(t,o)),o}(E,this.componentDef,y,g,[pA]),al(_,y,null)}finally{Ic()}return new jN(this.componentType,k,Qo(S,y),y,S)}}class jN extends class PN{}{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new HN(i),this.componentType=t}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class pi{}class Hb{}const Xo=new Map;class Ub extends pi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bb(this);const r=zn(t);this._bootstrapComponents=Ir(r.bootstrap),this._r3Injector=B1(t,e,[{provide:pi,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],Pe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mt.THROW_IF_NOT_FOUND,r=se.Default){return t===mt||t===pi||t===Qh?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kf extends Hb{constructor(t){super(),this.moduleType=t,null!==zn(t)&&function qN(n){const t=new Set;!function e(r){const i=zn(r,!0),s=i.id;null!==s&&(function zb(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Pe(t)} vs ${Pe(t.name)}`)}(s,Xo.get(s),r),Xo.set(s,r));const o=Ir(i.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Ub(this.moduleType,t)}}function Df(n,t,e){const r=Xt()+n,i=O();return i[r]===ae?Ar(i,r,e?t.call(e):t()):function ul(n,t){return n[t]}(i,r)}function Xe(n,t,e,r){return jb(O(),Xt(),n,t,e,r)}function hu(n,t,e,r,i){return function Wb(n,t,e,r,i,s,o){const a=t+e;return Ts(n,a,i,s)?Ar(n,a+2,o?r.call(o,i,s):r(i,s)):Cl(n,a+2)}(O(),Xt(),n,t,e,r,i)}function Cl(n,t){const e=n[t];return e===ae?void 0:e}function jb(n,t,e,r,i,s){const o=t+e;return Vt(n,o,i)?Ar(n,o+1,s?r.call(s,i):r(i)):Cl(n,o+1)}function Ms(n,t){const e=Te();let r;const i=n+20;e.firstCreatePass?(r=function eR(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=Cs(r.type)),o=wi(w);try{const a=Fc(!1),l=s();return Fc(a),function TA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,O(),i,l),l}finally{wi(o)}}function Es(n,t,e){const r=n+20,i=O(),s=function mo(n,t){return n[t]}(i,r);return function bl(n,t){return n[1].data[t].pure}(i,r)?jb(i,Xt(),t,s.transform,e,s):s.transform(e)}function Tf(n){return t=>{setTimeout(n,void 0,t)}}const Ge=class sR extends gn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,s,o;let a=t,l=e||(()=>null),c=r;if(t&&"object"==typeof t){const m=t;a=null===(i=m.next)||void 0===i?void 0:i.bind(m),l=null===(s=m.error)||void 0===s?void 0:s.bind(m),c=null===(o=m.complete)||void 0===o?void 0:o.bind(m)}this.__isAsync&&(l=Tf(l),a&&(a=Tf(a)),c&&(c=Tf(c)));const p=super.subscribe({next:a,error:l,complete:c});return t instanceof Wt&&t.add(p),p}};function oR(){return this._results[No()]()}class wf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=No(),r=wf.prototype;r[e]||(r[e]=oR)}get changes(){return this._changes||(this._changes=new Ge)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Wn(t);(this._changesDetected=!function mE(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=cR,n})();const aR=hi,lR=class extends aR{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=ol(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),al(e,r,t),new yl(r)}};function cR(){return fu(ht(),O())}function fu(n,t){return 4&n.type?new lR(t,n,Qo(n,t)):null}let mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=uR,n})();function uR(){return Yb(ht(),O())}const dR=mr,Qb=class extends dR{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Lc(this._hostTNode,this._hostLView);if(Wv(t)){const e=vo(t,this._hostLView),r=_o(t);return new yo(e[1].data[r+8],e)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Xb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,s){const o=t&&!function Wa(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.ngModuleRef}const l=o?t:new bf(Rt(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(pi,null);g&&(s=g)}const p=l.create(c,i,void 0,s);return this.insert(p.hostView,a),p}insert(t,e){const r=t._lView,i=r[1];if(function FM(n){return lr(n[3])}(r)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const m=r[3],g=new Qb(m,m[6],m[3]);g.detach(g.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function $I(n,t,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=t),r<s-10?(t[4]=e[i],ty(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function UI(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(i,r,o,s);const a=wh(s,o),l=r[11],c=Kc(l,o[7]);return null!==c&&function VI(n,t,e,r,i,s){r[0]=i,r[6]=t,sl(n,r,e,1,i,s)}(i,o[6],l,r,c,a),t.attachToViewContainerRef(),ty(Sf(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Xb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=kh(this._lContainer,e);r&&(Hc(Sf(this._lContainer),e),Vy(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=kh(this._lContainer,e);return r&&null!=Hc(Sf(this._lContainer),e)?new yl(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Xb(n){return n[8]}function Sf(n){return n[8]||(n[8]=[])}function Yb(n,t){let e;const r=t[n.index];if(lr(r))e=r;else{let i;if(8&n.type)i=at(r);else{const s=t[11];i=s.createComment("");const o=jn(n,t);Ds(s,Kc(s,o),i,function GI(n,t){return et(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=M1(r,t,i,n),tu(t,e)}return new Qb(e,n,t)}class xf{constructor(t){this.queryList=t,this.matches=null}clone(){return new xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Mf(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==n0(t,e).matches&&this.queries[e].setDirty()}}class Jb{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class Ef{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new Ef(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class If{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new If(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,fR(e,s)),this.matchTNodeWithReadOption(t,e,Vc(e,t,s,!1,!1))}else r===hi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Vc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_t||i===mr||i===hi&&4&e.type)this.addMatch(e.index,-2);else{const s=Vc(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function fR(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function gR(n,t,e,r){return-1===e?function mR(n,t){return 11&n.type?Qo(n,t):4&n.type?fu(n,t):null}(t,n):-2===e?function _R(n,t,e){return e===_t?Qo(t,n):e===hi?fu(t,n):e===mr?Yb(t,n):void 0}(n,t,r):$a(n,n[1],e,t)}function Zb(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:gR(t,s[c],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function Pf(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const o=Zb(n,t,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],p=t[-l];for(let m=10;m<p.length;m++){const g=p[m];g[17]===g[3]&&Pf(g[1],g,c,r)}if(null!==p[9]){const m=p[9];for(let g=0;g<m.length;g++){const _=m[g];Pf(_[1],_,c,r)}}}}}return r}function Yo(n){const t=O(),e=Te(),r=Fv();Wp(r+1);const i=n0(e,r);if(n.dirty&&Iv(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Pf(e,t,r,[]):Zb(e,t,i,r);n.reset(s,RN),n.notifyOnChanges()}return!0}return!1}function mu(n,t,e){const r=Te();r.firstCreatePass&&(t0(r,new Jb(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),e0(r,O(),t)}function Af(n,t,e,r){const i=Te();if(i.firstCreatePass){const s=ht();t0(i,new Jb(t,e,r),s.index),function yR(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}e0(i,O(),e)}function Jo(){return function vR(n,t){return n[19].queries[t].queryList}(O(),Fv())}function e0(n,t,e){const r=new wf(4==(4&e));C1(n,t,r,r.destroy),null===t[19]&&(t[19]=new Mf),t[19].queries.push(new xf(r))}function t0(n,t,e){null===n.queries&&(n.queries=new Ef),n.queries.track(new If(t,e))}function n0(n,t){return n.queries.getByIndex(t)}function vu(...n){}const Bf=new le("Application Initializer");let Vf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(dl(s))e.push(s);else if(df(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(L(Bf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dl=new le("AppId",{providedIn:"root",factory:function C0(){return`${Hf()}${Hf()}${Hf()}`}});function Hf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const b0=new le("Platform Initializer"),yu=new le("Platform ID"),k0=new le("appBootstrapListener");let D0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ni=new le("LocaleId",{providedIn:"root",factory:()=>ME(Ni,se.Optional|se.SkipSelf)||function LR(){return"undefined"!=typeof $localize&&$localize.locale||au}()});class VR{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let T0=(()=>{class n{compileModuleSync(e){return new kf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Ir(zn(e).declarations).reduce((o,a)=>{const l=Rt(a);return l&&o.push(new bf(l)),o},[]);return new VR(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zR=(()=>Promise.resolve(0))();function zf(n){"undefined"==typeof Zone?zR.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $R(){let n=Re.requestAnimationFrame,t=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function WR(n){const t=()=>{!function jR(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Re,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uf(n),n.isCheckStableRunning=!0,$f(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,o,a)=>{try{return w0(n),e.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),S0(n)}},onInvoke:(e,r,i,s,o,a,l)=>{try{return w0(n),e.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),S0(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Uf(n),$f(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,UR,vu,vu);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const UR={};function $f(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function w0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function S0(n){n._nesting--,$f(n)}class qR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let jf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vt.assertNotInAngularZone(),zf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(L(vt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),x0=(()=>{class n{constructor(){this._applications=new Map,Wf.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Wf.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class GR{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let gr,Wf=new GR;const M0=new le("AllowMultipleToken");class E0{constructor(t,e){this.name=t,this.token=e}}function I0(n,t,e=[]){const r=`Platform: ${t}`,i=new le(r);return(s=[])=>{let o=P0();if(!o||o.injector.get(M0,!1))if(n)n(e.concat(s).concat({provide:i,useValue:!0}));else{const a=e.concat(s).concat({provide:i,useValue:!0},{provide:Xh,useValue:"platform"});!function YR(n){if(gr&&!gr.destroyed&&!gr.injector.get(M0,!1))throw new j(400,"");gr=n.get(A0);const t=n.get(b0,null);t&&t.forEach(e=>e())}(mt.create({providers:a,name:r}))}return function JR(n){const t=P0();if(!t)throw new j(401,"");return t}()}}function P0(){return gr&&!gr.destroyed?gr:null}let A0=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function ZR(n,t){let e;return e="noop"===n?new qR:("zone.js"===n?void 0:n)||new vt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:vt,useValue:a}];return a.run(()=>{const c=mt.create({providers:l,parent:this.injector,name:e.moduleType.name}),p=e.create(c),m=p.injector.get(nl,null);if(!m)throw new j(402,"");return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:_=>{m.handleError(_)}});p.onDestroy(()=>{qf(this._modules,p),g.unsubscribe()})}),function eF(n,t,e){try{const r=e();return dl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(m,a,()=>{const g=p.injector.get(Vf);return g.runInitializers(),g.donePromise.then(()=>(function FO(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(db=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ni,au)||au),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,r=[]){const i=O0({},r);return function QR(n,t,e){const r=new kf(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(Cu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new j(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(L(mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function O0(n,t){return Array.isArray(t)?t.reduce(O0,n):Object.assign(Object.assign({},n),t)}let Cu=(()=>{class n{constructor(e,r,i,s,o){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new rt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new rt(c=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),zf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});this.isStable=function tM(...n){const t=Oa(n),e=function K2(n,t){return"number"==typeof yp(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?ir(r[0]):Aa(e)(wt(r,t)):ii}(a,l.pipe(function nM(n={}){const{connector:t=(()=>new gn),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,c=0,p=!1,m=!1;const g=()=>{null==a||a.unsubscribe(),a=null},_=()=>{g(),o=l=null,p=m=!1},y=()=>{const k=o;_(),null==k||k.unsubscribe()};return Dt((k,S)=>{c++,!m&&!p&&g();const E=l=null!=l?l:t();S.add(()=>{c--,0===c&&!m&&!p&&(a=Cp(y,i))}),E.subscribe(S),o||(o=new mc({next:x=>E.next(x),error:x=>{m=!0,g(),a=Cp(_,e,x),E.error(x)},complete:()=>{p=!0,g(),a=Cp(_,r),E.complete()}}),wt(k).subscribe(o))})(s)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new j(405,"");let i;i=e instanceof Fb?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function XR(n){return n.isBoundToModule}(i)?void 0:this._injector.get(pi),a=i.create(mt.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(jf,null),p=c&&a.injector.get(x0);return c&&p&&p.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),qf(this.components,a),p&&p.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new j(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;qf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(k0,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(L(vt),L(mt),L(nl),L(Ko),L(Vf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let R0=!0,bu=(()=>{class n{}return n.__NG_ELEMENT_ID__=rF,n})();function rF(n){return function iF(n,t,e){if(Tc(n)&&!e){const r=Cn(n.index,t);return new yl(r,r)}return 47&n.type?new yl(t[16],t):null}(ht(),O(),16==(16&n))}class H0{constructor(){}supports(t){return cl(t)}create(t){return new uF(t)}}const cF=(n,t)=>t;class uF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<$0(r,i,s)?e:r,a=$0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,p=l-i;if(c!=p){for(let g=0;g<c;g++){const _=g<s.length?s[g]:s[g]=0,y=_+g;p<=y&&y<c&&(s[g]=_+1)}s[o.previousIndex]=p-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!cl(t))throw new j(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function kA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[No()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new dF(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class dF{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class z0{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new pF,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $0(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class U0{constructor(){}supports(t){return t instanceof Map||nf(t)}create(){return new hF}}class hF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||nf(t)))throw new j(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new fF(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class fF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j0(){return new Tu([new H0])}let Tu=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||j0()),deps:[[n,new Xa,new Pi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new j(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:j0}),n})();function W0(){return new Tl([new U0])}let Tl=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||W0()),deps:[[n,new Xa,new Pi]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new j(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:W0}),n})();const _F=I0(null,"core",[{provide:yu,useValue:"unknown"},{provide:A0,deps:[mt]},{provide:x0,deps:[]},{provide:D0,deps:[]}]);let vF=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(L(Cu))},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({}),n})(),wu=null;function Br(){return wu}const Mt=new le("DocumentToken");let Ps=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function kF(){return L(q0)}()},providedIn:"platform"}),n})();const DF=new le("Location Initialized");let q0=(()=>{class n extends Ps{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(e){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){G0()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){G0()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(L(Mt))},n.\u0275prov=X({token:n,factory:function(){return function TF(){return new q0(L(Mt))}()},providedIn:"platform"}),n})();function G0(){return!!window.history.pushState}function Yf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function K0(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fi(n){return n&&"?"!==n[0]?"?"+n:n}let ea=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function wF(n){const t=L(Mt).location;return new Q0(L(Ps),t&&t.origin||"")}()},providedIn:"root"}),n})();const Jf=new le("appBaseHref");let Q0=(()=>{class n extends ea{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Yf(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+fi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+fi(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(L(Ps),L(Jf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),SF=(()=>{class n extends ea{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Yf(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+fi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(L(Ps),L(Jf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Zf=(()=>{class n{constructor(e,r){this._subject=new Ge,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=K0(X0(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+fi(r))}normalize(e){return n.stripTrailingSlash(function MF(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,X0(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fi(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=fi,n.joinWithSlash=Yf,n.stripTrailingSlash=K0,n.\u0275fac=function(e){return new(e||n)(L(ea),L(Ps))},n.\u0275prov=X({token:n,factory:function(){return function xF(){return new Zf(L(ea),L(Ps))}()},providedIn:"root"}),n})();function X0(n){return n.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Format=0]="Format",st[st.Standalone=1]="Standalone",st))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),Je=(()=>((Je=Je||{})[Je.Short=0]="Short",Je[Je.Medium=1]="Medium",Je[Je.Long=2]="Long",Je[Je.Full=3]="Full",Je))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function Su(n,t){return Kn(Zt(n)[z.DateFormat],t)}function xu(n,t){return Kn(Zt(n)[z.TimeFormat],t)}function Mu(n,t){return Kn(Zt(n)[z.DateTimeFormat],t)}function Gn(n,t){const e=Zt(n),r=e[z.NumberSymbols][t];if(void 0===r){if(t===J.CurrencyDecimal)return e[z.NumberSymbols][J.Decimal];if(t===J.CurrencyGroup)return e[z.NumberSymbols][J.Group]}return r}function J0(n){if(!n[z.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function tm(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const zF=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wl={},$F=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),ee=(()=>((ee=ee||{})[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee))(),pe=(()=>((pe=pe||{})[pe.DayPeriods=0]="DayPeriods",pe[pe.Days=1]="Days",pe[pe.Months=2]="Months",pe[pe.Eras=3]="Eras",pe))();function Z0(n,t,e,r){let i=function YF(n){if(nk(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Eu(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(zF))return function JF(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(r)}const t=new Date(n);if(!nk(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=mi(e,t)||t;let a,o=[];for(;t;){if(a=$F.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const p=o.pop();if(!p)break;t=p}}let l=i.getTimezoneOffset();r&&(l=tk(r,l),i=function XF(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function QF(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(tk(t,i)-i))}(i,r,!0));let c="";return o.forEach(p=>{const m=function KF(n){if(rm[n])return rm[n];let t;switch(n){case"G":case"GG":case"GGG":t=je(pe.Eras,_e.Abbreviated);break;case"GGGG":t=je(pe.Eras,_e.Wide);break;case"GGGGG":t=je(pe.Eras,_e.Narrow);break;case"y":t=ct(ee.FullYear,1,0,!1,!0);break;case"yy":t=ct(ee.FullYear,2,0,!0,!0);break;case"yyy":t=ct(ee.FullYear,3,0,!1,!0);break;case"yyyy":t=ct(ee.FullYear,4,0,!1,!0);break;case"Y":t=Ou(1);break;case"YY":t=Ou(2,!0);break;case"YYY":t=Ou(3);break;case"YYYY":t=Ou(4);break;case"M":case"L":t=ct(ee.Month,1,1);break;case"MM":case"LL":t=ct(ee.Month,2,1);break;case"MMM":t=je(pe.Months,_e.Abbreviated);break;case"MMMM":t=je(pe.Months,_e.Wide);break;case"MMMMM":t=je(pe.Months,_e.Narrow);break;case"LLL":t=je(pe.Months,_e.Abbreviated,st.Standalone);break;case"LLLL":t=je(pe.Months,_e.Wide,st.Standalone);break;case"LLLLL":t=je(pe.Months,_e.Narrow,st.Standalone);break;case"w":t=nm(1);break;case"ww":t=nm(2);break;case"W":t=nm(1,!0);break;case"d":t=ct(ee.Date,1);break;case"dd":t=ct(ee.Date,2);break;case"c":case"cc":t=ct(ee.Day,1);break;case"ccc":t=je(pe.Days,_e.Abbreviated,st.Standalone);break;case"cccc":t=je(pe.Days,_e.Wide,st.Standalone);break;case"ccccc":t=je(pe.Days,_e.Narrow,st.Standalone);break;case"cccccc":t=je(pe.Days,_e.Short,st.Standalone);break;case"E":case"EE":case"EEE":t=je(pe.Days,_e.Abbreviated);break;case"EEEE":t=je(pe.Days,_e.Wide);break;case"EEEEE":t=je(pe.Days,_e.Narrow);break;case"EEEEEE":t=je(pe.Days,_e.Short);break;case"a":case"aa":case"aaa":t=je(pe.DayPeriods,_e.Abbreviated);break;case"aaaa":t=je(pe.DayPeriods,_e.Wide);break;case"aaaaa":t=je(pe.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":t=je(pe.DayPeriods,_e.Abbreviated,st.Standalone,!0);break;case"bbbb":t=je(pe.DayPeriods,_e.Wide,st.Standalone,!0);break;case"bbbbb":t=je(pe.DayPeriods,_e.Narrow,st.Standalone,!0);break;case"B":case"BB":case"BBB":t=je(pe.DayPeriods,_e.Abbreviated,st.Format,!0);break;case"BBBB":t=je(pe.DayPeriods,_e.Wide,st.Format,!0);break;case"BBBBB":t=je(pe.DayPeriods,_e.Narrow,st.Format,!0);break;case"h":t=ct(ee.Hours,1,-12);break;case"hh":t=ct(ee.Hours,2,-12);break;case"H":t=ct(ee.Hours,1);break;case"HH":t=ct(ee.Hours,2);break;case"m":t=ct(ee.Minutes,1);break;case"mm":t=ct(ee.Minutes,2);break;case"s":t=ct(ee.Seconds,1);break;case"ss":t=ct(ee.Seconds,2);break;case"S":t=ct(ee.FractionalSeconds,1);break;case"SS":t=ct(ee.FractionalSeconds,2);break;case"SSS":t=ct(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Pu(yt.Short);break;case"ZZZZZ":t=Pu(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Pu(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Pu(yt.Long);break;default:return null}return rm[n]=t,t}(p);c+=m?m(i,e,l):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Eu(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function mi(n,t){const e=function EF(n){return Zt(n)[z.LocaleId]}(n);if(wl[e]=wl[e]||{},wl[e][t])return wl[e][t];let r="";switch(t){case"shortDate":r=Su(n,Je.Short);break;case"mediumDate":r=Su(n,Je.Medium);break;case"longDate":r=Su(n,Je.Long);break;case"fullDate":r=Su(n,Je.Full);break;case"shortTime":r=xu(n,Je.Short);break;case"mediumTime":r=xu(n,Je.Medium);break;case"longTime":r=xu(n,Je.Long);break;case"fullTime":r=xu(n,Je.Full);break;case"short":const i=mi(n,"shortTime"),s=mi(n,"shortDate");r=Iu(Mu(n,Je.Short),[i,s]);break;case"medium":const o=mi(n,"mediumTime"),a=mi(n,"mediumDate");r=Iu(Mu(n,Je.Medium),[o,a]);break;case"long":const l=mi(n,"longTime"),c=mi(n,"longDate");r=Iu(Mu(n,Je.Long),[l,c]);break;case"full":const p=mi(n,"fullTime"),m=mi(n,"fullDate");r=Iu(Mu(n,Je.Full),[p,m])}return r&&(wl[e][t]=r),r}function Iu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function _r(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function ct(n,t,e=0,r=!1,i=!1){return function(s,o){let a=function jF(n,t){switch(n){case ee.FullYear:return t.getFullYear();case ee.Month:return t.getMonth();case ee.Date:return t.getDate();case ee.Hours:return t.getHours();case ee.Minutes:return t.getMinutes();case ee.Seconds:return t.getSeconds();case ee.FractionalSeconds:return t.getMilliseconds();case ee.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===ee.Hours)0===a&&-12===e&&(a=12);else if(n===ee.FractionalSeconds)return function UF(n,t){return _r(n,3).substr(0,t)}(a,t);const l=Gn(o,J.MinusSign);return _r(a,t,l,r,i)}}function je(n,t,e=st.Format,r=!1){return function(i,s){return function WF(n,t,e,r,i,s){switch(e){case pe.Months:return function AF(n,t,e){const r=Zt(n),s=Kn([r[z.MonthsFormat],r[z.MonthsStandalone]],t);return Kn(s,e)}(t,i,r)[n.getMonth()];case pe.Days:return function PF(n,t,e){const r=Zt(n),s=Kn([r[z.DaysFormat],r[z.DaysStandalone]],t);return Kn(s,e)}(t,i,r)[n.getDay()];case pe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function FF(n){const t=Zt(n);return J0(t),(t[z.ExtraData][2]||[]).map(r=>"string"==typeof r?tm(r):[tm(r[0]),tm(r[1])])}(t),p=function LF(n,t,e){const r=Zt(n);J0(r);const s=Kn([r[z.ExtraData][0],r[z.ExtraData][1]],t)||[];return Kn(s,e)||[]}(t,i,r),m=c.findIndex(g=>{if(Array.isArray(g)){const[_,y]=g,k=o>=_.hours&&a>=_.minutes,S=o<y.hours||o===y.hours&&a<y.minutes;if(_.hours<y.hours){if(k&&S)return!0}else if(k||S)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(-1!==m)return p[m]}return function IF(n,t,e){const r=Zt(n),s=Kn([r[z.DayPeriodsFormat],r[z.DayPeriodsStandalone]],t);return Kn(s,e)}(t,i,r)[o<12?0:1];case pe.Eras:return function OF(n,t){return Kn(Zt(n)[z.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Pu(n){return function(t,e,r){const i=-1*r,s=Gn(e,J.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case yt.Short:return(i>=0?"+":"")+_r(o,2,s)+_r(Math.abs(i%60),2,s);case yt.ShortGMT:return"GMT"+(i>=0?"+":"")+_r(o,1,s);case yt.Long:return"GMT"+(i>=0?"+":"")+_r(o,2,s)+":"+_r(Math.abs(i%60),2,s);case yt.Extended:return 0===r?"Z":(i>=0?"+":"")+_r(o,2,s)+":"+_r(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ek(n){return Eu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function nm(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=ek(e),o=function GF(n){const t=Eu(n,0,1).getDay();return Eu(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return _r(i,n,Gn(r,J.MinusSign))}}function Ou(n,t=!1){return function(e,r){return _r(ek(e).getFullYear(),n,Gn(r,J.MinusSign),t)}}const rm={};function tk(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function nk(n){return n instanceof Date&&!isNaN(n.valueOf())}function ok(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let tn=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(cl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(w(Tu),w(Tl),w(_t),w(Lr))},n.\u0275dir=te({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class p3{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let we=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new p3(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ak(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{ak(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(mr),w(hi),w(Tu))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ak(n,t){n.context.$implicit=t.item}let ve=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new h3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lk("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lk("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(mr),w(hi))},n.\u0275dir=te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class h3{constructor(){this.$implicit=null,this.ngIf=null}}function lk(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(t)}'.`)}let uk=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(Tl),w(Lr))},n.\u0275dir=te({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),dk=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(w(mr))},n.\u0275dir=te({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Qt]}),n})(),pk=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=hk}transform(e,r=hk){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const i=this.differ.diff(e),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function A3(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(w(Tl,16))},n.\u0275pipe=Kt({name:"keyvalue",type:n,pure:!1}),n})();function hk(n,t){const e=n.key,r=t.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const i=String(e),s=String(r);return i==s?0:i<s?-1:1}let ta=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({}),n})();let H3=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new z3(L(Mt),window)}),n})();class z3{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function $3(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mk(this.window.history)||mk(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gk{}class hm extends class U3 extends class bF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function CF(n){wu||(wu=n)}(new hm)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function j3(){return xl=xl||document.querySelector("base"),xl?xl.getAttribute("href"):null}();return null==e?null:function W3(n){Ru=Ru||document.createElement("a"),Ru.setAttribute("href",n);const t=Ru.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ok(document.cookie,t)}}let Ru,xl=null;const _k=new le("TRANSITION_ID"),G3=[{provide:Bf,useFactory:function q3(n,t,e){return()=>{e.get(Vf).donePromise.then(()=>{const r=Br(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[_k,Mt,mt],multi:!0}];class fm{static init(){!function KR(n){Wf=n}(new fm)}addToWindow(t){Re.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Re.getAllAngularTestabilities=()=>t.getAllTestabilities(),Re.getAllAngularRootElements=()=>t.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Br().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Fu=new le("EventManagerPlugins");let Lu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(L(Fu),L(vt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class vk{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Br().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let yk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Ml=(()=>{class n extends yk{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Ck),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ck))}}return n.\u0275fac=function(e){return new(e||n)(L(Mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Ck(n){Br().remove(n)}const mm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gm=/%COMP%/g;function Bu(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Bu(n,i,e):(i=i.replace(gm,n),e.push(i))}return e}function Dk(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vu=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new _m(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case or.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new e4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case or.ShadowDom:return new t4(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Bu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(L(Lu),L(Ml),L(Dl))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class _m{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(mm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=mm[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=mm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Dn.DashCase|Dn.Important)?t.style.setProperty(e,r,i&Dn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Dn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dk(r)):this.eventManager.addEventListener(t,e,Dk(r))}}class e4 extends _m{constructor(t,e,r,i){super(t),this.component=r;const s=Bu(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function Y3(n){return"_ngcontent-%COMP%".replace(gm,n)}(i+"-"+r.id),this.hostAttr=function J3(n){return"_nghost-%COMP%".replace(gm,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class t4 extends _m{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Bu(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let n4=(()=>{class n extends vk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(L(Mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const wk=["alt","control","meta","shift"],s4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},o4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let a4=(()=>{class n extends vk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(wk.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(e){let r="",i=function l4(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Sk.hasOwnProperty(t)&&(t=Sk[t]))}return s4[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wk.forEach(s=>{s!=i&&o4[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(L(Mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const p4=I0(_F,"browser",[{provide:yu,useValue:"browser"},{provide:b0,useValue:function c4(){hm.makeCurrent(),fm.init()},multi:!0},{provide:Mt,useFactory:function d4(){return function AM(n){Fp=n}(document),document},deps:[]}]),h4=[{provide:Xh,useValue:"root"},{provide:nl,useFactory:function u4(){return new nl},deps:[]},{provide:Fu,useClass:n4,multi:!0,deps:[Mt,vt,yu]},{provide:Fu,useClass:a4,multi:!0,deps:[Mt]},{provide:Vu,useClass:Vu,deps:[Lu,Ml,Dl]},{provide:_l,useExisting:Vu},{provide:yk,useExisting:Ml},{provide:Ml,useClass:Ml,deps:[Mt]},{provide:jf,useClass:jf,deps:[vt]},{provide:Lu,useClass:Lu,deps:[Fu,vt]},{provide:gk,useClass:K3,deps:[]}];let xk=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Dl,useValue:e.appId},{provide:_k,useExisting:Dl},G3]}}}return n.\u0275fac=function(e){return new(e||n)(L(n,12))},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:h4,imports:[ta,vF]}),n})();"undefined"!=typeof window&&window;let Ik=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new(e||n):L(Pk),r},providedIn:"root"}),n})(),Pk=(()=>{class n extends Ik{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case $e.NONE:return r;case $e.HTML:return Mr(r,"HTML")?kn(r):Ty(this._doc,String(r)).toString();case $e.STYLE:return Mr(r,"Style")?kn(r):r;case $e.SCRIPT:if(Mr(r,"Script"))return kn(r);throw new Error("unsafe value used in a script context");case $e.URL:return gy(r),Mr(r,"URL")?kn(r):Ja(String(r));case $e.RESOURCE_URL:if(Mr(r,"ResourceURL"))return kn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function GE(n){return new $E(n)}(e)}bypassSecurityTrustStyle(e){return function KE(n){return new UE(n)}(e)}bypassSecurityTrustScript(e){return function QE(n){return new jE(n)}(e)}bypassSecurityTrustUrl(e){return function XE(n){return new WE(n)}(e)}bypassSecurityTrustResourceUrl(e){return function YE(n){return new qE(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(L(Mt))},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new e:function D4(n){return new Pk(n.get(Mt))}(L(mt)),r},providedIn:"root"}),n})();function ce(...n){return wt(n,Oa(n))}function na(n,t){return Ne(t)?Tt(n,t,1):Tt(n,1)}function As(n,t){return Dt((e,r)=>{let i=0;e.subscribe(dt(r,s=>n.call(t,s,i++)&&r.next(s)))})}class Ak{}class Ok{}class gi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof gi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new gi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof gi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T4{encodeKey(t){return Nk(t)}encodeValue(t){return Nk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const S4=/%(\d[a-f0-9])/gi,x4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Nk(n){return encodeURIComponent(n).replace(S4,(t,e)=>{var r;return null!==(r=x4[e])&&void 0!==r?r:t})}function Rk(n){return`${n}`}class Fi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Rk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Rk(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class M4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Fk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Lk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Bk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class El{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function E4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new gi),this.context||(this.context=new M4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Fi,this.urlWithParams=e}serializeBody(){return null===this.body?null:Fk(this.body)||Lk(this.body)||Bk(this.body)||function I4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bk(this.body)?null:Lk(this.body)?this.body.type||null:Fk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,p=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((g,_)=>g.set(_,t.setHeaders[_]),c)),t.setParams&&(p=Object.keys(t.setParams).reduce((g,_)=>g.set(_,t.setParams[_]),p)),new El(r,i,o,{params:p,headers:c,context:m,reportProgress:l,responseType:s,withCredentials:a})}}var ut=(()=>((ut=ut||{})[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut))();class ym{constructor(t,e=200,r="OK"){this.headers=t.headers||new gi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Cm extends ym{constructor(t={}){super(t),this.type=ut.ResponseHeader}clone(t={}){return new Cm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hu extends ym{constructor(t={}){super(t),this.type=ut.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vk extends ym{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zu=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof El)s=e;else{let l,c;l=i.headers instanceof gi?i.headers:new gi(i.headers),i.params&&(c=i.params instanceof Fi?i.params:new Fi({fromObject:i.params})),s=new El(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ce(s).pipe(na(l=>this.handler.handle(l)));if(e instanceof El||"events"===i.observe)return o;const a=o.pipe(As(l=>l instanceof Hu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Fi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,bm(i,r))}post(e,r,i={}){return this.request("POST",e,bm(i,r))}put(e,r,i={}){return this.request("PUT",e,bm(i,r))}}return n.\u0275fac=function(e){return new(e||n)(L(Ak))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Hk{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const km=new le("HTTP_INTERCEPTORS");let P4=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const A4=/^\)\]\}',?\n/;let zk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new rt(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((_,y)=>i.setRequestHeader(_,y.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const _=e.detectContentTypeHeader();null!==_&&i.setRequestHeader("Content-Type",_)}if(e.responseType){const _=e.responseType.toLowerCase();i.responseType="json"!==_?_:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const _=i.statusText||"OK",y=new gi(i.getAllResponseHeaders()),k=function O4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new Cm({headers:y,status:i.status,statusText:_,url:k}),o},l=()=>{let{headers:_,status:y,statusText:k,url:S}=a(),E=null;204!==y&&(E=void 0===i.response?i.responseText:i.response),0===y&&(y=E?200:0);let x=y>=200&&y<300;if("json"===e.responseType&&"string"==typeof E){const N=E;E=E.replace(A4,"");try{E=""!==E?JSON.parse(E):null}catch(V){E=N,x&&(x=!1,E={error:V,text:E})}}x?(r.next(new Hu({body:E,headers:_,status:y,statusText:k,url:S||void 0})),r.complete()):r.error(new Vk({error:E,headers:_,status:y,statusText:k,url:S||void 0}))},c=_=>{const{url:y}=a(),k=new Vk({error:_,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});r.error(k)};let p=!1;const m=_=>{p||(r.next(a()),p=!0);let y={type:ut.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),"text"===e.responseType&&!!i.responseText&&(y.partialText=i.responseText),r.next(y)},g=_=>{let y={type:ut.UploadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),r.next(y)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),e.reportProgress&&(i.addEventListener("progress",m),null!==s&&i.upload&&i.upload.addEventListener("progress",g)),i.send(s),r.next({type:ut.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),e.reportProgress&&(i.removeEventListener("progress",m),null!==s&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(L(gk))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Dm=new le("XSRF_COOKIE_NAME"),Tm=new le("XSRF_HEADER_NAME");class $k{}let N4=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ok(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(L(Mt),L(yu),L(Dm))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),wm=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(L($k),L(Tm))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),R4=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(km,[]);this.chain=r.reduceRight((i,s)=>new Hk(i,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(L(Ok),L(mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),F4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:wm,useClass:P4}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Dm,useValue:e.cookieName}:[],e.headerName?{provide:Tm,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:[wm,{provide:km,useExisting:wm,multi:!0},{provide:$k,useClass:N4},{provide:Dm,useValue:"XSRF-TOKEN"},{provide:Tm,useValue:"X-XSRF-TOKEN"}]}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:[zu,{provide:Ak,useClass:R4},zk,{provide:Ok,useExisting:zk}],imports:[[F4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class yr extends gn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:B4}=Array,{getPrototypeOf:V4,prototype:H4,keys:z4}=Object;function Uk(n){if(1===n.length){const t=n[0];if(B4(t))return{args:t,keys:null};if(function $4(n){return n&&"object"==typeof n&&V4(n)===H4}(t)){const e=z4(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:U4}=Array;function jk(n){return Ee(t=>function j4(n,t){return U4(t)?n(...t):n(t)}(n,t))}function Wk(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function qk(n,t,e){n?ri(e,n,t):t()}function $u(n,t){const e=Ne(n)?n:()=>n,r=i=>i.error(e());return new rt(t?i=>t.schedule(r,0,i):r)}const Uu=ds(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Sm(...n){return function G4(){return Aa(1)}()(wt(n,Oa(n)))}function Gk(n){return new rt(t=>{ir(n()).subscribe(t)})}function Kk(){return Dt((n,t)=>{let e=null;n._refCount++;const r=dt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class K4 extends rt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Y_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wt;const e=this.getSubject();t.add(this.source.subscribe(dt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wt.EMPTY)}return t}refCount(){return Kk()(this)}}function Os(n,t){return Dt((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(dt(r,l=>{null==i||i.unsubscribe();let c=0;const p=s++;ir(n(l,p)).subscribe(i=dt(r,m=>r.next(t?t(l,m,p,c++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function X4(n,t,e,r,i){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(dt(o,p=>{const m=c++;l=a?n(l,p,m):(a=!0,p),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Qk(n,t){return Dt(X4(n,t,arguments.length>=2,!0))}function Li(n){return Dt((t,e)=>{let s,r=null,i=!1;r=t.subscribe(dt(e,void 0,void 0,o=>{s=ir(n(o,Li(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function xm(n){return n<=0?()=>ii:Dt((t,e)=>{let r=[];t.subscribe(dt(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Xk(n=Y4){return Dt((t,e)=>{let r=!1;t.subscribe(dt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Y4(){return new Uu}function Yk(n){return Dt((t,e)=>{let r=!1;t.subscribe(dt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ra(n,t){const e=arguments.length>=2;return r=>r.pipe(n?As((i,s)=>n(i,s,r)):fs,_c(1),e?Yk(t):Xk(()=>new Uu))}function wn(n,t,e){const r=Ne(n)||t||e?{next:n,error:t,complete:e}:n;return r?Dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):fs}class _i{constructor(t,e){this.id=t,this.url=e}}class Mm extends _i{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends _i{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jk extends _i{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eL extends _i{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tL extends _i{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nL extends _i{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rL extends _i{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iL extends _i{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sL extends _i{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zk{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eD{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lL{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tD{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class uL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ia(n){return new uL(n)}const nD="ngNavigationCancelingError";function Em(n){const t=Error("NavigationCancelingError: "+n);return t[nD]=!0,t}function pL(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!rD(n[i],t[i]))return!1;return!0}function rD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function iD(n){return Array.prototype.concat.apply([],n)}function sD(n){return n.length>0?n[n.length-1]:null}function Et(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Hr(n){return df(n)?n:dl(n)?wt(Promise.resolve(n)):ce(n)}const mL={exact:function lD(n,t,e){if(!Rs(n.segments,t.segments)||!ju(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!lD(n.children[r],t.children[r],e))return!1;return!0},subset:cD},oD={exact:function gL(n,t){return Vr(n,t)},subset:function _L(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rD(n[e],t[e]))},ignored:()=>!0};function aD(n,t,e){return mL[e.paths](n.root,t.root,e.matrixParams)&&oD[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function cD(n,t,e){return uD(n,t,t.segments,e)}function uD(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Rs(i,e)||t.hasChildren()||!ju(i,e,r))}if(n.segments.length===e.length){if(!Rs(n.segments,e)||!ju(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!cD(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Rs(n.segments,i)&&ju(n.segments,i,r)&&n.children[me])&&uD(n.children[me],t,s,r)}}function ju(n,t,e){return t.every((r,i)=>oD[e](n[i].parameters,r.parameters))}class Ns{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}toString(){return CL.serialize(this)}}class ye{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Et(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wu(this)}}class Pl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ia(this.parameters)),this._parameterMap}toString(){return mD(this)}}function Rs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class dD{}class pD{parse(t){const e=new EL(t);return new Ns(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Al(t.root,!0)}`,r=function DL(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${qu(e)}=${qu(i)}`).join("&"):`${qu(e)}=${qu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function bL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const CL=new pD;function Wu(n){return n.segments.map(t=>mD(t)).join("/")}function Al(n,t){if(!n.hasChildren())return Wu(n);if(t){const e=n.children[me]?Al(n.children[me],!1):"",r=[];return Et(n.children,(i,s)=>{s!==me&&r.push(`${s}:${Al(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function yL(n,t){let e=[];return Et(n.children,(r,i)=>{i===me&&(e=e.concat(t(r,i)))}),Et(n.children,(r,i)=>{i!==me&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===me?[Al(n.children[me],!1)]:[`${i}:${Al(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${Wu(n)}/${e[0]}`:`${Wu(n)}/(${e.join("//")})`}}function hD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(n){return hD(n).replace(/%3B/gi,";")}function Im(n){return hD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(n){return decodeURIComponent(n)}function fD(n){return Gu(n.replace(/\+/g,"%20"))}function mD(n){return`${Im(n.path)}${function kL(n){return Object.keys(n).map(t=>`;${Im(t)}=${Im(n[t])}`).join("")}(n.parameters)}`}const TL=/^[^\/()?;=#]+/;function Ku(n){const t=n.match(TL);return t?t[0]:""}const wL=/^[^=?&#]+/,xL=/^[^&#]+/;class EL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[me]=new ye(t,e)),r}parseSegment(){const t=Ku(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pl(Gu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ku(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Ku(this.remaining);i&&(r=i,this.capture(r))}t[Gu(e)]=Gu(r)}parseQueryParam(t){const e=function SL(n){const t=n.match(wL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function ML(n){const t=n.match(xL);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fD(e),s=fD(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ku(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=me);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[me]:new ye([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Pm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Am(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Am(t,this._root).map(e=>e.value)}}function Pm(n,t){if(n===t.value)return t;for(const e of t.children){const r=Pm(n,e);if(r)return r}return null}function Am(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Am(n,e);if(r.length)return r.unshift(t),r}return[]}class vi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class _D extends gD{constructor(t,e){super(t),this.snapshot=e,Om(this,t)}toString(){return this.snapshot.toString()}}function vD(n,t){const e=function IL(n,t){const o=new Qu([],{},{},"",{},me,t,null,n.root,-1,{});return new CD("",new vi(o,[]))}(n,t),r=new yr([new Pl("",{})]),i=new yr({}),s=new yr({}),o=new yr({}),a=new yr(""),l=new Sn(r,i,o,a,s,me,t,e.root);return l.snapshot=e.root,new _D(new vi(l,[]),e)}class Sn{constructor(t,e,r,i,s,o,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(t=>ia(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(t=>ia(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yD(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function PL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Qu{constructor(t,e,r,i,s,o,a,l,c,p,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ia(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CD extends gD{constructor(t,e){super(e),this.url=t,Om(this,e)}toString(){return bD(this._root)}}function Om(n,t){t.value._routerState=n,t.children.forEach(e=>Om(n,e))}function bD(n){const t=n.children.length>0?` { ${n.children.map(bD).join(", ")} } `:"";return`${n.value}${t}`}function Nm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Vr(t.params,e.params)||n.params.next(e.params),function hL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Vr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rm(n,t){const e=Vr(n.params,t.params)&&function vL(n,t){return Rs(n,t)&&n.every((e,r)=>Vr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Rm(n.parent,t.parent))}function Ol(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function OL(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ol(n,r,i);return Ol(n,r)})}(n,t,e);return new vi(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ol(n,a)),o}}const r=function NL(n){return new Sn(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>Ol(n,s));return new vi(r,i)}}function Xu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nl(n){return"object"==typeof n&&null!=n&&n.outlets}function Fm(n,t,e,r,i){let s={};return r&&Et(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Ns(e.root===n?t:kD(e.root,n,t),s,i)}function kD(n,t,e){const r={};return Et(n.children,(i,s)=>{r[s]=i===t?e:kD(i,t,e)}),new ye(n.segments,r)}class DD{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Xu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Nl);if(i&&i!==sD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lm{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function TD(n,t,e){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Yu(n,t,e);const r=function HL(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],a=e[r];if(Nl(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!SD(l,c,o))return s;r+=2}else{if(!SD(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[me]=new ye(n.segments.slice(r.pathIndex),n.children),Yu(s,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?Bm(n,t,e):r.match?Yu(n,0,i):Bm(n,t,e)}function Yu(n,t,e){if(0===e.length)return new ye(n.segments,{});{const r=function VL(n){return Nl(n[0])?n[0].outlets:{[me]:n}}(e),i={};return Et(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=TD(n.children[o],t,s))}),Et(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ye(n.segments,i)}}function Bm(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(Nl(s)){const l=zL(s.outlets);return new ye(r,l)}if(0===i&&Xu(e[0])){r.push(new Pl(n.segments[t].path,wD(e[0]))),i++;continue}const o=Nl(s)?s.outlets[me]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&Xu(a)?(r.push(new Pl(o,wD(a))),i+=2):(r.push(new Pl(o,{})),i++)}return new ye(r,{})}function zL(n){const t={};return Et(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Bm(new ye([],{}),0,e))}),t}function wD(n){const t={};return Et(n,(e,r)=>t[r]=`${e}`),t}function SD(n,t,e){return n==e.path&&Vr(t,e.parameters)}class UL{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Nm(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=sa(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Et(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=sa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=sa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=sa(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cL(s.value.snapshot))}),t.children.length&&this.forwardEvent(new aL(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(Nm(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nm(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function jL(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class Vm{constructor(t,e){this.routes=t,this.module=e}}function Bi(n){return"function"==typeof n}function Fs(n){return n instanceof Ns}const Rl=Symbol("INITIAL_VALUE");function Fl(){return Os(n=>function W4(...n){const t=Oa(n),e=dv(n),{args:r,keys:i}=Uk(n);if(0===r.length)return wt([],t);const s=new rt(function q4(n,t,e=fs){return r=>{qk(t,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)qk(t,()=>{const c=wt(n[l],t);let p=!1;c.subscribe(dt(r,m=>{s[l]=m,p||(p=!0,a--),a||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>Wk(i,o):fs));return e?s.pipe(jk(e)):s}(n.map(t=>t.pipe(_c(1),function Q4(...n){const t=Oa(n);return Dt((e,r)=>{(t?Sm(n,e,t):Sm(n,e)).subscribe(r)})}(Rl)))).pipe(Qk((t,e)=>{let r=!1;return e.reduce((i,s,o)=>i!==Rl?i:(s===Rl&&(r=!0),r||!1!==s&&o!==e.length-1&&!Fs(s)?i:s),t)},Rl),As(t=>t!==Rl),Ee(t=>Fs(t)?t:!0===t),_c(1)))}class XL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ll,this.attachRef=null}}class Ll{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new XL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Hm=(()=>{class n{constructor(e,r,i,s,o){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.name=s||me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new YL(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(w(Ll),w(mr),w(Ko),Ua("name"),w(bu))},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class YL{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Sn?this.route:t===Ll?this.childContexts:this.parent.get(t,e)}}let xD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&D(0,"router-outlet")},directives:[Hm],encapsulation:2}),n})();function MD(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];JL(r,ZL(t,r))}}function JL(n,t){n.children&&MD(n.children,t)}function ZL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function zm(n){const t=n.children&&n.children.map(zm),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==me&&(e.component=xD),e}function Qn(n){return n.outlet||me}function ED(n,t){const e=n.filter(r=>Qn(r)===t);return e.push(...n.filter(r=>Qn(r)!==t)),e}const ID={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ju(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},ID):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||pL)(e,n,t);if(!s)return Object.assign({},ID);const o={};Et(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Zu(n,t,e,r,i="corrected"){if(e.length>0&&function n5(n,t,e){return e.some(r=>ed(n,t,r)&&Qn(r)!==me)}(n,e,r)){const o=new ye(t,function t5(n,t,e,r){const i={};i[me]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Qn(s)!==me){const o=new ye([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,i[Qn(s)]=o}return i}(n,t,r,new ye(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function r5(n,t,e){return e.some(r=>ed(n,t,r))}(n,e,r)){const o=new ye(n.segments,function e5(n,t,e,r,i,s){const o={};for(const a of r)if(ed(n,e,a)&&!i[Qn(a)]){const l=new ye([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Qn(a)]=l}return Object.assign(Object.assign({},i),o)}(n,t,e,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new ye(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function ed(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function PD(n,t,e,r){return!!(Qn(n)===r||r!==me&&ed(t,e,n))&&("**"===n.path||Ju(t,n,e).matched)}function AD(n,t,e){return 0===t.length&&!n.children[e]}class Bl{constructor(t){this.segmentGroup=t||null}}class OD{constructor(t){this.urlTree=t}}function td(n){return $u(new Bl(n))}function ND(n){return $u(new OD(n))}class l5{constructor(t,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(pi)}apply(){const t=Zu(this.urlTree.root,[],[],this.config).segmentGroup,e=new ye(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,me).pipe(Ee(s=>this.createUrlTree($m(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Li(s=>{if(s instanceof OD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,me).pipe(Ee(i=>this.createUrlTree($m(i),t.queryParams,t.fragment))).pipe(Li(i=>{throw i instanceof Bl?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new ye([],{[me]:t}):t;return new Ns(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Ee(s=>new ye([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(na(s=>{const o=r.children[s],a=ED(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Ee(l=>({segment:l,outlet:s})))}),Qk((s,o)=>(s[o.outlet]=o.segment,s),{}),function J4(n,t){const e=arguments.length>=2;return r=>r.pipe(n?As((i,s)=>n(i,s,r)):fs,xm(1),e?Yk(t):Xk(()=>new Uu))}())}expandSegment(t,e,r,i,s,o){return wt(r).pipe(na(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,s,o).pipe(Li(c=>{if(c instanceof Bl)return ce(null);throw c}))),ra(a=>!!a),Li((a,l)=>{if(a instanceof Uu||"EmptyError"===a.name){if(AD(e,i,s))return ce(new ye([],{}));throw new Bl(e)}throw a}))}expandSegmentAgainstRoute(t,e,r,i,s,o,a){return PD(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o):td(e):td(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ND(s):this.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new ye(o,{});return this.expandSegment(t,a,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:p}=Ju(e,i,s);if(!a)return td(e);const m=this.applyRedirectCommands(l,i.redirectTo,p);return i.redirectTo.startsWith("/")?ND(m):this.lineralizeSegments(i,m).pipe(Tt(g=>this.expandSegment(t,e,r,g.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ce(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(Ee(m=>(r._loadedConfig=m,new ye(i,{})))):ce(new ye(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Ju(e,r,i);return o?this.getChildConfig(t,r,i).pipe(Tt(p=>{const m=p.module,g=p.routes,{segmentGroup:_,slicedSegments:y}=Zu(e,a,l,g),k=new ye(_.segments,_.children);if(0===y.length&&k.hasChildren())return this.expandChildren(m,g,k).pipe(Ee(N=>new ye(a,N)));if(0===g.length&&0===y.length)return ce(new ye(a,{}));const S=Qn(r)===s;return this.expandSegment(m,k,g,y,S?me:s,!0).pipe(Ee(x=>new ye(a.concat(x.segments),x.children)))})):td(e)}getChildConfig(t,e,r){return e.children?ce(new Vm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ce(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Tt(i=>i?this.configLoader.load(t.injector,e).pipe(Ee(s=>(e._loadedConfig=s,s))):function o5(n){return $u(Em(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ce(new Vm([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?ce(i.map(o=>{const a=t.get(o);let l;if(function qL(n){return n&&Bi(n.canLoad)}(a))l=a.canLoad(e,r);else{if(!Bi(a))throw new Error("Invalid CanLoad guard");l=a(e,r)}return Hr(l)})).pipe(Fl(),wn(o=>{if(!Fs(o))return;const a=Em(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ee(o=>!0===o)):ce(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[me])return $u(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[me]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Ns(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Et(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=e[a]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return Et(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new ye(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function $m(n){const t={};for(const r of Object.keys(n.children)){const s=$m(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function c5(n){if(1===n.numberOfChildren&&n.children[me]){const t=n.children[me];return new ye(n.segments.concat(t.segments),t.children)}return n}(new ye(n.segments,t))}class RD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nd{constructor(t,e){this.component=t,this.route=e}}function d5(n,t,e){const r=n._root;return Vl(r,t?t._root:null,e,[r.value])}function rd(n,t,e){const r=function h5(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Vl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sa(t);return n.children.forEach(o=>{(function f5(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function m5(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rs(n.url,t.url)||!Vr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rm(n,t)||!Vr(n.queryParams,t.queryParams);default:return!Rm(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new RD(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vl(n,t,s.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nd(a.outlet.component,o))}else o&&Hl(t,a,i),i.canActivateChecks.push(new RD(r)),Vl(n,null,s.component?a?a.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Et(s,(o,a)=>Hl(o,e.getContext(a),i)),i}function Hl(n,t,e){const r=sa(n),i=n.value;Et(r,(s,o)=>{Hl(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new nd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class T5{}function FD(n){return new rt(t=>t.error(n))}class S5{constructor(t,e,r,i,s,o){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=Zu(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,me);if(null===e)return null;const r=new Qu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,e),s=new CD(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,r=yD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=ED(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=LD(r);return function x5(n){n.sort((t,e)=>t.value.outlet===me?-1:e.value.outlet===me?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,r,i);if(null!==o)return o}return AD(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!PD(t,e,r,i))return null;let s,o=[],a=[];if("**"===t.path){const _=r.length>0?sD(r).parameters:{};s=new Qu(r,_,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HD(t),Qn(t),t.component,t,BD(e),VD(e)+r.length,zD(t))}else{const _=Ju(e,t,r);if(!_.matched)return null;o=_.consumedSegments,a=_.remainingSegments,s=new Qu(o,_.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HD(t),Qn(t),t.component,t,BD(e),VD(e)+o.length,zD(t))}const l=function M5(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:p}=Zu(e,o,a,l.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&c.hasChildren()){const _=this.processChildren(l,c);return null===_?null:[new vi(s,_)]}if(0===l.length&&0===p.length)return[new vi(s,[])];const m=Qn(t)===i,g=this.processSegment(l,c,p,m?me:i);return null===g?null:[new vi(s,g)]}}function E5(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function LD(n){const t=[],e=new Set;for(const r of n){if(!E5(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=LD(r.children);t.push(new vi(r.value,i))}return t.filter(r=>!e.has(r))}function BD(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function VD(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function HD(n){return n.data||{}}function zD(n){return n.resolve||{}}function $D(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Um(n){return Os(t=>{const e=n(t);return e?wt(e).pipe(Ee(()=>t)):ce(t)})}class L5 extends class F5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jm=new le("ROUTES");class UD{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new Vm(iD(o.injector.get(jm,void 0,se.Self|se.Optional)).map(zm),o)}),Li(s=>{throw e._loader$=void 0,s}));return e._loader$=new K4(i,()=>new gn).pipe(Kk()),e._loader$}loadModuleFactory(t){return Hr(t()).pipe(Tt(e=>e instanceof Hb?ce(e):wt(this.compiler.compileModuleAsync(e))))}}class V5{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function H5(n){throw n}function z5(n,t,e){return t.parse("/")}function jD(n,t){return ce(null)}const $5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ie=(()=>{class n{constructor(e,r,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gn,this.errorHandler=H5,this.malformedUriErrorHandler=z5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jD,afterPreactivation:jD},this.urlHandlingStrategy=new V5,this.routeReuseStrategy=new L5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(pi),this.console=o.get(D0);const m=o.get(vt);this.isNgZoneEnabled=m instanceof vt&&vt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function fL(){return new Ns(new ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UD(o,a,g=>this.triggerEvent(new Zk(g)),g=>this.triggerEvent(new eD(g))),this.routerState=vD(this.currentUrlTree,this.rootComponentType),this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(As(i=>0!==i.id),Ee(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Os(i=>{let s=!1,o=!1;return ce(i).pipe(wn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Os(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return id(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(Os(m=>{const g=this.transitions.getValue();return r.next(new Mm(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions.getValue()?ii:Promise.resolve(m)}),function u5(n,t,e,r){return Os(i=>function a5(n,t,e,r,i){return new l5(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(Ee(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wn(m=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:m.urlAfterRedirects})}),function I5(n,t,e,r,i){return Tt(s=>function w5(n,t,e,r,i="emptyOnly",s="legacy"){try{const o=new S5(n,t,e,r,i,s).recognize();return null===o?FD(new T5):ce(o)}catch(o){return FD(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(Ee(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,m=>this.serializeUrl(m),this.paramsInheritanceStrategy,this.relativeLinkResolution),wn(m=>{if("eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(_,m)}this.browserUrlTree=m.urlAfterRedirects}const g=new tL(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(g)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:_,source:y,restoredState:k,extras:S}=a,E=new Mm(g,this.serializeUrl(_),y,k);r.next(E);const x=vD(_,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:x,urlAfterRedirects:_,extras:Object.assign(Object.assign({},S),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ii}),Um(a=>{const{targetSnapshot:l,id:c,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!g,replaceUrl:!!_})}),wn(a=>{const l=new nL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ee(a=>Object.assign(Object.assign({},a),{guards:d5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function g5(n,t){return Tt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?ce(Object.assign(Object.assign({},e),{guardsResult:!0})):function _5(n,t,e,r){return wt(n).pipe(Tt(i=>function D5(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ce(s.map(a=>{const l=rd(a,t,i);let c;if(function QL(n){return n&&Bi(n.canDeactivate)}(l))c=Hr(l.canDeactivate(n,t,e,r));else{if(!Bi(l))throw new Error("Invalid CanDeactivate guard");c=Hr(l(n,t,e,r))}return c.pipe(ra())})).pipe(Fl()):ce(!0)}(i.component,i.route,e,t,r)),ra(i=>!0!==i,!0))}(o,r,i,n).pipe(Tt(a=>a&&function WL(n){return"boolean"==typeof n}(a)?function v5(n,t,e,r){return wt(t).pipe(na(i=>Sm(function C5(n,t){return null!==n&&t&&t(new oL(n)),ce(!0)}(i.route.parent,r),function y5(n,t){return null!==n&&t&&t(new lL(n)),ce(!0)}(i.route,r),function k5(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function p5(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Gk(()=>ce(o.guards.map(l=>{const c=rd(l,o.node,e);let p;if(function KL(n){return n&&Bi(n.canActivateChild)}(c))p=Hr(c.canActivateChild(r,n));else{if(!Bi(c))throw new Error("Invalid CanActivateChild guard");p=Hr(c(r,n))}return p.pipe(ra())})).pipe(Fl())));return ce(s).pipe(Fl())}(n,i.path,e),function b5(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(s=>Gk(()=>{const o=rd(s,t,e);let a;if(function GL(n){return n&&Bi(n.canActivate)}(o))a=Hr(o.canActivate(t,n));else{if(!Bi(o))throw new Error("Invalid CanActivate guard");a=Hr(o(t,n))}return a.pipe(ra())}));return ce(i).pipe(Fl())}(n,i.route,e))),ra(i=>!0!==i,!0))}(r,s,n,t):ce(a)),Ee(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wn(a=>{if(Fs(a.guardsResult)){const c=Em(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new rL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),As(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Um(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(wn(l=>{const c=new iL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Os(l=>{let c=!1;return ce(l).pipe(function P5(n,t){return Tt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return ce(e);let s=0;return wt(i).pipe(na(o=>function A5(n,t,e,r){return function O5(n,t,e,r){const i=$D(n);if(0===i.length)return ce({});const s={};return wt(i).pipe(Tt(o=>function N5(n,t,e,r){const i=rd(n,t,r);return Hr(i.resolve?i.resolve(t,e):i(t,e))}(n[o],t,e,r).pipe(wn(a=>{s[o]=a}))),xm(1),Tt(()=>$D(s).length===i.length?ce(s):ii))}(n._resolve,n,t,r).pipe(Ee(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),yD(n,e).resolve),null)))}(o.route,r,n,t)),wn(()=>s++),xm(1),Tt(o=>s===i.length?ce(e):ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),wn(l=>{const c=new sL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Um(a=>{const{targetSnapshot:l,id:c,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!g,replaceUrl:!!_})}),Ee(a=>{const l=function AL(n,t,e){const r=Ol(n,t._root,e?e._root:void 0);return new _D(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),wn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Ee(r=>(new UL(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wn({next(){s=!0},complete(){s=!0}}),function Z4(n){return Dt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Li(a=>{if(o=!0,function dL(n){return n&&n[nD]}(a)){const l=Fs(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Jk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||id(i.source)};this.scheduleNavigation(p,"imperative",null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new eL(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ii}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){MD(e),this.config=e.map(zm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,p=l?this.currentUrlTree.fragment:o;let m=null;switch(a){case"merge":m=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),function RL(n,t,e,r,i){if(0===e.length)return Fm(t.root,t.root,t,r,i);const s=function FL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DD(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Et(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new DD(e,t,r)}(e);if(s.toRoot())return Fm(t.root,new ye([],{}),t,r,i);const o=function LL(n,t,e){if(n.isAbsolute)return new Lm(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Lm(s,s===t.root,0)}const r=Xu(n.commands[0])?0:1;return function BL(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Lm(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?Yu(o.segmentGroup,o.index,s.commands):TD(o.segmentGroup,o.index,s.commands);return Fm(o.segmentGroup,a,t,r,i)}(c,this.currentUrlTree,e,m,null!=p?p:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Fs(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function j5(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},$5):!1===r?Object.assign({},U5):r,Fs(e))return aD(this.currentUrlTree,e,i);const s=this.parseUrl(e);return aD(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Il(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const p=this.transitions.value,m=id(r)&&p&&!id(p.source),g=p.rawUrl.toString()===e.toString(),_=p.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(m&&g&&_)return Promise.resolve(!0);let k,S,E;o?(k=o.resolve,S=o.reject,E=o.promise):E=new Promise((V,G)=>{k=V,S=G});const x=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),N=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):N=0,this.setTransition({id:x,targetPageId:N,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:k,reject:S,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(V=>Promise.reject(V))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new Jk(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){lf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function id(n){return"imperative"!==n}let xn=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new gn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:oa(this.skipLocationChange),replaceUrl:oa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(Sn),Ua("tabindex"),w(Lr),w(_t))},n.\u0275dir=te({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&T("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Qt]}),n})(),Xn=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new gn,this.subscription=e.events.subscribe(s=>{s instanceof Il&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,o){if(0!==e||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:oa(this.skipLocationChange),replaceUrl:oa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(Sn),w(ea))},n.\u0275dir=te({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&T("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Or("target",r.target)("href",r.href,P)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Qt]}),n})();function oa(n){return""===n||!!n}let sd=(()=>{class n{constructor(e,r,i,s,o,a){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ge,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Il&&this.update()})}ngAfterContentInit(){ce(this.links.changes,this.linksWithHrefs.changes,ce(null)).pipe(Aa()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=wt(r).pipe(Aa()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function W5(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(_t),w(Lr),w(bu),w(xn,8),w(Xn,8))},n.\u0275dir=te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(Af(i,xn,5),Af(i,Xn,5)),2&e){let s;Yo(s=Jo())&&(r.links=s),Yo(s=Jo())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Qt]}),n})();class WD{}class qD{preload(t,e){return ce(null)}}let GD=(()=>{class n{constructor(e,r,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new UD(i,r,l=>e.triggerEvent(new Zk(l)),l=>e.triggerEvent(new eD(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(As(e=>e instanceof Il),na(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(pi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return wt(i).pipe(Aa(),Ee(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ce(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Tt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(L(ie),L(T0),L(mt),L(WD))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Wm=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Il&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof tD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new tD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){lf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ls=new le("ROUTER_CONFIGURATION"),KD=new le("ROUTER_FORROOT_GUARD"),G5=[Zf,{provide:dD,useClass:pD},{provide:ie,useFactory:function J5(n,t,e,r,i,s,o={},a,l){const c=new ie(null,n,t,e,r,i,iD(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Z5(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(p=>{var m,g;null===(m=console.group)||void 0===m||m.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(g=console.groupEnd)||void 0===g||g.call(console)}),c},deps:[dD,Ll,Zf,mt,T0,jm,Ls,[class B5{},new Pi],[class R5{},new Pi]]},Ll,{provide:Sn,useFactory:function eB(n){return n.routerState.root},deps:[ie]},GD,qD,class q5{preload(t,e){return e().pipe(Li(()=>ce(null)))}},{provide:Ls,useValue:{enableTracing:!1}}];function K5(){return new E0("Router",ie)}let od=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[G5,QD(e),{provide:KD,useFactory:Y5,deps:[[ie,new Pi,new Xa]]},{provide:Ls,useValue:r||{}},{provide:ea,useFactory:X5,deps:[Ps,[new Uc(Jf),new Pi],Ls]},{provide:Wm,useFactory:Q5,deps:[ie,H3,Ls]},{provide:WD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:qD},{provide:E0,multi:!0,useFactory:K5},[qm,{provide:Bf,multi:!0,useFactory:tB,deps:[qm]},{provide:XD,useFactory:nB,deps:[qm]},{provide:k0,multi:!0,useExisting:XD}]]}}static forChild(e){return{ngModule:n,providers:[QD(e)]}}}return n.\u0275fac=function(e){return new(e||n)(L(KD,8),L(ie,8))},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({}),n})();function Q5(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Wm(n,t,e)}function X5(n,t,e={}){return e.useHash?new SF(n,t):new Q0(n,t)}function Y5(n){return"guarded"}function QD(n){return[{provide:fE,multi:!0,useValue:n},{provide:jm,multi:!0,useValue:n}]}let qm=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gn}appInitializer(){return this.injector.get(DF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(ie),o=this.injector.get(Ls);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(Ls),i=this.injector.get(GD),s=this.injector.get(Wm),o=this.injector.get(ie),a=this.injector.get(Cu);e===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(L(mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function tB(n){return n.appInitializer.bind(n)}function nB(n){return n.bootstrapListener.bind(n)}const XD=new le("Router Initializer");let ge=(()=>{class n{constructor(e,r){this.http=e,this._router=r,this.draft="default",this.customDraft=!1,this.editDrafts=!1,this.pack="default",this.customPack=!1,this.editPacks=!1,this.processingDraftEdit=!1,this.processingPackEdit=!1,this.editDecklist=!1,this.processingDeckEdit=!1,this.sealedDraftMode=!1,this.mainDeck=[],this.sideDeck=[],this.extraDeck=[],this.packAmount=6,this.packSize="medium",this._carddataUrl="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards",this._cardMonsters="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/monsters",this._cardSpells="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spells",this._cardTraps="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/traps",this._cardST="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spellstraps",this.PackQueue=[]}setDraft(e,r){this.draft=e,this.customDraft=r}getDraftType(){return this.draft}getCustomEnabled(){return this.customDraft}editDraft(e){this.editDrafts=e}getEditDraft(){return this.editDrafts}setPack(e,r){this.pack=e,this.customPack=r}getPackType(){return this.pack}getCustomPackEnabled(){return this.customPack}editPack(e){this.editPacks=e}getEditPack(){return this.editPacks}setEditPackID(e){this.editPackID=e}getEditPackID(){return this.editPackID}setEditPackName(e){this.editPackName=e}getEditPackName(){return this.editPackName}editDeck(e){this.editDecklist=e}getEditDecklist(){return this.editDecklist}setEditDeckID(e){this.editDeckID=e}getEditDeckID(){return this.editDeckID}setEditDeckName(e){this.editDeckName=e}getEditDeckName(){return this.editDeckName}resetDeck(){this.editDeck(!1),this.setEditDeckID(-1),this.setEditDeckName(""),this.mainDeck=[],this.sideDeck=[],this.extraDeck=[]}uploadDecklist(e,r,i){this.mainDeck=e,this.sideDeck=r,this.extraDeck=i}getUploadedMain(){return this.mainDeck}getUploadedSide(){return this.sideDeck}getUploadedExtra(){return this.extraDeck}setEditDraftID(e){this.editDraftID=e}getEditDraftID(){return this.editDraftID}setEditDraftName(e){this.editDraftName=e}setEditDraftImage(e){this.editDraftImage=e}getEditDraftName(){return this.editDraftName}getEditDraftImage(){return this.editDraftImage}getSealedDraftMode(){return this.sealedDraftMode}setSealedDraftMode(e){this.sealedDraftMode=e}getProcessingPack(){return this.processingPackEdit}getProcessingDraft(){return this.processingDraftEdit}setProcessingDraft(e){this.processingDraftEdit=e}setProcessingPack(e){this.processingPackEdit=e}getProcessingDeck(){return this.processingDeckEdit}setProcessingDeck(e){this.processingDeckEdit=e}setPackQueue(e){this.PackQueue=e}getPackQueue(){return this.PackQueue}getCustomCards(){return this.http.get(this._carddataUrl)}getRecentCards(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/recentcards")}getCustomCardsIDs(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards-ids")}getDecklists(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists")}getDecklistsFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/creator/${e}`)}getMatchesFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches/duelist/${e}`)}getPlayers(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/players")}getMatches(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches")}getBanlist(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/banlist")}getDeckMasters(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deckmaster")}getDecklist(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/${e}`)}getDecklistInfo(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists-info/${e}`)}getCustomCard(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/card/${e}`)}getCustomCardsByDraft(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/${e}`)}getDrafts(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts")}getPacks(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs")}getPackInfoByID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/${e}`)}getDraftsbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts/${e}`)}getPacksbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/owner/${e}`)}getDraftCardsbyID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/draft/${e}`)}deleteDecklists(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/delete-decklists",e)}getCustomMonsters(){return this.http.get(this._cardMonsters)}getCustomSpells(){return this.http.get(this._cardSpells)}getCustomTraps(){return this.http.get(this._cardTraps)}getCustomSpellsTraps(){return this.http.get(this._cardST)}getCustomCardsByCreator(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/creator/${e}`)}getCustomCardsByTag(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/tags/${e}`)}SetPackNo(e,r){this.packAmount=null==e?6:e}getCustomCardsByPack(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/pack/${e}`)}getPackAmount(){return this.packAmount}getFilteredCards(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}getFilteredCards2(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}submitDecklist(e){return console.log("help!"),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdeck",e)}submitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdraft",e)}resubmitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdraft",e)}submitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitpack",e)}resubmitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editpack",e)}uploadImage(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/uploadimage",e)}getBindersByOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/binders/${e}`)}submitBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitbinder",e)}addToBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtobinder",e)}addToCollection(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtocollection",e)}submitDuel(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submit-duel",e)}getCardsByBinderID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/binders/${e}`)}getCollectionCardsByCreatorID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/collections/${e}`)}getChecklist(e,r){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/checklist/${e}/${r}`)}getCardDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/cards/details/${e}`)}getUserPageDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/users/${e}`)}editProfileImages(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editprofile/images",e)}resubmitDecklist(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdeck",e)}deleteMatch(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deletematch",e)}submitCSVFile(e){const r=new FormData;return r.append("file",new Blob([e],{type:"text/csv"}),e.name),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitCSV",r)}deleteCard(e){const r=new FormData;return r.append("cardid",e.id),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deleteCard",r)}getSiteData(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/sitedata")}getLatestPack(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/latestpack")}updateCOTD(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/cotd")}}return n.\u0275fac=function(e){return new(e||n)(L(zu),L(ie))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ad(...n){const t=dv(n),{args:e,keys:r}=Uk(n),i=new rt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let p=0;p<o;p++){let m=!1;ir(e[p]).subscribe(dt(s,g=>{m||(m=!0,c--),a[p]=g},()=>l--,void 0,()=>{(!l||!m)&&(c||s.next(r?Wk(r,a):a),s.complete())}))}});return t?i.pipe(jk(t)):i}let YD=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(w(Lr),w(_t))},n.\u0275dir=te({type:n}),n})(),Bs=(()=>{class n extends YD{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[Ae]}),n})();const Cr=new le("NgValueAccessor"),iB={provide:Cr,useExisting:Ve(()=>Gm),multi:!0};let Gm=(()=>{class n extends Bs{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Ue([iB]),Ae]}),n})();const sB={provide:Cr,useExisting:Ve(()=>It),multi:!0},aB=new le("CompositionEventMode");let It=(()=>{class n extends YD{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oB(){const n=Br()?Br().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Lr),w(_t),w(aB,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ue([sB]),Ae]}),n})();function Vi(n){return null==n||0===n.length}function JD(n){return null!=n&&"number"==typeof n.length}const Ht=new le("NgValidators"),Hi=new le("NgAsyncValidators"),lB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class q{static min(t){return function ZD(n){return t=>{if(Vi(t.value)||Vi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function eT(n){return t=>{if(Vi(t.value)||Vi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return tT(t)}static requiredTrue(t){return function nT(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function rT(n){return Vi(n.value)||lB.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function iT(n){return t=>Vi(t.value)||!JD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function sT(n){return t=>JD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function oT(n){if(!n)return ld;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Vi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return pT(t)}static composeAsync(t){return hT(t)}}function tT(n){return Vi(n.value)?{required:!0}:null}function ld(n){return null}function aT(n){return null!=n}function lT(n){const t=dl(n)?wt(n):n;return df(t),t}function cT(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function uT(n,t){return t.map(e=>e(n))}function dT(n){return n.map(t=>function cB(n){return!n.validate}(t)?t:e=>t.validate(e))}function pT(n){if(!n)return null;const t=n.filter(aT);return 0==t.length?null:function(e){return cT(uT(e,t))}}function Km(n){return null!=n?pT(dT(n)):null}function hT(n){if(!n)return null;const t=n.filter(aT);return 0==t.length?null:function(e){return ad(uT(e,t).map(lT)).pipe(Ee(cT))}}function Qm(n){return null!=n?hT(dT(n)):null}function fT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mT(n){return n._rawValidators}function gT(n){return n._rawAsyncValidators}function Xm(n){return n?Array.isArray(n)?n:[n]:[]}function cd(n,t){return Array.isArray(n)?n.includes(t):n===t}function _T(n,t){const e=Xm(t);return Xm(n).forEach(i=>{cd(e,i)||e.push(i)}),e}function vT(n,t){return Xm(t).filter(e=>!cd(n,e))}class yT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Km(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zi extends yT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nn extends yT{get formDirective(){return null}get path(){return null}}class CT{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Ct=(()=>{class n extends CT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(zi,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Nr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ae]}),n})(),Mn=(()=>{class n extends CT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(nn,10))},n.\u0275dir=te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Nr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ae]}),n})();function dd(n,t){return[...t.path,n]}function zl(n,t){Zm(n,t),t.valueAccessor.writeValue(n.value),function _B(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kT(n,t)})}(n,t),function yB(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function vB(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gB(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pd(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),fd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Zm(n,t){const e=mT(n);null!==t.validator?n.setValidators(fT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=gT(n);null!==t.asyncValidator?n.setAsyncValidators(fT(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();hd(t._rawValidators,i),hd(t._rawAsyncValidators,i)}function fd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=mT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=gT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return hd(t._rawValidators,r),hd(t._rawAsyncValidators,r),e}function kT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DT(n,t){Zm(n,t)}function eg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function TT(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tg(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===It?e=s:function kB(n){return Object.getPrototypeOf(n.constructor)===Bs}(s)?r=s:i=s}),i||r||e||null}function ng(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const $l="VALID",md="INVALID",aa="PENDING",Ul="DISABLED";function ig(n){return(gd(n)?n.validators:n)||null}function wT(n){return Array.isArray(n)?Km(n):n||null}function sg(n,t){return(gd(t)?t.asyncValidators:n)||null}function ST(n){return Array.isArray(n)?Qm(n):n||null}function gd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const xT=n=>n instanceof ke,og=n=>n instanceof Pt;function MT(n){return xT(n)?n.value:n.getRawValue()}function ET(n,t){const e=og(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[t])throw new j(1001,"")}function IT(n,t){og(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new j(1002,"")})}class ag{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=wT(this._rawValidators),this._composedAsyncValidatorFn=ST(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$l}get invalid(){return this.status===md}get pending(){return this.status==aa}get disabled(){return this.status===Ul}get enabled(){return this.status!==Ul}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=wT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ST(t)}addValidators(t){this.setValidators(_T(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_T(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vT(t,this._rawAsyncValidators))}hasValidator(t){return cd(this._rawValidators,t)}hasAsyncValidator(t){return cd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=aa,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ul,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$l,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$l||this.status===aa)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ul:$l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=aa,this._hasOwnPendingAsyncValidator=!0;const e=lT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function DB(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=og(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof wB)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Ul:this.errors?md:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(aa)?aa:this._anyControlsHaveStatus(md)?md:$l}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ke extends ag{constructor(t=null,e,r){super(ig(e),sg(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ng(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ng(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pt extends ag{constructor(t,e,r){super(ig(e),sg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){IT(this,t),Object.keys(t).forEach(r=>{ET(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=MT(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class wB extends ag{constructor(t,e,r){super(ig(e),sg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){IT(this,t),t.forEach((r,i)=>{ET(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>MT(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const SB={provide:nn,useExisting:Ve(()=>_d)},jl=(()=>Promise.resolve(null))();let _d=(()=>{class n extends nn{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ge,this.form=new Pt({},Km(e),Qm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jl.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),zl(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jl.then(()=>{const r=this._findContainer(e.path),i=new Pt({});DT(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){jl.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,TT(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(w(Ht,10),w(Hi,10))},n.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([SB]),Ae]}),n})();const MB={provide:zi,useExisting:Ve(()=>En)},OT=(()=>Promise.resolve(null))();let En=(()=>{class n extends zi{constructor(e,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new ke,this._registered=!1,this.update=new Ge,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tg(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),eg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){OT.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;OT.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?dd(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(w(nn,9),w(Ht,10),w(Hi,10),w(Cr,10),w(bu,8))},n.\u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([MB]),Ae,Qt]}),n})(),In=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const EB={provide:Cr,useExisting:Ve(()=>la),multi:!0};let la=(()=>{class n extends Bs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&T("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ue([EB]),Ae]}),n})(),NT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({}),n})();const lg=new le("NgModelWithFormControlWarning"),NB={provide:nn,useExisting:Ve(()=>dn)};let dn=(()=>{class n extends nn{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return zl(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pd(e.control||null,e,!1),ng(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,TT(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(pd(r||null,e),xT(i)&&(zl(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);DT(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function CB(n,t){return fd(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zm(this.form,this),this._oldForm&&fd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(w(Ht,10),w(Hi,10))},n.\u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([NB]),Ae,Qt]}),n})();const LB={provide:zi,useExisting:Ve(()=>Pn)};let Pn=(()=>{class n extends zi{constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tg(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),eg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return dd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(w(nn,13),w(Ht,10),w(Hi,10),w(Cr,10),w(lg,8))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ue([LB]),Ae,Qt]}),n})();const BB={provide:Cr,useExisting:Ve(()=>An),multi:!0};function VT(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let An=(()=>{class n extends Bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=VT(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function VB(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([BB]),Ae]}),n})(),br=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(VT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(Lr),w(An,9))},n.\u0275dir=te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const HB={provide:Cr,useExisting:Ve(()=>dg),multi:!0};function HT(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let dg=(()=>{class n extends Bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function zB(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([HB]),Ae]}),n})(),kr=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(HT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(HT(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(Lr),w(dg,9))},n.\u0275dir=te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Vs=(()=>{class n{constructor(){this._validator=ld}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ld,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,features:[Qt]}),n})();const WB={provide:Ht,useExisting:Ve(()=>Hs),multi:!0};let Hs=(()=>{class n extends Vs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function $B(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>tT}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(n)))(r||n)}}(),n.\u0275dir=te({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Or("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ue([WB]),Ae]}),n})(),XT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[[NT]]}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[XT]}),n})(),Wl=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[XT]}),n})();function YB(n,t){1&n&&D(0,"option",9)}function JB(n,t){1&n&&(u(0,"option",125),h(1,"Effect"),d())}function ZB(n,t){1&n&&(u(0,"option",126),h(1,"Flip"),d())}function eV(n,t){1&n&&(u(0,"option",127),h(1,"Fusion"),d())}function tV(n,t){1&n&&(u(0,"option",128),h(1,"Ritual"),d())}function nV(n,t){1&n&&(u(0,"option",129),h(1,"Union"),d())}function rV(n,t){1&n&&(u(0,"option",130),h(1,"Xyz"),d())}function iV(n,t){1&n&&D(0,"option",9)}function sV(n,t){1&n&&(u(0,"option",131),h(1,"Normal"),d())}function oV(n,t){1&n&&(u(0,"option",132),h(1,"Continuous"),d())}function aV(n,t){1&n&&(u(0,"option",133),h(1,"Quick"),d())}function lV(n,t){1&n&&(u(0,"option",134),h(1,"Ritual"),d())}function cV(n,t){1&n&&(u(0,"option",135),h(1,"Equip"),d())}function uV(n,t){1&n&&(u(0,"option",136),h(1,"Field"),d())}function dV(n,t){1&n&&D(0,"option",9)}function pV(n,t){1&n&&(u(0,"option",137),h(1,"Normal"),d())}function hV(n,t){1&n&&(u(0,"option",138),h(1,"Continuous"),d())}function fV(n,t){1&n&&(u(0,"option",139),h(1,"Counter"),d())}function mV(n,t){1&n&&(u(0,"option",140),h(1,"Level ASC"),d())}function gV(n,t){1&n&&(u(0,"option",141),h(1,"Level DESC"),d())}function _V(n,t){1&n&&(u(0,"option",142),h(1,"ATK ASC"),d())}function vV(n,t){1&n&&(u(0,"option",143),h(1,"ATK DESC"),d())}function yV(n,t){1&n&&(u(0,"option",144),h(1,"DEF ASC"),d())}function CV(n,t){1&n&&(u(0,"option",145),h(1,"DEF DESC"),d())}function bV(n,t){if(1&n){const e=B();u(0,"span")(1,"button",119),T("click",function(){const s=M(e).$implicit;return C().showDetails(s.id)}),D(2,"img",146),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function kV(n,t){if(1&n&&(u(0,"p"),D(1,"img",147),h(2),D(3,"img",148),h(4),d()),2&n){const e=C();f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," "),f(2),I(" ",null==e.card?null:e.card.level," ")}}function DV(n,t){if(1&n&&(u(0,"p"),D(1,"img",147),h(2),d()),2&n){const e=C();f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," ")}}function TV(n,t){if(1&n&&(u(0,"h4"),D(1,"img",149),h(2),d()),2&n){const e=C();f(1),W("src",e.stType,P),f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function wV(n,t){if(1&n&&(u(0,"h4"),h(1),d()),2&n){const e=C();f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function SV(n,t){if(1&n&&(u(0,"p"),D(1,"img",149),h(2),d()),2&n){const e=C();f(1),W("src",e.mType,P),f(1),I(" ",null==e.card?null:e.card.type,"")}}function xV(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C();f(1),Fe("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}let MV=(()=>{class n{constructor(e){this.customcardsService=e,this.currentPage=1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage)})}submitSearch(){console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None","Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),this.customcardsService.getFilteredCards(this.filters).subscribe(e=>{console.log(e),this.cards=e,this.currentPage=1,this.card=void 0,this.getCardNumbers(this.currentPage)},e=>{console.log(e)})}getCardNumbers(e){this.currentCards=[];const r=20*(e-1),i=20*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.card=this.cards.find(S=>S.id==e),console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-customcard-db"]],decls:284,vars:61,consts:[[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Attribute-Generic"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["value","Type-Generic"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col-lg-6"],[4,"ngFor","ngForOf"],[1,"col-lg-4","cardeffect"],[1,"bigcard",3,"src"],[4,"ngIf"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"smallcard",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"type",3,"src"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h2"),h(2,"Look at the card text and NOT the card image when reading effects, as custom cards are always changing."),d(),u(3,"div",1)(4,"div",2)(5,"label",3),h(6,"Name"),d(),u(7,"input",4),T("ngModelChange",function(s){return r.filters.name=s}),d()(),u(8,"div",2)(9,"label",5),h(10,"Desc"),d(),u(11,"input",4),T("ngModelChange",function(s){return r.filters.desc=s}),d()(),u(12,"div",2)(13,"label",6),h(14,"Creator"),d(),u(15,"input",4),T("ngModelChange",function(s){return r.filters.creator=s}),d()(),u(16,"div",2)(17,"label",7),h(18,"Tag"),d(),u(19,"select",8),T("ngModelChange",function(s){return r.filters.tag=s}),D(20,"option",9),u(21,"option",10),h(22,"Attack Directly"),d(),u(23,"option",11),h(24,"Attribute-Generic"),d(),u(25,"option",12),h(26,"Battle"),d(),u(27,"option",13),h(28,"Boost"),d(),u(29,"option",14),h(30,"Bounce"),d(),u(31,"option",15),h(32,"Burn"),d(),u(33,"option",16),h(34,"Counters"),d(),u(35,"option",17),h(36,"Cripple"),d(),u(37,"option",18),h(38,"Draw "),d(),u(39,"option",19),h(40,"Disrupt"),d(),u(41,"option",20),h(42,"Equip"),d(),u(43,"option",21),h(44,"Excavate"),d(),u(45,"option",22),h(46,"Flip"),d(),u(47,"option",23),h(48,"Fusion"),d(),u(49,"option",24),h(50,"Gain"),d(),u(51,"option",25),h(52,"Gamble"),d(),u(53,"option",26),h(54,"Generic"),d(),u(55,"option",27),h(56,"Hand Protection"),d(),u(57,"option",28),h(58,"Ignore"),d(),u(59,"option",29),h(60,"Lingering"),d(),u(61,"option",30),h(62,"Lockdown"),d(),u(63,"option",31),h(64,"Mill"),d(),u(65,"option",32),h(66,"Mimic"),d(),u(67,"option",33),h(68,"Non-Targeted Removal"),d(),u(69,"option",34),h(70,"Piercing"),d(),u(71,"option",35),h(72,"Position"),d(),u(73,"option",36),h(74,"Protection"),d(),u(75,"option",37),h(76,"Quick"),d(),u(77,"option",38),h(78,"Recycle"),d(),u(79,"option",39),h(80,"Restriction"),d(),u(81,"option",40),h(82,"Ritual"),d(),u(83,"option",41),h(84,"Searcher"),d(),u(85,"option",42),h(86,"Special Summon"),d(),u(87,"option",43),h(88,"Spin"),d(),u(89,"option",44),h(90,"Targeted Removal"),d(),u(91,"option",45),h(92,"Token"),d(),u(93,"option",46),h(94,"Tribute"),d(),u(95,"option",47),h(96,"Type-Generic"),d()()(),u(97,"div",2)(98,"label",48),h(99,"Card"),d(),u(100,"select",49),T("ngModelChange",function(s){return r.filters.initial=s}),D(101,"option",9),u(102,"option",50),h(103,"Monster"),d(),u(104,"option",51),h(105,"Spell"),d(),u(106,"option",52),h(107,"Trap"),d()()(),u(108,"div",2)(109,"label",48),h(110,"Card Type 2"),d(),u(111,"select",53),T("ngModelChange",function(s){return r.filters.cardtype=s}),b(112,YB,1,0,"option",54),b(113,JB,2,0,"option",55),b(114,ZB,2,0,"option",56),b(115,eV,2,0,"option",57),b(116,tV,2,0,"option",58),b(117,nV,2,0,"option",59),b(118,rV,2,0,"option",60),b(119,iV,1,0,"option",54),b(120,sV,2,0,"option",61),b(121,oV,2,0,"option",62),b(122,aV,2,0,"option",63),b(123,lV,2,0,"option",64),b(124,cV,2,0,"option",65),b(125,uV,2,0,"option",66),b(126,dV,1,0,"option",54),b(127,pV,2,0,"option",67),b(128,hV,2,0,"option",68),b(129,fV,2,0,"option",69),d()(),u(130,"div",2)(131,"label",70),h(132,"Monster Type"),d(),u(133,"select",71),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(134,"option",9),u(135,"option",72),h(136,"Aqua"),d(),u(137,"option",73),h(138,"Beast"),d(),u(139,"option",74),h(140,"Beast-Warrior"),d(),u(141,"option",75),h(142,"Dinosaur"),d(),u(143,"option",76),h(144,"Dragon"),d(),u(145,"option",77),h(146,"Fairy"),d(),u(147,"option",78),h(148,"Fiend"),d(),u(149,"option",79),h(150,"Fish"),d(),u(151,"option",80),h(152,"Insect"),d(),u(153,"option",81),h(154,"Machine"),d(),u(155,"option",82),h(156,"Plant"),d(),u(157,"option",83),h(158,"Psychic"),d(),u(159,"option",84),h(160,"Pyro"),d(),u(161,"option",85),h(162,"Reptile"),d(),u(163,"option",86),h(164,"Rock"),d(),u(165,"option",87),h(166,"Sea Serpent"),d(),u(167,"option",88),h(168,"Spellcaster"),d(),u(169,"option",89),h(170,"Thunder"),d(),u(171,"option",90),h(172,"Warrior"),d(),u(173,"option",91),h(174,"Winged-Beast"),d(),u(175,"option",92),h(176,"Zombie"),d()()(),u(177,"div",2)(178,"label",7),h(179,"Attribute"),d(),u(180,"select",93),T("ngModelChange",function(s){return r.filters.attribute=s}),D(181,"option",9),u(182,"option",94),h(183,"DARK"),d(),u(184,"option",95),h(185,"DIVINE"),d(),u(186,"option",96),h(187,"EARTH"),d(),u(188,"option",97),h(189,"FIRE"),d(),u(190,"option",98),h(191,"LIGHT"),d(),u(192,"option",99),h(193,"WATER"),d(),u(194,"option",100),h(195,"WIND"),d()()()(),u(196,"div",1)(197,"div",2)(198,"label",7),h(199,"Attribute"),d(),u(200,"select",93),T("ngModelChange",function(s){return r.filters.attribute=s}),D(201,"option",9),u(202,"option",94),h(203,"DARK"),d(),u(204,"option",95),h(205,"DIVINE"),d(),u(206,"option",96),h(207,"EARTH"),d(),u(208,"option",97),h(209,"FIRE"),d(),u(210,"option",98),h(211,"LIGHT"),d(),u(212,"option",99),h(213,"WATER"),d(),u(214,"option",100),h(215,"WIND"),d()()(),u(216,"div",2)(217,"label",101),h(218,"Level <= "),d(),u(219,"input",102),T("ngModelChange",function(s){return r.filters.levellow=s}),d()(),u(220,"div",2)(221,"label",103),h(222," Level "),d(),u(223,"input",102),T("ngModelChange",function(s){return r.filters.levelhigh=s}),d()(),u(224,"div",2)(225,"label",104),h(226,"Atk <="),d(),u(227,"input",102),T("ngModelChange",function(s){return r.filters.atklow=s}),d()(),u(228,"div",2)(229,"label",105),h(230,"Atk"),d(),u(231,"input",102),T("ngModelChange",function(s){return r.filters.atkhigh=s}),d()(),u(232,"div",2)(233,"label",106),h(234,"Def <="),d(),u(235,"input",102),T("ngModelChange",function(s){return r.filters.deflow=s}),d()(),u(236,"div",2)(237,"label",107),h(238,"Def"),d(),u(239,"input",102),T("ngModelChange",function(s){return r.filters.defhigh=s}),d()(),u(240,"div",2)(241,"label",108),h(242,"Sort By"),d(),u(243,"select",49),T("ngModelChange",function(s){return r.filters.sort=s}),u(244,"option",109),h(245,"Release Date ASC"),d(),u(246,"option",110),h(247,"Release Date DESC"),d(),u(248,"option",111),h(249,"Alphabetical ASC"),d(),u(250,"option",112),h(251,"Alphabetical DESC"),d(),b(252,mV,2,0,"option",113),b(253,gV,2,0,"option",114),b(254,_V,2,0,"option",115),b(255,vV,2,0,"option",116),b(256,yV,2,0,"option",117),b(257,CV,2,0,"option",118),d()(),u(258,"button",119),T("click",function(){return r.submitSearch()}),h(259,"Search"),d()(),u(260,"div",1)(261,"div",120),b(262,bV,3,1,"span",121),u(263,"div",1)(264,"button",119),T("click",function(){return r.nextPage()}),h(265,"Next"),d(),u(266,"button",119),T("click",function(){return r.prevPage()}),h(267,"Previous"),d()()(),u(268,"div",122),D(269,"img",123),u(270,"b"),b(271,kV,5,3,"p",124),d(),b(272,DV,3,2,"p",124),u(273,"h3"),h(274),d(),b(275,TV,3,2,"h4",124),b(276,wV,2,1,"h4",124),u(277,"b"),b(278,SV,3,2,"p",124),b(279,xV,2,2,"p",124),u(280,"p"),h(281),d(),u(282,"p"),h(283),d()()()()()),2&e&&(f(7),v("ngModel",r.filters.name),f(4),v("ngModel",r.filters.desc),f(4),v("ngModel",r.filters.creator),f(4),v("ngModel",r.filters.tag),f(81),v("ngModel",r.filters.initial),f(11),v("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),f(47),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),f(20),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),f(19),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),f(4),v("ngModel",r.filters.sort),f(9),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(5),v("ngForOf",r.currentCards),f(7),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",P),f(2),v("ngIf","True"==r.monster),f(1),v("ngIf","False"==r.monster),f(2),F(null==r.card?null:r.card.name),f(1),v("ngIf","False"==r.monster),f(1),v("ngIf","True"==r.monster),f(2),v("ngIf","True"==r.monster),f(1),v("ngIf","True"==r.monster),f(2),I(" ",null==r.card?null:r.card.effect,""),f(2),F(null==r.card?null:r.card.id))},directives:[It,Ct,En,An,br,kr,ve,la,we],styles:[".bigcard[_ngcontent-%COMP%]{width:60%}.smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:3px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}"]}),n})(),EV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["app-download-db"]],decls:2,vars:0,template:function(e,r){1&e&&(u(0,"p"),h(1,"download-db works!"),d())},styles:[""]}),n})(),De=(()=>{class n{constructor(e,r){this.http=e,this.router=r,this._registerUrl="https://mm8bitdm-ygo.herokuapp.com/api/register-yugioh",this._loginUrl="https://mm8bitdm-ygo.herokuapp.com/api/loginyugioh",this._userUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata",this._addUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/addcurrency",this._subtractUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/subtractcurrency",this._changeinfoUrl="https://mm8bitdm-ygo.herokuapp.com/api/changeaccountinfo"}getID(){return this.id}registerUser(e){return this.http.post(this._registerUrl,e)}loginUser(e){return this.http.post(this._loginUrl,e)}changeInfo(e){return this.http.post(this._changeinfoUrl,e)}getToken(){return localStorage.getItem("token")}getUser(){const e={token:localStorage.getItem("token")};return this.http.post(this._userUrl,e).subscribe(r=>{this.username=r.username,this.id=r.id,this.currency=r.currency,this.role=r.role},r=>{console.log(r),this.router.navigate(["/login"])}),this.http.post(this._userUrl,e)}subtractCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._subtractUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}addCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._addUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}loggedIn(){return!!localStorage.getItem("token")}logoutUser(){localStorage.removeItem("token"),location.reload(),this.router.navigate(["/home"]),this.username=void 0,this.id=void 0,this.currency=void 0,this.role=void 0}getUserData(){return this.role}adminRole(){return"admin"==this.role}}return n.\u0275fac=function(e){return new(e||n)(L(zu),L(ie))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IV(n,t){if(1&n){const e=B();u(0,"div",3)(1,"div",4),T("click",function(){const s=M(e).$implicit;return C().setCustomDraft(s.title)}),u(2,"div",5),D(3,"div",6)(4,"img",7),d(),u(5,"div",8)(6,"h5",9),h(7),d()()()()}if(2&n){const e=t.$implicit;f(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",P),f(3),I("",e.title," ")}}let PV=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this._router=r,this._authService=i,this.draftData=new Pt({draftTitle:new ke(void 0,[q.required,q.minLength(1)]),totalPlayers:new ke(1,[q.required])}),this.players={},this.playernames=[],this.totalPlayers=4,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.draft={},this.drafts=[]}ngOnInit(){this.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.getDrafts().subscribe(e=>{this.drafts=e,console.log(this.drafts)})}get f(){return this.draftData.controls}onSubmit(){if(this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.draft={}}editDraft(e){this.customcardsService.editDraft(e)}setDraft(e){this.customcardsService.setDraft(e,!1)}setCustomDraft(e){this.customcardsService.setDraft(e,!0)}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(ie),w(De))},n.\u0275cmp=Q({type:n,selectors:[["app-drafts"]],decls:3,vars:1,consts:[[1,"container","justify-content-center"],[1,"row"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],["routerLink","/draft-form",1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div","rounded"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1),b(2,IV,8,2,"div",2),d()()),2&e&&(f(2),v("ngForOf",r.drafts))},directives:[we,xn],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:200px;height:100px;opacity:.85;transition:.5s}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px;background-color:#000}.card-title[_ngcontent-%COMP%]{color:#fff}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();function AV(n,t){if(1&n&&D(0,"img",29),2&n){const e=C();A("routerLink","/packs/",e.latestpack.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e.latestpack?null:e.latestpack.pack,"",P)}}function OV(n,t){if(1&n&&(u(0,"div",30),D(1,"input",31),d()),2&n){const e=t.$implicit;f(1),A("routerLink","/cards/",e.id,"")("src","https://drive.google.com/uc?export=view&id=",e.drive_id,"",P)}}let NV=(()=>{class n{constructor(e,r){this._router=e,this._customCardsService=r}ngOnInit(){this._customCardsService.getRecentCards().subscribe(e=>{this.cards=e},e=>{}),this._customCardsService.getSiteData().subscribe(e=>{this.sitedata=e,this._customCardsService.getCustomCard(this.sitedata.cotd).subscribe(r=>{this.cotd=r,console.log(this.cotd)},r=>{}),console.log(this.sitedata)},e=>{}),this._customCardsService.getLatestPack().subscribe(e=>{this.latestpack=e,console.log(this.latestpack)},e=>{})}goToSealedDraft(){this._customCardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-home"]],decls:76,vars:5,consts:[[1,"container2","center"],["src","assets/images/Attic2.png",1,"center"],["role","alert",1,"alert","alert-success"],[1,""],[1,"row"],[1,"col"],["routerLink","/packs",1,"card","rounded","center"],[1,"crop","rounded"],[1,"overlay-div","rounded"],["src","https://drive.google.com/uc?export=view&id=19VB5LayxB2aVaDaIcMiayyJPdgaErxY_"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"],["routerLink","/deck-editor",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1Mm-cHxvBBwRu2ADvgVFzYhu-PfKvheEa"],["routerLink","/decklists",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=11ik2eREdiLg6df2qHSU7uXgzdOAA7c7V"],["routerLink","/draft-maker",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1BnruNoN42c-l6iuJMt-G0tNdQLsYqp6k"],["routerLink","/packs",1,"center","card","rounded",3,"click"],["src","https://drive.google.com/uc?export=view&id=1FZ1bL7NpcZNq_hpnvz084O_R2je0FOrC"],[1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1YDqy4PUS8ICjV-w9MVOAG_hKO3xAwsLJ"],[1,"text-center"],[1,"col-md-6","col-6"],["type","image",1,"center","smaller",3,"src","click"],["routerLinkActive","active","class","center pack",3,"routerLink","src",4,"ngIf"],[1,"container2"],[1,"row","justify-content-center"],["class","col-md-4 col-lg-2 col-4 ",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"center","pack",3,"routerLink","src"],[1,"col-md-4","col-lg-2","col-4"],["type","image",1,"center","cotd",3,"routerLink","src"]],template:function(e,r){1&e&&(u(0,"div",0),D(1,"img",1),u(2,"div",2)(3,"h4",3),h(4),d()(),u(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),D(9,"div",8)(10,"img",9),d(),u(11,"div",10)(12,"p",11),h(13,"Pack Opener "),d()()()(),u(14,"div",5)(15,"div",12)(16,"div",7),D(17,"div",8)(18,"img",13),d(),u(19,"div",10)(20,"p",11),h(21,"Deck Editor "),d()()()(),u(22,"div",5)(23,"div",14)(24,"div",7),D(25,"div",8)(26,"img",15),d(),u(27,"div",10)(28,"p",11),h(29,"Decklists "),d()()()(),u(30,"div",5)(31,"div",16)(32,"div",7),D(33,"div",8)(34,"img",17),d(),u(35,"div",10)(36,"p",11),h(37,"Draft Creator "),d()()()(),u(38,"div",5)(39,"div",18),T("click",function(){return r.goToSealedDraft()}),u(40,"div",7),D(41,"div",8)(42,"img",19),d(),u(43,"div",10)(44,"p",11),h(45,"Sealed Draft "),d()()()(),u(46,"div",5)(47,"div",20)(48,"div",7),D(49,"div",8)(50,"img",21),d(),u(51,"div",10)(52,"p",11),h(53,"Popular Cards "),d()()()()(),u(54,"div",4)(55,"div",5)(56,"h1",22),h(57,"Latest Articles"),d()()(),u(58,"div",4)(59,"div",23)(60,"h1",22),h(61,"Card of the Day!"),d(),u(62,"input",24),T("click",function(){return r.goToLink(r.cotd.id)}),d()(),u(63,"div",23)(64,"h1",22),h(65,"Latest Pack!"),d(),b(66,AV,1,2,"img",25),d()(),u(67,"div",4)(68,"div",5)(69,"h1",22),h(70,"Featured Decklists"),d()()()(),u(71,"div",26)(72,"div",27)(73,"h1",22),h(74,"Newest Cards"),d(),b(75,OV,2,2,"div",28),d()()),2&e&&(f(4),Fe("",null==r.sitedata?null:r.sitedata.packs_opened," packs opened! ",null==r.sitedata?null:r.sitedata.dosh_spent," dosh spent!"),f(58),A("src","https://drive.google.com/uc?export=view&id=",r.cotd.drive_id,"",P),f(4),v("ngIf","placeholder"!=r.latestpack.pack),f(9),v("ngForOf",r.cards))},directives:[xn,ve,sd,we],styles:[".center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:70%}.alert[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{padding:0;margin:0}.pack[_ngcontent-%COMP%]{width:225px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:325px;height:75px;opacity:.85;transition:.5s}.row-small[_ngcontent-%COMP%]{width:90%;align-items:center;text-align:center;align-content:center}.crop[_ngcontent-%COMP%]{width:325px;height:75px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-170px 6000px 0 -52px;background-color:#000}.smaller[_ngcontent-%COMP%]{width:250px}.cotd[_ngcontent-%COMP%]{width:175px}.card-title[_ngcontent-%COMP%]{color:#fff;font-size:5.2em}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif;font-size:2.5em;margin-top:-25px}p[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{width:325px;height:75px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}.row[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class YT{}const yi="*";function yd(n,t){return{type:7,name:n,definitions:t,options:{}}}function $i(n,t=null){return{type:4,styles:t,timings:n}}function JT(n,t=null){return{type:2,steps:n,options:t}}function zr(n){return{type:6,styles:n,offset:null}}function Ui(n,t,e){return{type:0,name:n,styles:t,options:e}}function ji(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ZT(n){Promise.resolve(null).then(n)}class ql{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ZT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ew{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?ZT(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function FV(n,t){if(1&n){const e=B();u(0,"span")(1,"div",2),T("click",function(){const s=M(e).$implicit;return C().editDraft(s.id,s.title,s.draftimage)}),u(2,"div",3),D(3,"div",4)(4,"img",5),d(),u(5,"div",6)(6,"h5",7),h(7),d()()()()}if(2&n){const e=t.$implicit;f(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",P),f(3),I("",e.title," ")}}let LV=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.customcardsService.editDraft(!1),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getDraftsbyOwner(this.id).subscribe(r=>{r&&(this.drafts=r,console.log(this.drafts),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}editDraft(e,r,i){this.customcardsService.editDraft(!0),this.customcardsService.setEditDraftID(e),this.customcardsService.setEditDraftName(r),this.customcardsService.setEditDraftImage(i),this._router.navigate(["/draft-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-draftmode"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(u(0,"div",0),b(1,FV,8,2,"span",1),d()),2&e&&(f(1),v("ngForOf",r.drafts))},directives:[we],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]{width:200px;height:100px}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.card-title[_ngcontent-%COMP%], .card-img-overlay[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.7}"],data:{animation:[yd("rotatedState",[Ui("default",zr({transform:"rotate(0)"})),Ui("rotated",zr({transform:"rotate(-180deg)"})),ji("rotated => default",$i("400ms ease-out")),ji("default => rotated",$i("400ms ease-in"))])]}}),n})();const Ce=!1;function tw(n){return new j(3e3,Ce)}function _6(){return"undefined"!=typeof window&&void 0!==window.document}function hg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wi(n){switch(n.length){case 0:return new ql;case 1:return n[0];default:return new ew(n)}}function nw(n,t,e,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(p=>{const m=p.offset,g=m==l,_=g&&c||{};Object.keys(p).forEach(y=>{let k=y,S=p[y];if("offset"!==y)switch(k=t.normalizePropertyName(k,o),S){case"!":S=i[y];break;case yi:S=s[y];break;default:S=t.normalizeStyleValue(y,k,S,o)}_[k]=S}),g||a.push(_),c=_,l=m}),o.length)throw function o6(n){return new j(3502,Ce)}();return a}function fg(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&mg(e,"start",n)));break;case"done":n.onDone(()=>r(e&&mg(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&mg(e,"destroy",n)))}}function mg(n,t,e){const r=e.totalTime,s=gg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function gg(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function On(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function rw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let _g=(n,t)=>!1,iw=(n,t,e)=>[],sw=null;function vg(n){const t=n.parentNode||n.host;return t===sw?null:t}(hg()||"undefined"!=typeof Element)&&(_6()?(sw=(()=>document.documentElement)(),_g=(n,t)=>{for(;t;){if(t===n)return!0;t=vg(t)}return!1}):_g=(n,t)=>n.contains(t),iw=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let zs=null,ow=!1;function aw(n){zs||(zs=function y6(){return"undefined"!=typeof document?document.body:null}()||{},ow=!!zs.style&&"WebkitAppearance"in zs.style);let t=!0;return zs.style&&!function v6(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in zs.style,!t&&ow&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in zs.style)),t}const lw=_g,cw=iw;let uw=(()=>{class n{validateStyleProperty(e){return aw(e)}matchesElement(e,r){return!1}containsElement(e,r){return lw(e,r)}getParentElement(e){return vg(e)}query(e,r,i){return cw(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,a=[],l){return new ql(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),yg=(()=>{class n{}return n.NOOP=new uw,n})();const Cg="ng-enter",bd="ng-leave",kd="ng-trigger",Dd=".ng-trigger",pw="ng-animating",bg=".ng-animating";function $s(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kg(parseFloat(t[1]),t[2])}function kg(n,t){return"s"===t?1e3*n:n}function Td(n,t,e){return n.hasOwnProperty("duration")?n:function k6(n,t,e){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(tw()),{duration:0,delay:0,easing:""};i=kg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=kg(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function BV(){return new j(3100,Ce)}()),a=!0),s<0&&(t.push(function VV(){return new j(3101,Ce)}()),a=!0),a&&t.splice(l,0,tw())}return{duration:i,delay:s,easing:o}}(n,t,e)}function ca(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qi(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else ca(n,e);return e}function fw(n,t,e){return e?t+":"+e+";":""}function mw(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=fw(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=fw(0,w6(e),n.style[e]));n.setAttribute("style",t)}function $r(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=Tg(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),hg()&&mw(n))}function Us(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Tg(e);n.style[r]=""}),hg()&&mw(n))}function Gl(n){return Array.isArray(n)?1==n.length?n[0]:JT(n):n}const Dg=new RegExp("{{\\s*(.+?)\\s*}}","g");function gw(n){let t=[];if("string"==typeof n){let e;for(;e=Dg.exec(n);)t.push(e[1]);Dg.lastIndex=0}return t}function wd(n,t,e){const r=n.toString(),i=r.replace(Dg,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(function zV(n){return new j(3003,Ce)}()),a=""),a.toString()});return i==r?n:i}function Sd(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const T6=/-+([a-z0-9])/g;function Tg(n){return n.replace(T6,(...t)=>t[1].toUpperCase())}function w6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function $V(n){return new j(3004,Ce)}()}}function _w(n,t){return window.getComputedStyle(n)[t]}function P6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function A6(n,t,e){if(":"==n[0]){const l=function O6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function n6(n){return new j(3016,Ce)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function t6(n){return new j(3015,Ce)}()),t;const i=r[1],s=r[2],o=r[3];t.push(vw(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(vw(o,i))}(r,e,t)):e.push(n),e}const Id=new Set(["true","1"]),Pd=new Set(["false","0"]);function vw(n,t){const e=Id.has(n)||Pd.has(n),r=Id.has(t)||Pd.has(t);return(i,s)=>{let o="*"==n||n==i,a="*"==t||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?Id.has(n):Pd.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Id.has(t):Pd.has(t)),o&&a}}const N6=new RegExp("s*:selfs*,?","g");function wg(n,t,e,r){return new R6(n).build(t,e,r)}class R6{constructor(t){this._driver=t}build(t,e,r){const i=new B6(e);this._resetContextStyleTimingState(i);const s=Nn(this,Gl(t),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function jV(){return new j(3006,Ce)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(function WV(){return new j(3007,Ce)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(Ad(a)){const l=a;Object.keys(l).forEach(c=>{gw(l[c]).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}}),s.size&&(Sd(s.values()),e.errors.push(function qV(n,t){return new j(3008,Ce)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Nn(this,Gl(t.animation),e);return{type:1,matchers:P6(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:js(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Nn(this,r,e)),options:js(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const a=Nn(this,o,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:s,options:js(t.options)}}visitAnimate(t,e){const r=function H6(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Sg(Td(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Sg(0,0,"");return s.dynamic=!0,s.strValue=r,s}return e=e||Td(r,t),Sg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:zr({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=zr(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==yi?r.push(o):e.errors.push(function GV(n){return new j(3002,Ce)}()):r.push(o)}):r.push(t.styles);let i=!1,s=null;return r.forEach(o=>{if(Ad(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let p=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(e.errors.push(function KV(n,t,e,r,i){return new j(3010,Ce)}()),p=!1),s=c.startTime),p&&(l[a]={startTime:s,endTime:i}),e.options&&function D6(n,t,e){const r=t.params||{},i=gw(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function HV(n){return new j(3001,Ce)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function QV(){return new j(3011,Ce)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const p=t.steps.map(E=>{const x=this._makeStyleAst(E,e);let N=null!=x.offset?x.offset:function V6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ad(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Ad(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(x.styles),V=0;return null!=N&&(s++,V=x.offset=N),l=l||V<0||V>1,a=a||V<c,c=V,o.push(V),x});l&&e.errors.push(function XV(){return new j(3012,Ce)}()),a&&e.errors.push(function YV(){return new j(3200,Ce)}());const m=t.steps.length;let g=0;s>0&&s<m?e.errors.push(function JV(){return new j(3202,Ce)}()):0==s&&(g=1/(m-1));const _=m-1,y=e.currentTime,k=e.currentAnimateTimings,S=k.duration;return p.forEach((E,x)=>{const N=g>0?x==_?1:g*x:o[x],V=N*S;e.currentTime=y+k.delay+V,k.duration=V,this._validateStyleAst(E,e),E.offset=N,r.styles.push(E)}),r}visitReference(t,e){return{type:8,animation:Nn(this,Gl(t.animation),e),options:js(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:js(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:js(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function F6(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(N6,"")),n=n.replace(/@\*/g,Dd).replace(/@\w+/g,e=>Dd+"-"+e.substr(1)).replace(/:animating/g,bg),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,On(e.collectedStyles,e.currentQuerySelector,{});const a=Nn(this,Gl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:js(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ZV(){return new j(3013,Ce)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Td(t.timings,e.errors,!0);return{type:12,animation:Nn(this,Gl(t.animation),e),timings:r,options:null}}}class B6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ad(n){return!Array.isArray(n)&&"object"==typeof n}function js(n){return n?(n=ca(n)).params&&(n.params=function L6(n){return n?ca(n):null}(n.params)):n={},n}function Sg(n,t,e){return{duration:n,delay:t,easing:e}}function xg(n,t,e,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Od{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const U6=new RegExp(":enter","g"),W6=new RegExp(":leave","g");function Mg(n,t,e,r,i,s={},o={},a,l,c=[]){return(new q6).buildKeyframes(n,t,e,r,i,s,o,a,l,c)}class q6{buildKeyframes(t,e,r,i,s,o,a,l,c,p=[]){c=c||new Od;const m=new Eg(t,e,c,i,s,p,[]);m.options=l,m.currentTimeline.setStyles([o],null,m.errors,l),Nn(this,r,m);const g=m.timelines.filter(_=>_.containsAnimation());if(Object.keys(a).length){let _;for(let y=g.length-1;y>=0;y--){const k=g[y];if(k.element===e){_=k;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,m.errors,l)}return g.length?g.map(_=>_.buildKeyframes()):[xg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?$s(r.duration):null,a=null!=r.delay?$s(r.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Nn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nd);const o=$s(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Nn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?$s(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Nn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Td(e.params?wd(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?$s(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nd);let o=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{e.currentQueryIndex=p;const m=e.createSubContext(t.options,c);s&&m.delayNextStep(s),c===e.element&&(l=m.currentTimeline),Nn(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const p=e.currentTimeline;l&&p.delayNextStep(l);const m=p.currentTime;Nn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const Nd={};class Eg{constructor(t,e,r,i,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Rd(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=$s(r.duration)),null!=r.delay&&(i.delay=$s(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=wd(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new Eg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Nd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new G6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(U6,"."+this._enterClassName)).replace(W6,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function e6(n){return new j(3014,Ce)}()),a}}class Rd{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Rd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||yi,this._currentKeyframe[e]=yi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},o=function K6(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{e[s]=yi})):qi(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=wd(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:yi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=qi(a,!0);Object.keys(c).forEach(p=>{const m=c[p];"!"==m?t.add(p):m==yi&&e.add(p)}),r||(c.offset=l/this.duration),i.push(c)});const s=t.size?Sd(t.values()):[],o=e.size?Sd(e.values()):[];if(r){const a=i[0],l=ca(a);a.offset=0,l.offset=1,i=[a,l]}return xg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class G6 extends Rd{constructor(t,e,r,i,s,o,a=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,a=e/o,l=qi(t[0],!1);l.offset=0,s.push(l);const c=qi(t[0],!1);c.offset=bw(a),s.push(c);const p=t.length-1;for(let m=1;m<=p;m++){let g=qi(t[m],!1);g.offset=bw((e+g.offset*r)/o),s.push(g)}r=o,e=0,i="",t=s}return xg(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function bw(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ig{}class Q6 extends Ig{normalizePropertyName(t,e){return Tg(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(X6[e]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function UV(n,t){return new j(3005,Ce)}())}return o+s}}const X6=(()=>function Y6(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function kw(n,t,e,r,i,s,o,a,l,c,p,m,g){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:m,errors:g}}const Pg={};class Dw{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function J6(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],s=this._stateStyles[t],o=i?i.buildStyles(e,r):{};return s?s.buildStyles(e,r):o}build(t,e,r,i,s,o,a,l,c,p){const m=[],g=this.ast.options&&this.ast.options.params||Pg,y=this.buildStyles(r,a&&a.params||Pg,m),k=l&&l.params||Pg,S=this.buildStyles(i,k,m),E=new Set,x=new Map,N=new Map,V="void"===i,G={params:Object.assign(Object.assign({},g),k)},xe=p?[]:Mg(t,e,this.ast.animation,s,o,y,S,G,c,m);let Me=0;if(xe.forEach(Ye=>{Me=Math.max(Ye.duration+Ye.delay,Me)}),m.length)return kw(e,this._triggerName,r,i,V,y,S,[],[],x,N,Me,m);xe.forEach(Ye=>{const kt=Ye.element,Zr=On(x,kt,{});Ye.preStyleProps.forEach(jt=>Zr[jt]=!0);const Bn=On(N,kt,{});Ye.postStyleProps.forEach(jt=>Bn[jt]=!0),kt!==e&&E.add(kt)});const Y=Sd(E.values());return kw(e,this._triggerName,r,i,V,y,S,xe,Y,x,N,Me)}}class Z6{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=ca(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=wd(l,i,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),r[c]=l})}}),r}}class t8{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new Z6(i.style,i.options&&i.options.params||{},r)}),Tw(this.states,"true","1"),Tw(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Dw(t,i,this.states))}),this.fallbackTransition=function n8(n,t,e){return new Dw(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Tw(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const r8=new Od;class i8{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],s=wg(this._driver,e,r,[]);if(r.length)throw function a6(n){return new j(3503,Ce)}();this._animations[t]=s}_buildPlayer(t,e,r){const i=t.element,s=nw(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations[t];let o;const a=new Map;if(s?(o=Mg(this._driver,e,s,Cg,bd,{},{},r,r8,i),o.forEach(p=>{const m=On(a,p.element,{});p.postStyleProps.forEach(g=>m[g]=null)})):(i.push(function l6(){return new j(3300,Ce)}()),o=[]),i.length)throw function c6(n){return new j(3504,Ce)}();a.forEach((p,m)=>{Object.keys(p).forEach(g=>{p[g]=this._driver.computeStyle(m,g,yi)})});const c=Wi(o.map(p=>{const m=a.get(p.element);return this._buildPlayer(p,{},m)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function u6(n){return new j(3301,Ce)}();return e}listen(t,e,r,i){const s=gg(e,"","","");return fg(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const ww="ng-animate-queued",Ag="ng-animate-disabled",c8=[],Sw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},u8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed";class Og{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function f8(n){return null!=n?n:null}(r?t.value:t),r){const s=ca(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Kl="void",Ng=new Og(Kl);class d8{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jn(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw function d6(n,t){return new j(3302,Ce)}();if(null==r||0==r.length)throw function p6(n){return new j(3303,Ce)}();if(!function m8(n){return"start"==n||"done"==n}(r))throw function h6(n,t){return new j(3400,Ce)}();const s=On(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const a=On(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Jn(t,kd),Jn(t,kd+"-"+e),a[e]=Ng),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function f6(n){return new j(3401,Ce)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new Rg(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Jn(t,kd),Jn(t,kd+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new Og(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=Ng),c.value!==Kl&&l.value===c.value){if(!function v8(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const k=[],S=s.matchStyles(l.value,l.params,k),E=s.matchStyles(c.value,c.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Us(t,S),$r(t,E)})}return}const g=On(this._engine.playersByElement,t,[]);g.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let _=s.matchTransition(l.value,c.value,t,c.params),y=!1;if(!_){if(!i)return;_=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:o,isFallbackTransition:y}),y||(Jn(t,ww),o.onStart(()=>{ua(t,ww)})),o.onDone(()=>{let k=this.players.indexOf(o);k>=0&&this.players.splice(k,1);const S=this._engine.playersByElement.get(t);if(S){let E=S.indexOf(o);E>=0&&S.splice(E,1)}}),this.players.push(o),g.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Dd,!0);r.forEach(i=>{if(i[Yn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(t,l,Kl,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&Wi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||Ng,p=new Og(Kl),m=new Rg(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Yn];(!s||s===Sw)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Jn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=gg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,fg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class p8{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new d8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,e)){r.splice(a+1,0,t),o=!0;break}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,r,i){if(Fd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Fd(e))return;const s=e[Yn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jn(t,Ag)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ua(t,Ag))}removeNode(t,e,r,i){if(Fd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[Yn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return Fd(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Dd,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bg,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Wi(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Yn];if(r&&r.setForRemoval){if(t[Yn]=Sw,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Ag))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Jn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Wi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function m6(n){return new j(3402,Ce)}()}_flushAnimations(t,e){const r=new Od,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(U=>{p.add(U);const K=this.driver.query(U,".ng-animate-queued",!0);for(let Z=0;Z<K.length;Z++)p.add(K[Z])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=Ew(g,this.collectedEnterElements),y=new Map;let k=0;_.forEach((U,K)=>{const Z=Cg+k++;y.set(K,Z),U.forEach(he=>Jn(he,Z))});const S=[],E=new Set,x=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){const K=this.collectedLeaveElements[U],Z=K[Yn];Z&&Z.setForRemoval&&(S.push(K),E.add(K),Z.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(he=>E.add(he)):x.add(K))}const N=new Map,V=Ew(g,Array.from(E));V.forEach((U,K)=>{const Z=bd+k++;N.set(K,Z),U.forEach(he=>Jn(he,Z))}),t.push(()=>{_.forEach((U,K)=>{const Z=y.get(K);U.forEach(he=>ua(he,Z))}),V.forEach((U,K)=>{const Z=N.get(K);U.forEach(he=>ua(he,Z))}),S.forEach(U=>{this.processLeaveNode(U)})});const G=[],xe=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(e).forEach(Z=>{const he=Z.player,Ke=Z.element;if(G.push(he),this.collectedEnterElements.length){const on=Ke[Yn];if(on&&on.setForMove){if(on.previousTriggersValues&&on.previousTriggersValues.has(Z.triggerName)){const io=on.previousTriggersValues.get(Z.triggerName),cs=this.statesByElement.get(Z.element);cs&&cs[Z.triggerName]&&(cs[Z.triggerName].value=io)}return void he.destroy()}}const ei=!m||!this.driver.containsElement(m,Ke),Vn=N.get(Ke),ls=y.get(Ke),Ze=this._buildInstruction(Z,r,ls,Vn,ei);if(Ze.errors&&Ze.errors.length)return void xe.push(Ze);if(ei)return he.onStart(()=>Us(Ke,Ze.fromStyles)),he.onDestroy(()=>$r(Ke,Ze.toStyles)),void i.push(he);if(Z.isFallbackTransition)return he.onStart(()=>Us(Ke,Ze.fromStyles)),he.onDestroy(()=>$r(Ke,Ze.toStyles)),void i.push(he);const T2=[];Ze.timelines.forEach(on=>{on.stretchStartingKeyframe=!0,this.disabledNodes.has(on.element)||T2.push(on)}),Ze.timelines=T2,r.append(Ke,Ze.timelines),o.push({instruction:Ze,player:he,element:Ke}),Ze.queriedElements.forEach(on=>On(a,on,[]).push(he)),Ze.preStyleProps.forEach((on,io)=>{const cs=Object.keys(on);if(cs.length){let so=l.get(io);so||l.set(io,so=new Set),cs.forEach(G_=>so.add(G_))}}),Ze.postStyleProps.forEach((on,io)=>{const cs=Object.keys(on);let so=c.get(io);so||c.set(io,so=new Set),cs.forEach(G_=>so.add(G_))})});if(xe.length){const U=[];xe.forEach(K=>{U.push(function g6(n,t){return new j(3505,Ce)}())}),G.forEach(K=>K.destroy()),this.reportError(U)}const Me=new Map,Y=new Map;o.forEach(U=>{const K=U.element;r.has(K)&&(Y.set(K,K),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Me))}),i.forEach(U=>{const K=U.element;this._getPreviousPlayers(K,!1,U.namespaceId,U.triggerName,null).forEach(he=>{On(Me,K,[]).push(he),he.destroy()})});const Ye=S.filter(U=>Pw(U,l,c)),kt=new Map;Mw(kt,this.driver,x,c,yi).forEach(U=>{Pw(U,l,c)&&Ye.push(U)});const Bn=new Map;_.forEach((U,K)=>{Mw(Bn,this.driver,new Set(U),l,"!")}),Ye.forEach(U=>{const K=kt.get(U),Z=Bn.get(U);kt.set(U,Object.assign(Object.assign({},K),Z))});const jt=[],Ti=[],as={};o.forEach(U=>{const{element:K,player:Z,instruction:he}=U;if(r.has(K)){if(p.has(K))return Z.onDestroy(()=>$r(K,he.toStyles)),Z.disabled=!0,Z.overrideTotalTime(he.totalTime),void i.push(Z);let Ke=as;if(Y.size>1){let Vn=K;const ls=[];for(;Vn=Vn.parentNode;){const Ze=Y.get(Vn);if(Ze){Ke=Ze;break}ls.push(Vn)}ls.forEach(Ze=>Y.set(Ze,Ke))}const ei=this._buildAnimation(Z.namespaceId,he,Me,s,Bn,kt);if(Z.setRealPlayer(ei),Ke===as)jt.push(Z);else{const Vn=this.playersByElement.get(Ke);Vn&&Vn.length&&(Z.parentPlayer=Wi(Vn)),i.push(Z)}}else Us(K,he.fromStyles),Z.onDestroy(()=>$r(K,he.toStyles)),Ti.push(Z),p.has(K)&&i.push(Z)}),Ti.forEach(U=>{const K=s.get(U.element);if(K&&K.length){const Z=Wi(K);U.setRealPlayer(Z)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<S.length;U++){const K=S[U],Z=K[Yn];if(ua(K,bd),Z&&Z.hasAnimation)continue;let he=[];if(a.size){let ei=a.get(K);ei&&ei.length&&he.push(...ei);let Vn=this.driver.query(K,bg,!0);for(let ls=0;ls<Vn.length;ls++){let Ze=a.get(Vn[ls]);Ze&&Ze.length&&he.push(...Ze)}}const Ke=he.filter(ei=>!ei.destroyed);Ke.length?g8(this,K,Ke):this.processLeaveNode(K)}return S.length=0,jt.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();const K=this.players.indexOf(U);this.players.splice(K,1)}),U.play()}),jt}elementContainsData(t,e){let r=!1;const i=e[Yn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Kl;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,p=c!==s,m=On(r,c,[]);this._getPreviousPlayers(c,p,o,a,e.toState).forEach(_=>{const y=_.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),_.destroy(),m.push(_)})}Us(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const a=e.triggerName,l=e.element,c=[],p=new Set,m=new Set,g=e.timelines.map(y=>{const k=y.element;p.add(k);const S=k[Yn];if(S&&S.removedBeforeQueried)return new ql(y.duration,y.delay);const E=k!==l,x=function _8(n){const t=[];return Iw(n,t),t}((r.get(k)||c8).map(Me=>Me.getRealPlayer())).filter(Me=>!!Me.element&&Me.element===k),N=s.get(k),V=o.get(k),G=nw(0,this._normalizer,0,y.keyframes,N,V),xe=this._buildPlayer(y,G,x);if(y.subTimeline&&i&&m.add(k),E){const Me=new Rg(t,a,k);Me.setRealPlayer(xe),c.push(Me)}return xe});c.forEach(y=>{On(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function h8(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,y.element,y))}),p.forEach(y=>Jn(y,pw));const _=Wi(g);return _.onDestroy(()=>{p.forEach(y=>ua(y,pw)),$r(l,e.toStyles)}),m.forEach(y=>{On(i,y,[]).push(_)}),_}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ql(t.duration,t.delay)}}class Rg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ql,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>fg(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){On(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Fd(n){return n&&1===n.nodeType}function xw(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Mw(n,t,e,r,i){const s=[];e.forEach(l=>s.push(xw(l)));const o=[];r.forEach((l,c)=>{const p={};l.forEach(m=>{const g=p[m]=t.computeStyle(c,m,i);(!g||0==g.length)&&(c[Yn]=u8,o.push(c))}),n.set(c,p)});let a=0;return e.forEach(l=>xw(l,s[a++])),o}function Ew(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Jn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ua(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function g8(n,t,e){Wi(e).onDone(()=>n.processLeaveNode(t))}function Iw(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof ew?Iw(r.players,t):t.push(r)}}function Pw(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class Ld{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new p8(t,e,r),this._timelineEngine=new i8(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],p=wg(this._driver,s,l,[]);if(l.length)throw function s6(n,t){return new j(3404,Ce)}();a=function e8(n,t,e){return new t8(n,t,e)}(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=rw(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,a]=rw(r);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let C8=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$r(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($r(this._element,this._initialStyles),this._endStyles&&($r(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Us(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Us(this._element,this._endStyles),this._endStyles=null),$r(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fg(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];b8(i)&&(t=t||{},t[i]=n[i])}return t}function b8(n){return"display"===n||"position"===n}class Aw{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:_w(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class k8{validateStyleProperty(t){return aw(t)}matchesElement(t,e){return!1}containsElement(t,e){return lw(t,e)}getParentElement(t){return vg(t)}query(t,e,r){return cw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c={},p=o.filter(g=>g instanceof Aw);(function S6(n,t){return 0===n||0===t})(r,i)&&p.forEach(g=>{let _=g.currentSnapshot;Object.keys(_).forEach(y=>c[y]=_[y])}),e=function x6(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var i=1;i<t.length;i++){let a=t[i];o.forEach(function(l){a[l]=_w(n,l)})}}return t}(t,e=e.map(g=>qi(g,!1)),c);const m=function y8(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Fg(t[0]),t.length>1&&(r=Fg(t[t.length-1]))):t&&(e=Fg(t)),e||r?new C8(n,e,r):null}(t,e);return new Aw(t,e,l,m)}}let D8=(()=>{class n extends YT{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:or.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?JT(e):e;return Ow(this._renderer,null,r,"register",[i]),new T8(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(L(_l),L(Mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class T8 extends class RV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new w8(this._id,t,e||{},this._renderer)}}class w8{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ow(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ow(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const Nw="@.disabled";let S8=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let p=this._rendererCache.get(s);return p||(p=new Rw("",s,this.engine),this._rendererCache.set(s,p)),p}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(o,a,e,p.name,p)};return r.data.animation.forEach(l),new x8(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(L(_l),L(Ld),L(vt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Rw{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==Nw?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class x8 extends Rw{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Nw?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function M8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function E8(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}let I8=(()=>{class n extends Ld{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(L(Mt),L(yg),L(Ig))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Fw=new le("AnimationModuleType"),Lw=[{provide:YT,useClass:D8},{provide:Ig,useFactory:function P8(){return new Q6}},{provide:Ld,useClass:I8},{provide:_l,useFactory:function A8(n,t,e){return new S8(n,t,e)},deps:[Vu,Ld,vt]}],Bw=[{provide:yg,useFactory:()=>new k8},{provide:Fw,useValue:"BrowserAnimations"},...Lw],O8=[{provide:yg,useClass:uw},{provide:Fw,useValue:"NoopAnimations"},...Lw];let N8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?O8:Bw}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:Bw,imports:[xk]}),n})();function R8(n,t){1&n&&(u(0,"div",13),h(1," peepee "),d())}function F8(n,t){1&n&&(u(0,"div",13),h(1," poopoo "),d())}const Vw=function(n){return{"is-invalid":n}};function B8(n,t){1&n&&(u(0,"div",15),h(1," peepee "),d())}function V8(n,t){1&n&&(u(0,"div",15),h(1," peepee "),d())}function H8(n,t){1&n&&(u(0,"div",15),h(1," poopoo "),d())}const Lg=function(n){return{"is-invalid":n}},z8=[{path:"login",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.loginInfo=new Pt({email:new ke(void 0,[q.required,q.minLength(5)]),password:new ke(void 0,[q.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.loginInfo.controls}ngOnInit(){}loginUser(){this.submitted=!0,this.loginInfo.invalid?this.submitfail=!0:this._auth.loginUser({email:this.loginInfo.controls.email.value,password:this.loginInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-login"]],decls:19,vars:9,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(u(0,"body",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.loginUser()}),D(3,"img",3),u(4,"h1",4),h(5,"Input information below."),d(),u(6,"label",5),h(7,"Username/Email address"),d(),D(8,"input",6),b(9,R8,2,0,"div",7),u(10,"label",8),h(11,"Password"),d(),D(12,"input",9),b(13,F8,2,0,"div",7),u(14,"button",10),h(15,"Login"),d(),u(16,"p",11),h(17,"Faris Al-khatahtbeh \xa9 2017-2018"),d()()(),D(18,"div",12),d()),2&e&&(f(2),v("formGroup",r.loginInfo),f(6),v("ngClass",Xe(5,Vw,r.submitted&&r.f.email.errors)),f(1),v("ngIf",r.submitted&&r.f.email.errors),f(3),v("ngClass",Xe(7,Vw,r.submitted&&r.f.password.errors)),f(1),v("ngIf",r.submitted&&r.f.password.errors))},directives:[In,Mn,dn,It,Ct,Pn,Hs,tn,ve],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"register",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.registerInfo=new Pt({email:new ke(void 0,[q.required,q.minLength(5)]),username:new ke(void 0,[q.required,q.minLength(5)]),password:new ke(void 0,[q.required,q.minLength(8)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.registerInfo.controls}ngOnInit(){}registerUser(){this.submitted=!0,this.registerInfo.invalid?this.submitfail=!0:this._auth.registerUser({username:this.registerInfo.controls.username.value,email:this.registerInfo.controls.email.value,password:this.registerInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-register"]],decls:23,vars:13,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputUser",1,"sr-only"],["formControlName","username","name","username","type","username","id","inputUsername","placeholder","Username","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(u(0,"body",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.registerUser()}),D(3,"img",3),u(4,"h1",4),h(5,"Input information below."),d(),u(6,"label",5),h(7,"Username"),d(),D(8,"input",6),b(9,B8,2,0,"div",7),u(10,"label",8),h(11,"Email address"),d(),D(12,"input",9),b(13,V8,2,0,"div",7),u(14,"label",10),h(15,"Password"),d(),D(16,"input",11),b(17,H8,2,0,"div",7),u(18,"button",12),h(19,"Register"),d(),u(20,"p",13),h(21,"Faris Al-khatahtbeh \xa9 2017-2018"),d()()(),D(22,"div",14),d()),2&e&&(f(2),v("formGroup",r.registerInfo),f(6),v("ngClass",Xe(7,Lg,r.submitted&&r.f.username.errors)),f(1),v("ngIf",r.submitted&&r.f.username.errors),f(3),v("ngClass",Xe(9,Lg,r.submitted&&r.f.email.errors)),f(1),v("ngIf",r.submitted&&r.f.email.errors),f(3),v("ngClass",Xe(11,Lg,r.submitted&&r.f.password.errors)),f(1),v("ngIf",r.submitted&&r.f.password.errors))},directives:[In,Mn,dn,It,Ct,Pn,Hs,tn,ve],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"reset-password",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["app-reset-password"]],decls:2,vars:0,template:function(e,r){1&e&&(u(0,"p"),h(1,"reset-password works!"),d())},styles:[""]}),n})()}];let $8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[[od.forChild(z8)],od]}),n})(),U8=(()=>{class n{constructor(e){this.injector=e}intercept(e,r){let i=this.injector.get(De),s=e.clone({setHeaders:{Authorization:`Bearer ${i.getToken()}`}});return r.handle(s)}}return n.\u0275fac=function(e){return new(e||n)(L(mt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:[De,{provide:km,useClass:U8,multi:!0}],imports:[[ta,$8,vd,Wl]]}),n})();function W8(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",136),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function q8(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function G8(n,t){if(1&n&&(u(0,"p"),D(1,"img",137),h(2),D(3,"img",138),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function K8(n,t){if(1&n&&(u(0,"span"),D(1,"img",137),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function Q8(n,t){if(1&n&&(u(0,"p"),D(1,"img",136),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function X8(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function Y8(n,t){if(1&n&&(u(0,"div",134)(1,"p")(2,"b"),h(3),b(4,W8,4,2,"span",135),b(5,q8,2,1,"span",135),d()(),u(6,"b"),b(7,G8,5,3,"p",135),d(),b(8,K8,3,2,"span",135),u(9,"b"),b(10,Q8,3,2,"p",135),b(11,X8,2,2,"p",135),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function J8(n,t){1&n&&(u(0,"div")(1,"p",142),h(2,"Umm Draft Title required idiot."),d()())}function Z8(n,t){if(1&n&&(u(0,"div",141),b(1,J8,3,0,"div",135),d()),2&n){const e=C(2);f(1),v("ngIf",e.f.draftTitle.errors.required)}}const eH=function(n){return{"is-invalid":n}};function tH(n,t){if(1&n){const e=B();u(0,"div",6)(1,"label",7),h(2,"Draft Name"),d(),u(3,"input",139),T("ngModelChange",function(i){return M(e),C().draftName=i}),d(),b(4,Z8,2,1,"div",140),d()}if(2&n){const e=C();f(3),v("ngClass",Xe(3,eH,e.submitted&&e.f.draftTitle.errors))("ngModel",e.draftName),f(1),v("ngIf",e.submitted&&e.f.draftTitle.errors)}}function nH(n,t){1&n&&D(0,"option",13)}function rH(n,t){1&n&&(u(0,"option",143),h(1,"Effect"),d())}function iH(n,t){1&n&&(u(0,"option",144),h(1,"Flip"),d())}function sH(n,t){1&n&&(u(0,"option",145),h(1,"Fusion"),d())}function oH(n,t){1&n&&(u(0,"option",146),h(1,"Ritual"),d())}function aH(n,t){1&n&&(u(0,"option",147),h(1,"Union"),d())}function lH(n,t){1&n&&(u(0,"option",148),h(1,"Xyz"),d())}function cH(n,t){1&n&&(u(0,"option",149),h(1,"Synchro Monster"),d())}function uH(n,t){1&n&&D(0,"option",13)}function dH(n,t){1&n&&(u(0,"option",150),h(1,"Normal"),d())}function pH(n,t){1&n&&(u(0,"option",151),h(1,"Continuous"),d())}function hH(n,t){1&n&&(u(0,"option",152),h(1,"Quick"),d())}function fH(n,t){1&n&&(u(0,"option",153),h(1,"Ritual"),d())}function mH(n,t){1&n&&(u(0,"option",154),h(1,"Equip"),d())}function gH(n,t){1&n&&(u(0,"option",155),h(1,"Field"),d())}function _H(n,t){1&n&&D(0,"option",13)}function vH(n,t){1&n&&(u(0,"option",156),h(1,"Normal"),d())}function yH(n,t){1&n&&(u(0,"option",157),h(1,"Continuous"),d())}function CH(n,t){1&n&&(u(0,"option",158),h(1,"Counter"),d())}function bH(n,t){1&n&&(u(0,"option",159),h(1,"Level ASC"),d())}function kH(n,t){1&n&&(u(0,"option",160),h(1,"Level DESC"),d())}function DH(n,t){1&n&&(u(0,"option",161),h(1,"ATK ASC"),d())}function TH(n,t){1&n&&(u(0,"option",162),h(1,"ATK DESC"),d())}function wH(n,t){1&n&&(u(0,"option",163),h(1,"DEF ASC"),d())}function SH(n,t){1&n&&(u(0,"option",164),h(1,"DEF DESC"),d())}function xH(n,t){if(1&n){const e=B();u(0,"span")(1,"button",165),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightAddDraftCard(i,o.id)})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",166),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function MH(n,t){if(1&n){const e=B();u(0,"button",168),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",166),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function EH(n,t){if(1&n&&(u(0,"span"),b(1,MH,2,1,"button",167),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Monster"))}}function IH(n,t){if(1&n){const e=B();u(0,"button",168),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",166),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function PH(n,t){if(1&n&&(u(0,"span"),b(1,IH,2,1,"button",167),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Spell"))}}function AH(n,t){if(1&n){const e=B();u(0,"button",168),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",166),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function OH(n,t){if(1&n&&(u(0,"span"),b(1,AH,2,1,"button",167),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Trap"))}}function NH(n,t){if(1&n){const e=B();u(0,"button",168),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",166),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function RH(n,t){if(1&n&&(u(0,"span"),b(1,NH,2,1,"button",167),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Fusion"))}}function FH(n,t){if(1&n){const e=B();u(0,"button",169),T("click",function(){return M(e),C().saveDraft()}),h(1,"Save Draft"),d()}2&n&&v("disabled",1==C().done)}function LH(n,t){1&n&&(u(0,"div",170),h(1," Submission failed! Fix errors above. "),d())}function BH(n,t){if(1&n){const e=B();u(0,"button",129),T("click",function(){return M(e),C().deleteDraftCard()}),h(1,"Delete Card"),d()}}const VH=function(){return[]};let HH=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.currentPage=1,this.currentDraft=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.draftMode=!0,this.draftData=new Pt({draftTitle:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}get f(){return this.draftData.controls}SetDraftMode(e){this.draftMode=e}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingDraft()?this.customcardsService.getEditDraft()&&-1!=this.customcardsService.getEditDraftID()&&this.customcardsService.getDraftCardsbyID(this.customcardsService.getEditDraftID()).subscribe(r=>{r&&(this.currentDraft=r,this.customcardsService.setProcessingDraft(!0),this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDraftName()))}):(this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{e&&(this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader())})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}addSearchResults(){for(const e in this.currentCards)this.addCardfromDraft(this.currentCards[e])}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}selectDraftImage(e){this.draftImage=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(){if(null!=this.card){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.card)||void 0===i?void 0:i.id)});if(console.log(e),e>-1)return;this.currentDraft.push(this.card)}}addCardfromDraft(e){if(null!=e){const r=this.currentDraft.findIndex(i=>i.id===(null==e?void 0:e.id));if(console.log(r),r>-1)return;this.currentDraft.push(e)}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(){if(null!=this.draftCard){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.draftCard)||void 0===i?void 0:i.id)});e>-1&&this.currentDraft.splice(e,1),this.draftCard=void 0}}saveDraft(){this.submitted=!0;var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.draftData.invalid||this.currentDraft.length<100)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0;const r={};if(r.ownerid=this.id,null!=this.draftImage)r.draftimage=this.draftImage.drive_id;else if(this.customcardsService.getEditDraft())r.draftimage=this.customcardsService.getEditDraftImage();else{const s=this.randomIntFromInterval(0,this.currentDraft.length-1);r.draftimage=this.currentDraft[s].drive_id}this.customcardsService.getEditDraft()?(r.title=this.draftData.controls.draftTitle.value,r.id=this.customcardsService.getEditDraftID()):r.title=this.draftData.controls.draftTitle.value;const i=[];for(let s=0;s<=this.currentDraft.length-1;s++)i.push(this.currentDraft[s].id);r.cardIDs=i,console.log("this is finaldata id:"+r.id),console.log("this is final data"),console.log(r),this.customcardsService.getEditDraft()?(this.customcardsService.resubmitDraft(r).subscribe(s=>{this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1):(this.customcardsService.submitDraft(r).subscribe(s=>{console.log("JOBS DONE"),console.log(s),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1)}}rightAddDraftCard(e,r){this.draftMode?(this.selectCard(r),e.preventDefault(),this.addCard()):(this.selectDraftImage(r),e.preventDefault())}rightDeleteDraftCard(e,r){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard()}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-draft-maker"]],decls:288,vars:62,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],["class","col-auto",4,"ngIf"],[1,"row",3,"keydown.enter"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col","btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","addcard",3,"click"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],["type","button","class","btn btn-success addcard",3,"click",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(b(0,Y8,16,13,"div",0),u(1,"div",1)(2,"h2"),h(3,"Drafts require "),u(4,"i"),h(5,"at least 100 cards."),d(),h(6," Submission will not work otherwise."),d(),u(7,"form",2),T("ngSubmit",function(){return r.saveDraft()}),u(8,"div",3),b(9,tH,5,5,"div",4),d()(),u(10,"div",5),T("keydown.enter",function(){return r.submitSearch()}),u(11,"div",6)(12,"label",7),h(13,"Name"),d(),u(14,"input",8),T("ngModelChange",function(s){return r.filters.name=s}),d()(),u(15,"div",6)(16,"label",9),h(17,"Desc"),d(),u(18,"input",8),T("ngModelChange",function(s){return r.filters.desc=s}),d()(),u(19,"div",6)(20,"label",10),h(21,"Creator"),d(),u(22,"input",8),T("ngModelChange",function(s){return r.filters.creator=s}),d()(),u(23,"div",6)(24,"label",11),h(25,"Tag"),d(),u(26,"select",12),T("ngModelChange",function(s){return r.filters.tag=s}),D(27,"option",13),u(28,"option",14),h(29,"Attack Directly"),d(),u(30,"option",15),h(31,"Battle"),d(),u(32,"option",16),h(33,"Boost"),d(),u(34,"option",17),h(35,"Bounce"),d(),u(36,"option",18),h(37,"Burn"),d(),u(38,"option",19),h(39,"Counters"),d(),u(40,"option",20),h(41,"Cripple"),d(),u(42,"option",21),h(43,"Draw "),d(),u(44,"option",22),h(45,"Disrupt"),d(),u(46,"option",23),h(47,"Equip"),d(),u(48,"option",24),h(49,"Excavate"),d(),u(50,"option",25),h(51,"Flip"),d(),u(52,"option",26),h(53,"Fusion"),d(),u(54,"option",27),h(55,"Gain"),d(),u(56,"option",28),h(57,"Gamble"),d(),u(58,"option",29),h(59,"Generic"),d(),u(60,"option",30),h(61,"Hand Protection"),d(),u(62,"option",31),h(63,"Ignore"),d(),u(64,"option",32),h(65,"Lingering"),d(),u(66,"option",33),h(67,"Lockdown"),d(),u(68,"option",34),h(69,"Mill"),d(),u(70,"option",35),h(71,"Mimic"),d(),u(72,"option",36),h(73,"Non-Targeted Removal"),d(),u(74,"option",37),h(75,"Piercing"),d(),u(76,"option",38),h(77,"Position"),d(),u(78,"option",39),h(79,"Protection"),d(),u(80,"option",40),h(81,"Quick"),d(),u(82,"option",41),h(83,"Recycle"),d(),u(84,"option",42),h(85,"Restriction"),d(),u(86,"option",43),h(87,"Ritual"),d(),u(88,"option",44),h(89,"Searcher"),d(),u(90,"option",45),h(91,"Special Summon"),d(),u(92,"option",46),h(93,"Spin"),d(),u(94,"option",47),h(95,"Targeted Removal"),d(),u(96,"option",48),h(97,"Token"),d(),u(98,"option",49),h(99,"Tribute"),d()()(),u(100,"div",6)(101,"label",50),h(102,"Card"),d(),u(103,"select",51),T("ngModelChange",function(s){return r.filters.initial=s}),D(104,"option",13),u(105,"option",52),h(106,"Monster"),d(),u(107,"option",53),h(108,"Spell"),d(),u(109,"option",54),h(110,"Trap"),d()()(),u(111,"div",6)(112,"label",50),h(113,"Card Type 2"),d(),u(114,"select",55),T("ngModelChange",function(s){return r.filters.cardtype=s}),b(115,nH,1,0,"option",56),b(116,rH,2,0,"option",57),b(117,iH,2,0,"option",58),b(118,sH,2,0,"option",59),b(119,oH,2,0,"option",60),b(120,aH,2,0,"option",61),b(121,lH,2,0,"option",62),b(122,cH,2,0,"option",63),b(123,uH,1,0,"option",56),b(124,dH,2,0,"option",64),b(125,pH,2,0,"option",65),b(126,hH,2,0,"option",66),b(127,fH,2,0,"option",67),b(128,mH,2,0,"option",68),b(129,gH,2,0,"option",69),b(130,_H,1,0,"option",56),b(131,vH,2,0,"option",70),b(132,yH,2,0,"option",71),b(133,CH,2,0,"option",72),d()(),u(134,"div",6)(135,"label",73),h(136,"Monster Type"),d(),u(137,"select",74),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(138,"option",13),u(139,"option",75),h(140,"Aqua"),d(),u(141,"option",76),h(142,"Beast"),d(),u(143,"option",77),h(144,"Beast-Warrior"),d(),u(145,"option",78),h(146,"Dinosaur"),d(),u(147,"option",79),h(148,"Dragon"),d(),u(149,"option",80),h(150,"Fairy"),d(),u(151,"option",81),h(152,"Fiend"),d(),u(153,"option",82),h(154,"Fish"),d(),u(155,"option",83),h(156,"Insect"),d(),u(157,"option",84),h(158,"Machine"),d(),u(159,"option",85),h(160,"Plant"),d(),u(161,"option",86),h(162,"Psychic"),d(),u(163,"option",87),h(164,"Pyro"),d(),u(165,"option",88),h(166,"Reptile"),d(),u(167,"option",89),h(168,"Rock"),d(),u(169,"option",90),h(170,"Sea Serpent"),d(),u(171,"option",91),h(172,"Spellcaster"),d(),u(173,"option",92),h(174,"Thunder"),d(),u(175,"option",93),h(176,"Warrior"),d(),u(177,"option",94),h(178,"Winged-Beast"),d(),u(179,"option",95),h(180,"Zombie"),d()()()(),u(181,"div",5),T("keydown.enter",function(){return r.submitSearch()}),u(182,"div",6)(183,"label",11),h(184,"Attribute"),d(),u(185,"select",96),T("ngModelChange",function(s){return r.filters.attribute=s}),D(186,"option",13),u(187,"option",97),h(188,"DARK"),d(),u(189,"option",98),h(190,"DIVINE"),d(),u(191,"option",99),h(192,"EARTH"),d(),u(193,"option",100),h(194,"FIRE"),d(),u(195,"option",101),h(196,"LIGHT"),d(),u(197,"option",102),h(198,"WATER"),d(),u(199,"option",103),h(200,"WIND"),d()()(),u(201,"div",6)(202,"label",104),h(203,"Level <= "),d(),u(204,"input",105),T("ngModelChange",function(s){return r.filters.levellow=s}),d()(),u(205,"div",6)(206,"label",106),h(207," Level "),d(),u(208,"input",105),T("ngModelChange",function(s){return r.filters.levelhigh=s}),d()(),u(209,"div",6)(210,"label",107),h(211,"Atk <="),d(),u(212,"input",105),T("ngModelChange",function(s){return r.filters.atklow=s}),d()(),u(213,"div",6)(214,"label",108),h(215,"Atk"),d(),u(216,"input",105),T("ngModelChange",function(s){return r.filters.atkhigh=s}),d()(),u(217,"div",6)(218,"label",109),h(219,"Def <="),d(),u(220,"input",105),T("ngModelChange",function(s){return r.filters.deflow=s}),d()(),u(221,"div",6)(222,"label",110),h(223,"Def"),d(),u(224,"input",105),T("ngModelChange",function(s){return r.filters.defhigh=s}),d()(),u(225,"div",6)(226,"label",111),h(227,"Sort By"),d(),u(228,"select",51),T("ngModelChange",function(s){return r.filters.sort=s}),u(229,"option",112),h(230,"Release Date ASC"),d(),u(231,"option",113),h(232,"Release Date DESC"),d(),u(233,"option",114),h(234,"Alphabetical ASC"),d(),u(235,"option",115),h(236,"Alphabetical DESC"),d(),b(237,bH,2,0,"option",116),b(238,kH,2,0,"option",117),b(239,DH,2,0,"option",118),b(240,TH,2,0,"option",119),b(241,wH,2,0,"option",120),b(242,SH,2,0,"option",121),d()(),u(243,"button",122),T("click",function(){return r.submitSearch()}),h(244,"Search"),d(),u(245,"div",3)(246,"button",123),T("click",function(){return r.SetDraftMode(!1)}),h(247,"Select Draft Image"),d(),u(248,"button",123),T("click",function(){return r.SetDraftMode(!0)}),h(249,"Select Draft Cards"),d()()(),u(250,"div",124)(251,"div",6)(252,"div",6)(253,"div",125)(254,"div",126),D(255,"span",127),d()()(),b(256,xH,3,1,"span",128),u(257,"div",3)(258,"button",122),T("click",function(){return r.nextPage()}),h(259,"Next"),d(),u(260,"button",122),T("click",function(){return r.prevPage()}),h(261,"Previous"),d()()()(),u(262,"div",3)(263,"h1")(264,"b"),h(265),d(),u(266,"button",129),T("click",function(){return r.addSearchResults()}),h(267,"Add Search Results"),d()(),u(268,"div",130)(269,"h2"),h(270,"Monsters"),d(),b(271,EH,2,1,"span",128),d(),u(272,"div",130)(273,"h2"),h(274,"Spells"),d(),b(275,PH,2,1,"span",128),d(),u(276,"div",130)(277,"h2"),h(278,"Traps"),d(),b(279,OH,2,1,"span",128),d(),u(280,"div",130)(281,"h2"),h(282,"Extra"),d(),b(283,RH,2,1,"span",128),d()(),u(284,"div",3),b(285,FH,2,1,"button",131),b(286,LH,2,0,"div",132),b(287,BH,2,0,"button",133),d()()),2&e&&(v("ngIf",!0===r.isHovering),f(7),v("formGroup",r.draftData),f(2),v("ngIf",!r.customcardsService.getEditDraft()),f(5),v("ngModel",r.filters.name),f(4),v("ngModel",r.filters.desc),f(4),v("ngModel",r.filters.creator),f(4),v("ngModel",r.filters.tag),f(77),v("ngModel",r.filters.initial),f(11),v("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),f(48),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),f(19),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),f(4),v("ngModel",r.filters.sort),f(9),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(14),v("ngForOf",r.currentCards),f(9),I("Current Draft (",r.currentDraft.length,")"),f(6),v("ngForOf",r.currentDraft),f(4),v("ngForOf",r.currentDraft),f(4),v("ngForOf",r.currentDraft),f(4),v("ngForOf",r.currentDraft),f(2),v("ngIf",r.currentDraft!=Df(61,VH)),f(1),v("ngIf",r.submitfail&&r.submitted),f(1),v("ngIf",null!=r.draftCard))},directives:[ve,In,Mn,dn,It,Ct,Pn,tn,En,An,br,kr,la,we],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}"]}),n})();var Bg=us(327);function zH(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",12),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function $H(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function UH(n,t){if(1&n&&(u(0,"p"),D(1,"img",13),h(2),D(3,"img",14),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function jH(n,t){if(1&n&&(u(0,"span"),D(1,"img",13),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function WH(n,t){if(1&n&&(u(0,"p"),D(1,"img",12),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function qH(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function GH(n,t){if(1&n&&(u(0,"div",10)(1,"p")(2,"b"),h(3),b(4,zH,4,2,"span",11),b(5,$H,2,1,"span",11),d()(),u(6,"b"),b(7,UH,5,3,"p",11),d(),b(8,jH,3,2,"span",11),u(9,"b"),b(10,WH,3,2,"p",11),b(11,qH,2,2,"p",11),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.cardid,"")}}function KH(n,t){if(1&n){const e=B();u(0,"span")(1,"button",15),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.cardid)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightAddDraftCard(i,o)}),u(2,"div",16)(3,"div",17),D(4,"img",18),d(),u(5,"div",19),D(6,"img",20),d()()()()}if(2&n){const e=t.$implicit,r=C();f(2),v("@cardFlip",r.state),f(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function QH(n,t){if(1&n){const e=B();u(0,"span")(1,"button",21),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.cardid)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHoverDrafted(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()}),D(2,"img",22),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function XH(n,t){if(1&n&&(u(0,"ul")(1,"li")(2,"b"),h(3),d(),h(4),u(5,"b"),h(6),d()()()),2&n){const e=t.$implicit;f(3),F(null==e?null:e.name),f(1),I(", ",null==e?null:e.cardtype,", "),f(2),F(null==e?null:e.creator)}}let YH=(()=>{class n{constructor(e,r){this.router=e,this.customcardsService=r,this.xml_file="",this.draftMode="generic",this.customEnabled=!1,this.customDraft=[],this.shuffleStyle="nothing",this.customButton1="nothing",this.customButton2="nothing",this.round=0,this.cardsRemaining=15,this.currentDraft=[],this.sortedList=[],this.state="default",this.cardsSelected=0,this.draftCardSelected=!1,this.firstTime=!0,this.draftArray=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}rotate(){this.state="default"===this.state?"flipped":"default"}rightAddDraftCard(e,r){"default"!=this.state&&(this.card=r,e.preventDefault(),this.addCard())}addCard(){this.card&&(this.currentDraft.push(this.card),this.sortedList.push(this.card),this.sortedList.sort((e,r)=>e.name.localeCompare(r.name)),this.sortedList.sort((e,r)=>e.creator.localeCompare(r.creator)),this.card=void 0,this.cardsRemaining--,this.cardsSelected++,this.draftCardSelected=!1,this.cardsRemaining<=0?(this.round++,this.round>=5?this.clearCards():(this.cardsRemaining=15,this.shuffleCards())):this.shuffleCards())}clearCards(){this.randomCards=void 0}ngOnInit(){this.draftMode=this.customcardsService.getDraftType(),this.customEnabled=this.customcardsService.getCustomEnabled(),console.log(this.draftMode),console.log(this.customEnabled),this.customcardsService.getCustomCardsByDraft(this.draftMode).subscribe(e=>{this.customDraft=e,this.cards=e,console.log(this.customDraft),this.shuffleCards()})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}shuffleUnique(e){this.shuffleStyle=e,this.customButton1="nothing",this.customButton2="nothing",this.shuffleCards()}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;switch(console.log(this.shuffleStyle),this.shuffleStyle){case"nothing":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.firstTime?this.firstTime=!1:(this.randomizeButtons(),this.shuffleStyle="nothing");break;case"afres":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.afres.length-1);this.randomCards.push(this.afres[r]),e++}this.shuffleStyle="nothing";break;case"gergoos":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.gergoos.length-1);this.randomCards.push(this.gergoos[r]),e++}this.shuffleStyle="nothing";break;case"swampus":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.swampus.length-1);this.randomCards.push(this.swampus[r]),e++}this.shuffleStyle="nothing";break;case"richie":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.richie.length-1);this.randomCards.push(this.richie[r]),e++}this.shuffleStyle="nothing";break;case"spells":for(console.log("IN CASE SPELLS");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.spells.length-1);this.randomCards.push(this.spells[r]),e++}this.shuffleStyle="nothing";break;case"traps":for(console.log("IN CASE traps");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.traps.length-1);this.randomCards.push(this.traps[r]),e++}this.shuffleStyle="nothing";break;case"monsters":for(console.log("IN CASE monsters");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.monsters.length-1);this.randomCards.push(this.monsters[r]),e++}this.shuffleStyle="nothing";break;default:for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.shuffleStyle="nothing",this.randomizeButtons()}console.log(this.randomCards)}randomizeButtons(){let e=this.randomIntFromInterval(0,12),r=this.randomIntFromInterval(0,12);for(;r==e;)r=this.randomIntFromInterval(0,12);this.findButton(1,e),this.findButton(2,r)}findButton(e,r){switch(r){case 0:1==e?this.customButton1="nothing":this.customButton2="nothing";break;case 1:1==e?this.customButton1="afres":this.customButton2="afres";break;case 2:1==e?this.customButton1="gergoos":this.customButton2="gergoos";break;case 3:1==e?this.customButton1="swampus":this.customButton2="swampus";break;case 4:1==e?this.customButton1="spells":this.customButton2="spells";break;case 5:1==e?this.customButton1="traps":this.customButton2="traps";break;case 6:1==e?this.customButton1="monsters":this.customButton2="monsters";break;case 7:1==e?this.customButton1="richie":this.customButton2="richie";break;default:this.customButton1="nothing"}}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.customButton1="nothing",this.customButton2="nothing",this.rotate()}openNextPack(){this.shuffleCards(),this.rotate()}showDetails2(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.draftCardSelected=!1,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if("default"!=this.state)if(this.draftCardSelected=!0,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.currentDraft)"Fusion Monster"!=r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side></side><extra>";for(const r of this.currentDraft)"Fusion Monster"==r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Bg.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-draft-form"]],decls:23,vars:5,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"text-center"],[1,"container-fluid"],[1,"row"],[1,"btn","btn-success",3,"click"],[1,"col-md-8","text-center","colRand"],[4,"ngFor","ngForOf"],[1,"colDraft","col"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave","contextmenu"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(b(0,GH,16,13,"div",0),u(1,"div",1)(2,"h1",2),h(3,"This is a Pseudo Draft. You open a pack of 15 from the entire database, select 1, then open a pack with one less card, and you repeat the process until you have 60 cards. "),d()(),u(4,"div",3)(5,"div",4)(6,"div",1)(7,"button",5),T("click",function(){return r.revealCards()}),h(8,"Reveal Cards"),d()()(),u(9,"div",4)(10,"div",6)(11,"div"),b(12,KH,7,2,"span",7),d()(),u(13,"div",8)(14,"h2"),h(15),d(),b(16,QH,3,1,"span",7),d()(),u(17,"div",9)(18,"button",5),T("click",function(){return r.exportList()}),h(19,"Export XML"),d(),u(20,"h2"),h(21,"Card List"),d(),b(22,XH,7,3,"ul",7),d()()),2&e&&(v("ngIf",!0===r.isHovering),f(12),v("ngForOf",r.randomCards),f(3),I("Current Cards ( ",r.cardsSelected,"/60)"),f(1),v("ngForOf",r.currentDraft),f(6),v("ngForOf",r.sortedList))},directives:[ve,we],styles:[".bigcard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:1px;width:150px;height:225px;cursor:pointer;position:relative;transform-style:preserve-3d}.colRand[_ngcontent-%COMP%]{width:1000px}.colDraft[_ngcontent-%COMP%]{width:500px}.colCardInfo[_ngcontent-%COMP%]{width:400px}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.btncard[_ngcontent-%COMP%]{padding:0;margin:0}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}"],data:{animation:[yd("cardFlip",[Ui("default",zr({transform:"none"})),Ui("flipped",zr({transform:"rotateY(180deg)"})),ji("default => flipped",[$i("400ms")]),ji("flipped => default",[$i("0ms")])])]}}),n})();function JH(n,t){if(1&n&&(u(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),h(4),d()(),u(5,"td")(6,"a",5),h(7),d()(),u(8,"td"),h(9),d()()()),2&n){const e=t.$implicit;f(2),A("routerLink","/players/",null==e?null:e.creatorid,""),f(2),F(null==e?null:e.creator),f(2),A("routerLink","/decklist/",e.id,""),f(1),F(null==e?null:e.name),f(2),F(null==e?null:e.description)}}let ZH=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getDecklists().subscribe(e=>{this.decklists=e,console.log(this.decklists)})}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"Public Decklists"),d(),u(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),h(7,"Creator"),d(),u(8,"th",3),h(9,"Decklist"),d(),u(10,"th",3),h(11,"Description"),d()()(),b(12,JH,10,5,"tbody",4),d()()),2&e&&(f(12),v("ngForOf",r.decklists))},directives:[we,Xn],styles:[""]}),n})();function e7(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",5),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function t7(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function n7(n,t){if(1&n&&(u(0,"p"),D(1,"img",6),h(2),D(3,"img",7),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function r7(n,t){if(1&n&&(u(0,"span"),D(1,"img",6),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function i7(n,t){if(1&n&&(u(0,"p"),D(1,"img",5),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function s7(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function o7(n,t){if(1&n&&(u(0,"div",3)(1,"p")(2,"b"),h(3),b(4,e7,4,2,"span",4),b(5,t7,2,1,"span",4),d()(),u(6,"b"),b(7,n7,5,3,"p",4),d(),b(8,r7,3,2,"span",4),u(9,"b"),b(10,i7,3,2,"p",4),b(11,s7,2,2,"p",4),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function a7(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",10),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function l7(n,t){if(1&n&&(u(0,"span"),b(1,a7,2,1,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","Banned"==e.tag)}}function c7(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",10),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function u7(n,t){if(1&n&&(u(0,"span"),b(1,c7,2,1,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","Limited"==e.tag)}}function d7(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",10),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function p7(n,t){if(1&n&&(u(0,"span"),b(1,d7,2,1,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","Semi-Limited"==e.tag)}}let h7=(()=>{class n{constructor(e,r){this.customcardsService=e,this._router=r,this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.customcardsService.getBanlist().subscribe(e=>{this.cards=e})}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-banlist"]],decls:13,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["class","btn btn-default",3,"mouseenter","mouseleave","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","click"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(b(0,o7,16,13,"div",0),u(1,"div",1)(2,"h1"),h(3,"Banlist"),d(),u(4,"h2"),h(5,"Banned"),d(),b(6,l7,2,1,"span",2),u(7,"h2"),h(8,"Limited"),d(),b(9,u7,2,1,"span",2),u(10,"h2"),h(11,"Semi-Limited"),d(),b(12,p7,2,1,"span",2),d()),2&e&&(v("ngIf",!0===r.isHovering),f(6),v("ngForOf",r.cards),f(3),v("ngForOf",r.cards),f(3),v("ngForOf",r.cards))},directives:[ve,we],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}"]}),n})(),f7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["app-articles"]],decls:17,vars:0,consts:[[1,"container","center"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"Recent Articles"),d(),u(3,"h1"),h(4,"Deck Profiles"),d(),u(5,"h2"),h(6,"Tri-Types"),d(),u(7,"h2"),h(8,"Water Fusion Rituals"),d(),u(9,"h2"),h(10,"Pyros"),d(),u(11,"h2"),h(12,"Dark Scorpions"),d(),u(13,"h2"),h(14,"Magnet Warriors"),d(),u(15,"h2"),h(16,"Crystal Beasts"),d()())},styles:[""]}),n})();function m7(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",12),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function g7(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function _7(n,t){if(1&n&&(u(0,"p"),D(1,"img",13),h(2),D(3,"img",14),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function v7(n,t){if(1&n&&(u(0,"span"),D(1,"img",13),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function y7(n,t){if(1&n&&(u(0,"p"),D(1,"img",12),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function C7(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function b7(n,t){if(1&n&&(u(0,"div",10)(1,"p")(2,"b"),h(3),b(4,m7,4,2,"span",11),b(5,g7,2,1,"span",11),d()(),u(6,"b"),b(7,_7,5,3,"p",11),d(),b(8,v7,3,2,"span",11),u(9,"b"),b(10,y7,3,2,"p",11),b(11,C7,2,2,"p",11),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function k7(n,t){if(1&n&&(u(0,"option",15),h(1),d()),2&n){const e=t.$implicit;W("value",e.id),f(1),F(e.title)}}function D7(n,t){if(1&n&&(u(0,"div",19),D(1,"img",20),u(2,"div",21),h(3),d()()),2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function T7(n,t){1&n&&D(0,"img",26)}function w7(n,t){1&n&&D(0,"img",27)}function S7(n,t){1&n&&D(0,"img",28)}function x7(n,t){if(1&n&&(u(0,"div",22),b(1,T7,1,0,"img",23),b(2,w7,1,0,"img",24),b(3,S7,1,0,"img",25),D(4,"img",20),u(5,"div",21),h(6),d()()),2&n){const e=C().$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),v("ngIf","super"==e.rarity),f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function M7(n,t){if(1&n){const e=B();u(0,"span")(1,"button",16),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()}),b(2,D7,4,2,"div",17),b(3,x7,7,5,"div",18),d()()}if(2&n){const e=t.$implicit;f(2),v("ngIf","common"==e.rarity),f(1),v("ngIf","common"!=e.rarity)}}let E7=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.binders=[],this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getBindersByOwner(this.creatorid).subscribe(r=>{r&&(this.binders=r,console.log(this.binders))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}selectBinder(){this.customcardsService.getCardsByBinderID(this.binderID).subscribe(e=>{e&&(this.cards=e,console.log(this.cards))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-binders"]],decls:15,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[1,"row"],[1,"col","justify-content-between"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(b(0,b7,16,13,"div",0),u(1,"h1",1),h(2,"Card Binder Management"),d(),u(3,"h2",1),h(4,"Your Binders"),d(),u(5,"div",2)(6,"span",3),h(7,"Binder: "),d(),u(8,"select",4),T("ngModelChange",function(s){return r.binderID=s}),b(9,k7,2,2,"option",5),d(),u(10,"button",6),T("click",function(){return r.selectBinder()}),h(11,"Select Binder"),d()(),u(12,"div",7)(13,"div",8),b(14,M7,4,2,"span",9),d()()),2&e&&(v("ngIf",!0===r.isHovering),f(8),v("ngModel",r.binderID),f(1),v("ngForOf",r.binders),f(5),v("ngForOf",r.cards))},directives:[ve,An,Ct,En,we,br,kr],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-100%)}to{transform:translate(80%)}}']}),n})();function I7(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",16),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function P7(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function A7(n,t){if(1&n&&(u(0,"p"),D(1,"img",17),h(2),D(3,"img",18),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function O7(n,t){if(1&n&&(u(0,"span"),D(1,"img",17),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function N7(n,t){if(1&n&&(u(0,"p"),D(1,"img",16),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function R7(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function F7(n,t){if(1&n&&(u(0,"div",14)(1,"p")(2,"b"),h(3),b(4,I7,4,2,"span",15),b(5,P7,2,1,"span",15),d()(),u(6,"b"),b(7,A7,5,3,"p",15),d(),b(8,O7,3,2,"span",15),u(9,"b"),b(10,N7,3,2,"p",15),b(11,R7,2,2,"p",15),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function L7(n,t){if(1&n&&(u(0,"div",29),D(1,"img",30),d()),2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function B7(n,t){1&n&&D(0,"img",35)}function V7(n,t){1&n&&D(0,"img",36)}function H7(n,t){1&n&&D(0,"img",37)}function z7(n,t){if(1&n&&(u(0,"div",31),b(1,B7,1,0,"img",32),b(2,V7,1,0,"img",33),b(3,H7,1,0,"img",34),D(4,"img",30),d()),2&n){const e=C().$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),v("ngIf","super"==e.rarity),f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function $7(n,t){if(1&n&&(u(0,"span")(1,"b"),h(2),d()()),2&n){const e=C().$implicit;f(2),F(null==e?null:e.rarity)}}function U7(n,t){if(1&n&&(u(0,"span",38)(1,"b"),h(2),d()()),2&n){const e=C().$implicit;f(2),F(null==e?null:e.rarity)}}function j7(n,t){if(1&n&&(u(0,"span",39)(1,"b"),h(2),d()()),2&n){const e=C().$implicit;f(2),F(null==e?null:e.rarity)}}function W7(n,t){if(1&n&&(u(0,"span",40)(1,"b"),h(2),d()()),2&n){const e=C().$implicit;f(2),F(null==e?null:e.rarity)}}function q7(n,t){if(1&n&&(u(0,"span",41)(1,"b"),h(2),d()()),2&n){const e=C().$implicit;f(2),F(null==e?null:e.rarity)}}function G7(n,t){if(1&n){const e=B();u(0,"span")(1,"button",19),T("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),u(2,"div",20),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()}),u(3,"div",21),D(4,"img",22),d(),b(5,L7,2,1,"div",23),b(6,z7,5,4,"div",24),d(),b(7,$7,3,1,"span",15),b(8,U7,3,1,"span",25),b(9,j7,3,1,"span",26),b(10,W7,3,1,"span",27),b(11,q7,3,1,"span",28),d()()}if(2&n){const e=t.$implicit,r=C();f(2),v("@cardFlip",r.state),f(3),v("ngIf","common"==e.rarity),f(1),v("ngIf","common"!=e.rarity),f(1),v("ngIf",1==r.revealed&&"common"==e.rarity),f(1),v("ngIf",1==r.revealed&&"rare"==e.rarity),f(1),v("ngIf",1==r.revealed&&"super"==e.rarity),f(1),v("ngIf",1==r.revealed&&"ultra"==e.rarity),f(1),v("ngIf",1==r.revealed&&"secret"==e.rarity)}}function K7(n,t){if(1&n){const e=B();u(0,"button",9),T("click",function(){return M(e),C().revealCards()}),h(1),d()}if(2&n){const e=C();v("disabled",1==e.finishedPacks||1==e.revealed),f(1),Fe("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function Q7(n,t){if(1&n){const e=B();u(0,"button",9),T("click",function(){return M(e),C().revealDraftCards()}),h(1),d()}if(2&n){const e=C();v("disabled",1==e.finishedPacks||1==e.revealed),f(1),Fe("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function X7(n,t){if(1&n&&(u(0,"option",44),h(1),d()),2&n){const e=t.$implicit;W("value",e.id),f(1),F(e.title)}}function Y7(n,t){if(1&n){const e=B();u(0,"select",42),T("ngModelChange",function(i){return M(e),C().binderID=i}),b(1,X7,2,2,"option",43),d()}if(2&n){const e=C();v("ngModel",e.binderID),f(1),v("ngForOf",e.binders)}}function J7(n,t){if(1&n){const e=B();u(0,"button",9),T("click",function(){return M(e),C().addToBinder()}),h(1,"Save to binder"),d()}if(2&n){const e=C();v("disabled",0==e.finishedPacks||0==e.revealed)}}function Z7(n,t){1&n&&(u(0,"div")(1,"p",52),h(2,"Give Binder name"),d()())}function e9(n,t){if(1&n&&(u(0,"div",51),b(1,Z7,3,0,"div",15),d()),2&n){const e=C(2);f(1),v("ngIf",e.f.binderName.errors.required)}}const t9=function(n){return{"is-invalid":n}};function n9(n,t){if(1&n){const e=B();u(0,"form",45),T("ngSubmit",function(){return M(e),C().submitBinder()}),u(1,"div",2)(2,"div",46)(3,"label",47),h(4,"Binder Name"),d(),u(5,"input",48),T("ngModelChange",function(i){return M(e),C().binderName=i}),d(),b(6,e9,2,1,"div",49),d()(),u(7,"button",50),h(8,"Save new binder"),d()()}if(2&n){const e=C();v("formGroup",e.binderData),f(5),v("ngClass",Xe(5,t9,e.submitted&&e.f.binderName.errors))("ngModel",e.binderName),f(1),v("ngIf",e.submitted&&e.f.binderName.errors),f(1),v("disabled",0==e.finishedPacks||0==e.revealed)}}function r9(n,t){if(1&n&&(u(0,"p"),D(1,"img",17),h(2),D(3,"img",18),h(4),d()),2&n){const e=C(2);f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," "),f(2),I(" ",null==e.card?null:e.card.level," ")}}function i9(n,t){if(1&n&&(u(0,"p"),D(1,"img",17),h(2),d()),2&n){const e=C(2);f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," ")}}function s9(n,t){if(1&n&&(u(0,"h4"),D(1,"img",16),h(2),d()),2&n){const e=C(2);f(1),W("src",e.stType,P),f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function o9(n,t){if(1&n&&(u(0,"h4"),h(1),d()),2&n){const e=C(2);f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function a9(n,t){if(1&n&&(u(0,"p"),D(1,"img",16),h(2),d()),2&n){const e=C(2);f(1),W("src",e.mType,P),f(1),I(" ",null==e.card?null:e.card.type,"")}}function l9(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function c9(n,t){if(1&n&&(u(0,"div",4)(1,"div",53),D(2,"img",54),d(),u(3,"div",55)(4,"b"),b(5,r9,5,3,"p",15),d(),b(6,i9,3,2,"p",15),u(7,"h3"),h(8),d(),b(9,s9,3,2,"h4",15),b(10,o9,2,1,"h4",15),u(11,"b"),b(12,a9,3,2,"p",15),b(13,l9,2,2,"p",15),u(14,"p"),h(15),d()()()()),2&n){const e=C();f(2),A("routerLink","/cards/",e.card.id,"")("src","https://drive.google.com/uc?export=view&id=",null==e.card?null:e.card.drive_id,"",P),f(3),v("ngIf","True"==e.monster),f(1),v("ngIf","False"==e.monster),f(2),F(null==e.card?null:e.card.name),f(1),v("ngIf","False"==e.monster),f(1),v("ngIf","True"==e.monster),f(2),v("ngIf","True"==e.monster),f(1),v("ngIf","True"==e.monster),f(2),I(" ",null==e.card?null:e.card.effect,"")}}function u9(n,t){if(1&n){const e=B();u(0,"span")(1,"img",56),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)}),d()()}if(2&n){const e=t.$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function d9(n,t){if(1&n&&(u(0,"ul")(1,"li")(2,"b"),h(3),d(),h(4),u(5,"b"),h(6),d()()()),2&n){const e=t.$implicit;f(3),F(null==e?null:e.name),f(1),I(", ",null==e?null:e.cardtype,", "),f(2),F(null==e?null:e.creator)}}let p9=(()=>{class n{constructor(e,r,i,s){this.authService=e,this.customcardsService=r,this.route=i,this.router=s,this.randomCards=[],this.commonCards=[],this.rareCards=[],this.superCards=[],this.ultraCards=[],this.secretCards=[],this.packsOpened=0,this.packAmount=0,this.cardsRemaining=9,this.currentOpened=[],this.openedPack=[],this.revealed=!1,this.state="default",this.submitted=!1,this.submitfail=!1,this.sealedmode=!1,this.binders=[],this.binderData=new Pt({binderName:new ke(" ",[q.required,q.minLength(5),q.maxLength(100)])}),this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.finishedPacks=!1}ngOnChanges(e){console.log(e),this.queueNextPack()}get f(){return this.binderData.controls}rotate(){this.state="default"===this.state?"flipped":"default"}queueNextPack(){var e;this.currentPack=this.packQueue[0],this.packQueue=this.packQueue.slice(1),console.log(this.packQueue);let r=null===(e=this.currentPack)||void 0===e?void 0:e.packid;this.packID=r,ad(this.customcardsService.getPackInfoByID(this.packID),this.customcardsService.getCustomCardsByPack(this.packID)).subscribe(([i,s])=>{if(this.packInfo=i,this.cards=s,this.secretCards=[],this.ultraCards=[],this.superCards=[],this.rareCards=[],this.commonCards=[],"small"==this.packInfo.packsize){this.cardsRemaining=3;let o=0;for(;2!=o;o++)this.ultraCards.push(this.cards[o]);for(;6!=o;o++)this.superCards.push(this.cards[o]);for(;7!=o;o++)this.secretCards.push(this.cards[o]);for(;16!=o;o++)this.rareCards.push(this.cards[o]);for(;31!=o;o++)this.commonCards.push(this.cards[o])}if("medium"==this.packInfo.packsize){this.cardsRemaining=9;let o=0;for(;10!=o;o++)this.ultraCards.push(this.cards[o]);for(;25!=o;o++)this.superCards.push(this.cards[o]);for(;27!=o;o++)this.secretCards.push(this.cards[o]);for(;52!=o;o++)this.rareCards.push(this.cards[o]);for(;100!=o;o++)this.commonCards.push(this.cards[o])}if("large"==this.packInfo.packsize){this.cardsRemaining=13;let o=0;for(;14!=o;o++)this.ultraCards.push(this.cards[o]);for(;34!=o;o++)this.superCards.push(this.cards[o]);for(;40!=o;o++)this.secretCards.push(this.cards[o]);for(;100!=o;o++)this.rareCards.push(this.cards[o]);for(;200!=o;o++)this.commonCards.push(this.cards[o])}this.shuffleCards()}),this.packAmount=this.currentPack.amount}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.sealedmode=this.customcardsService.getSealedDraftMode(),0==this.sealedmode&&this.customcardsService.getBindersByOwner(this.id).subscribe(r=>{this.binders=r})}),console.log(this.cards)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;for(;e<this.cardsRemaining;){if(e<this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.commonCards.length-1);let i=this.commonCards[r];for(;this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.commonCards.length-1);i=this.commonCards[s]}this.randomCards.push(i)}if(e==this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.rareCards.length-1);this.randomCards.push(this.rareCards[r])}if(e==this.cardsRemaining-1){const r=this.randomIntFromInterval(0,5),i=this.randomIntFromInterval(0,11),s=this.randomIntFromInterval(0,30),o=this.randomIntFromInterval(0,this.commonCards.length-1);let a=this.commonCards[o];for(;this.randomCards.findIndex(l=>l.id===(null==a?void 0:a.id))>-1;){const l=this.randomIntFromInterval(0,this.commonCards.length-1);a=this.commonCards[l]}if(console.log(r,i,s),0==r){const l=this.randomIntFromInterval(0,this.superCards.length-1);a=this.superCards[l]}if(0==i){const l=this.randomIntFromInterval(0,this.ultraCards.length-1);a=this.ultraCards[l]}if(0==s){const l=this.randomIntFromInterval(0,this.secretCards.length-1);a=this.secretCards[l]}this.randomCards.push(a)}e++}this.packsOpened++,console.log(this.randomCards)}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.authService.subtractCurrency(this.currentPack.cost),this.addPackToCollection(),this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}openNextPack(){this.revealed=!1,this.openedPack=[],this.packsOpened==this.packAmount?(this.packsOpened=0,this.queueNextPack()):(this.rotate(),this.shuffleCards(),this.card=void 0)}revealDraftCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if("default"!=this.state)if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}submitBinder(){if(this.submitted=!0,this.binderData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");const e={};e.title=this.binderData.controls.binderName.value,e.creatorid=this.id,e.cards=this.currentOpened,e.packid=this.packID,this.customcardsService.submitBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}addPackToCollection(){const e={};e.cards=this.openedPack,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToCollection(e).subscribe(r=>{console.log(r)},r=>{console.log(r)})}addToBinder(){const e={};e.cards=this.currentOpened,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(Sn),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-pack-opener"]],inputs:{packQueue:"packQueue"},features:[Qt],decls:27,vars:12,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"text-center"],[1,"row","justify-content-center"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],[1,"container"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],["aria-label","Default select example",3,"ngModel","ngModelChange",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click"],[1,"card",3,"click","mouseenter","mouseleave"],[1,"face","back"],["src","assets/cardimages/Default.png"],["class","face front",4,"ngIf"],["class","face front rare-card",4,"ngIf"],["style","color:blue;",4,"ngIf"],["style","color:orangered;",4,"ngIf"],["style","color:red;",4,"ngIf"],["style","color:purple;",4,"ngIf"],[1,"face","front"],[3,"src"],[1,"face","front","rare-card"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"sparkle"],[2,"color","blue"],[2,"color","orangered"],[2,"color","red"],[2,"color","purple"],["aria-label","Default select example",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","binderName","formControlName","binderName","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-success",3,"disabled"],[1,"invalid-feedback"],[1,"red"],[1,"col-sm-2"],["href","",1,"bigcard",3,"routerLink","src"],[1,"col-md-4","cardeffect"],["href","",1,"smallcard",3,"src","click"]],template:function(e,r){1&e&&(b(0,F7,16,13,"div",0),u(1,"div",1)(2,"div",2)(3,"h1",3),h(4),d()(),u(5,"div",4)(6,"div",5)(7,"div"),b(8,G7,12,8,"span",6),d()()(),u(9,"div",7),b(10,K7,2,3,"button",8),b(11,Q7,2,3,"button",8),u(12,"button",9),T("click",function(){return r.openNextPack()}),h(13,"Open Next Pack"),d(),b(14,Y7,2,2,"select",10),b(15,J7,2,1,"button",8),d(),u(16,"div",7),b(17,n9,9,7,"form",11),d(),b(18,c9,16,10,"div",12),u(19,"div",13)(20,"h2"),h(21,"Current Cards"),d(),b(22,u9,2,1,"span",6),d(),u(23,"div",13)(24,"h2"),h(25,"Card List"),d(),b(26,d9,7,3,"ul",6),d()()),2&e&&(v("ngIf",!0===r.isHovering),f(4),F(r.currentPack.title),f(4),v("ngForOf",r.randomCards),f(2),v("ngIf",0==r.sealedmode),f(1),v("ngIf",1==r.sealedmode),f(1),v("disabled",1==r.finishedPacks||0==r.revealed),f(2),v("ngIf",r.binders.length>0&&0==r.sealedmode),f(1),v("ngIf",r.binders.length>0&&0==r.sealedmode),f(2),v("ngIf",0==r.sealedmode),f(1),v("ngIf",null!=r.card),f(4),v("ngForOf",r.currentOpened),f(4),v("ngForOf",r.currentOpened))},directives:[ve,we,An,Ct,En,br,kr,In,Mn,dn,It,Pn,tn,xn],styles:['.bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.sparkle[_ngcontent-%COMP%]{position:absolute}.rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;width:75%;height:100%;position:absolute;z-index:1;animation:slide 1.5s infinite 1s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-170%)}to{transform:translate(-20%)}}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:200px}'],data:{animation:[yd("cardFlip",[Ui("default",zr({transform:"none"})),Ui("flipped",zr({transform:"rotateY(180deg)"})),ji("default => flipped",[$i("400ms")]),ji("flipped => default",[$i("0ms")])])]}}),n})();const h9=["packtracker"];function f9(n,t){if(1&n&&D(0,"img",11),2&n){const e=C().$implicit;A("routerLink","/packs/",e.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",P)}}function m9(n,t){1&n&&D(0,"img",12),2&n&&A("routerLink","/packs/",C().$implicit.packid,"")}function g9(n,t){if(1&n){const e=B();u(0,"p"),h(1),u(2,"select",13),T("ngModelChange",function(i){M(e);const s=C().$implicit;return C(2).queuePack(s,i)}),u(3,"option",14),h(4,"0"),d(),u(5,"option",15),h(6,"1"),d(),u(7,"option",16),h(8,"2"),d(),u(9,"option",17),h(10,"3"),d(),u(11,"option",18),h(12,"4"),d(),u(13,"option",19),h(14,"5"),d(),u(15,"option",20),h(16,"6"),d(),u(17,"option",21),h(18,"7"),d(),u(19,"option",22),h(20,"8"),d(),u(21,"option",23),h(22,"9"),d(),u(23,"option",24),h(24,"10"),d(),u(25,"option",25),h(26,"12"),d(),u(27,"option",26),h(28,"15"),d(),u(29,"option",27),h(30,"24"),d(),u(31,"option",28),h(32,"30"),d()()()}if(2&n){const e=C().$implicit,r=C(2);f(1),I("Cost: ",e.cost,""),f(1),v("ngModel",r.chosenPack)}}function _9(n,t){if(1&n){const e=B();u(0,"p"),h(1,"Amount:"),u(2,"select",13),T("ngModelChange",function(i){M(e);const s=C().$implicit;return C(2).queuePack(s,i)}),u(3,"option",14),h(4,"0"),d(),u(5,"option",15),h(6,"1"),d(),u(7,"option",16),h(8,"2"),d(),u(9,"option",17),h(10,"3"),d(),u(11,"option",18),h(12,"4"),d(),u(13,"option",19),h(14,"5"),d(),u(15,"option",20),h(16,"6"),d(),u(17,"option",21),h(18,"7"),d(),u(19,"option",22),h(20,"8"),d(),u(21,"option",23),h(22,"9"),d(),u(23,"option",24),h(24,"10"),d(),u(25,"option",25),h(26,"12"),d(),u(27,"option",26),h(28,"15"),d(),u(29,"option",27),h(30,"24"),d(),u(31,"option",28),h(32,"30"),d()()()}if(2&n){const e=C(3);f(2),v("ngModel",e.chosenPack)}}function v9(n,t){if(1&n&&(u(0,"div",7),b(1,f9,1,2,"img",8),b(2,m9,1,1,"img",9),b(3,g9,33,2,"p",10),b(4,_9,33,1,"p",10),d()),2&n){const e=t.$implicit,r=C(2);f(1),v("ngIf","placeholder"!=e.pack),f(1),v("ngIf","placeholder"==e.pack),f(1),v("ngIf",0==r.sealedmode),f(1),v("ngIf",1==r.sealedmode)}}function y9(n,t){1&n&&(u(0,"span"),h(1,">>"),d())}function C9(n,t){1&n&&(u(0,"span"),h(1," << "),d())}function b9(n,t){if(1&n&&(u(0,"p",36),h(1),d()),2&n){const e=C().$implicit;f(1),Fe("",e.title," x",e.amount,"")}}function k9(n,t){if(1&n&&(u(0,"div"),b(1,b9,2,2,"p",35),d()),2&n){const e=t.$implicit;f(1),v("ngIf",null!=e)}}function D9(n,t){if(1&n){const e=B();u(0,"div",29,30)(2,"button",31),T("click",function(){return M(e),C(2).minimizePackTracker()}),b(3,y9,2,0,"span",10),b(4,C9,2,0,"span",10),d(),u(5,"p"),h(6,"Packs Selected"),d(),b(7,k9,2,1,"div",32),u(8,"p",33),h(9),d(),u(10,"button",34),T("click",function(){return M(e),C(2).openPack()}),h(11,"Open Packs"),d()()}if(2&n){const e=C(2);v("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),f(3),v("ngIf",e.maximized),f(1),v("ngIf",!e.maximized),f(3),v("ngForOf",e.packTrackerArray),f(2),I("Total Cost: ",e.totalCost,""),f(1),v("disabled",0==e.packLength||e.totalCost>e.currency||0==e.totalCost)}}function T9(n,t){1&n&&(u(0,"span"),h(1,">>"),d())}function w9(n,t){1&n&&(u(0,"span"),h(1," << "),d())}function S9(n,t){if(1&n&&(u(0,"p",36),h(1),d()),2&n){const e=C().$implicit;f(1),Fe("",e.title," x",e.amount,"")}}function x9(n,t){if(1&n&&(u(0,"div"),b(1,S9,2,2,"p",35),d()),2&n){const e=t.$implicit;f(1),v("ngIf",null!=e)}}function M9(n,t){if(1&n){const e=B();u(0,"div",29,30)(2,"button",31),T("click",function(){return M(e),C(2).minimizePackTracker()}),b(3,T9,2,0,"span",10),b(4,w9,2,0,"span",10),d(),u(5,"p"),h(6,"Packs Selected"),d(),b(7,x9,2,1,"div",32),u(8,"button",34),T("click",function(){return M(e),C(2).openPack()}),h(9,"Open Packs"),d()()}if(2&n){const e=C(2);v("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),f(3),v("ngIf",e.maximized),f(1),v("ngIf",!e.maximized),f(3),v("ngForOf",e.packTrackerArray),f(1),v("disabled",0==e.packLength)}}function E9(n,t){if(1&n&&(u(0,"div",3)(1,"div",4),b(2,v9,5,4,"div",5),d(),b(3,D9,12,6,"div",6),b(4,M9,10,5,"div",6),d()),2&n){const e=C();f(2),v("ngForOf",e.packs),f(1),v("ngIf",0==e.sealedmode),f(1),v("ngIf",1==e.sealedmode)}}function I9(n,t){1&n&&D(0,"app-pack-opener",37),2&n&&v("packQueue",C().packTrackerArray)}let P9=(()=>{class n{constructor(e,r,i){this.router=e,this._authService=r,this.customcardsService=i,this.openingPacks=!1,this.packLength=0,this.maximized=!0,this.packs=[],this.packSelected=!1,this.packAmount=0,this.packsSelected=new Map,this.packTrackerArray=[],this.totalCost=0,this.sealedmode=!1}queuePack(e,r){let i={packid:e.packid,title:e.title,cost:e.cost,amount:r};const s=this.packTrackerArray.findIndex(o=>o.packid===(null==i?void 0:i.packid));if(s>-1)console.log("im in index "+s),0==i.amount?(this.packTrackerArray.splice(s,1),this.packLength--):this.packTrackerArray[s].amount=i.amount;else{if(0==i.amount)return;console.log("im in else"),this.packTrackerArray.push(i)}this.packLength++,this.totalCost=0;for(let o in this.packTrackerArray)this.totalCost+=this.packTrackerArray[o].cost*this.packTrackerArray[o].amount}ngOnInit(){this.sealedmode=this.customcardsService.getSealedDraftMode(),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}SetPackNo(e,r){this.packSelected=!0,this.packAmount=e,this.customcardsService.SetPackNo(e,r)}openPack(){this.customcardsService.setPackQueue(this.packTrackerArray),this.openingPacks=!0}minimizePackTracker(){this.maximized=!this.maximized}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-packs"]],viewQuery:function(e,r){if(1&e&&mu(h9,5,_t),2&e){let i;Yo(i=Jo())&&(r.packtracker=i.first)}},decls:4,vars:2,consts:[[1,"selectedPacks"],["class","container justify-content-center",4,"ngIf"],[3,"packQueue",4,"ngIf"],[1,"container","justify-content-center"],[1,"row","align-items-center"],["class","col",4,"ngFor","ngForOf"],["class","packtracker ",3,"ngClass",4,"ngIf"],[1,"col"],["routerLinkActive","active","class","pack",3,"routerLink","src",4,"ngIf"],["routerLinkActive","active","class","pack","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",3,"routerLink",4,"ngIf"],[4,"ngIf"],["routerLinkActive","active",1,"pack",3,"routerLink","src"],["routerLinkActive","active","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack",3,"routerLink"],["id","attribute",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","12"],["value","15"],["value","24"],["value","30"],[1,"packtracker",3,"ngClass"],["packtracker",""],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"tinytext","bottom-1"],[1,"btn","position-fixed","bottom-0",3,"disabled","click"],["class","tinytext",4,"ngIf"],[1,"tinytext"],[3,"packQueue"]],template:function(e,r){1&e&&(u(0,"div",0),h(1,"Test"),d(),b(2,E9,5,3,"div",1),b(3,I9,1,1,"app-pack-opener",2)),2&e&&(f(2),v("ngIf",0==r.openingPacks),f(1),v("ngIf",1==r.openingPacks))},directives:[ve,we,sd,xn,An,Ct,En,br,kr,tn,p9],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.sidepush[_ngcontent-%COMP%]{left:95%}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:#04713fe6;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function A9(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",140),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function O9(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function N9(n,t){if(1&n&&(u(0,"p"),D(1,"img",141),h(2),D(3,"img",142),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function R9(n,t){if(1&n&&(u(0,"span"),D(1,"img",141),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function F9(n,t){if(1&n&&(u(0,"p"),D(1,"img",140),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function L9(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function B9(n,t){if(1&n&&(u(0,"div",138)(1,"p")(2,"b"),h(3),b(4,A9,4,2,"span",139),b(5,O9,2,1,"span",139),d()(),u(6,"b"),b(7,N9,5,3,"p",139),d(),b(8,R9,3,2,"span",139),u(9,"b"),b(10,F9,3,2,"p",139),b(11,L9,2,2,"p",139),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function V9(n,t){1&n&&(u(0,"div")(1,"p",144),h(2,"Umm Draft Title required idiot."),d()())}function H9(n,t){if(1&n&&(u(0,"div",143),b(1,V9,3,0,"div",139),d()),2&n){const e=C();f(1),v("ngIf",e.f.draftTitle.errors.required)}}function z9(n,t){1&n&&(u(0,"div")(1,"p",144),h(2,"Umm Discord Tag required idiot."),d()())}function $9(n,t){if(1&n&&(u(0,"div",143),b(1,z9,3,0,"div",139),d()),2&n){const e=C();f(1),v("ngIf",e.f.discordname.errors.required)}}function U9(n,t){1&n&&(u(0,"div")(1,"p",144),h(2,"You need to input a value of at LEAST 100"),d()())}function j9(n,t){if(1&n&&(u(0,"div",143),b(1,U9,3,0,"div",139),d()),2&n){const e=C();f(1),v("ngIf",e.f.cost.errors.cost)}}function W9(n,t){1&n&&D(0,"option",20)}function q9(n,t){1&n&&(u(0,"option",145),h(1,"Effect"),d())}function G9(n,t){1&n&&(u(0,"option",146),h(1,"Flip"),d())}function K9(n,t){1&n&&(u(0,"option",147),h(1,"Fusion"),d())}function Q9(n,t){1&n&&(u(0,"option",148),h(1,"Ritual"),d())}function X9(n,t){1&n&&(u(0,"option",149),h(1,"Union"),d())}function Y9(n,t){1&n&&(u(0,"option",150),h(1,"Xyz"),d())}function J9(n,t){1&n&&(u(0,"option",151),h(1,"Synchro Monster"),d())}function Z9(n,t){1&n&&D(0,"option",20)}function ez(n,t){1&n&&(u(0,"option",152),h(1,"Normal"),d())}function tz(n,t){1&n&&(u(0,"option",153),h(1,"Continuous"),d())}function nz(n,t){1&n&&(u(0,"option",154),h(1,"Quick"),d())}function rz(n,t){1&n&&(u(0,"option",155),h(1,"Ritual"),d())}function iz(n,t){1&n&&(u(0,"option",156),h(1,"Equip"),d())}function sz(n,t){1&n&&(u(0,"option",157),h(1,"Field"),d())}function oz(n,t){1&n&&D(0,"option",20)}function az(n,t){1&n&&(u(0,"option",158),h(1,"Normal"),d())}function lz(n,t){1&n&&(u(0,"option",159),h(1,"Continuous"),d())}function cz(n,t){1&n&&(u(0,"option",160),h(1,"Counter"),d())}function uz(n,t){1&n&&(u(0,"option",161),h(1,"Level ASC"),d())}function dz(n,t){1&n&&(u(0,"option",162),h(1,"Level DESC"),d())}function pz(n,t){1&n&&(u(0,"option",163),h(1,"ATK ASC"),d())}function hz(n,t){1&n&&(u(0,"option",164),h(1,"ATK DESC"),d())}function fz(n,t){1&n&&(u(0,"option",165),h(1,"DEF ASC"),d())}function mz(n,t){1&n&&(u(0,"option",166),h(1,"DEF DESC"),d())}function gz(n,t){if(1&n){const e=B();u(0,"span")(1,"button",167),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightAddPackCard(i,o)})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _z(n,t){if(1&n){const e=B();u(0,"span")(1,"button",169),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o,"common")})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function vz(n,t){if(1&n){const e=B();u(0,"span")(1,"button",169),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o,"rare")})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function yz(n,t){if(1&n){const e=B();u(0,"span")(1,"button",169),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o,"super")})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function Cz(n,t){if(1&n){const e=B();u(0,"span")(1,"button",169),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o,"ultra")})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function bz(n,t){if(1&n){const e=B();u(0,"span")(1,"button",169),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o,"secret")})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",168),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function kz(n,t){if(1&n){const e=B();u(0,"button",3),T("click",function(){return M(e),C().saveDraft()}),h(1,"Save Pack"),d()}}function Dz(n,t){if(1&n&&(u(0,"li"),h(1),d()),2&n){const e=C(2);f(1),I("Not enough commons!(",e.currentCommons.length,"/48)")}}function Tz(n,t){if(1&n&&(u(0,"li"),h(1),d()),2&n){const e=C(2);f(1),I("Not enough rares!(",e.currentRare.length,"/25)")}}function wz(n,t){if(1&n&&(u(0,"li"),h(1),d()),2&n){const e=C(2);f(1),I("Not enough supers!(",e.currentSuper.length,"/15)")}}function Sz(n,t){if(1&n&&(u(0,"li"),h(1),d()),2&n){const e=C(2);f(1),I("Not enough ultras!(",e.currentUltra.length,"/10)")}}function xz(n,t){if(1&n&&(u(0,"li"),h(1),d()),2&n){const e=C(2);f(1),I("Not enough secrets!(",e.currentSecret.length,"/2)")}}function Mz(n,t){if(1&n&&(u(0,"div",170),h(1," Submission failed! Fix the following errors: "),u(2,"ul"),b(3,Dz,2,1,"li",139),b(4,Tz,2,1,"li",139),b(5,wz,2,1,"li",139),b(6,Sz,2,1,"li",139),b(7,xz,2,1,"li",139),d()()),2&n){const e=C();f(3),v("ngIf",48!=e.currentCommons.length),f(1),v("ngIf",25!=e.currentRare.length),f(1),v("ngIf",15!=e.currentSuper.length),f(1),v("ngIf",10!=e.currentUltra.length),f(1),v("ngIf",2!=e.currentSecret.length)}}const Vd=function(n){return{"is-invalid":n}},Ez=function(){return[]};let Iz=(()=>{class n{constructor(e,r,i,s){this.http=e,this._authService=r,this.customcardsService=i,this._router=s,this.currentPage=1,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.packSize="medium",this.cost=50,this.rarity="common",this.draftData=new Pt({draftTitle:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)]),discordname:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)]),cost:new ke(50,[q.required,q.min(50)]),packImage:new ke(File)}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.fileChanged=!1}get f(){return this.draftData.controls}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingPack()?this.customcardsService.getEditPack()&&-1!=this.customcardsService.getEditPackID()&&(ad(this.customcardsService.getPackInfoByID(this.customcardsService.getEditPackID()),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID())).subscribe(([r,i])=>{if(this.packInfo=r,this.cards=i,this.packSize=this.packInfo.packsize,this.draftData.controls.draftTitle.setValue(this.packInfo.title),this.draftData.controls.discordname.setValue(this.packInfo.discordname),this.draftData.controls.cost.setValue(this.packInfo.cost),this.customcardsService.setProcessingPack(!0),"small"==this.packInfo.packsize){this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1,this.common=15,this.rare=9,this.super=4,this.ultra=2,this.secret=1;let s=0;for(;2!=s;s++)this.currentUltra.push(this.cards[s]);for(;6!=s;s++)this.currentSuper.push(this.cards[s]);for(;7!=s;s++)this.currentSecret.push(this.cards[s]);for(;16!=s;s++)this.currentRare.push(this.cards[s]);for(;31!=s;s++)this.currentCommons.push(this.cards[s])}if("medium"==this.packInfo.packsize){this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.common=48,this.rare=25,this.super=15,this.ultra=10,this.secret=2;let s=0;for(;10!=s;s++)this.currentUltra.push(this.cards[s]);for(;25!=s;s++)this.currentSuper.push(this.cards[s]);for(;27!=s;s++)this.currentSecret.push(this.cards[s]);for(;52!=s;s++)this.currentRare.push(this.cards[s]);for(;100!=s;s++)this.currentCommons.push(this.cards[s])}if("large"==this.packInfo.packsize){this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6,this.common=100,this.rare=60,this.super=20,this.ultra=14,this.secret=6;let s=0;for(;14!=s;s++)this.currentUltra.push(this.cards[s]);for(;34!=s;s++)this.currentSuper.push(this.cards[s]);for(;40!=s;s++)this.currentSecret.push(this.cards[s]);for(;100!=s;s++)this.currentRare.push(this.cards[s]);for(;200!=s;s++)this.currentCommons.push(this.cards[s])}}),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID()).subscribe(r=>{r&&(this.currentDraft=r,this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDraftName()))}),this.customcardsService.setProcessingPack(!0)):(this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}resetPack(e){console.log("Ah!"),this.packSize=e,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,"small"==e&&(console.log("smallfry"),this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1),"medium"==e&&(this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2),"large"==e&&(this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6)}addCard(e){const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.card)||void 0===s?void 0:s.id)});if(console.log(r),!(r>-1)&&null!=this.card)if("common"==e){if(this.common==this.maxCommon)return;this.currentCommons.push(this.card),this.currentDraft.push(this.card),this.common++}else if("rare"==e){if(this.rare==this.maxRare)return;this.currentRare.push(this.card),this.currentDraft.push(this.card),this.rare++}else if("super"==e){if(this.super==this.maxSuper)return;this.currentSuper.push(this.card),this.currentDraft.push(this.card),this.super++}else if("ultra"==e){if(this.ultra==this.maxUltra)return;this.currentUltra.push(this.card),this.currentDraft.push(this.card),this.ultra++}else if("secret"==e){if(this.secret==this.maxSecret)return;this.currentSecret.push(this.card),this.currentDraft.push(this.card),this.secret++}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(e){if(null!=this.draftCard){if(console.log(this.draftCard),console.log(e),"common"==e){const i=this.currentCommons.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentCommons.splice(i,1),this.common--)}else if("rare"==e){const i=this.currentRare.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentRare.splice(i,1),this.rare--)}else if("super"==e){const i=this.currentSuper.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSuper.splice(i,1),this.super--)}else if("ultra"==e){const i=this.currentUltra.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentUltra.splice(i,1),this.ultra--)}else if("secret"==e){const i=this.currentSecret.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSecret.splice(i,1),this.secret--)}const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.draftCard)||void 0===s?void 0:s.id)});r>-1&&this.currentDraft.splice(r,1),this.draftCard=void 0}}rightAddPackCard(e,r){e.preventDefault(),this.card=r,console.log(r.name),this.addCard(this.rarity)}autoSelect(e){this.rarity=e}saveDraft(){var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");if(this.currentCommons.length==this.maxCommon&&this.currentRare.length==this.maxRare&&this.currentSuper.length==this.maxSuper&&this.currentUltra.length==this.maxUltra&&this.currentSecret.length==this.maxSecret){if(this.done=!0,this.packInfo){const r={};r.packID=this.packInfo.id,r.title=this.draftData.controls.draftTitle.value,r.discordname=this.draftData.controls.discordname.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.packurl=this.packInfo.pack;const i=[],s=[],o=[],a=[],l=[];for(let c=0;c<=this.currentCommons.length-1;c++)i.push(this.currentCommons[c].id);for(let c=0;c<=this.currentRare.length-1;c++)s.push(this.currentRare[c].id);for(let c=0;c<=this.currentSuper.length-1;c++)o.push(this.currentSuper[c].id);for(let c=0;c<=this.currentUltra.length-1;c++)a.push(this.currentUltra[c].id);for(let c=0;c<=this.currentSecret.length-1;c++)l.push(this.currentSecret[c].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,this.fileChanged){const c=new FormData;c.append("thumbnail",this.file),c.append("name",r.title),this.customcardsService.uploadImage(c).subscribe(p=>{r.packurl=p,this.customcardsService.resubmitPack(r).subscribe(m=>{console.log(m),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},m=>{console.log(m)})},p=>{console.log(p)})}else this.customcardsService.resubmitPack(r).subscribe(c=>{console.log(c),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},c=>{console.log(c)})}else{const r={};r.title=this.draftData.controls.draftTitle.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.discordname=this.draftData.controls.discordname.value;const i=[],s=[],o=[],a=[],l=[];for(let c=0;c<=this.currentCommons.length-1;c++)i.push(this.currentCommons[c].id);for(let c=0;c<=this.currentRare.length-1;c++)s.push(this.currentRare[c].id);for(let c=0;c<=this.currentSuper.length-1;c++)o.push(this.currentSuper[c].id);for(let c=0;c<=this.currentUltra.length-1;c++)a.push(this.currentUltra[c].id);for(let c=0;c<=this.currentSecret.length-1;c++)l.push(this.currentSecret[c].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,r.packurl="placeholder",this.fileChanged){const c=new FormData;c.append("thumbnail",this.file),c.append("name",r.title),this.customcardsService.uploadImage(c).subscribe(p=>{r.packurl=p,this.customcardsService.submitPack(r).subscribe(m=>{console.log(m),this._router.navigate(["/packs"])},m=>{console.log(m)})},p=>{console.log(p)})}else this.customcardsService.submitPack(r).subscribe(c=>{console.log(c),this._router.navigate(["/packs"])},c=>{console.log(c)})}this.submitfail=!1}else this.submitfail=!0}rightDeleteDraftCard(e,r,i){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard(i)}onFileSelected(e){this.file=e.target.files[0],this.fileChanged=!0}}return n.\u0275fac=function(e){return new(e||n)(w(zu),w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-pack-maker"]],decls:326,vars:85,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],["type","button",1,"btn","btn-success","addcard",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","discordname"],["id","discordname","formControlName","discordname","type","text",1,"form-control",3,"ngClass"],["id","cost","formControlName","cost","type","text",1,"form-control",3,"ngClass"],["for","customFile",1,"form-label"],["id","packImage","formControlName","packImage","type","file",1,"form-control",3,"ngClass","change"],[1,"row",3,"keydown.enter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(b(0,B9,16,13,"div",0),u(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.resetPack("small")}),h(4,"Small"),d(),u(5,"button",3),T("click",function(){return r.resetPack("medium")}),h(6,"Medium"),d(),u(7,"button",3),T("click",function(){return r.resetPack("large")}),h(8,"Large"),d(),u(9,"h4")(10,"ul")(11,"li"),h(12,"Small: 31 Cards, 3 per pack (15 Common, 9 Rare, 4 Super, 2 Ultra, 1 Secret)"),d(),u(13,"li"),h(14,"Medium: 100 cards, 9 per pack (48 Common, 25 Rare, 15 Super, 10 Ultra, 2 Secret)"),d(),u(15,"li"),h(16,"Large: 200 cards, 13 per pack (100 Common, 60 Rare, 20 Super, 14 Ultra, 6 Secret)"),d(),u(17,"li"),h(18,"DISCLAIMER: Changing the pack size will remove ALL CARDS in your current pack. Be careful!"),d()()()(),u(19,"form",4),T("ngSubmit",function(){return r.saveDraft()}),u(20,"div",2)(21,"div",5)(22,"label",6),h(23,"Pack Name"),d(),D(24,"input",7),b(25,H9,2,1,"div",8),d(),u(26,"div",5)(27,"label",9),h(28,"Discord Name"),d(),D(29,"input",10),b(30,$9,2,1,"div",8),d(),u(31,"div",5)(32,"label",6),h(33,"Pack Cost"),d(),D(34,"input",11),b(35,j9,2,1,"div",8),d()(),u(36,"div",2)(37,"label",12),h(38,"Default file input example"),d(),u(39,"input",13),T("change",function(s){return r.onFileSelected(s)}),d()()(),u(40,"div",14),T("keydown.enter",function(){return r.submitSearch()}),u(41,"div",5)(42,"label",6),h(43,"Name"),d(),u(44,"input",15),T("ngModelChange",function(s){return r.filters.name=s}),d()(),u(45,"div",5)(46,"label",16),h(47,"Desc"),d(),u(48,"input",15),T("ngModelChange",function(s){return r.filters.desc=s}),d()(),u(49,"div",5)(50,"label",17),h(51,"Creator"),d(),u(52,"input",15),T("ngModelChange",function(s){return r.filters.creator=s}),d()(),u(53,"div",5)(54,"label",18),h(55,"Tag"),d(),u(56,"select",19),T("ngModelChange",function(s){return r.filters.tag=s}),D(57,"option",20),u(58,"option",21),h(59,"Attack Directly"),d(),u(60,"option",22),h(61,"Battle"),d(),u(62,"option",23),h(63,"Boost"),d(),u(64,"option",24),h(65,"Bounce"),d(),u(66,"option",25),h(67,"Burn"),d(),u(68,"option",26),h(69,"Counters"),d(),u(70,"option",27),h(71,"Cripple"),d(),u(72,"option",28),h(73,"Draw "),d(),u(74,"option",29),h(75,"Disrupt"),d(),u(76,"option",30),h(77,"Equip"),d(),u(78,"option",31),h(79,"Excavate"),d(),u(80,"option",32),h(81,"Flip"),d(),u(82,"option",33),h(83,"Fusion"),d(),u(84,"option",34),h(85,"Gain"),d(),u(86,"option",35),h(87,"Gamble"),d(),u(88,"option",36),h(89,"Generic"),d(),u(90,"option",37),h(91,"Hand Protection"),d(),u(92,"option",38),h(93,"Ignore"),d(),u(94,"option",39),h(95,"Lingering"),d(),u(96,"option",40),h(97,"Lockdown"),d(),u(98,"option",41),h(99,"Mill"),d(),u(100,"option",42),h(101,"Mimic"),d(),u(102,"option",43),h(103,"Non-Targeted Removal"),d(),u(104,"option",44),h(105,"Piercing"),d(),u(106,"option",45),h(107,"Position"),d(),u(108,"option",46),h(109,"Protection"),d(),u(110,"option",47),h(111,"Quick"),d(),u(112,"option",48),h(113,"Recycle"),d(),u(114,"option",49),h(115,"Restriction"),d(),u(116,"option",50),h(117,"Ritual"),d(),u(118,"option",51),h(119,"Searcher"),d(),u(120,"option",52),h(121,"Special Summon"),d(),u(122,"option",53),h(123,"Spin"),d(),u(124,"option",54),h(125,"Targeted Removal"),d(),u(126,"option",55),h(127,"Token"),d(),u(128,"option",56),h(129,"Tribute"),d()()(),u(130,"div",5)(131,"label",57),h(132,"Card"),d(),u(133,"select",58),T("ngModelChange",function(s){return r.filters.initial=s}),D(134,"option",20),u(135,"option",59),h(136,"Monster"),d(),u(137,"option",60),h(138,"Spell"),d(),u(139,"option",61),h(140,"Trap"),d()()(),u(141,"div",5)(142,"label",57),h(143,"Card Type 2"),d(),u(144,"select",62),T("ngModelChange",function(s){return r.filters.cardtype=s}),b(145,W9,1,0,"option",63),b(146,q9,2,0,"option",64),b(147,G9,2,0,"option",65),b(148,K9,2,0,"option",66),b(149,Q9,2,0,"option",67),b(150,X9,2,0,"option",68),b(151,Y9,2,0,"option",69),b(152,J9,2,0,"option",70),b(153,Z9,1,0,"option",63),b(154,ez,2,0,"option",71),b(155,tz,2,0,"option",72),b(156,nz,2,0,"option",73),b(157,rz,2,0,"option",74),b(158,iz,2,0,"option",75),b(159,sz,2,0,"option",76),b(160,oz,1,0,"option",63),b(161,az,2,0,"option",77),b(162,lz,2,0,"option",78),b(163,cz,2,0,"option",79),d()(),u(164,"div",5)(165,"label",80),h(166,"Monster Type"),d(),u(167,"select",81),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(168,"option",20),u(169,"option",82),h(170,"Aqua"),d(),u(171,"option",83),h(172,"Beast"),d(),u(173,"option",84),h(174,"Beast-Warrior"),d(),u(175,"option",85),h(176,"Dinosaur"),d(),u(177,"option",86),h(178,"Dragon"),d(),u(179,"option",87),h(180,"Fairy"),d(),u(181,"option",88),h(182,"Fiend"),d(),u(183,"option",89),h(184,"Fish"),d(),u(185,"option",90),h(186,"Insect"),d(),u(187,"option",91),h(188,"Machine"),d(),u(189,"option",92),h(190,"Plant"),d(),u(191,"option",93),h(192,"Psychic"),d(),u(193,"option",94),h(194,"Pyro"),d(),u(195,"option",95),h(196,"Reptile"),d(),u(197,"option",96),h(198,"Rock"),d(),u(199,"option",97),h(200,"Sea Serpent"),d(),u(201,"option",98),h(202,"Spellcaster"),d(),u(203,"option",99),h(204,"Thunder"),d(),u(205,"option",100),h(206,"Warrior"),d(),u(207,"option",101),h(208,"Winged-Beast"),d(),u(209,"option",102),h(210,"Zombie"),d()()()(),u(211,"div",14),T("keydown.enter",function(){return r.submitSearch()}),u(212,"div",5)(213,"label",18),h(214,"Attribute"),d(),u(215,"select",103),T("ngModelChange",function(s){return r.filters.attribute=s}),D(216,"option",20),u(217,"option",104),h(218,"DARK"),d(),u(219,"option",105),h(220,"DIVINE"),d(),u(221,"option",106),h(222,"EARTH"),d(),u(223,"option",107),h(224,"FIRE"),d(),u(225,"option",108),h(226,"LIGHT"),d(),u(227,"option",109),h(228,"WATER"),d(),u(229,"option",110),h(230,"WIND"),d()()(),u(231,"div",5)(232,"label",111),h(233,"Level <= "),d(),u(234,"input",112),T("ngModelChange",function(s){return r.filters.levellow=s}),d()(),u(235,"div",5)(236,"label",113),h(237," Level "),d(),u(238,"input",112),T("ngModelChange",function(s){return r.filters.levelhigh=s}),d()(),u(239,"div",5)(240,"label",114),h(241,"Atk <="),d(),u(242,"input",112),T("ngModelChange",function(s){return r.filters.atklow=s}),d()(),u(243,"div",5)(244,"label",115),h(245,"Atk"),d(),u(246,"input",112),T("ngModelChange",function(s){return r.filters.atkhigh=s}),d()(),u(247,"div",5)(248,"label",116),h(249,"Def <="),d(),u(250,"input",112),T("ngModelChange",function(s){return r.filters.deflow=s}),d()(),u(251,"div",5)(252,"label",117),h(253,"Def"),d(),u(254,"input",112),T("ngModelChange",function(s){return r.filters.defhigh=s}),d()(),u(255,"div",5)(256,"label",118),h(257,"Sort By"),d(),u(258,"select",58),T("ngModelChange",function(s){return r.filters.sort=s}),u(259,"option",119),h(260,"Release Date ASC"),d(),u(261,"option",120),h(262,"Release Date DESC"),d(),u(263,"option",121),h(264,"Alphabetical ASC"),d(),u(265,"option",122),h(266,"Alphabetical DESC"),d(),b(267,uz,2,0,"option",123),b(268,dz,2,0,"option",124),b(269,pz,2,0,"option",125),b(270,hz,2,0,"option",126),b(271,fz,2,0,"option",127),b(272,mz,2,0,"option",128),d()(),u(273,"button",129),T("click",function(){return r.submitSearch()}),h(274,"Search"),d()(),u(275,"div",130)(276,"div")(277,"button",3),T("click",function(){return r.autoSelect("common")}),h(278,"Add Common"),d(),u(279,"button",3),T("click",function(){return r.autoSelect("rare")}),h(280,"Add Rare"),d(),u(281,"button",3),T("click",function(){return r.autoSelect("super")}),h(282,"Add Super"),d(),u(283,"button",3),T("click",function(){return r.autoSelect("ultra")}),h(284,"Add Ultra"),d(),u(285,"button",3),T("click",function(){return r.autoSelect("secret")}),h(286,"Add Secret"),d()()(),u(287,"div",130)(288,"div",5)(289,"div",5)(290,"div",131)(291,"div",132),D(292,"span",133),d()()(),b(293,gz,3,1,"span",134),u(294,"div",2)(295,"button",129),T("click",function(){return r.nextPage()}),h(296,"Next"),d(),u(297,"button",129),T("click",function(){return r.prevPage()}),h(298,"Previous"),d()()()(),u(299,"div",2)(300,"h1")(301,"b"),h(302,"Current Pack"),d()(),u(303,"div",135)(304,"h2"),h(305),d(),b(306,_z,3,1,"span",134),d(),u(307,"div",135)(308,"h2"),h(309),d(),b(310,vz,3,1,"span",134),d(),u(311,"div",135)(312,"h2"),h(313),d(),b(314,yz,3,1,"span",134),d(),u(315,"div",135)(316,"h2"),h(317),d(),b(318,Cz,3,1,"span",134),d(),u(319,"div",135)(320,"h2"),h(321),d(),b(322,bz,3,1,"span",134),d()(),u(323,"div",2),b(324,kz,2,0,"button",136),b(325,Mz,8,5,"div",137),d()()),2&e&&(v("ngIf",!0===r.isHovering),f(19),v("formGroup",r.draftData),f(5),v("ngClass",Xe(76,Vd,r.submitted&&r.f.draftTitle.errors)),f(1),v("ngIf",r.submitted&&r.f.draftTitle.errors),f(4),v("ngClass",Xe(78,Vd,r.submitted&&r.f.discordname.errors)),f(1),v("ngIf",r.submitted&&r.f.discordname.errors),f(4),v("ngClass",Xe(80,Vd,r.submitted&&r.f.cost.errors)),f(1),v("ngIf",r.submitted&&r.f.cost.errors),f(4),v("ngClass",Xe(82,Vd,r.submitted&&r.f.packImage.errors)),f(5),v("ngModel",r.filters.name),f(4),v("ngModel",r.filters.desc),f(4),v("ngModel",r.filters.creator),f(4),v("ngModel",r.filters.tag),f(77),v("ngModel",r.filters.initial),f(11),v("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),f(48),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),f(19),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),f(4),v("ngModel",r.filters.sort),f(9),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(21),v("ngForOf",r.currentCards),f(12),Fe("Commons (",r.currentCommons.length,"/",r.maxCommon,")"),f(1),v("ngForOf",r.currentCommons),f(3),Fe("Rares (",r.currentRare.length,"/",r.maxRare,")"),f(1),v("ngForOf",r.currentRare),f(3),Fe("Super (",r.currentSuper.length,"/",r.maxSuper,")"),f(1),v("ngForOf",r.currentSuper),f(3),Fe("Ultra (",r.currentUltra.length,"/",r.maxUltra,")"),f(1),v("ngForOf",r.currentUltra),f(3),Fe("Secret(",r.currentSecret.length,"/",r.maxSecret,")"),f(1),v("ngForOf",r.currentSecret),f(2),v("ngIf",r.currentDraft!=Df(84,Ez)),f(1),v("ngIf",r.submitfail&&r.submitted))},directives:[ve,In,Mn,dn,It,Ct,Pn,tn,En,An,br,kr,la,we],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;padding-right:10px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.submit-text-fail[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:20pt}ul[_ngcontent-%COMP%]{font-weight:700;font-size:20pt}h4[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.extrapadding[_ngcontent-%COMP%]{padding-left:10px}"]}),n})();function Pz(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",132),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Az(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Oz(n,t){if(1&n&&(u(0,"p"),D(1,"img",133),h(2),D(3,"img",134),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function Nz(n,t){if(1&n&&(u(0,"span"),D(1,"img",133),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function Rz(n,t){if(1&n&&(u(0,"p"),D(1,"img",132),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function Fz(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function Lz(n,t){if(1&n&&(u(0,"div",131)(1,"p")(2,"b"),h(3),b(4,Pz,4,2,"span",129),b(5,Az,2,1,"span",129),d()(),u(6,"b"),b(7,Oz,5,3,"p",129),d(),b(8,Nz,3,2,"span",129),u(9,"b"),b(10,Rz,3,2,"p",129),b(11,Fz,2,2,"p",129),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function Bz(n,t){1&n&&D(0,"option",12)}function Vz(n,t){1&n&&(u(0,"option",135),h(1,"Effect"),d())}function Hz(n,t){1&n&&(u(0,"option",136),h(1,"Flip"),d())}function zz(n,t){1&n&&(u(0,"option",137),h(1,"Fusion"),d())}function $z(n,t){1&n&&(u(0,"option",138),h(1,"Ritual"),d())}function Uz(n,t){1&n&&(u(0,"option",139),h(1,"Union"),d())}function jz(n,t){1&n&&(u(0,"option",140),h(1,"Xyz"),d())}function Wz(n,t){1&n&&(u(0,"option",141),h(1,"Synchro"),d())}function qz(n,t){1&n&&D(0,"option",12)}function Gz(n,t){1&n&&(u(0,"option",142),h(1,"Normal"),d())}function Kz(n,t){1&n&&(u(0,"option",143),h(1,"Continuous"),d())}function Qz(n,t){1&n&&(u(0,"option",144),h(1,"Quick"),d())}function Xz(n,t){1&n&&(u(0,"option",145),h(1,"Ritual"),d())}function Yz(n,t){1&n&&(u(0,"option",146),h(1,"Equip"),d())}function Jz(n,t){1&n&&(u(0,"option",147),h(1,"Field"),d())}function Zz(n,t){1&n&&D(0,"option",12)}function e$(n,t){1&n&&(u(0,"option",148),h(1,"Normal"),d())}function t$(n,t){1&n&&(u(0,"option",149),h(1,"Continuous"),d())}function n$(n,t){1&n&&(u(0,"option",150),h(1,"Counter"),d())}function r$(n,t){1&n&&(u(0,"option",151),h(1,"Level ASC"),d())}function i$(n,t){1&n&&(u(0,"option",152),h(1,"Level DESC"),d())}function s$(n,t){1&n&&(u(0,"option",153),h(1,"ATK ASC"),d())}function o$(n,t){1&n&&(u(0,"option",154),h(1,"ATK DESC"),d())}function a$(n,t){1&n&&(u(0,"option",155),h(1,"DEF ASC"),d())}function l$(n,t){1&n&&(u(0,"option",156),h(1,"DEF DESC"),d())}function c$(n,t){if(1&n){const e=B();u(0,"span")(1,"button",157),T("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightAddDraftCard(i,o)})("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)}),D(2,"img",158),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function u$(n,t){if(1&n){const e=B();u(0,"button",121),T("click",function(){return M(e),C().uploadList()}),h(1,"Upload Decklist"),d()}}function d$(n,t){1&n&&(u(0,"span"),h(1," Need at least 40 cards to upload."),d())}function p$(n,t){if(1&n){const e=B();u(0,"button",160),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",158),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function h$(n,t){if(1&n&&(u(0,"span"),b(1,p$,2,1,"button",159),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Monster"))}}function f$(n,t){if(1&n){const e=B();u(0,"button",160),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",158),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function m$(n,t){if(1&n&&(u(0,"span"),b(1,f$,2,1,"button",159),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Spell"))}}function g$(n,t){if(1&n){const e=B();u(0,"button",160),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("contextmenu",function(i){M(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){M(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",158),d()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _$(n,t){if(1&n&&(u(0,"span"),b(1,g$,2,1,"button",159),d()),2&n){const e=t.$implicit;f(1),v("ngIf",e.cardtype.includes("Trap"))}}function v$(n,t){if(1&n){const e=B();u(0,"span")(1,"button",160),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteSideCard(i,o)})("click",function(){const s=M(e).$implicit;return C().showDetails(s)}),D(2,"img",158),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function y$(n,t){if(1&n){const e=B();u(0,"span")(1,"button",160),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()})("contextmenu",function(i){const o=M(e).$implicit;return C().rightDeleteDraftCard(i,o)})("click",function(){const s=M(e).$implicit;return C().selectDraftCard(s)}),D(2,"img",158),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}let C$=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new Pt({draftTitle:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCustomCards().subscribe(e=>{if(this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader(),0==this.customcardsService.getProcessingDeck()?this.customcardsService.getEditDecklist()&&-1!=this.customcardsService.getEditDeckID()&&(ad(this.customcardsService.getDecklistInfo(this.customcardsService.getEditDeckID()),this.customcardsService.getDecklist(this.customcardsService.getEditDeckID())).subscribe(([r,i])=>{this.decklistinfo=r,this.decklist=i;for(let s in i)"maindeck"==i[s].deck||"extradeck"==i[s].deck?this.addCard(i[s]):this.addSideCard(i[s]);this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDeckName())}),this.customcardsService.setProcessingDeck(!0)):(this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName("")),this.uploadedMain.length>0||this.uploadedSide.length>0||this.uploadedExtra.length>0){console.log(this.uploadedMain);for(let r in this.uploadedMain)this.addCard(this.uploadedMain[r]);for(let r in this.uploadedSide)this.addSideCard(this.uploadedSide[r]);for(let r in this.uploadedExtra)this.addCard(this.uploadedExtra[r])}}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;this.mainDeck.push(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.mainDeck.splice(r,1),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(o.id);this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(o.id);this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(o.id);this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Bg.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Qt],decls:290,vars:67,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",3,"keydown.enter"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"btn","btn-success","small","text-center",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(b(0,Lz,16,13,"div",0),u(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),h(5,"Deck Name"),d(),u(6,"input",5),T("ngModelChange",function(s){return r.deckname=s}),d()(),u(7,"div",3)(8,"label",6),h(9,"Deck Description"),d(),u(10,"input",7),T("ngModelChange",function(s){return r.deckdescription=s}),d()()(),u(11,"div",8),T("keydown.enter",function(){return r.submitSearch()}),u(12,"div",3)(13,"label",4),h(14,"Name"),d(),u(15,"input",7),T("ngModelChange",function(s){return r.filters.name=s}),d()(),u(16,"div",3)(17,"label",6),h(18,"Desc"),d(),u(19,"input",7),T("ngModelChange",function(s){return r.filters.desc=s}),d()(),u(20,"div",3)(21,"label",9),h(22,"Creator"),d(),u(23,"input",7),T("ngModelChange",function(s){return r.filters.creator=s}),d()(),u(24,"div",3)(25,"label",10),h(26,"Tag"),d(),u(27,"select",11),T("ngModelChange",function(s){return r.filters.tag=s}),D(28,"option",12),u(29,"option",13),h(30,"Attack Directly"),d(),u(31,"option",14),h(32,"Battle"),d(),u(33,"option",15),h(34,"Boost"),d(),u(35,"option",16),h(36,"Bounce"),d(),u(37,"option",17),h(38,"Burn"),d(),u(39,"option",18),h(40,"Counters"),d(),u(41,"option",19),h(42,"Cripple"),d(),u(43,"option",20),h(44,"Draw "),d(),u(45,"option",21),h(46,"Disrupt"),d(),u(47,"option",22),h(48,"Equip"),d(),u(49,"option",23),h(50,"Excavate"),d(),u(51,"option",24),h(52,"Flip"),d(),u(53,"option",25),h(54,"Fusion"),d(),u(55,"option",26),h(56,"Gain"),d(),u(57,"option",27),h(58,"Gamble"),d(),u(59,"option",28),h(60,"Generic"),d(),u(61,"option",29),h(62,"Hand Protection"),d(),u(63,"option",30),h(64,"Ignore"),d(),u(65,"option",31),h(66,"Lingering"),d(),u(67,"option",32),h(68,"Lockdown"),d(),u(69,"option",33),h(70,"Mill"),d(),u(71,"option",34),h(72,"Mimic"),d(),u(73,"option",35),h(74,"Non-Targeted Removal"),d(),u(75,"option",36),h(76,"Piercing"),d(),u(77,"option",37),h(78,"Position"),d(),u(79,"option",38),h(80,"Protection"),d(),u(81,"option",39),h(82,"Quick"),d(),u(83,"option",40),h(84,"Recycle"),d(),u(85,"option",41),h(86,"Restriction"),d(),u(87,"option",42),h(88,"Ritual"),d(),u(89,"option",43),h(90,"Searcher"),d(),u(91,"option",44),h(92,"Special Summon"),d(),u(93,"option",45),h(94,"Spin"),d(),u(95,"option",46),h(96,"Targeted Removal"),d(),u(97,"option",47),h(98,"Token"),d(),u(99,"option",48),h(100,"Tribute"),d()()(),u(101,"div",3)(102,"label",49),h(103,"Card"),d(),u(104,"select",50),T("ngModelChange",function(s){return r.filters.initial=s}),D(105,"option",12),u(106,"option",51),h(107,"Monster"),d(),u(108,"option",52),h(109,"Spell"),d(),u(110,"option",53),h(111,"Trap"),d()()(),u(112,"div",3)(113,"label",49),h(114,"Card Type 2"),d(),u(115,"select",54),T("ngModelChange",function(s){return r.filters.cardtype=s}),b(116,Bz,1,0,"option",55),b(117,Vz,2,0,"option",56),b(118,Hz,2,0,"option",57),b(119,zz,2,0,"option",58),b(120,$z,2,0,"option",59),b(121,Uz,2,0,"option",60),b(122,jz,2,0,"option",61),b(123,Wz,2,0,"option",62),b(124,qz,1,0,"option",55),b(125,Gz,2,0,"option",63),b(126,Kz,2,0,"option",64),b(127,Qz,2,0,"option",65),b(128,Xz,2,0,"option",66),b(129,Yz,2,0,"option",67),b(130,Jz,2,0,"option",68),b(131,Zz,1,0,"option",55),b(132,e$,2,0,"option",69),b(133,t$,2,0,"option",70),b(134,n$,2,0,"option",71),d()(),u(135,"div",3)(136,"label",72),h(137,"Monster Type"),d(),u(138,"select",73),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(139,"option",12),u(140,"option",74),h(141,"Aqua"),d(),u(142,"option",75),h(143,"Beast"),d(),u(144,"option",76),h(145,"Beast-Warrior"),d(),u(146,"option",77),h(147,"Dinosaur"),d(),u(148,"option",78),h(149,"Dragon"),d(),u(150,"option",79),h(151,"Fairy"),d(),u(152,"option",80),h(153,"Fiend"),d(),u(154,"option",81),h(155,"Fish"),d(),u(156,"option",82),h(157,"Insect"),d(),u(158,"option",83),h(159,"Machine"),d(),u(160,"option",84),h(161,"Plant"),d(),u(162,"option",85),h(163,"Psychic"),d(),u(164,"option",86),h(165,"Pyro"),d(),u(166,"option",87),h(167,"Reptile"),d(),u(168,"option",88),h(169,"Rock"),d(),u(170,"option",89),h(171,"Sea Serpent"),d(),u(172,"option",90),h(173,"Spellcaster"),d(),u(174,"option",91),h(175,"Thunder"),d(),u(176,"option",92),h(177,"Warrior"),d(),u(178,"option",93),h(179,"Winged-Beast"),d(),u(180,"option",94),h(181,"Zombie"),d()()()(),u(182,"div",8),T("keydown.enter",function(){return r.submitSearch()}),u(183,"div",3)(184,"label",10),h(185,"Attribute"),d(),u(186,"select",95),T("ngModelChange",function(s){return r.filters.attribute=s}),D(187,"option",12),u(188,"option",96),h(189,"DARK"),d(),u(190,"option",97),h(191,"DIVINE"),d(),u(192,"option",98),h(193,"EARTH"),d(),u(194,"option",99),h(195,"FIRE"),d(),u(196,"option",100),h(197,"LIGHT"),d(),u(198,"option",101),h(199,"WATER"),d(),u(200,"option",102),h(201,"WIND"),d()()(),u(202,"div",3)(203,"label",103),h(204,"Level <= "),d(),u(205,"input",104),T("ngModelChange",function(s){return r.filters.levellow=s}),d()(),u(206,"div",3)(207,"label",105),h(208," Level "),d(),u(209,"input",104),T("ngModelChange",function(s){return r.filters.levelhigh=s}),d()(),u(210,"div",3)(211,"label",106),h(212,"Atk <="),d(),u(213,"input",104),T("ngModelChange",function(s){return r.filters.atklow=s}),d()(),u(214,"div",3)(215,"label",107),h(216,"Atk"),d(),u(217,"input",104),T("ngModelChange",function(s){return r.filters.atkhigh=s}),d()(),u(218,"div",3)(219,"label",108),h(220,"Def <="),d(),u(221,"input",104),T("ngModelChange",function(s){return r.filters.deflow=s}),d()(),u(222,"div",3)(223,"label",109),h(224,"Def"),d(),u(225,"input",104),T("ngModelChange",function(s){return r.filters.defhigh=s}),d()(),u(226,"div",3)(227,"label",110),h(228,"Sort By"),d(),u(229,"select",50),T("ngModelChange",function(s){return r.filters.sort=s}),u(230,"option",111),h(231,"Release Date ASC"),d(),u(232,"option",112),h(233,"Release Date DESC"),d(),u(234,"option",113),h(235,"Alphabetical ASC"),d(),u(236,"option",114),h(237,"Alphabetical DESC"),d(),b(238,r$,2,0,"option",115),b(239,i$,2,0,"option",116),b(240,s$,2,0,"option",117),b(241,o$,2,0,"option",118),b(242,a$,2,0,"option",119),b(243,l$,2,0,"option",120),d()(),u(244,"button",121),T("click",function(){return r.submitSearch()}),h(245,"Search"),d()(),u(246,"div",122)(247,"div")(248,"button",123),T("click",function(){return r.addTo("Main")}),h(249,"Main Deck"),d(),u(250,"button",123),T("click",function(){return r.addTo("Side")}),h(251,"Side Deck"),d()(),u(252,"div",3)(253,"div",124)(254,"div",125),D(255,"span",126),d()(),b(256,c$,3,1,"span",127),u(257,"div",2)(258,"button",121),T("click",function(){return r.nextPage()}),h(259,"Next"),d(),u(260,"button",121),T("click",function(){return r.prevPage()}),h(261,"Previous"),d()()()(),u(262,"div",2)(263,"h1")(264,"b"),h(265),d(),u(266,"button",121),T("click",function(){return r.exportList()}),h(267,"Export XML"),d(),b(268,u$,2,0,"button",128),b(269,d$,2,0,"span",129),d(),u(270,"div",130)(271,"h2"),h(272),d(),b(273,h$,2,1,"span",127),d(),u(274,"div",130)(275,"h2"),h(276),d(),b(277,m$,2,1,"span",127),d(),u(278,"div",130)(279,"h2"),h(280),d(),b(281,_$,2,1,"span",127),d(),u(282,"div",130)(283,"h2"),h(284),d(),b(285,v$,3,1,"span",127),d(),u(286,"div",130)(287,"h2"),h(288),d(),b(289,y$,3,1,"span",127),d()()()),2&e&&(v("ngIf",!0===r.isHovering),f(6),v("ngModel",r.deckname),f(4),v("ngModel",r.deckdescription),f(5),v("ngModel",r.filters.name),f(4),v("ngModel",r.filters.desc),f(4),v("ngModel",r.filters.creator),f(4),v("ngModel",r.filters.tag),f(77),v("ngModel",r.filters.initial),f(11),v("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Spell"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(1),v("ngIf","Trap"==r.filters.initial),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),f(48),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),f(19),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),f(4),v("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),f(4),v("ngModel",r.filters.sort),f(9),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(1),v("ngIf","Monster"==r.filters.initial),f(13),v("ngForOf",r.currentCards),f(9),Fe("Current Decklist (",r.mainDeck.length,"/60) (",r.sideDeck.length,"/15)"),f(3),v("ngIf",r._authService.loggedIn()),f(1),v("ngIf",0==r.uploadCorrectly),f(3),I("Monsters (",r.monsterCounter,")"),f(1),v("ngForOf",r.mainDeck),f(3),I("Spells (",r.spellCounter,")"),f(1),v("ngForOf",r.mainDeck),f(3),I("Traps (",r.trapCounter,")"),f(1),v("ngForOf",r.mainDeck),f(3),I("Side Deck (",r.sideCounter,")"),f(1),v("ngForOf",r.sideDeck),f(3),I("Extra (",r.edCounter,")"),f(1),v("ngForOf",r.extraDeck))},directives:[ve,It,Ct,En,An,br,kr,la,we],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}"]}),n})();function b$(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",8),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function k$(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function D$(n,t){if(1&n&&(u(0,"p"),D(1,"img",9),h(2),D(3,"img",10),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function T$(n,t){if(1&n&&(u(0,"span"),D(1,"img",9),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function w$(n,t){if(1&n&&(u(0,"p"),D(1,"img",8),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function S$(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function x$(n,t){if(1&n&&(u(0,"div",6)(1,"p")(2,"b"),h(3),b(4,b$,4,2,"span",7),b(5,k$,2,1,"span",7),d()(),u(6,"b"),b(7,D$,5,3,"p",7),d(),b(8,T$,3,2,"span",7),u(9,"b"),b(10,w$,3,2,"p",7),b(11,S$,2,2,"p",7),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function M$(n,t){if(1&n){const e=B();u(0,"button",11),T("click",function(){return M(e),C().delete()}),h(1,"Delete"),d()}}function E$(n,t){if(1&n){const e=B();u(0,"button",12),T("click",function(){return M(e),C().edit()}),h(1,"Edit"),d()}}function I$(n,t){if(1&n){const e=B();u(0,"span")(1,"img",13),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),d()()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function P$(n,t){if(1&n&&(u(0,"span"),b(1,I$,2,1,"span",7),d()),2&n){const e=t.$implicit;f(1),v("ngIf","maindeck"==(null==e?null:e.deck))}}function A$(n,t){if(1&n){const e=B();u(0,"span")(1,"img",13),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),d()()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function O$(n,t){if(1&n&&(u(0,"span"),b(1,A$,2,1,"span",7),d()),2&n){const e=t.$implicit;f(1),v("ngIf","sidedeck"==(null==e?null:e.deck))}}function N$(n,t){if(1&n){const e=B();u(0,"span")(1,"img",13),T("mouseenter",function(i){M(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()})("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.id)}),d()()}if(2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function R$(n,t){if(1&n&&(u(0,"span"),b(1,N$,2,1,"span",7),d()),2&n){const e=t.$implicit;f(1),v("ngIf","extradeck"==(null==e?null:e.deck))}}let F$=(()=>{class n{constructor(e,r,i,s){this._router=e,this._authService=r,this.route=i,this.customcardService=s,this.xml_file="",this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}mouseHovering(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id},e=>{console.log(e),this.username="",this.id=-99999}),this.route.paramMap.subscribe(e=>{this.deckid=Number(e.get("deckid")),this.customcardService.getDecklist(this.deckid).subscribe(r=>{this.decklist=r,this.decklist.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.decklist)}),this.customcardService.getDecklistInfo(this.deckid).subscribe(r=>{this.decklistinfo=r})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}download(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.decklist)"maindeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side>";for(const r of this.decklist)"sidedeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</side><extra>";for(const r of this.decklist)"extradeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Bg.saveAs(e,"cardlist.xml")}delete(){this.customcardService.deleteDecklists(this.deckid).subscribe(e=>{this._router.navigate(["/decklists"])},e=>{console.log(e)})}edit(){this.customcardService.editDeck(!0),this.customcardService.setEditDeckID(this.deckid),this.customcardService.setEditDeckName(this.decklistinfo.name),this.customcardService.uploadDecklist([],[],[]),this._router.navigate(["/deck-editor"])}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(Sn),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-decklist-details"]],decls:27,vars:8,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"btn","btn-success",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"smallcard",3,"src","mouseenter","mouseleave","click"]],template:function(e,r){1&e&&(b(0,x$,16,13,"div",0),u(1,"div",1)(2,"h1")(3,"b")(4,"u"),h(5),d()()(),u(6,"h2"),h(7),d(),u(8,"button",2),T("click",function(){return r.download()}),h(9,"Download .xml"),d(),b(10,M$,2,0,"button",3),b(11,E$,2,0,"button",4),u(12,"h3")(13,"b")(14,"u"),h(15,"Main Deck"),d()()(),b(16,P$,2,1,"span",5),u(17,"h3")(18,"b")(19,"u"),h(20,"Side Deck"),d()()(),b(21,O$,2,1,"span",5),u(22,"h3")(23,"b")(24,"u"),h(25,"Extra Deck"),d()()(),b(26,R$,2,1,"span",5),d()),2&e&&(v("ngIf",!0===r.isHovering),f(5),F(null==r.decklistinfo?null:r.decklistinfo.name),f(2),I("By ",null==r.decklistinfo?null:r.decklistinfo.creator,""),f(3),v("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),f(1),v("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),f(5),v("ngForOf",r.decklist),f(5),v("ngForOf",r.decklist),f(5),v("ngForOf",r.decklist))},directives:[ve,we],styles:[".smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}"]}),n})();function L$(n,t){if(1&n){const e=B();u(0,"span")(1,"button",5),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)}),u(2,"div",6)(3,"div",7),D(4,"img",8),d(),u(5,"div",9),D(6,"img",10),d()()()()}if(2&n){const e=t.$implicit,r=C();f(2),v("@cardFlip",r.state),f(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}let B$=(()=>{class n{constructor(e){this.customcardsService=e,this.cards=[],this.state="default",this.randomCards=[],this.DMCount=0}ngOnInit(){this.customcardsService.getDeckMasters().subscribe(e=>{this.cards=e,console.log(this.cards),this.shuffleCards()})}shuffleCards(){"flipped"===this.state&&(this.state="default");let e=0;for(this.randomCards=[];3!=e;){const r=this.randomIntFromInterval(0,this.cards.length-1);let i=this.cards[r];for(console.log(i);this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.cards.length-1);i=this.cards[s]}this.randomCards.push(i),e++}}rotate(){this.state="default"===this.state?"flipped":"default"}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-deck-master"]],decls:10,vars:3,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"smallbutton","btn","btn-default","btn-success",3,"disabled","click"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],["href","",1,"btn","btn-default",3,"click"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"button",2),T("click",function(){return r.rotate()}),h(3,"Reveal Cards"),d(),u(4,"button",2),T("click",function(){return r.shuffleCards()}),h(5,"Shuffle Cards"),d()(),u(6,"div",1)(7,"div",3)(8,"div"),b(9,L$,7,2,"span",4),d()()()()),2&e&&(f(2),v("disabled","flipped"==r.state),f(2),v("disabled","default"==r.state),f(5),v("ngForOf",r.randomCards))},directives:[we],styles:[".bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}.smallbutton[_ngcontent-%COMP%]{width:200px}"],data:{animation:[yd("cardFlip",[Ui("default",zr({transform:"none"})),Ui("flipped",zr({transform:"rotateY(180deg)"})),ji("default => flipped",[$i("400ms")]),ji("flipped => default",[$i("0ms")])])]}}),n})();function V$(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",8),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function H$(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function z$(n,t){if(1&n&&(u(0,"p"),D(1,"img",9),h(2),D(3,"img",10),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function $$(n,t){if(1&n&&(u(0,"span"),D(1,"img",9),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function U$(n,t){if(1&n&&(u(0,"p"),D(1,"img",8),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function j$(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function W$(n,t){if(1&n&&(u(0,"div",6)(1,"p")(2,"b"),h(3),b(4,V$,4,2,"span",7),b(5,H$,2,1,"span",7),d()(),u(6,"b"),b(7,z$,5,3,"p",7),d(),b(8,$$,3,2,"span",7),u(9,"b"),b(10,U$,3,2,"p",7),b(11,j$,2,2,"p",7),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function q$(n,t){if(1&n&&(u(0,"div",14),D(1,"img",15),u(2,"div",16),h(3),d()()),2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function G$(n,t){1&n&&D(0,"img",21)}function K$(n,t){1&n&&D(0,"img",22)}function Q$(n,t){1&n&&D(0,"img",23)}function X$(n,t){if(1&n&&(u(0,"div",17),b(1,G$,1,0,"img",18),b(2,K$,1,0,"img",19),b(3,Q$,1,0,"img",20),D(4,"img",15),u(5,"div",16),h(6),d()()),2&n){const e=C().$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),v("ngIf","super"==e.rarity),f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function Y$(n,t){if(1&n){const e=B();u(0,"span")(1,"button",11),T("click",function(){const s=M(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return M(e),C().mouseLeft()}),b(2,q$,4,2,"div",12),b(3,X$,7,5,"div",13),d()()}if(2&n){const e=t.$implicit;f(2),v("ngIf","common"==e.rarity),f(1),v("ngIf","common"!=e.rarity)}}let J$=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.binders=[],this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getCollectionCardsByCreatorID(this.creatorid).subscribe(r=>{r&&(this.cards=r,console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-collections"]],decls:11,vars:2,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col","justify-content-between"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(b(0,W$,16,13,"div",0),u(1,"h1",1),h(2,"Card Collection"),d(),u(3,"div",2)(4,"div",3),b(5,Y$,4,2,"span",4),u(6,"div",2)(7,"button",5),T("click",function(){return r.nextPage()}),h(8,"Next"),d(),u(9,"button",5),T("click",function(){return r.prevPage()}),h(10,"Previous"),d()()()()),2&e&&(v("ngIf",!0===r.isHovering),f(5),v("ngForOf",r.currentCards))},directives:[ve,we],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})();function Z$(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",9),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function eU(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function tU(n,t){if(1&n&&(u(0,"p"),D(1,"img",10),h(2),D(3,"img",11),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function nU(n,t){if(1&n&&(u(0,"span"),D(1,"img",10),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function rU(n,t){if(1&n&&(u(0,"p"),D(1,"img",9),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function iU(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function sU(n,t){if(1&n&&(u(0,"div",8)(1,"p")(2,"b"),h(3),b(4,Z$,4,2,"span",7),b(5,eU,2,1,"span",7),d()(),u(6,"b"),b(7,tU,5,3,"p",7),d(),b(8,nU,3,2,"span",7),u(9,"b"),b(10,rU,3,2,"p",7),b(11,iU,2,2,"p",7),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function oU(n,t){if(1&n&&(u(0,"option",12),h(1),d()),2&n){const e=t.$implicit;W("value",e.packid),f(1),F(e.title)}}function aU(n,t){1&n&&D(0,"img",22)}function lU(n,t){if(1&n&&(u(0,"div",18),b(1,aU,1,0,"img",19),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function cU(n,t){1&n&&D(0,"img",22)}function uU(n,t){if(1&n&&(u(0,"div",23),b(1,cU,1,0,"img",19),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function dU(n,t){if(1&n){const e=B();u(0,"button",15),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),b(1,lU,5,3,"div",16),b(2,uU,5,3,"div",17),d()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(1),v("ngIf",e.copies>0),f(1),v("ngIf",0==e.copies)}}function pU(n,t){if(1&n&&(u(0,"span"),b(1,dU,3,3,"button",14),d()),2&n){const e=t.$implicit;f(1),v("ngIf","secret"==e.rarity)}}function hU(n,t){1&n&&D(0,"img",25)}function fU(n,t){if(1&n&&(u(0,"div",18),b(1,hU,1,0,"img",24),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function mU(n,t){1&n&&D(0,"img",25)}function gU(n,t){if(1&n&&(u(0,"div",23),b(1,mU,1,0,"img",24),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function _U(n,t){if(1&n){const e=B();u(0,"button",15),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),b(1,fU,5,3,"div",16),b(2,gU,5,3,"div",17),d()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),f(1),v("ngIf",e.copies>0),f(1),v("ngIf",0==e.copies)}}function vU(n,t){if(1&n&&(u(0,"span"),b(1,_U,3,4,"button",14),d()),2&n){const e=t.$implicit;f(1),v("ngIf","ultra"==e.rarity)}}function yU(n,t){1&n&&D(0,"img",27)}function CU(n,t){if(1&n&&(u(0,"div",18),b(1,yU,1,0,"img",26),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","super"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function bU(n,t){1&n&&D(0,"img",27)}function kU(n,t){if(1&n&&(u(0,"div",23),b(1,bU,1,0,"img",26),D(2,"img",20),u(3,"div",21),h(4),d()()),2&n){const e=C(2).$implicit;f(1),v("ngIf","super"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function DU(n,t){if(1&n){const e=B();u(0,"button",15),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),b(1,CU,5,3,"div",16),b(2,kU,5,3,"div",17),d()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),f(1),v("ngIf",e.copies>0),f(1),v("ngIf",0==e.copies)}}function TU(n,t){if(1&n&&(u(0,"span"),b(1,DU,3,4,"button",14),d()),2&n){const e=t.$implicit;f(1),v("ngIf","super"==e.rarity)}}function wU(n,t){if(1&n&&(u(0,"div",18),D(1,"img",20),u(2,"div",21),h(3),d()()),2&n){const e=C(2).$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function SU(n,t){if(1&n&&(u(0,"div",23),D(1,"img",20),u(2,"div",21),h(3),d()()),2&n){const e=C(2).$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function xU(n,t){if(1&n){const e=B();u(0,"button",15),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),b(1,wU,4,2,"div",16),b(2,SU,4,2,"div",28),d()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),f(1),v("ngIf",e.copies>0),f(1),v("ngIf",0==e.copies)}}function MU(n,t){if(1&n&&(u(0,"span"),b(1,xU,3,4,"button",14),d()),2&n){const e=t.$implicit;f(1),v("ngIf","rare"==e.rarity)}}function EU(n,t){if(1&n&&(u(0,"div",31),D(1,"img",20),u(2,"div",21),h(3),d()()),2&n){const e=C(2).$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function IU(n,t){if(1&n&&(u(0,"div",32),D(1,"img",20),u(2,"div",21),h(3),d()()),2&n){const e=C(2).$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function PU(n,t){if(1&n){const e=B();u(0,"button",15),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),b(1,EU,4,2,"div",29),b(2,IU,4,2,"div",30),d()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),f(1),v("ngIf",e.copies>0),f(1),v("ngIf",0==e.copies)}}function AU(n,t){if(1&n&&(u(0,"span"),b(1,PU,3,4,"button",14),d()),2&n){const e=t.$implicit;f(1),v("ngIf","common"==e.rarity)}}function OU(n,t){if(1&n&&(u(0,"div")(1,"h2"),h(2,"Secret Rares"),d(),b(3,pU,2,1,"span",13),u(4,"h2"),h(5,"Ultra Rares"),d(),b(6,vU,2,1,"span",13),u(7,"h2"),h(8,"Super Rares"),d(),b(9,TU,2,1,"span",13),u(10,"h2"),h(11,"Rares"),d(),b(12,MU,2,1,"span",13),u(13,"h2"),h(14,"Commons"),d(),b(15,AU,2,1,"span",13),d()),2&n){const e=C();f(3),v("ngForOf",e.userPackCollection),f(3),v("ngForOf",e.userPackCollection),f(3),v("ngForOf",e.userPackCollection),f(3),v("ngForOf",e.userPackCollection),f(3),v("ngForOf",e.userPackCollection)}}let NU=(()=>{class n{constructor(e,r,i){this.authService=e,this.router=r,this.customCardService=i,this.packs=[],this.userPackCollection=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{this.userId=e.id},e=>{console.log(e),this.router.navigate(["/home"])}),this.customCardService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}selectPack(){this.customCardService.getChecklist(this.userId,this.packID).subscribe(e=>{this.userPackCollection=e,console.log(this.userPackCollection),this.userPackCollection.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1)})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ie),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-checklist"]],decls:11,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[4,"ngIf"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],["class","rare-card",4,"ngIf"],["class","rare-card no-card",4,"ngIf"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],[1,"rare-card","no-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["class","rare-card no-card ",4,"ngIf"],["class","relative",4,"ngIf"],["class","relative no-card",4,"ngIf"],[1,"relative"],[1,"relative","no-card"]],template:function(e,r){1&e&&(b(0,sU,16,13,"div",0),u(1,"h2",1),h(2,"The Attic Packs"),d(),u(3,"div",2)(4,"span",3),h(5,"Pack: "),d(),u(6,"select",4),T("ngModelChange",function(s){return r.packID=s}),b(7,oU,2,2,"option",5),d(),u(8,"button",6),T("click",function(){return r.selectPack()}),h(9,"Select Pack"),d(),b(10,OU,16,5,"div",7),d()),2&e&&(v("ngIf",!0===r.isHovering),f(6),v("ngModel",r.packID),f(1),v("ngForOf",r.packs),f(3),v("ngIf",r.userPackCollection.length>0))},directives:[ve,An,Ct,En,we,br,kr,xn],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.no-card[_ngcontent-%COMP%]{-moz-filter:grayscale(100%);-o-filter:grayscale(100%);-ms-filter:grayscale(100%);filter:grayscale(100%)}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function RU(n,t){if(1&n&&(u(0,"h4"),D(1,"img",8),h(2),d()),2&n){const e=C();f(1),W("src",e.stType,P),f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function FU(n,t){if(1&n&&(u(0,"h4"),h(1),d()),2&n){const e=C();f(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function LU(n,t){if(1&n&&(u(0,"p"),D(1,"img",9),h(2),D(3,"img",10),h(4),d()),2&n){const e=C();f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," "),f(2),I(" ",null==e.card?null:e.card.level," ")}}function BU(n,t){if(1&n&&(u(0,"p"),D(1,"img",9),h(2),d()),2&n){const e=C();f(1),W("src",e.attribute,P),f(1),I(" ",null==e.card?null:e.card.attribute," ")}}function VU(n,t){if(1&n&&(u(0,"p"),D(1,"img",8),h(2),d()),2&n){const e=C();f(1),W("src",e.mType,P),f(1),I(" ",null==e.card?null:e.card.type,"")}}function HU(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C();f(1),Fe("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function zU(n,t){if(1&n&&(u(0,"p",11),h(1),u(2,"a",12),h(3),d()()),2&n){const e=t.$implicit;f(1),I(" ",e.rarity," : "),f(1),A("routerLink","/packs/",e.id,""),f(1),F(e.title)}}function $U(n,t){if(1&n){const e=B();u(0,"button",13),T("click",function(){return M(e),C().confirmDelete()}),h(1,"Delete Card?"),d()}}let UU=(()=>{class n{constructor(e,r,i,s){this.router=e,this._authService=r,this.route=i,this.customcardService=s}ngOnInit(){this.route.paramMap.subscribe(e=>{this.cardid=Number(e.get("cardid")),this.customcardService.getCardDetails(this.cardid).subscribe(r=>{this.carddetails=r,this.card=this.carddetails.carddetails,console.log(this.carddetails),this.showDetails()})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}showDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(e=this.card)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(s=this.card)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.card)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(g=this.card)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(_=this.card)||void 0===_?void 0:_.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(y=this.card)||void 0===y?void 0:y.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}confirmDelete(){if(this._authService.adminRole())if(0!=this.carddetails.packdetails.length)confirm("You cannot delete this card while it is in a pack!");else{let e="Are you sure you want to delete this card?";1==confirm(e)?this.customcardService.deleteCard(this.card).subscribe(r=>{this.router.navigate(["/deck-editor"])},r=>{this.router.navigate(["/deck-editor"])}):e="You canceled!"}}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(Sn),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-card-details"]],decls:29,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-lg-4","cardeffect"],["href","",1,"bigcard",3,"src","click"],[1,"col"],[4,"ngIf"],["class","text-capitalize",4,"ngFor","ngForOf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"text-capitalize"],[1,"text-decoration-none",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),T("click",function(){return r.goToLink(r.card.id)}),d()(),u(4,"div",4)(5,"div",1)(6,"h1"),h(7),d(),b(8,RU,3,2,"h4",5),b(9,FU,2,1,"h4",5),u(10,"b"),b(11,LU,5,3,"p",5),d(),b(12,BU,3,2,"p",5),u(13,"b"),b(14,VU,3,2,"p",5),b(15,HU,2,2,"p",5),u(16,"p"),h(17),d(),u(18,"p"),h(19),d(),u(20,"p"),h(21),d()()(),u(22,"div",1)(23,"h1"),h(24,"Released In:"),d(),u(25,"h3"),b(26,zU,4,3,"p",6),d()()()(),u(27,"div"),b(28,$U,2,0,"button",7),d()()),2&e&&(f(3),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",P),f(4),F(null==r.card?null:r.card.name),f(1),v("ngIf","False"==r.monster),f(1),v("ngIf","True"==r.monster),f(2),v("ngIf","True"==r.monster),f(1),v("ngIf","False"==r.monster),f(2),v("ngIf","True"==r.monster),f(1),v("ngIf","True"==r.monster),f(2),I(" ",null==r.card?null:r.card.effect,""),f(2),I("ID: ",null==r.card?null:r.card.id,""),f(2),I("Creator: ",null==r.card?null:r.card.creator,""),f(5),v("ngForOf",r.carddetails.packdetails),f(2),v("ngIf",r._authService.adminRole()))},directives:[ve,we,Xn],styles:[".cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.largecard[_ngcontent-%COMP%]{width:50%}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function jU(n,t){if(1&n&&(u(0,"span"),h(1,"/ "),D(2,"img",4),h(3),d()),2&n){const e=C(2);f(2),W("src",e.hoverstType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function WU(n,t){if(1&n&&(u(0,"span"),h(1),d()),2&n){const e=C(2);f(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function qU(n,t){if(1&n&&(u(0,"p"),D(1,"img",5),h(2),D(3,"img",6),h(4),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function GU(n,t){if(1&n&&(u(0,"span"),D(1,"img",5),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hoverattribute,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function KU(n,t){if(1&n&&(u(0,"p"),D(1,"img",4),h(2),d()),2&n){const e=C(2);f(1),W("src",e.hovermType,P),f(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function QU(n,t){if(1&n&&(u(0,"p"),h(1),d()),2&n){const e=C(2);f(1),Fe("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function XU(n,t){if(1&n&&(u(0,"div",3)(1,"p")(2,"b"),h(3),b(4,jU,4,2,"span",2),b(5,WU,2,1,"span",2),d()(),u(6,"b"),b(7,qU,5,3,"p",2),d(),b(8,GU,3,2,"span",2),u(9,"b"),b(10,KU,3,2,"p",2),b(11,QU,2,2,"p",2),u(12,"p"),h(13),d(),u(14,"p"),h(15),d()()()),2&n){const e=C();cn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),f(3),F(null==e.hoveredCard?null:e.hoveredCard.name),f(1),v("ngIf","False"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","False"==e.hovermonster),f(2),v("ngIf","True"==e.hovermonster),f(1),v("ngIf","True"==e.hovermonster),f(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),f(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function YU(n,t){1&n&&D(0,"img",13)}function JU(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),u(1,"div",10),b(2,YU,1,0,"img",11),D(3,"img",12),d()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(2),v("ngIf","secret"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function ZU(n,t){if(1&n&&(u(0,"span"),b(1,JU,4,3,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","secret"==e.rarity)}}function ej(n,t){1&n&&D(0,"img",15)}function tj(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),u(1,"div",10),b(2,ej,1,0,"img",14),D(3,"img",12),d()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(2),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function nj(n,t){if(1&n&&(u(0,"span"),b(1,tj,4,3,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","ultra"==e.rarity)}}function rj(n,t){1&n&&D(0,"img",17)}function ij(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),u(1,"div",10),b(2,rj,1,0,"img",16),D(3,"img",12),d()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(2),v("ngIf","super"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function sj(n,t){if(1&n&&(u(0,"span"),b(1,ij,4,3,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","super"==e.rarity)}}function oj(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),u(1,"div",10),D(2,"img",12),d()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function aj(n,t){if(1&n&&(u(0,"span"),b(1,oj,3,2,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","rare"==e.rarity)}}function lj(n,t){if(1&n){const e=B();u(0,"button",9),T("mouseenter",function(i){M(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return M(e),C(3).mouseLeft()}),u(1,"div",18),D(2,"img",12),d()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function cj(n,t){if(1&n&&(u(0,"span"),b(1,lj,3,2,"button",8),d()),2&n){const e=t.$implicit;f(1),v("ngIf","common"==e.rarity)}}function uj(n,t){if(1&n&&(u(0,"div")(1,"h2"),h(2,"Secret Rares"),d(),b(3,ZU,2,1,"span",7),u(4,"h2"),h(5,"Ultra Rares"),d(),b(6,nj,2,1,"span",7),u(7,"h2"),h(8,"Super Rares"),d(),b(9,sj,2,1,"span",7),u(10,"h2"),h(11,"Rares"),d(),b(12,aj,2,1,"span",7),u(13,"h2"),h(14,"Commons"),d(),b(15,cj,2,1,"span",7),d()),2&n){const e=C();f(3),v("ngForOf",e.packcards),f(3),v("ngForOf",e.packcards),f(3),v("ngForOf",e.packcards),f(3),v("ngForOf",e.packcards),f(3),v("ngForOf",e.packcards)}}let dj=(()=>{class n{constructor(e,r,i,s){this.customcardsService=e,this.authService=r,this.router=i,this.route=s,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.packcards=[]}ngOnInit(){this.route.paramMap.subscribe(e=>{this.packid=Number(e.get("packid")),this.customcardsService.getCustomCardsByPack(this.packid).subscribe(r=>{this.packcards=r,this.packcards.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.packcards)})})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie),w(Sn))},n.\u0275cmp=Q({type:n,selectors:[["app-pack-details"]],decls:4,vars:2,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[4,"ngIf"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],[1,"relative"]],template:function(e,r){1&e&&(b(0,XU,16,13,"div",0),u(1,"h1",1),h(2,"Pack Details"),d(),b(3,uj,16,5,"div",2)),2&e&&(v("ngIf",!0===r.isHovering),f(3),v("ngIf",r.packcards.length>0))},directives:[ve,we,xn],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function pj(n,t){if(1&n&&(u(0,"tbody")(1,"tr")(2,"td")(3,"a",7),h(4),d()(),u(5,"td"),h(6),d()()()),2&n){const e=t.$implicit;f(3),A("routerLink","/players/",e.id,""),f(1),F(null==e?null:e.username),f(2),I(" ",null==e?null:e.role,"")}}let hj=(()=>{class n{constructor(e){this.customcardsService=e,this.players=[]}ngOnInit(){this.customcardsService.getPlayers().subscribe(e=>{this.players=e,console.log(this.players),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player"]],decls:12,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",2),D(3,"span",3),d()(),u(4,"table",4)(5,"thead")(6,"tr")(7,"th",5),h(8,"Player"),d(),u(9,"th",5),h(10,"Role"),d()()(),b(11,pj,7,3,"tbody",6),d()()),2&e&&(f(11),v("ngForOf",r.players))},directives:[we,Xn],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.container[_ngcontent-%COMP%]{width:50%}"]}),n})();function fj(n,t){if(1&n&&(u(0,"button",13),D(1,"img",14),d()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,""),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,"",P)}}function mj(n,t){if(1&n&&(u(0,"button",13),D(1,"img",14),d()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,""),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,"",P)}}function gj(n,t){if(1&n&&(u(0,"button",13),D(1,"img",14),d()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,""),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,"",P)}}function _j(n,t){if(1&n&&(u(0,"button",13),D(1,"img",14),d()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,""),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,"",P)}}function vj(n,t){if(1&n&&(u(0,"button",13),D(1,"img",14),d()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,""),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,"",P)}}function yj(n,t){if(1&n&&(u(0,"td")(1,"a",15),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name)}}function Cj(n,t){if(1&n&&(u(0,"td")(1,"a",15),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name)}}function bj(n,t){1&n&&(u(0,"td"),h(1,"DRAW!"),d())}function kj(n,t){1&n&&(u(0,"td"),h(1,"N/A"),d())}function Dj(n,t){if(1&n){const e=B();u(0,"td")(1,"a",17),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),h(2,"LINK"),d()()}}function Tj(n,t){if(1&n&&(u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td")(6,"a",15),h(7),d(),h(8," vs "),u(9,"a",15),h(10),d()(),b(11,yj,4,2,"td",16),b(12,Cj,4,2,"td",16),b(13,bj,2,0,"td",16),b(14,kj,2,0,"td",16),b(15,Dj,3,0,"td",16),d()),2&n){const e=t.$implicit;f(2),F(e.date),f(2),F(e.gamemode),f(2),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name),f(2),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name),f(1),v("ngIf","WON"==e.result),f(1),v("ngIf","LOSS"==e.result),f(1),v("ngIf","DRAW"==e.result),f(1),v("ngIf",null==e.optional_link),f(1),v("ngIf",null!=e.optional_link)}}function wj(n,t){if(1&n&&(u(0,"option",18),h(1),d()),2&n){const e=t.$implicit;W("value",e.packid),f(1),F(e.title)}}function Sj(n,t){if(1&n&&(u(0,"span",8),h(1),d()),2&n){const e=C();f(1),Fe("",e.packOwned," / ",e.packTotal,"")}}let xj=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.details=[],this.packs=[]}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(Sn),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player-profile"]],inputs:{userId:"userId"},decls:45,vars:10,consts:[[1,"row"],[1,"col-sm-2"],[1,"col-md-8"],["class","btn ",3,"routerLink",4,"ngIf"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],["class","binder",4,"ngIf"],[1,"btn",3,"routerLink"],[1,"favoritecard",3,"src"],[3,"routerLink"],[4,"ngIf"],[3,"click"],[3,"value"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"h3"),h(3,"About"),d(),u(4,"p"),h(5),d()(),u(6,"div",2)(7,"div",0)(8,"h1"),h(9," Favorite Cards "),d(),u(10,"p"),b(11,fj,2,2,"button",3),b(12,mj,2,2,"button",3),b(13,gj,2,2,"button",3),b(14,_j,2,2,"button",3),b(15,vj,2,2,"button",3),d()(),u(16,"div",0)(17,"h1"),h(18,"Recent Matches"),d(),u(19,"table",4)(20,"thead")(21,"tr")(22,"th",5),h(23,"Date"),d(),u(24,"th",5),h(25,"Game Mode"),d(),u(26,"th",5),h(27,"Duelists"),d(),u(28,"th",5),h(29,"Result"),d(),u(30,"th",5),h(31,"Replay"),d()()(),u(32,"tbody"),b(33,Tj,16,11,"tr",6),d()()(),u(34,"div",0)(35,"h1"),h(36," Pack Checklist "),d(),u(37,"div",7)(38,"span",8),h(39,"Pack: "),d(),u(40,"select",9),T("ngModelChange",function(s){return r.packID=s}),b(41,wj,2,2,"option",10),d(),u(42,"button",11),T("click",function(){return r.selectPack()}),h(43,"Select Pack"),d(),b(44,Sj,2,2,"span",12),d()()()()),2&e&&(f(5),F(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.about),f(6),v("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),f(1),v("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),f(1),v("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),f(1),v("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),f(1),v("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),f(18),v("ngForOf",null==r.userDetails?null:r.userDetails.matches),f(7),v("ngModel",r.packID),f(1),v("ngForOf",r.packs),f(3),v("ngIf",null!=r.userPackCollection))},directives:[ve,xn,we,Xn,An,Ct,En,br,kr],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}']}),n})();function Mj(n,t){if(1&n&&(u(0,"div",10),D(1,"img",11),u(2,"div",12),h(3),d()()),2&n){const e=C().$implicit;f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function Ej(n,t){1&n&&D(0,"img",17)}function Ij(n,t){1&n&&D(0,"img",18)}function Pj(n,t){1&n&&D(0,"img",19)}function Aj(n,t){if(1&n&&(u(0,"div",13),b(1,Ej,1,0,"img",14),b(2,Ij,1,0,"img",15),b(3,Pj,1,0,"img",16),D(4,"img",11),u(5,"div",12),h(6),d()()),2&n){const e=C().$implicit;f(1),v("ngIf","secret"==e.rarity),f(1),v("ngIf","super"==e.rarity),f(1),v("ngIf","ultra"==e.rarity),f(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),f(2),F(e.copies)}}function Oj(n,t){if(1&n){const e=B();u(0,"span")(1,"button",7),T("click",function(){const s=M(e).$implicit;return C(2).goToLink(s.id)})("mouseenter",function(i){const o=M(e).$implicit;return C(2).mouseHovering(o,i)})("mouseleave",function(){return M(e),C(2).mouseLeft()}),b(2,Mj,4,2,"div",8),b(3,Aj,7,5,"div",9),d()()}if(2&n){const e=t.$implicit;f(2),v("ngIf","common"==e.rarity),f(1),v("ngIf","common"!=e.rarity)}}function Nj(n,t){if(1&n){const e=B();u(0,"div",3),b(1,Oj,4,2,"span",4),u(2,"div",1)(3,"div",5)(4,"button",6),T("click",function(){return M(e),C().prevPage()}),h(5,"Previous"),d(),u(6,"button",6),T("click",function(){return M(e),C().nextPage()}),h(7,"Next"),d()()()()}if(2&n){const e=C();f(1),v("ngForOf",e.currentCards)}}let Rj=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.binders=[],this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.customcardsService.getCollectionCardsByCreatorID(this.userId).subscribe(e=>{e&&(this.cards=e,this.cards.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1),console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,c,p,m,g,_,y;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(c=this.hoveredCard)||void 0===c?void 0:c.cardtype)||"Field Spell"==(null===(p=this.hoveredCard)||void 0===p?void 0:p.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(_=this.hoveredCard)||void 0===_?void 0:_.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(y=this.hoveredCard)||void 0===y?void 0:y.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-player-collection"]],inputs:{userId:"userId"},decls:4,vars:1,consts:[[1,"text-center"],[1,"row"],["class","col justify-content-between",4,"ngIf"],[1,"col","justify-content-between"],[4,"ngFor","ngForOf"],[1,"col","text-center"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(u(0,"h1",0),h(1,"Card Collection"),d(),u(2,"div",1),b(3,Nj,8,1,"div",2),d()),2&e&&(f(3),v("ngIf",r.currentCards.length>0))},directives:[ve,we],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px;width:150px;font-size:24px}']}),n})();function Fj(n,t){if(1&n&&(u(0,"tbody")(1,"tr")(2,"td")(3,"a",5),h(4),d()(),u(5,"td"),h(6),d()()()),2&n){const e=t.$implicit;f(3),A("routerLink","/decklist/",e.id,""),f(1),F(null==e?null:e.name),f(2),F(null==e?null:e.description)}}let Lj=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this.customcardsService.getDecklistsFromUser(this.userId).subscribe(e=>{this.decklists=e})}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player-decklists"]],inputs:{userId:"userId"},decls:11,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"User Decklists"),d(),u(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),h(7,"Decklist"),d(),u(8,"th",3),h(9,"Description"),d()()(),b(10,Fj,7,3,"tbody",4),d()()),2&e&&(f(10),v("ngForOf",r.decklists))},directives:[we,Xn],styles:[""]}),n})();function Bj(n,t){if(1&n&&(u(0,"button",3),D(1,"img",4),u(2,"p"),h(3),d()()),2&n){const e=C().$implicit;f(1),A("src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/",null==e?null:e.pack,".png",P),f(2),F(e.title)}}function Vj(n,t){if(1&n&&(u(0,"button",3),D(1,"img",5),u(2,"p"),h(3),d()()),2&n){const e=C().$implicit;f(3),F(e.title)}}function Hj(n,t){if(1&n&&(u(0,"span"),b(1,Bj,4,2,"button",2),b(2,Vj,4,1,"button",2),d()),2&n){const e=t.$implicit;f(1),v("ngIf","placeholder"!=e.pack),f(1),v("ngIf","placeholder"==e.pack)}}let zj=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getPacksbyOwner(this.userId).subscribe(e=>{e&&(this.packs=e)})}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player-packs"]],inputs:{userId:"userId"},decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","btn",4,"ngIf"],[1,"btn"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(u(0,"div",0),b(1,Hj,3,2,"span",1),d()),2&e&&(f(1),v("ngForOf",r.packs))},directives:[we,ve],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function $j(n,t){if(1&n&&(u(0,"td")(1,"a",4),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name)}}function Uj(n,t){if(1&n&&(u(0,"td")(1,"a",4),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name)}}function jj(n,t){1&n&&(u(0,"td"),h(1,"DRAW!"),d())}function Wj(n,t){1&n&&(u(0,"td"),h(1,"N/A"),d())}function qj(n,t){if(1&n){const e=B();u(0,"td")(1,"a",6),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),h(2,"LINK"),d()()}}function Gj(n,t){if(1&n&&(u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td")(6,"a",4),h(7),d(),h(8," vs "),u(9,"a",4),h(10),d()(),b(11,$j,4,2,"td",5),b(12,Uj,4,2,"td",5),b(13,jj,2,0,"td",5),b(14,Wj,2,0,"td",5),b(15,qj,3,0,"td",5),d()),2&n){const e=t.$implicit;f(2),F(e.date),f(2),F(e.gamemode),f(2),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name),f(2),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name),f(1),v("ngIf","WON"==e.result),f(1),v("ngIf","LOSS"==e.result),f(1),v("ngIf","DRAW"==e.result),f(1),v("ngIf",null==e.optional_link),f(1),v("ngIf",null!=e.optional_link)}}let Kj=(()=>{class n{constructor(e){this.customcardsService=e,this.matches=[]}ngOnInit(){this.customcardsService.getMatchesFromUser(this.userId).subscribe(e=>{e&&(this.matches=e)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}}return n.\u0275fac=function(e){return new(e||n)(w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player-matches"]],inputs:{userId:"userId"},decls:18,vars:1,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"Matches"),d(),u(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),h(7,"Date"),d(),u(8,"th",2),h(9,"Game Mode"),d(),u(10,"th",2),h(11,"Duelists"),d(),u(12,"th",2),h(13,"Result"),d(),u(14,"th",2),h(15,"Replay"),d()()(),u(16,"tbody"),b(17,Gj,16,11,"tr",3),d()()()),2&e&&(f(17),v("ngForOf",r.matches))},directives:[we,Xn,ve],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}"]}),n})();function Qj(n,t){1&n&&(u(0,"button",15),h(1,"Edit Profile"),d())}function Xj(n,t){1&n&&D(0,"app-player-profile",16),2&n&&v("userId",C().userID)}function Yj(n,t){1&n&&D(0,"app-player-collection",16),2&n&&v("userId",C().userID)}function Jj(n,t){1&n&&D(0,"app-player-decklists",16),2&n&&v("userId",C().userID)}function Zj(n,t){1&n&&D(0,"app-player-packs",16),2&n&&v("userId",C().userID)}function eW(n,t){1&n&&D(0,"app-player-matches",16),2&n&&v("userId",C().userID)}let tW=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.page="Profile",this.details=[],this.packs=[]}ngOnInit(){this.page="Profile",this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}setPage(e){this.page=e,console.log(this.page)}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(Sn),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-player-details"]],decls:34,vars:8,consts:[[1,"spacing"],[1,"container"],[1,"row"],[1,"col-auto"],[1,"crop"],[3,"src"],[1,"mt-auto","col-auto"],[1,"mt-auto","col","flex-row-reverse","d-flex"],["routerLink","/settings","class","button btn btn-success",4,"ngIf"],[1,"rounded","navbar","navbar-default","navbar-expand-md","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[3,"userId",4,"ngIf"],["routerLink","/settings",1,"button","btn","btn-success"],[3,"userId"]],template:function(e,r){1&e&&(D(0,"div",0),u(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"img",5),d()(),u(6,"div",6)(7,"h1"),h(8),d()(),u(9,"div",7),b(10,Qj,2,0,"button",8),d()(),u(11,"nav",9)(12,"div",10)(13,"ul",11)(14,"li",12)(15,"a",13),T("click",function(){return r.setPage("Profile")}),h(16,"Profile"),d()(),u(17,"li",12)(18,"a",13),T("click",function(){return r.setPage("Collection")}),h(19,"Collection"),d()(),u(20,"li",12)(21,"a",13),T("click",function(){return r.setPage("Decklists")}),h(22,"Decklists"),d()(),u(23,"li",12)(24,"a",13),T("click",function(){return r.setPage("Packs")}),h(25,"Packs"),d()(),u(26,"li",12)(27,"a",13),T("click",function(){return r.setPage("Matches")}),h(28,"Matches"),d()()()()(),b(29,Xj,1,1,"app-player-profile",14),b(30,Yj,1,1,"app-player-collection",14),b(31,Jj,1,1,"app-player-decklists",14),b(32,Zj,1,1,"app-player-packs",14),b(33,eW,1,1,"app-player-matches",14),d()),2&e&&(f(5),A("src","https://drive.google.com/uc?export=view&id=",null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.profile_image,"",P),f(3),F(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.username),f(2),v("ngIf",r.loggedInID==r.userID),f(19),v("ngIf","Profile"==r.page),f(1),v("ngIf","Collection"==r.page),f(1),v("ngIf","Decklists"==r.page),f(1),v("ngIf","Packs"==r.page),f(1),v("ngIf","Matches"==r.page))},directives:[ve,xn,xj,Rj,Lj,zj,Kj],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large;margin-top:10px}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}li[_ngcontent-%COMP%]{margin:0 5px}a[_ngcontent-%COMP%]:hover{cursor:pointer}']}),n})();function nW(n,t){if(1&n&&(u(0,"option",19),h(1),d()),2&n){const e=t.$implicit;W("value",e.id),f(1),F(e.username)}}function rW(n,t){1&n&&(u(0,"div")(1,"p",22),h(2,"Umm Duelist required idiot."),d()())}function iW(n,t){if(1&n&&(u(0,"div",20),b(1,rW,3,0,"div",21),d()),2&n){const e=C();f(1),v("ngIf",e.f.duelist.errors.required)}}function sW(n,t){1&n&&(u(0,"div")(1,"p",22),h(2,"You need to input a value of at LEAST 100"),d()())}function oW(n,t){if(1&n&&(u(0,"div",20),b(1,sW,3,0,"div",21),d()),2&n){const e=C();f(1),v("ngIf",e.f.result.errors.result)}}function aW(n,t){1&n&&(u(0,"div")(1,"p",22),h(2,"Please input a game mode."),d()())}function lW(n,t){if(1&n&&(u(0,"div",20),b(1,aW,3,0,"div",21),d()),2&n){const e=C();f(1),v("ngIf",e.f.gamemode.errors.gamemode)}}function cW(n,t){1&n&&(u(0,"div")(1,"p",22),h(2,"Umm Draft Title required idiot."),d()())}function uW(n,t){if(1&n&&(u(0,"div",20),b(1,cW,3,0,"div",21),d()),2&n){const e=C();f(1),v("ngIf",e.f.replay.errors.replay)}}const Hd=function(n){return{"is-invalid":n}};let dW=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.matchData=new Pt({duelist:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)]),result:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)]),replay:new ke(" ",[]),gamemode:new ke(" ",[q.required,q.minLength(1),q.maxLength(100)]),decklist:new ke(" ",[])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.players=[]}get f(){return this.matchData.controls}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getPlayers().subscribe(r=>{this.players=r,this.players.sort((s,o)=>s.username.localeCompare(o.username));const i=this.players.findIndex(s=>s.id===this.id);i>-1&&this.players.splice(i,1),console.log(this.players),this.hideloader()})}):this._router.navigate(["/login"])}saveMatch(){console.log("im a poopy butt");var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.matchData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0,this.today=new Date,this.jstoday=Z0(this.today,"MM-dd-yyyy hh:mm:ss a zzzz","en-US","-0400");const r={};r.duelist1=this.id,r.duelist2=this.matchData.controls.duelist.value,r.result=this.matchData.controls.result.value,r.replay=this.matchData.controls.replay.value,r.gamemode=this.matchData.controls.gamemode.value,r.date=this.jstoday,this.customcardsService.submitDuel(r).subscribe(i=>{console.log(i),this._router.navigate(["/players"])},i=>{console.log(i)}),this.submitfail=!1}}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-submit-match"]],decls:42,vars:19,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-auto"],["for","Name"],["id","duelist","formControlName","duelist",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["id","result","formControlName","result",1,"form-control",3,"ngClass"],["value","WON"],["value","LOSS"],["value","DRAW"],["id","gamemode","formControlName","gamemode",1,"form-control",3,"ngClass"],["value","Standard"],["value","Sealed Draft"],["value","Deck Master"],["value","Cube"],["id","replay","formControlName","replay","type","text",1,"form-control",3,"ngClass"],[1,"btn","button","btn-success",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"form",1),T("ngSubmit",function(){return r.saveMatch()}),u(2,"div",2)(3,"div",3)(4,"label",4),h(5,"Dueled Against:"),d(),u(6,"select",5),b(7,nW,2,2,"option",6),d(),b(8,iW,2,1,"div",7),d(),u(9,"div",3)(10,"label",4),h(11,"Result"),d(),u(12,"select",8)(13,"option",9),h(14,"WON"),d(),u(15,"option",10),h(16,"LOSS"),d(),u(17,"option",11),h(18,"DRAW"),d()(),b(19,oW,2,1,"div",7),d(),u(20,"div",3)(21,"label",4),h(22,"Game Mode"),d(),u(23,"select",12)(24,"option",13),h(25,"Standard"),d(),u(26,"option",14),h(27,"Sealed Draft"),d(),u(28,"option",15),h(29,"Deck Master"),d(),u(30,"option",16),h(31,"Cube"),d()(),b(32,lW,2,1,"div",7),d(),u(33,"div",3)(34,"label",4),h(35,"Optional Replay"),d(),D(36,"input",17),b(37,uW,2,1,"div",7),d()(),u(38,"div",2)(39,"div",3)(40,"button",18),T("click",function(){return r.saveMatch()}),h(41,"Submit"),d()()()()()),2&e&&(f(1),v("formGroup",r.matchData),f(5),v("ngClass",Xe(11,Hd,r.submitted&&r.f.duelist.errors)),f(1),v("ngForOf",r.players),f(1),v("ngIf",r.submitted&&r.f.duelist.errors),f(4),v("ngClass",Xe(13,Hd,r.submitted&&r.f.result.errors)),f(7),v("ngIf",r.submitted&&r.f.result.errors),f(4),v("ngClass",Xe(15,Hd,r.submitted&&r.f.gamemode.errors)),f(9),v("ngIf",r.submitted&&r.f.gamemode.errors),f(4),v("ngClass",Xe(17,Hd,r.submitted&&r.f.replay.errors)),f(1),v("ngIf",r.submitted&&r.f.replay.errors),f(3),v("disabled",1==r.done))},directives:[In,Mn,dn,An,Ct,Pn,tn,we,br,kr,ve,It],styles:["button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function pW(n,t){if(1&n){const e=B();u(0,"button",3),T("click",function(){M(e);const i=C().$implicit;return C().editPack(i.id,i.title)}),D(1,"img",4),u(2,"p"),h(3),d()()}if(2&n){const e=C().$implicit;f(1),A("src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/",null==e?null:e.pack,".png",P),f(2),F(e.title)}}function hW(n,t){if(1&n){const e=B();u(0,"button",3),T("click",function(){M(e);const i=C().$implicit;return C().editPack(i.id,i.title)}),D(1,"img",5),u(2,"p"),h(3),d()()}if(2&n){const e=C().$implicit;f(3),F(e.title)}}function fW(n,t){if(1&n&&(u(0,"span"),b(1,pW,4,2,"button",2),b(2,hW,4,1,"button",2),d()),2&n){const e=t.$implicit;f(1),v("ngIf","placeholder"!=e.pack),f(1),v("ngIf","placeholder"==e.pack)}}let mW=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.resetPack(),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getPacksbyOwner(this.id).subscribe(r=>{r&&(this.packs=r,console.log(this.packs),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}resetPack(){this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName("")}editPack(e,r){this.customcardsService.editPack(!0),this.customcardsService.setEditPackID(e),this.customcardsService.setEditPackName(r),this._router.navigate(["/pack-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-pack-editor"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","btn",3,"click",4,"ngIf"],[1,"btn",3,"click"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(u(0,"div",0),b(1,fW,3,2,"span",1),d()),2&e&&(f(1),v("ngForOf",r.packs))},directives:[we,ve],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function gW(n,t){1&n&&(u(0,"th",2),h(1,"Delete"),d())}function _W(n,t){if(1&n&&(u(0,"td")(1,"a",5),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name)}}function vW(n,t){if(1&n&&(u(0,"td")(1,"a",5),h(2),d(),h(3," WINS!"),d()),2&n){const e=C().$implicit;f(1),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name)}}function yW(n,t){1&n&&(u(0,"td"),h(1,"DRAW!"),d())}function CW(n,t){1&n&&(u(0,"td"),h(1,"N/A"),d())}function bW(n,t){if(1&n){const e=B();u(0,"td")(1,"a",8),T("click",function(){M(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),h(2,"LINK "),d()()}}function kW(n,t){if(1&n){const e=B();u(0,"button",9),T("click",function(){M(e);const i=C().$implicit;return C().deleteMatch(i.id)}),h(1,"x"),d()}}function DW(n,t){if(1&n&&(u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td")(6,"a",5),h(7),d(),h(8," vs "),u(9,"a",5),h(10),d()(),b(11,_W,4,2,"td",6),b(12,vW,4,2,"td",6),b(13,yW,2,0,"td",6),b(14,CW,2,0,"td",6),b(15,bW,3,0,"td",6),u(16,"td"),b(17,kW,2,0,"button",7),d()()),2&n){const e=t.$implicit,r=C();f(2),F(e.date),f(2),F(e.gamemode),f(2),A("routerLink","/players/",e.duelist1,""),f(1),F(e.d1Name),f(2),A("routerLink","/players/",e.duelist2,""),f(1),F(e.d2Name),f(1),v("ngIf","WON"==e.result),f(1),v("ngIf","LOSS"==e.result),f(1),v("ngIf","DRAW"==e.result),f(1),v("ngIf",null==e.optional_link),f(1),v("ngIf",null!=e.optional_link),f(2),v("ngIf",r._authService.adminRole())}}let TW=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i,this.matches=[]}ngOnInit(){this.customcardsService.getMatches().subscribe(e=>{this.matches=e,console.log(this.matches)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}deleteMatch(e){let r={id:e};r.id=e,this.customcardsService.deleteMatch(r).subscribe(i=>{i&&location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-matches"]],decls:17,vars:2,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),h(5,"Date"),d(),u(6,"th",2),h(7,"Game Mode"),d(),u(8,"th",2),h(9,"Duelists"),d(),u(10,"th",2),h(11,"Result"),d(),u(12,"th",2),h(13,"Replay"),d(),b(14,gW,2,0,"th",3),d()(),u(15,"tbody"),b(16,DW,18,12,"tr",4),d()()()),2&e&&(f(14),v("ngIf",r._authService.adminRole()),f(2),v("ngForOf",r.matches))},directives:[ve,we,Xn],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.btn-danger[_ngcontent-%COMP%]{margin:0}"]}),n})();function wW(n,t){1&n&&(u(0,"div")(1,"p",24),h(2,"500 characters max for your About"),d()())}function SW(n,t){if(1&n&&(u(0,"div",22),h(1," asd "),b(2,wW,3,0,"div",23),d()),2&n){const e=C();f(2),v("ngIf",e.f.about.errors.required)}}function xW(n,t){if(1&n){const e=B();u(0,"span")(1,"button",3),T("click",function(){const s=M(e).$implicit;return C().setCard(s.drive_id)}),D(2,"img",4),d()()}if(2&n){const e=t.$implicit;f(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}const MW=function(n){return{"is-invalid":n}};let EW=(()=>{class n{constructor(e,r,i,s){this.route=e,this._authService=r,this.customcardsService=i,this._router=s,this.cardSelected=0,this.newSettings={id:0,profile_image:"",favorite_card1:"",favorite_card2:"",favorite_card3:"",favorite_card4:"",favorite_card5:"",about:""},this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.aboutMe=new Pt({about:new ke(" ",[q.required,q.minLength(1),q.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader()}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getUserPageDetails(Number(this.creatorid)).subscribe(r=>{this.userdata=r,console.log(this.userdata),this.newSettings.id=Number(this.creatorid),this.newSettings.profile_image=this.userdata.details.profile_image,this.newSettings.favorite_card1=this.userdata.details.favorite_card1,this.newSettings.favorite_card2=this.userdata.details.favorite_card2,this.newSettings.favorite_card3=this.userdata.details.favorite_card3,this.newSettings.favorite_card4=this.userdata.details.favorite_card4,this.newSettings.favorite_card5=this.userdata.details.favorite_card5,this.newSettings.about=this.userdata.details.about,this.about=this.userdata.details.about})},e=>{console.log(e),this.creator="",this.creatorid=""})}saveImages(){if(this.submitted=!0,this.aboutMe.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.done=!0,this.newSettings.about=this.aboutMe.controls.about.value,this.customcardsService.editProfileImages(this.newSettings).subscribe(e=>{window.location.reload()},e=>{this._router.navigate(["/home"])})}selectCardEdit(e){this.cardSelected=e}setCard(e){console.log(e),0==this.cardSelected&&(this.newSettings.profile_image=e),1==this.cardSelected&&(this.newSettings.favorite_card1=e),2==this.cardSelected&&(this.newSettings.favorite_card2=e),3==this.cardSelected&&(this.newSettings.favorite_card3=e),4==this.cardSelected&&(this.newSettings.favorite_card4=e),5==this.cardSelected&&(this.newSettings.favorite_card5=e)}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}showDetails(e){var r,i,s,o,a,l,c,p,m,g,_,y,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(c=this.card)||void 0===c?void 0:c.cardtype)||"Ritual Spell"==(null===(p=this.card)||void 0===p?void 0:p.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(y=this.card)||void 0===y?void 0:y.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(Sn),w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-about"]],decls:50,vars:15,consts:[[1,"row"],[1,"col-md-8"],[1,"text-center"],[1,"btn","btn-default",3,"click"],[1,"smallcard",3,"src"],[1,"button","btn","btn-default",3,"click"],[3,"formGroup"],[1,"form-group"],["for","aboutMe"],["formControlName","about","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"smallbtn","btn","button","btn-success",3,"disabled","click"],[1,"col","mr-auto","text-center"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"cards","row-lg-8","overflow-auto"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",0)(3,"h2"),h(4,"Profile Image"),d(),u(5,"p",2)(6,"button",3),T("click",function(){return r.selectCardEdit(0)}),D(7,"img",4),d()()(),u(8,"div",0)(9,"h2"),h(10,"Favorite Cards"),d(),u(11,"p",2)(12,"button",5),T("click",function(){return r.selectCardEdit(1)}),D(13,"img",4),d(),u(14,"button",5),T("click",function(){return r.selectCardEdit(2)}),D(15,"img",4),d(),u(16,"button",5),T("click",function(){return r.selectCardEdit(3)}),D(17,"img",4),d(),u(18,"button",5),T("click",function(){return r.selectCardEdit(4)}),D(19,"img",4),d(),u(20,"button",5),T("click",function(){return r.selectCardEdit(5)}),D(21,"img",4),d()()(),u(22,"div",0)(23,"form",6)(24,"div",7)(25,"h2")(26,"label",8),h(27,"About"),d()(),u(28,"textarea",9),T("ngModelChange",function(s){return r.about=s}),d()(),b(29,SW,3,1,"div",10),d(),u(30,"button",11),T("click",function(){return r.saveImages()}),h(31,"Save"),d()()(),u(32,"div",12)(33,"div",13),T("keydown.enter",function(){return r.submitSearch()}),u(34,"div",0)(35,"label",14),h(36,"Name"),d(),u(37,"input",15),T("ngModelChange",function(s){return r.filters.name=s}),d(),u(38,"button",16),T("click",function(){return r.submitSearch()}),h(39,"Search"),d()(),u(40,"div",17)(41,"div",18)(42,"div",19),D(43,"span",20),d()(),b(44,xW,3,1,"span",21),d(),u(45,"div",0)(46,"button",16),T("click",function(){return r.nextPage()}),h(47,"Next"),d(),u(48,"button",16),T("click",function(){return r.prevPage()}),h(49,"Previous"),d()()()()()),2&e&&(f(7),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.profile_image,"",P),f(6),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card1,"",P),f(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card2,"",P),f(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card3,"",P),f(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card4,"",P),f(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card5,"",P),f(2),v("formGroup",r.aboutMe),f(5),v("ngClass",Xe(13,MW,r.submitted&&r.f.about.errors))("ngModel",r.about),f(1),v("ngIf",r.submitted&&r.f.about.errors),f(1),v("disabled",1==r.done),f(7),v("ngModel",r.filters.name),f(7),v("ngForOf",r.currentCards))},directives:[In,Mn,dn,It,Ct,Pn,tn,ve,En,we],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function IW(n,t){1&n&&(u(0,"div",11),h(1," peepee "),d())}function PW(n,t){1&n&&(u(0,"div",11),h(1," poopoo "),d())}function AW(n,t){1&n&&(u(0,"div",11),h(1," poopoo "),d())}const Vg=function(n){return{"is-invalid":n}};let OW=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.accountInfo=new Pt({email:new ke(void 0,[q.required,q.minLength(5)]),newpassword:new ke(void 0,[q.required,q.minLength(5)]),password:new ke(void 0,[q.required,q.minLength(8)])})}get f(){return this.accountInfo.controls}ngOnInit(){this._authService.getUser().subscribe(e=>{console.log(e),this.creator=e.username,this.creatorid=e.id,this.email=e.email,this.accountInfo.controls.email.setValue(this.email)},e=>{console.log(e),this.creator="",this.creatorid=""})}changeInfo(){this.submitted=!0,this.accountInfo.invalid?this.submitfail=!0:this._authService.changeInfo({user:this.creatorid,email:this.email,newemail:this.accountInfo.controls.email.value,password:this.accountInfo.controls.password.value,newpassword:this.accountInfo.controls.newpassword.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-account"]],decls:19,vars:13,consts:[[1,"col-sm-5"],[3,"formGroup","ngSubmit"],[1,"h2","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["formControlName","newpassword","name","newpassword","type","password","id","newpassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"form",1),T("ngSubmit",function(){return r.changeInfo()}),u(2,"h1",2),h(3,"Account"),d(),u(4,"label",3),h(5,"Email address"),d(),D(6,"input",4),b(7,IW,2,0,"div",5),u(8,"label",6),h(9,"Current Password"),d(),D(10,"input",7),b(11,PW,2,0,"div",5),u(12,"label",6),h(13,"New Password"),d(),D(14,"input",8),b(15,AW,2,0,"div",5),u(16,"button",9),h(17,"Save Changes"),d()()(),D(18,"div",10)),2&e&&(f(1),v("formGroup",r.accountInfo),f(5),v("ngClass",Xe(7,Vg,r.submitted&&r.f.email.errors)),f(1),v("ngIf",r.submitted&&r.f.email.errors),f(3),v("ngClass",Xe(9,Vg,r.submitted&&r.f.password.errors)),f(1),v("ngIf",r.submitted&&r.f.password.errors),f(3),v("ngClass",Xe(11,Vg,r.submitted&&r.f.newpassword.errors)),f(1),v("ngIf",r.submitted&&r.f.newpassword.errors))},directives:[In,Mn,dn,It,Ct,Pn,Hs,tn,ve],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function NW(n,t){1&n&&(u(0,"div",5),D(1,"app-about"),d())}function RW(n,t){1&n&&(u(0,"div",5),D(1,"app-account"),d())}let FW=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.page="Profile",this.aboutMe=new Pt({about:new ke(" ",[q.required,q.minLength(1),q.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.page="Profile",this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}setPage(e){this.page=e,console.log(this.page)}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-settings"]],decls:14,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-2"],[1,"btn","button","btn-success",3,"click"],["class","col-lg",4,"ngIf"],[1,"col-lg"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"h1"),h(5,"Settings"),d()(),u(6,"div",1)(7,"button",3),T("click",function(){return r.setPage("Profile")}),h(8,"Profile"),d()(),u(9,"div",1)(10,"button",3),T("click",function(){return r.setPage("Account")}),h(11,"Account"),d()()(),b(12,NW,2,0,"div",4),b(13,RW,2,0,"div",4),d()()),2&e&&(f(12),v("ngIf","Profile"==r.page),f(1),v("ngIf","Account"==r.page))},directives:[ve,EW,OW],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function LW(n,t){if(1&n&&(u(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),h(4),d()(),u(5,"td")(6,"a",5),h(7),d()(),u(8,"td"),h(9),d()()()),2&n){const e=t.$implicit;f(2),A("routerLink","/players/",null==e?null:e.creatorid,""),f(2),F(null==e?null:e.creator),f(2),A("routerLink","/decklist/",e.id,""),f(1),F(null==e?null:e.name),f(2),F(null==e?null:e.description)}}let BW=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getDecklistsFromUser(this.id).subscribe(r=>{this.decklists=r})})}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-duelist-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"Your Decklists"),d(),u(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),h(7,"Creator"),d(),u(8,"th",3),h(9,"Decklist"),d(),u(10,"th",3),h(11,"Description"),d()()(),b(12,LW,10,5,"tbody",4),d()()),2&e&&(f(12),v("ngForOf",r.decklists))},directives:[we,Xn],styles:[""]}),n})(),VW=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.cards=[],this.sideDeck=[],this.mainDeck=[],this.extraDeck=[],this.decklistIDs=[]}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{this.username=e.username,this.id=e.id,this.customcardsService.getCustomCards().subscribe(r=>{this.cards=r,this.hideloader()})}):this._router.navigate(["/login"])}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}checkList(){this.mainDeck=[],this.sideDeck=[],this.extraDeck=[];let e="",r=new FileReader;r.onloadend=i=>{if(this.fileString=r.result,r.result){for(var s=this.fileString.split("\n"),o=0;o<s.length;o++)if("<main>"==s[o].substring(1,8))e="main";else if("<side>"==s[o].substring(1,8))e="side";else if("<extra>"==s[o].substring(1,9))e="extra";else if("card id"==s[o].substring(3,10)){let a=Number(s[o].substring(12,19)),l=this.cards.find(c=>Number(c.id)===a);l?"main"==e?this.mainDeck.push(l):"side"==e?this.sideDeck.push(l):"extra"==e&&this.extraDeck.push(l):console.log("lol")}this.customcardsService.uploadDecklist(this.mainDeck,this.sideDeck,this.extraDeck)}this._router.navigate(["/deck-editor"])},r.readAsText(this.file)}}return n.\u0275fac=function(e){return new(e||n)(w(De),w(ge),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-upload-decklist"]],decls:6,vars:1,consts:[[1,"container"],["type","file","id","customFile","accept","text/xml",1,"form-control",3,"ngModel","change","ngModelChange"],[1,"button","btn","btn-success",3,"click"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"h1"),h(2,"Upload Decklist"),d(),u(3,"input",1),T("change",function(s){return r.fileChanged(s)})("ngModelChange",function(s){return r.xml_file=s}),d(),u(4,"button",2),T("click",function(){return r.checkList()}),h(5,"Submit"),d()()),2&e&&(f(3),v("ngModel",r.xml_file))},directives:[It,Ct,En],styles:["input[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),HW=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.decklistIDs=[]}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}submitCSV(){this._ccService.submitCSVFile(this.file).subscribe(e=>{this.router.navigate(["/home"])},e=>{location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-database"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],["type","file","id","customFile","accept","text/csv",1,"form-control",3,"change"],[1,"btn-success","btn",3,"click"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),T("change",function(s){return r.fileChanged(s)}),d(),u(4,"button",4),T("click",function(){return r.submitCSV()}),h(5,"Submit"),d()()()())},styles:[""]}),n})(),zW=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}updateCOTD(){console.log("lol"),this._ccService.updateCOTD().subscribe(e=>{console.log("lol"),console.log(e)},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-admin"]],decls:7,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"btn","btn-success",3,"click"],["routerLink","/editor",1,"btn","btn-success"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.updateCOTD()}),h(4,"Randomize Card of the Day"),d(),u(5,"button",4),h(6,"Create Article"),d()()()())},directives:[xn],styles:["button[_ngcontent-%COMP%]{margin:auto}"]}),n})();const Hw=n=>{const t=(n=>{const t={};return Object.keys(n).forEach(e=>{n[e]&&(t[e]=n[e])}),t})(n);return Object.entries(t).map(([e,r])=>`${(n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(e)}:${r}`).join(";")};class Hg extends Error{constructor(t){super(t),this.name=this.constructor.name}}function zt(n){this.content=n}zt.prototype={constructor:zt,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return-1==t?void 0:this.content[t+1]},update:function(n,t,e){var r=e&&e!=n?this.remove(e):this,i=r.find(n),s=r.content.slice();return-1==i?s.push(e||n,t):(s[i+1]=t,e&&(s[i]=e)),new zt(s)},remove:function(n){var t=this.find(n);if(-1==t)return this;var e=this.content.slice();return e.splice(t,2),new zt(e)},addToStart:function(n,t){return new zt([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new zt(e)},addBefore:function(n,t,e){var r=this.remove(t),i=r.content.slice(),s=r.find(n);return i.splice(-1==s?i.length:s,0,t,e),new zt(i)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return(n=zt.from(n)).size?new zt(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=zt.from(n)).size?new zt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=zt.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},get size(){return this.content.length>>1}},zt.from=function(n){if(n instanceof zt)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new zt(t)};const zw=zt;function $w(n,t,e){for(let r=0;;r++){if(r==n.childCount||r==t.childCount)return n.childCount==t.childCount?null:e;let i=n.child(r),s=t.child(r);if(i!=s){if(!i.sameMarkup(s))return e;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)e++;return e}if(i.content.size||s.content.size){let o=$w(i.content,s.content,e+1);if(null!=o)return o}e+=i.nodeSize}else e+=i.nodeSize}}function Uw(n,t,e,r){for(let i=n.childCount,s=t.childCount;;){if(0==i||0==s)return i==s?null:{a:e,b:r};let o=n.child(--i),a=t.child(--s),l=o.nodeSize;if(o!=a){if(!o.sameMarkup(a))return{a:e,b:r};if(o.isText&&o.text!=a.text){let c=0,p=Math.min(o.text.length,a.text.length);for(;c<p&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,r--;return{a:e,b:r}}if(o.content.size||a.content.size){let c=Uw(o.content,a.content,e-1,r-1);if(c)return c}e-=l,r-=l}else e-=l,r-=l}}class R{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,e,r,i=0,s){for(let o=0,a=0;a<e;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&!1!==r(l,i+a,s||null,o)&&l.content.size){let p=a+1;l.nodesBetween(Math.max(0,t-p),Math.min(l.content.size,e-p),r,i+p)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,i){let s="",o=!0;return this.nodesBetween(t,e,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(t,l)-l,e-l),o=!r):a.isLeaf&&i?(s+="function"==typeof i?i(a):i,o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(r)&&(i[i.length-1]=e.withText(e.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new R(i,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],i=0;if(e>t)for(let s=0,o=0;o<e;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),r.push(a),i+=a.nodeSize),o=l}return new R(r,i)}cutByIndex(t,e){return t==e?R.empty:0==t&&e==this.content.length?this:new R(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let i=this.content.slice(),s=this.size+e.nodeSize-r.nodeSize;return i[t]=e,new R(i,s)}addToStart(t){return new R([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new R(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let i=this.content[e];t(i,r,e),r+=i.nodeSize}}findDiffStart(t,e=0){return $w(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return Uw(this,t,e,r)}findIndex(t,e=-1){if(0==t)return zd(0,t);if(t==this.size)return zd(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t)return o==t||e>0?zd(r+1,o):zd(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return R.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new R(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return R.empty;let e,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(e||(e=t.slice(0,i)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new R(e||t,r)}static from(t){if(!t)return R.empty;if(t instanceof R)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new R([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}R.empty=new R([],0);const zg={index:0,offset:0};function zd(n,t){return zg.index=n,zg.offset=t,zg}function $d(n,t){if(n===t)return!0;if(!n||"object"!=typeof n||!t||"object"!=typeof t)return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!$d(n[r],t[r]))return!1}else{for(let r in n)if(!(r in t)||!$d(n[r],t[r]))return!1;for(let r in t)if(!(r in n))return!1}return!0}let We=(()=>{class n{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),i=!0),r&&r.push(o)}}return r||(r=e.slice()),i||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$d(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(r[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return n.none;if(e instanceof n)return[e];let r=e.slice();return r.sort((i,s)=>i.type.rank-s.type.rank),r}}return n.none=[],n})();class Ql extends Error{}class ${constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=Ww(this.content,t+this.openStart,e);return r&&new $(r,this.openStart,this.openEnd)}removeBetween(t,e){return new $(jw(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return $.empty;let r=e.openStart||0,i=e.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new $(R.fromJSON(t,e.content),r,i)}static maxOpen(t,e=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)i++;return new $(t,r,i)}}function jw(n,t,e){let{index:r,offset:i}=n.findIndex(t),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(e);if(i==t||s.isText){if(a!=e&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(jw(s.content,t-i-1,e-i-1)))}function Ww(n,t,e,r){let{index:i,offset:s}=n.findIndex(t),o=n.maybeChild(i);if(s==t||o.isText)return r&&!r.canReplace(i,i,e)?null:n.cut(0,t).append(e).append(n.cut(t));let a=Ww(o.content,t-s-1,e);return a&&n.replaceChild(i,o.copy(a))}function qW(n,t,e){if(e.openStart>n.depth)throw new Ql("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new Ql("Inconsistent open depths");return qw(n,t,e,0)}function qw(n,t,e,r){let i=n.index(r),s=n.node(r);if(i==t.index(r)&&r<n.depth-e.openStart){let o=qw(n,t,e,r+1);return s.copy(s.content.replaceChild(i,o))}if(e.content.size){if(e.openStart||e.openEnd||n.depth!=r||t.depth!=r){let{start:o,end:a}=function GW(n,t){let e=t.depth-n.openStart,i=t.node(e).copy(n.content);for(let s=e-1;s>=0;s--)i=t.node(s).copy(R.from(i));return{start:i.resolveNoCache(n.openStart+e),end:i.resolveNoCache(i.content.size-n.openEnd-e)}}(e,n);return qs(s,Kw(n,o,a,t,r))}{let o=n.parent,a=o.content;return qs(o,a.cut(0,n.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}}return qs(s,Ud(n,t,r))}function Gw(n,t){if(!t.type.compatibleContent(n.type))throw new Ql("Cannot join "+t.type.name+" onto "+n.type.name)}function $g(n,t,e){let r=n.node(e);return Gw(r,t.node(e)),r}function Ws(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function Xl(n,t,e,r){let i=(t||n).node(e),s=0,o=t?t.index(e):i.childCount;n&&(s=n.index(e),n.depth>e?s++:n.textOffset&&(Ws(n.nodeAfter,r),s++));for(let a=s;a<o;a++)Ws(i.child(a),r);t&&t.depth==e&&t.textOffset&&Ws(t.nodeBefore,r)}function qs(n,t){if(!n.type.validContent(t))throw new Ql("Invalid content for node "+n.type.name);return n.copy(t)}function Kw(n,t,e,r,i){let s=n.depth>i&&$g(n,t,i+1),o=r.depth>i&&$g(e,r,i+1),a=[];return Xl(null,n,i,a),s&&o&&t.index(i)==e.index(i)?(Gw(s,o),Ws(qs(s,Kw(n,t,e,r,i+1)),a)):(s&&Ws(qs(s,Ud(n,t,i+1)),a),Xl(t,e,i,a),o&&Ws(qs(o,Ud(e,r,i+1)),a)),Xl(r,null,i,a),new R(a)}function Ud(n,t,e){let r=[];return Xl(null,n,e,r),n.depth>e&&Ws(qs($g(n,t,e+1),Ud(n,t,e+1)),r),Xl(t,null,e,r),new R(r)}$.empty=new $(R.empty,0,0);class Yl{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(e);return r?t.child(e).cut(r):i}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],i=0==e?0:this.path[3*e-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return We.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),i=t.maybeChild(e);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)!1===s[o].type.spec.inclusive&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)!1===r[s].type.spec.inclusive&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new jd(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],i=0,s=e;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Yl(e,r,s)}static resolveCached(t,e){for(let i=0;i<Ug.length;i++){let s=Ug[i];if(s.pos==e&&s.doc==t)return s}let r=Ug[jg]=Yl.resolve(t,e);return jg=(jg+1)%KW,r}}let Ug=[],jg=0,KW=12;class jd{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const QW=Object.create(null);class Ur{constructor(t,e,r,i=We.none){this.type=t,this.attrs=e,this.marks=i,this.content=r||R.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,i=0){this.content.nodesBetween(t,e,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.textBetween(0,this.content.size,"")}textBetween(t,e,r,i){return this.content.textBetween(t,e,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&$d(this.attrs,e||t.defaultAttrs||QW)&&We.sameSet(this.marks,r||We.none)}copy(t=null){return t==this.content?this:new Ur(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Ur(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return $.empty;let i=this.resolve(t),s=this.resolve(e),o=r?0:i.sharedDepth(e),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new $(c,i.depth-o,s.depth-o)}replace(t,e,r){return qW(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:i}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(i==t||e.isText)return e;t-=i+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let i=this.content.child(e-1);return{node:i,index:e-1,offset:r-i.nodeSize}}resolve(t){return Yl.resolveCached(this,t)}resolveNoCache(t){return Yl.resolve(this,t)}rangeHasMark(t,e,r){let i=!1;return e>t&&this.nodesBetween(t,e,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Qw(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=R.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,e,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=We.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!We.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let i=R.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,r)}}Ur.prototype.text=void 0;class Wd extends Ur{constructor(t,e,r,i){if(super(t,e,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Qw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Wd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Wd(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Qw(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}class Gs{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new XW(t,e);if(null==r.next)return Gs.empty;let i=Xw(r);r.next&&r.err("Unexpected trailing text");let s=function rq(n){let t=Object.create(null);return function e(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let p=0;p<i.length;p++)i[p][0]==a&&(c=i[p][1]);Zw(n,l).forEach(p=>{c||i.push([a,c=[]]),-1==c.indexOf(p)&&c.push(p)})})});let s=t[r.join(",")]=new Gs(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(Jw);s.next.push({type:i[o][0],next:t[a.join(",")]||e(a)})}return s}(Zw(n,0))}(function nq(n){let t=[[]];return i(function s(o,a){if("choice"==o.type)return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if("seq"!=o.type){if("star"==o.type){let l=e();return r(a,l),i(s(o.expr,l),l),[r(l)]}if("plus"==o.type){let l=e();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}if("opt"==o.type)return[r(a)].concat(s(o.expr,a));if("range"==o.type){let l=a;for(let c=0;c<o.min;c++){let p=e();i(s(o.expr,l),p),l=p}if(-1==o.max)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let p=e();r(l,p),i(s(o.expr,l),p),l=p}return[r(l)]}if("name"==o.type)return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=e())}}(n,0),e()),t;function e(){return t.push([])-1}function r(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}}(i));return function iq(n,t){for(let e=0,r=[n];e<r.length;e++){let i=r[e],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),-1==r.indexOf(c)&&r.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,r),s}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let i=this;for(let s=e;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let i=[this];return function s(o,a){let l=o.matchFragment(t,r);if(l&&(!e||l.validEnd))return R.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:p,next:m}=o.next[c];if(!p.isText&&!p.hasRequiredAttrs()&&-1==i.indexOf(m)){i.push(m);let g=s(m,a.concat(p));if(g)return g}}return null}(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&e(r.next[i].next)}(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join("\n")}}Gs.empty=new Gs(!0);class XW{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Xw(n){let t=[];do{t.push(YW(n))}while(n.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function YW(n){let t=[];do{t.push(JW(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function JW(n){let t=function tq(n){if(n.eat("(")){let t=Xw(n);return n.eat(")")||n.err("Missing closing paren"),t}if(!/\W/.test(n.next)){let t=function eq(n,t){let e=n.nodeTypes,r=e[t];if(r)return[r];let i=[];for(let s in e){let o=e[s];o.groups.indexOf(t)>-1&&i.push(o)}return 0==i.length&&n.err("No node type or group '"+t+"' found"),i}(n,n.next).map(e=>(null==n.inline?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}n.err("Unexpected token '"+n.next+"'")}(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else{if(!n.eat("{"))break;t=ZW(n,t)}return t}function Yw(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function ZW(n,t){let e=Yw(n),r=e;return n.eat(",")&&(r="}"!=n.next?Yw(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:r,expr:t}}function Jw(n,t){return t-n}function Zw(n,t){let e=[];return function r(i){let s=n[i];if(1==s.length&&!s[0].term)return r(s[0].to);e.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&-1==e.indexOf(l)&&r(l)}}(t),e.sort(Jw)}function eS(n){let t=Object.create(null);for(let e in n){let r=n[e];if(!r.hasDefault)return null;t[e]=r.default}return t}function tS(n,t){let e=Object.create(null);for(let r in n){let i=t&&t[r];if(void 0===i){let s=n[r];if(!s.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=s.default}e[r]=i}return e}function nS(n){let t=Object.create(null);if(n)for(let e in n)t[e]=new sq(n[e]);return t}class qd{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=nS(r.attrs),this.defaultAttrs=eS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Gs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:tS(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ur(this,this.computeAttrs(t),R.from(e),We.setFrom(r))}createChecked(t=null,e,r){if(e=R.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Ur(this,this.computeAttrs(t),e,We.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),(e=R.from(e)).size){let o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}let i=this.contentMatch.matchFragment(e),s=i&&i.fillBefore(R.empty,!0);return s?new Ur(this,t,e.append(s),We.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:We.none:t}static compile(t,e){let r=Object.create(null);t.forEach((s,o)=>r[s]=new qd(s,e,o));let i=e.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class sq{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Gd{constructor(t,e,r,i){this.name=t,this.rank=e,this.schema=r,this.spec=i,this.attrs=nS(i.attrs),this.excluded=null;let s=eS(this.attrs);this.instance=s?new We(this,s):null}create(t=null){return!t&&this.instance?this.instance:new We(this,tS(this.attrs,t))}static compile(t,e){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Gd(s,i++,e,o)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}function rS(n,t){let e=[];for(let r=0;r<t.length;r++){let i=t[r],s=n.marks[i],o=s;if(s)e.push(s);else for(let a in n.marks){let l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&e.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return e}class Ks{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,e={}){let r=new aS(this,e,!1);return r.addAll(t,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new aS(this,e,!0);return r.addAll(t,e.from,e.to),$.maxOpen(r.finish())}matchTag(t,e,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(cq(t,s.tag)&&(void 0===s.namespace||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(!1===o)continue;s.attrs=o||void 0}return s}}}matchStyle(t,e,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(0!=a.indexOf(t)||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(61!=a.charCodeAt(t.length)||a.slice(t.length+1)!=e))){if(o.getAttrs){let l=o.getAttrs(e);if(!1===l)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let e=[];function r(i){let s=null==i.priority?50:i.priority,o=0;for(;o<e.length;o++){let a=e[o];if((null==a.priority?50:a.priority)<s)break}e.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=lS(o)),o.mark=i})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=lS(o)),o.node=i})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Ks(t,Ks.schemaRules(t)))}}const iS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sS={ol:!0,ul:!0};function oS(n,t,e){return null!=t?(t?1:0)|("full"===t?2:0):n&&"pre"==n.whitespace?3:-5&e}class Xd{constructor(t,e,r,i,s,o,a){this.type=t,this.attrs=e,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=We.none,this.stashMarks=[],this.match=o||(4&a?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(R.from(t));if(!e){let i,r=this.type.contentMatch;return(i=r.findWrapping(t.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let i,r=this.content[this.content.length-1];if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let e=R.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(R.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,r=this.pendingMarks;e<r.length;e++){let i=r[e];(this.type?this.type.allowsMarkType(i.type):dq(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!iS.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class aS{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let s,i=e.topNode,o=oS(null,e.preserveWhitespace,0)|(r?4:0);s=i?new Xd(i.type,i.attrs,We.none,We.none,!0,e.topMatch||i.type.contentMatch,o):new Xd(r?null:t.schema.topNodeType,null,We.none,We.none,!0,null,o),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),r=e?this.readStyles(function uq(n){let e,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=t.exec(n);)r.push(e[1],e[2].trim());return r}(e)):null,i=this.top;if(null!=r)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(t),null!=r)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(t){let e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&"BR"==s.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let i,r=t.nodeName.toLowerCase();sS.hasOwnProperty(r)&&this.parser.normalizeLists&&function lq(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&sS.hasOwnProperty(r)&&e?(e.appendChild(t),t=e):"li"==r?e=t:r&&(e=null)}}(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,e));if(s?s.ignore:aq.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(iS.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(t,s,!1===s.consuming?i:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=We.none;e:for(let r=0;r<t.length;r+=2)for(let i;;){let s=this.parser.matchStyle(t[r],t[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(e=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(e),!1!==s.consuming)break;i=s}return e}addElementByRule(t,e,r){let i,s,o;e.node?(s=this.parser.schema.nodes[e.node],s.isLeaf?this.insertNode(s.create(e.attrs))||this.leafFallback(t):i=this.enter(s,e.attrs||null,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;"string"==typeof e.contentElement?l=t.querySelector(e.contentElement):"function"==typeof e.contentElement?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,r){let i=e||0;for(let s=e?t.childNodes[e]:t.firstChild,o=null==r?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let e,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,r=s,!o.length)||s.solid)break}if(!e)return!1;this.sync(r);for(let i=0;i<e.length;i++)this.enterInner(e[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let r=e.activeMarks;for(let i=0;i<t.marks.length;i++)(!e.type||e.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return e.content.push(t.mark(r)),!0}return!1}enter(t,e,r){let i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,r),i}enterInner(t,e=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=oS(t,i,s.options);4&s.options&&0==s.content.length&&(o|=4),this.nodes.push(new Xd(t,e,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&e.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),s=(i?0:1)-(r?r.depth+1:0),o=(a,l)=>{for(;a>=0;a--){let c=e[a];if(""==c){if(a==e.length-1||0==a)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}{let p=l>0||0==l&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!p||p.name!=c&&-1==p.groups.indexOf(c))return!1;l--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let e in this.parser.schema.nodes){let r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let e=function pq(n,t){for(let e=0;e<t.length;e++)if(n.eq(t[e]))return t[e]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==e)break}}}function cq(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function lS(n){let t={};for(let e in n)t[e]=n[e];return t}function dq(n,t){let e=t.schema.nodes;for(let r in e){let i=e[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:p}=a.edge(l);if(c==t||s.indexOf(p)<0&&o(p))return!0}};if(o(i.contentMatch))return!0}}class jr{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=Wg(e).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(this.marks[c.type.name]){if(!c.eq(s[a][0])||!1===c.type.spec.spanning)break;a++,l++}else l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],p=this.serializeMark(c,o.isInline,e);p&&(s.push([c,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(o,e))}),r}serializeNodeInner(t,e){let{dom:r,contentDOM:i}=jr.renderSpec(Wg(e),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,i)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,e,r={}){let i=this.marks[t.type.name];return i&&jr.renderSpec(Wg(r),i(t,e))}static renderSpec(t,e,r=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let i=e[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?t.createElementNS(r,i):t.createElement(i),l=e[1],c=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){c=2;for(let p in l)if(null!=l[p]){let m=p.indexOf(" ");m>0?a.setAttributeNS(p.slice(0,m),p.slice(m+1),l[p]):a.setAttribute(p,l[p])}}for(let p=c;p<e.length;p++){let m=e[p];if(0===m){if(p<e.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:g,contentDOM:_}=jr.renderSpec(t,m,r);if(a.appendChild(g),_){if(o)throw new RangeError("Multiple content holes");o=_}}}return{dom:a,contentDOM:o}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new jr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=cS(t.nodes);return e.text||(e.text=r=>r.text),e}static marksFromSchema(t){return cS(t.marks)}}function cS(n){let t={};for(let e in n){let r=n[e].spec.toDOM;r&&(t[e]=r)}return t}function Wg(n){return n.document||window.document}const dS=Math.pow(2,16);function hq(n,t){return n+t*dS}function pS(n){return 65535&n}class qg{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Zn{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&Zn.empty)return Zn.empty}recover(t){let e=0,r=pS(t);if(!this.inverted)for(let i=0;i<r;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+e+function fq(n){return(n-(65535&n))/dS}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+s],p=this.ranges[a+o],m=l+c;if(t<=m){let _=l+i+((c?t==l?-1:t==m?1:e:e)<0?0:p);if(r)return _;let y=t==(e<0?l:m)?null:hq(a/3,t-l),k=t==l?2:t==m?1:4;return(e<0?t!=l:t!=m)&&(k|=8),new qg(_,k,y)}i+=p-c}return r?t+i:new qg(t+i,0,null)}touches(t,e){let r=0,i=pS(e),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s];if(t<=l+c&&a==3*i)return!0;r+=this.ranges[a+o]-c}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+e],p=this.ranges[i+r];t(a,a+c,l,l+p),s+=p-c}}invert(){return new Zn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?Zn.empty:new Zn(t<0?[0,-t,0]:[0,0,t])}}Zn.empty=new Zn([]);class da{constructor(t=[],e,r=0,i=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=i}slice(t=0,e=this.maps.length){return new da(this.maps,this.mirror,t,e)}copy(){return new da(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?r+i:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?r-i-1:void 0)}}invert(){let t=new da;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s].mapResult(t,e);if(null!=a.recover){let l=this.getMirror(s);if(null!=l&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new qg(t,i,null)}}const Gg=Object.create(null);class pn{getMap(){return Zn.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Gg[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Gg)throw new RangeError("Duplicate use of step JSON ID "+t);return Gg[t]=e,e.prototype.jsonID=t,e}}class bt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new bt(t,null)}static fail(t){return new bt(null,t)}static fromReplace(t,e,r,i){try{return bt.ok(t.replace(e,r,i))}catch(s){if(s instanceof Ql)return bt.fail(s.message);throw s}}}function Kg(n,t,e){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Kg(s.content,t,s))),s.isInline&&(s=t(s,e,i)),r.push(s)}return R.fromArray(r)}class Gi extends pn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new $(Kg(e.content,(o,a)=>o.isAtom&&a.type.allowsMarkType(this.mark.type)?o.mark(this.mark.addToSet(o.marks)):o,i),e.openStart,e.openEnd);return bt.fromReplace(t,this.from,this.to,s)}invert(){return new Wr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Gi(e.pos,r.pos,this.mark)}merge(t){return t instanceof Gi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Gi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gi(e.from,e.to,t.markFromJSON(e.mark))}}pn.jsonID("addMark",Gi);class Wr extends pn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new $(Kg(e.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),e.openStart,e.openEnd);return bt.fromReplace(t,this.from,this.to,r)}invert(){return new Gi(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Wr(e.pos,r.pos,this.mark)}merge(t){return t instanceof Wr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Wr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wr(e.from,e.to,t.markFromJSON(e.mark))}}pn.jsonID("removeMark",Wr);class Ki extends pn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return bt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return bt.fromReplace(t,this.pos,this.pos+1,new $(R.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let r=this.mark.addToSet(e.marks);if(r.length==e.marks.length){for(let i=0;i<e.marks.length;i++)if(!e.marks[i].isInSet(r))return new Ki(this.pos,e.marks[i]);return new Ki(this.pos,this.mark)}}return new pa(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Ki(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ki(e.pos,t.markFromJSON(e.mark))}}pn.jsonID("addNodeMark",Ki);class pa extends pn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return bt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return bt.fromReplace(t,this.pos,this.pos+1,new $(R.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Ki(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new pa(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pa(e.pos,t.markFromJSON(e.mark))}}pn.jsonID("removeNodeMark",pa);class $t extends pn{constructor(t,e,r,i=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=i}apply(t){return this.structure&&Qg(t,this.from,this.to)?bt.fail("Structure replace would overwrite content"):bt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Zn([this.from,this.to-this.from,this.slice.size])}invert(t){return new $t(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new $t(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof $t)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?$.empty:new $(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new $t(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?$.empty:new $(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new $t(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $t(e.from,e.to,$.fromJSON(t,e.slice),!!e.structure)}}pn.jsonID("replace",$t);class At extends pn{constructor(t,e,r,i,s,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Qg(t,this.from,this.gapFrom)||Qg(t,this.gapTo,this.to)))return bt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return bt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?bt.fromReplace(t,this.from,this.to,r):bt.fail("Content does not fit in gap")}getMap(){return new Zn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new At(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||i<e.pos||s>r.pos?null:new At(e.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new At(e.from,e.to,e.gapFrom,e.gapTo,$.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Qg(n,t,e){let r=n.resolve(t),i=e-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function vq(n,t,e){return(0==t||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function Zl(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,e))return r;if(0==r||i.type.spec.isolating||!vq(i,s,o))break}return null}function Xg(n,t,e=null,r=n){let i=function Cq(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.contentMatchAt(r).findWrapping(t);return s&&e.canReplaceWith(r,i,s.length?s[0]:t)?s:null}(n,t),s=i&&function bq(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(e.child(c).type);return l&&l.validEnd?o:null}(r,t);return s?i.map(gS).concat({type:t,attrs:e}).concat(s.map(gS)):null}function gS(n){return{type:n,attrs:null}}function ha(n,t,e=1,r){let i=n.resolve(t),s=i.depth-e,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,p=e-2;c>s;c--,p--){let m=i.node(c),g=i.index(c);if(m.type.spec.isolating)return!1;let _=m.content.cutByIndex(g,m.childCount),y=r&&r[p+1];y&&(_=_.replaceChild(0,y.type.create(y.attrs)));let k=r&&r[p]||m;if(!m.canReplace(g+1,m.childCount)||!k.type.validContent(_))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Yg(n,t){let e=n.resolve(t),r=e.index();return function _S(n,t){return!(!n||!t||n.isLeaf||!n.canAppend(t))}(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(r,r+1)}function Jg(n,t,e=t,r=$.empty){if(t==e&&!r.size)return null;let i=n.resolve(t),s=n.resolve(e);return vS(i,s,r)?new $t(t,e,r):new Iq(i,s,r).fit()}function vS(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}pn.jsonID("replaceAround",At);class Iq{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=R.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=R.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&1==s.childCount;)s=s.firstChild.content,o--,a--;let l=new $(s,o,a);return t>-1?new At(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new $t(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=e.firstChild;if(e.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}e=s.content}for(let e=1;e<=2;e++)for(let r=1==e?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Zg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let p,{type:l,match:c}=this.frontier[a],m=null;if(1==e&&(o?c.matchType(o.type)||(m=c.fillBefore(R.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:m};if(2==e&&o&&(p=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:p};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=Zg(t,e);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new $(t,e+1,Math.max(r,i.size+e>=t.size-r?e+1:0)),0))}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=Zg(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new $(ec(t,e-1,1),e-1,s?e-1:r)}else this.unplaced=new $(ec(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,c=0,p=[],{match:m,type:g}=this.frontier[e];if(i){for(let k=0;k<i.childCount;k++)p.push(i.child(k));m=m.matchFragment(i)}let _=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let k=a.child(c),S=m.matchType(k.type);if(!S)break;c++,(c>1||0==l||k.content.size)&&(m=S,p.push(yS(k.mark(g.allowedMarks(k.marks)),1==c?l:0,c==a.childCount?_:-1)))}let y=c==a.childCount;y||(_=-1),this.placed=tc(this.placed,e,R.from(p)),this.frontier[e].match=m,y&&_<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,S=a;k<_;k++){let E=S.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),S=E.content}this.unplaced=y?0==t?$.empty:new $(ec(o.content,t-1,1),t-1,_<0?o.openEnd:t-1):new $(ec(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!e_(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:i}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=e_(t,e,i,r,s);if(o){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],p=e_(t,a,c,l,!0);if(!p||p.childCount)continue e}return{depth:e,fit:o,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=tc(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,e=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=tc(this.placed,this.depth,R.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(R.empty,!0);e.childCount&&(this.placed=tc(this.placed,this.frontier.length,e))}}function ec(n,t,e){return 0==t?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(ec(n.firstChild.content,t-1,e)))}function tc(n,t,e){return 0==t?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(tc(n.lastChild.content,t-1,e)))}function Zg(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function yS(n,t,e){if(t<=0)return n;let r=n.content;return t>1&&(r=r.replaceChild(0,yS(r.firstChild,t-1,1==r.childCount?e-1:0))),t>0&&(r=n.type.contentMatch.fillBefore(r).append(r),e<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(R.empty,!0)))),n.copy(r)}function e_(n,t,e,r,i){let s=n.node(t),o=i?n.indexAfter(t):n.index(t);if(o==s.childCount&&!e.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!function Pq(n,t,e){for(let r=e;r<t.childCount;r++)if(!n.allowsMarks(t.child(r).marks))return!0;return!1}(e,s.content,o)?a:null}function Aq(n){return n.spec.defining||n.spec.definingForContent}function CS(n,t,e,r,i){if(t<e){let s=n.firstChild;n=n.replaceChild(0,s.copy(CS(s.content,t+1,e,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(R.empty,!0))}return n}function bS(n,t){let e=[];for(let i=Math.min(n.depth,t.depth);i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||t.end(i)>t.pos+(t.depth-i)||n.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==n.depth&&i==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&e.push(i)}return e}class fa extends pn{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return bt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let i=e.type.create(r,null,e.marks);return bt.fromReplace(t,this.pos,this.pos+1,new $(R.from(i),0,e.isLeaf?0:1))}getMap(){return Zn.empty}invert(t){return new fa(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new fa(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new fa(e.pos,e.attr,e.value)}}pn.jsonID("attr",fa);let ma=class extends Error{};ma=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e},(ma.prototype=Object.create(Error.prototype)).constructor=ma,ma.prototype.name="TransformError";const t_=Object.create(null);class Ie{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new Lq(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=$.empty){let r=e.content.lastChild,i=null;for(let a=0;a<e.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],p=t.mapping.slice(s);t.replaceRange(p.map(l.pos),p.map(c.pos),a?$.empty:e),0==a&&TS(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),c=l.map(o.pos),p=l.map(a.pos);s?t.deleteRange(c,p):(t.replaceRangeWith(c,p,e),TS(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let i=t.parent.inlineContent?new Oe(t):ga(t.node(0),t.parent,t.pos,t.index(),e,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=e<0?ga(t.node(0),t.node(s),t.before(s+1),t.index(s),e,r):ga(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,r);if(o)return o}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Rn(t.node(0))}static atStart(t){return ga(t,t,0,0,1)||new Rn(t)}static atEnd(t){return ga(t,t,t.content.size,t.childCount,-1)||new Rn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=t_[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in t_)throw new RangeError("Duplicate use of selection JSON ID "+t);return t_[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Oe.between(this.$anchor,this.$head).getBookmark()}}Ie.prototype.visible=!0;class Lq{constructor(t,e){this.$from=t,this.$to=e}}let kS=!1;function DS(n){!kS&&!n.parent.inlineContent&&(kS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Oe extends Ie{constructor(t,e=t){DS(t),DS(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return Ie.near(r);let i=t.resolve(e.map(this.anchor));return new Oe(i.parent.inlineContent?i:r,r)}replace(t,e=$.empty){if(super.replace(t,e),e==$.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Oe&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Jd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Oe(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let i=t.resolve(e);return new this(i,r==e?i:t.resolve(r))}static between(t,e,r){let i=t.pos-e.pos;if((!r||i)&&(r=i>=0?1:-1),!e.parent.inlineContent){let s=Ie.findFrom(e,r,!0)||Ie.findFrom(e,-r,!0);if(!s)return Ie.near(e,r);e=s.$head}return t.parent.inlineContent||(0==i||(t=(Ie.findFrom(t,-r,!0)||Ie.findFrom(t,r,!0)).$anchor).pos<e.pos!=i<0)&&(t=e),new Oe(t,e)}}Ie.jsonID("text",Oe);class Jd{constructor(t,e){this.anchor=t,this.head=e}map(t){return new Jd(t.map(this.anchor),t.map(this.head))}resolve(t){return Oe.between(t.resolve(this.anchor),t.resolve(this.head))}}class ne extends Ie{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:i}=e.mapResult(this.anchor),s=t.resolve(i);return r?Ie.near(s):new ne(s)}content(){return new $(R.from(this.node),0,0)}eq(t){return t instanceof ne&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new n_(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ne(t.resolve(e.anchor))}static create(t,e){return new ne(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}ne.prototype.visible=!1,Ie.jsonID("node",ne);class n_{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new Jd(r,r):new n_(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&ne.isSelectable(r)?new ne(e):Ie.near(e)}}class Rn extends Ie{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=$.empty){if(e==$.empty){t.delete(0,t.doc.content.size);let r=Ie.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new Rn(t)}map(t){return new Rn(t)}eq(t){return t instanceof Rn}getBookmark(){return Bq}}Ie.jsonID("all",Rn);const Bq={map(){return this},resolve:n=>new Rn(n)};function ga(n,t,e,r,i,s=!1){if(t.inlineContent)return Oe.create(n,e);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&ne.isSelectable(a))return ne.create(n,e-(i<0?a.nodeSize:0))}else{let l=ga(n,a,e+i,i<0?a.childCount:0,i,s);if(l)return l}e+=a.nodeSize*i}return null}function TS(n,t,e){let r=n.steps.length-1;if(r<t)return;let o,i=n.steps[r];(i instanceof $t||i instanceof At)&&(n.mapping.maps[r].forEach((a,l,c,p)=>{null==o&&(o=p)}),n.setSelection(Ie.near(n.doc.resolve(o),e)))}class Vq extends class Fq{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new da}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new ma(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=$.empty){let i=Jg(this.doc,t,e,r);return i&&this.step(i),this}replaceWith(t,e,r){return this.replace(t,e,new $(R.from(r),0,0))}delete(t,e){return this.replace(t,e,$.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return function Oq(n,t,e,r){if(!r.size)return n.deleteRange(t,e);let i=n.doc.resolve(t),s=n.doc.resolve(e);if(vS(i,s,r))return n.step(new $t(t,e,r));let o=bS(i,n.doc.resolve(e));0==o[o.length-1]&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let g=i.depth,_=i.pos-1;g>0;g--,_--){let y=i.node(g).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(g)>-1?a=g:i.before(g)==_&&o.splice(1,0,-g)}let l=o.indexOf(a),c=[],p=r.openStart;for(let g=r.content,_=0;;_++){let y=g.firstChild;if(c.push(y),_==r.openStart)break;g=y.content}for(let g=p-1;g>=0;g--){let _=c[g],y=Aq(_.type);if(y&&!_.sameMarkup(i.node(Math.abs(a)-1)))p=g;else if(y||!_.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let _=(g+p+1)%(r.openStart+1),y=c[_];if(y)for(let k=0;k<o.length;k++){let S=o[(k+l)%o.length],E=!0;S<0&&(E=!1,S=-S);let x=i.node(S-1),N=i.index(S-1);if(x.canReplaceWith(N,N,y.type,y.marks))return n.replace(i.before(S),E?s.after(S):e,new $(CS(r.content,0,r.openStart,_),_,r.openEnd))}}let m=n.steps.length;for(let g=o.length-1;g>=0&&(n.replace(t,e,r),!(n.steps.length>m));g--){let _=o[g];_<0||(t=i.before(_),e=s.after(_))}}(this,t,e,r),this}replaceRangeWith(t,e,r){return function Nq(n,t,e,r){if(!r.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let i=function Mq(n,t,e){let r=n.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),e))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,e))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,e))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}(n.doc,t,r.type);null!=i&&(t=e=i)}n.replaceRange(t,e,new $(R.from(r),0,0))}(this,t,e,r),this}deleteRange(t,e){return function Rq(n,t,e){let r=n.doc.resolve(t),i=n.doc.resolve(e),s=bS(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&e>r.end(o)&&i.end(o)-e!=i.depth-o)return n.delete(r.before(o),e);n.delete(t,e)}(this,t,e),this}lift(t,e){return function yq(n,t,e){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,c=a,p=R.empty,m=0;for(let y=s,k=!1;y>e;y--)k||r.index(y)>0?(k=!0,p=R.from(r.node(y).copy(p)),m++):l--;let g=R.empty,_=0;for(let y=s,k=!1;y>e;y--)k||i.after(y+1)<i.end(y)?(k=!0,g=R.from(i.node(y).copy(g)),_++):c++;n.step(new At(l,c,o,a,new $(p.append(g),m,_),p.size-m,!0))}(this,t,e),this}join(t,e=1){return function xq(n,t,e){let r=new $t(t-e,t+e,$.empty,!0);n.step(r)}(this,t,e),this}wrap(t,e){return function kq(n,t,e){let r=R.empty;for(let o=e.length-1;o>=0;o--){if(r.size){let a=e[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=R.from(e[o].type.create(e[o].attrs,r))}let i=t.start,s=t.end;n.step(new At(i,s,i,s,new $(r,0,0),e.length,!0))}(this,t,e),this}setBlockType(t,e=t,r,i=null){return function Dq(n,t,e,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(t,e,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&function Tq(n,t,e){let r=n.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,e)}(n.doc,n.mapping.slice(s).map(a),r)){n.clearIncompatible(n.mapping.slice(s).map(a,1),r);let l=n.mapping.slice(s),c=l.map(a,1),p=l.map(a+o.nodeSize,1);return n.step(new At(c,p,c+1,p-1,new $(R.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}(this,t,e,r,i),this}setNodeMarkup(t,e,r=null,i){return function wq(n,t,e,r,i){let s=n.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");e||(e=s.type);let o=e.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(t,t+s.nodeSize,o);if(!e.validContent(s.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new At(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new $(R.from(o),0,0),1,!0))}(this,t,e,r,i),this}setNodeAttribute(t,e,r){return this.step(new fa(t,e,r)),this}addNodeMark(t,e){return this.step(new Ki(t,e)),this}removeNodeMark(t,e){if(!(e instanceof We)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(r.marks)))return this}return this.step(new pa(t,e)),this}split(t,e=1,r){return function Sq(n,t,e=1,r){let i=n.doc.resolve(t),s=R.empty,o=R.empty;for(let a=i.depth,l=i.depth-e,c=e-1;a>l;a--,c--){s=R.from(i.node(a).copy(s));let p=r&&r[c];o=R.from(p?p.type.create(p.attrs,o):i.node(a).copy(o))}n.step(new $t(t,t,new $(s.append(o),e,e),!0))}(this,t,e,r),this}addMark(t,e,r){return function mq(n,t,e,r){let o,a,i=[],s=[];n.doc.nodesBetween(t,e,(l,c,p)=>{if(!l.isInline)return;let m=l.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let g=Math.max(c,t),_=Math.min(c+l.nodeSize,e),y=r.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(y)||(o&&o.to==g&&o.mark.eq(m[k])?o.to=_:i.push(o=new Wr(g,_,m[k])));a&&a.to==g?a.to=_:s.push(a=new Gi(g,_,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}(this,t,e,r),this}removeMark(t,e,r){return function gq(n,t,e,r){let i=[],s=0;n.doc.nodesBetween(t,e,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Gd){let p,c=o.marks;for(;p=r.isInSet(c);)(l||(l=[])).push(p),c=p.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,e);for(let p=0;p<l.length;p++){let g,m=l[p];for(let _=0;_<i.length;_++){let y=i[_];y.step==s-1&&m.eq(i[_].style)&&(g=y)}g?(g.to=c,g.step=s):i.push({style:m,from:Math.max(a,t),to:c,step:s})}}}),i.forEach(o=>n.step(new Wr(o.from,o.to,o.style)))}(this,t,e,r),this}clearIncompatible(t,e,r){return function _q(n,t,e,r=e.contentMatch){let i=n.doc.nodeAt(t),s=[],o=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=o+l.nodeSize,p=r.matchType(l.type);if(p){r=p;for(let m=0;m<l.marks.length;m++)e.allowsMarkType(l.marks[m].type)||n.step(new Wr(o,c,l.marks[m]));if(l.isText&&!e.spec.code){let m,_,g=/\r?\n|\r/g;for(;m=g.exec(l.text);)_||(_=new $(R.from(e.schema.text(" ",e.allowedMarks(l.marks))),0,0)),s.push(new $t(o+m.index,o+m.index+m[0].length,_))}}else s.push(new $t(o,c,$.empty));o=c}if(!r.validEnd){let a=r.fillBefore(R.empty,!0);n.replace(o,o,new $(a,0,0))}for(let a=s.length-1;a>=0;a--)n.step(s[a])}(this,t,e,r),this}}{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return We.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||We.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=e),r=null==r?e:r,!t)return this.deleteRange(e,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(e);s=r==e?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,i.text(t,s)),this.selection.empty||this.setSelection(Ie.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function xS(n,t){return t&&n?n.bind(t):n}class nc{constructor(t,e,r){this.name=t,this.init=xS(e.init,r),this.apply=xS(e.apply,r)}}const Hq=[new nc("doc",{init:n=>n.doc||n.schema.topNodeType.createAndFill(),apply:n=>n.doc}),new nc("selection",{init:(n,t)=>n.selection||Ie.atStart(t.doc),apply:n=>n.selection}),new nc("storedMarks",{init:n=>n.storedMarks||null,apply:(n,t,e,r)=>r.selection.$cursor?n.storedMarks:null}),new nc("scrollToSelection",{init:()=>0,apply:(n,t)=>n.scrolledIntoView?t+1:t})];class r_{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Hq.slice(),e&&e.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new nc(r.key,r.spec.state,r))})}}class _a{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,p=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,r);if(p&&r.filterTransaction(p,o)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<o?{state:r,n:e.length}:{state:this,n:0})}e.push(p),r=r.applyInner(p),s=!0}i&&(i[o]={state:r,n:e.length})}}if(!s)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new _a(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];e[s.name]=s.apply(t,this[s.name],this,e)}return e}get tr(){return new Vq(this)}static create(t){let e=new r_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new _a(e);for(let i=0;i<e.fields.length;i++)r[e.fields[i].name]=e.fields[i].init(t,r);return r}reconfigure(t){let e=new r_(this.schema,t.plugins),r=e.fields,i=new _a(e);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(e[r]=s.toJSON.call(i,this[i.key]))}return e}static fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new r_(t.schema,t.plugins),s=new _a(i);return i.fields.forEach(o=>{if("doc"==o.name)s.doc=Ur.fromJSON(t.schema,e.doc);else if("selection"==o.name)s.selection=Ie.fromJSON(s.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(s[o.name]=c.fromJSON.call(l,t,e[a],s))}s[o.name]=o.init(t,s)}}),s}}function MS(n,t,e){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=MS(i,t,{})),e[r]=i}return e}class qr{constructor(t){this.spec=t,this.props={},t.props&&MS(t.props,this,this.props),this.key=t.key?t.key.key:ES("plugin")}getState(t){return t[this.key]}}const i_=Object.create(null);function ES(n){return n in i_?n+"$"+ ++i_[n]:(i_[n]=0,n+"$")}class Ci{constructor(t="key"){this.key=ES(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Qi="undefined"!=typeof navigator?navigator:null,IS="undefined"!=typeof document?document:null,Xi=Qi&&Qi.userAgent||"",s_=/Edge\/(\d+)/.exec(Xi),PS=/MSIE \d/.exec(Xi),o_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xi),Fn=!!(PS||o_||s_),Yi=PS?document.documentMode:o_?+o_[1]:s_?+s_[1]:0,Gr=!Fn&&/gecko\/(\d+)/i.test(Xi);Gr&&/Firefox\/(\d+)/.exec(Xi);const a_=!Fn&&/Chrome\/(\d+)/.exec(Xi),rn=!!a_,zq=a_?+a_[1]:0,hn=!Fn&&!!Qi&&/Apple Computer/.test(Qi.vendor),va=hn&&(/Mobile\/\w+/.test(Xi)||!!Qi&&Qi.maxTouchPoints>2),er=va||!!Qi&&/Mac/.test(Qi.platform),Kr=/Android \d/.test(Xi),ep=!!IS&&"webkitFontSmoothing"in IS.documentElement.style,$q=ep?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Ln=function(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t},l_=function(n){let t=n.assignedSlot||n.parentNode;return t&&11==t.nodeType?t.host:t};let AS=null;const bi=function(n,t,e){let r=AS||(AS=document.createRange());return r.setEnd(n,null==e?n.nodeValue.length:e),r.setStart(n,t||0),r},rc=function(n,t,e,r){return e&&(OS(n,t,e,r,-1)||OS(n,t,e,r,1))},Uq=/^(img|br|input|textarea|hr)$/i;function OS(n,t,e,r,i){for(;;){if(n==e&&t==r)return!0;if(t==(i<0?0:Qr(n))){let s=n.parentNode;if(!s||1!=s.nodeType||Wq(n)||Uq.test(n.nodeName)||"false"==n.contentEditable)return!1;t=Ln(n)+(i<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if("false"==(n=n.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?Qr(n):0}}}function Qr(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function Wq(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const c_=function(n){let t=n.isCollapsed;return t&&rn&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(t=!1),t};function ya(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function qq(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Ji(n,t){return"number"==typeof n?n:n[t]}function Gq(n){let t=n.getBoundingClientRect();return{left:t.left,right:t.left+n.clientWidth*(t.width/n.offsetWidth||1),top:t.top,bottom:t.top+n.clientHeight*(t.height/n.offsetHeight||1)}}function NS(n,t,e){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=e||n.dom;o;o=l_(o)){if(1!=o.nodeType)continue;let a=o,l=a==s.body,c=l?qq(s):Gq(a),p=0,m=0;if(t.top<c.top+Ji(r,"top")?m=-(c.top-t.top+Ji(i,"top")):t.bottom>c.bottom-Ji(r,"bottom")&&(m=t.bottom-c.bottom+Ji(i,"bottom")),t.left<c.left+Ji(r,"left")?p=-(c.left-t.left+Ji(i,"left")):t.right>c.right-Ji(r,"right")&&(p=t.right-c.right+Ji(i,"right")),p||m)if(l)s.defaultView.scrollBy(p,m);else{let g=a.scrollLeft,_=a.scrollTop;m&&(a.scrollTop+=m),p&&(a.scrollLeft+=p);let y=a.scrollLeft-g,k=a.scrollTop-_;t={left:t.left-y,top:t.top-k,right:t.right-y,bottom:t.bottom-k}}if(l)break}}function RS(n){let t=[],e=n.ownerDocument;for(let r=n;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=e);r=l_(r));return t}function FS(n,t){for(let e=0;e<n.length;e++){let{dom:r,top:i,left:s}=n[e];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ca=null;function LS(n,t){let e,i,r=2e8,s=0,o=t.top,a=t.top;for(let l=n.firstChild,c=0;l;l=l.nextSibling,c++){let p;if(1==l.nodeType)p=l.getClientRects();else{if(3!=l.nodeType)continue;p=bi(l).getClientRects()}for(let m=0;m<p.length;m++){let g=p[m];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let _=g.left>t.left?g.left-t.left:g.right<t.left?t.left-g.right:0;if(_<r){e=l,r=_,i=_&&3==e.nodeType?{left:g.right<t.left?g.right:g.left,top:t.top}:t,1==l.nodeType&&_&&(s=c+(t.left>=(g.left+g.right)/2?1:0));continue}}!e&&(t.left>=g.right&&t.top>=g.top||t.left>=g.left&&t.top>=g.bottom)&&(s=c+1)}}return e&&3==e.nodeType?function Yq(n,t){let e=n.nodeValue.length,r=document.createRange();for(let i=0;i<e;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Zi(r,1);if(s.top!=s.bottom&&u_(t,s))return{node:n,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}(e,i):!e||r&&1==e.nodeType?{node:n,offset:s}:LS(e,i)}function u_(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function BS(n,t,e){let r=n.childNodes.length;if(r&&e.top<e.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-e.top)/(e.bottom-e.top))-2)),s=i;;){let o=n.childNodes[s];if(1==o.nodeType){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(u_(t,c))return BS(o,t,c)}}if((s=(s+1)%r)==i)break}return n}function tG(n,t){let r,e=n.dom.ownerDocument,i=0;if(e.caretPositionFromPoint)try{let l=e.caretPositionFromPoint(t.left,t.top);l&&({offsetNode:r,offset:i}=l)}catch(l){}if(!r&&e.caretRangeFromPoint){let l=e.caretRangeFromPoint(t.left,t.top);l&&({startContainer:r,startOffset:i}=l)}let o,s=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top+1);if(!s||!n.dom.contains(1!=s.nodeType?s.parentNode:s)){let l=n.dom.getBoundingClientRect();if(!u_(t,l)||(s=BS(n.dom,t,l),!s))return null}if(hn)for(let l=s;r&&l;l=l_(l))l.draggable&&(r=void 0);if(s=function Jq(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}(s,t),r){if(Gr&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c,l=r.childNodes[i];"IMG"==l.nodeName&&(c=l.getBoundingClientRect()).right<=t.left&&c.bottom>t.top&&i++}r==n.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?o=n.state.doc.content.size:(0==i||1!=r.nodeType||"BR"!=r.childNodes[i-1].nodeName)&&(o=function eG(n,t,e,r){let i=-1;for(let s=t;s!=n.dom;){let o=n.docView.nearestDesc(s,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let a=o.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=o.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=o.posAfter}}s=o.dom.parentNode}return i>-1?i:n.docView.posFromDOM(t,e,1)}(n,r,i,t))}null==o&&(o=function Zq(n,t,e){let{node:r,offset:i}=LS(t,e),s=-1;if(1==r.nodeType&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&e.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}(n,s,t));let a=n.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function Zi(n,t){let e=n.getClientRects();return e.length?e[t<0?0:e.length-1]:n.getBoundingClientRect()}const nG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function VS(n,t,e){let{node:r,offset:i}=n.docView.domFromPos(t,e<0?-1:1),s=ep||Gr;if(3==r.nodeType){if(!s||!nG.test(r.nodeValue)&&(e<0?i:i!=r.nodeValue.length)){let o=i,a=i,l=e<0?1:-1;return e<0&&!i?(a++,l=-1):e>=0&&i==r.nodeValue.length?(o--,l=1):e<0?o--:a++,ic(Zi(bi(r,o,a),l),l<0)}{let o=Zi(bi(r,i,i),e);if(Gr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=Zi(bi(r,i-1,i-1),-1);if(a.top==o.top){let l=Zi(bi(r,i,i+1),-1);if(l.top!=o.top)return ic(l,l.left<a.left)}}return o}}if(!n.state.doc.resolve(t).parent.inlineContent){if(i&&(e<0||i==Qr(r))){let o=r.childNodes[i-1];if(1==o.nodeType)return d_(o.getBoundingClientRect(),!1)}if(i<Qr(r)){let o=r.childNodes[i];if(1==o.nodeType)return d_(o.getBoundingClientRect(),!0)}return d_(r.getBoundingClientRect(),e>=0)}if(i&&(e<0||i==Qr(r))){let o=r.childNodes[i-1],a=3==o.nodeType?bi(o,Qr(o)-(s?0:1)):1!=o.nodeType||"BR"==o.nodeName&&o.nextSibling?null:o;if(a)return ic(Zi(a,1),!1)}if(i<Qr(r)){let o=r.childNodes[i];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let a=o?3==o.nodeType?bi(o,0,s?0:1):1==o.nodeType?o:null:null;if(a)return ic(Zi(a,-1),!0)}return ic(Zi(3==r.nodeType?bi(r):r,-e),e>=0)}function ic(n,t){if(0==n.width)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function d_(n,t){if(0==n.height)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function HS(n,t,e){let r=n.state,i=n.root.activeElement;r!=t&&n.updateState(t),i!=n.dom&&n.focus();try{return e()}finally{r!=t&&n.updateState(r),i!=n.dom&&i&&i.focus()}}const iG=/[\u0590-\u08ac]/;let zS=null,$S=null,US=!1;class sc{constructor(t,e,r,i){this.parent=t,this.children=e,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let i=this.children[e];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}{let s,o;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}}let i;if(t==this.dom&&this.contentDOM)i=e>Ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(null==i&&e==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(null==i?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,i=t;i;i=i.parentNode){let o,s=this.getDesc(i);if(s&&(!e||s.node)){if(!r||!(o=s.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return s;r=!1}}}getDesc(t){let e=t.pmViewDesc;for(let r=e;r;r=r.parent)if(r==this)return e}posFromDOM(t,e,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let i=this.children[e],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};let s,r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof GS){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(s=this.children[r-1]).size&&s instanceof WS&&s.side>=0;r--);if(e<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,s&&s.dom.parentNode!=this.contentDOM;r--,o=!1);return s&&e&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,e):{node:this.contentDOM,offset:s?Ln(s.dom)+1:0}}{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,s&&s.dom.parentNode!=this.contentDOM;r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,e):{node:this.contentDOM,offset:s?Ln(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(-1==i&&t<=c){let p=o+l.border;if(t>=p&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,p);t=o;for(let m=a;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Ln(g.dom)+1;break}t-=g.size}-1==i&&(i=0)}if(i>-1&&(c>e||a==this.children.length-1)){e=c;for(let p=a+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ln(m.dom);break}e+=m.size}-1==s&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(1!=e.nodeType||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,i=!1){let s=Math.min(t,e),o=Math.max(t,e);for(let g=0,_=0;g<this.children.length;g++){let y=this.children[g],k=_+y.size;if(s>_&&o<k)return y.setSelection(t-_-y.border,e-_-y.border,r,i);_=k}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=r.getSelection(),p=!1;if((Gr||hn)&&t==e){let{node:g,offset:_}=a;if(3==g.nodeType){if(p=!(!_||"\n"!=g.nodeValue[_-1]),p&&_==g.nodeValue.length)for(let k,y=g;y;y=y.parentNode){if(k=y.nextSibling){"BR"==k.nodeName&&(a=l={node:k.parentNode,offset:Ln(k)+1});break}let S=y.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let y=g.childNodes[_-1];p=y&&("BR"==y.nodeName||"false"==y.contentEditable)}}if(Gr&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let g=c.focusNode.childNodes[c.focusOffset];g&&"false"==g.contentEditable&&(i=!0)}if(!(i||p&&hn)&&rc(a.node,a.offset,c.anchorNode,c.anchorOffset)&&rc(l.node,l.offset,c.focusNode,c.focusOffset))return;let m=!1;if((c.extend||t==e)&&!p){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),m=!0}catch(g){if(!(g instanceof DOMException))throw g}}if(!m){if(t>e){let _=a;a=l,l=_}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&e>=r:t<o&&e>r){let a=r+s.border,l=o-s.border;if(t>=a&&e<=l)return this.dirty=t==r||e==o?2:1,void(t!=a||e!=l||!s.contentLost&&s.dom.parentNode==this.contentDOM?s.markDirty(t-a,e-a):s.dirty=3);s.dirty=s.dom!=s.contentDOM||s.dom.parentNode!=this.contentDOM||s.children.length?3:2}r=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=1==t?2:1;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WS extends sc{constructor(t,e,r,i){let s,o=e.type.toDOM;if("function"==typeof o&&(o=o(r,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i)),!e.type.spec.raw){if(1!=o.nodeType){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,s=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class aG extends sc{constructor(t,e,r,i){super(t,[],e,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class Qs extends sc{constructor(t,e,r,i){super(t,[],r,i),this.mark=e}static create(t,e,r,i){let s=i.nodeViews[e.type.name],o=s&&s(e,i,r);return(!o||!o.dom)&&(o=jr.renderSpec(document,e.type.spec.toDOM(e,r))),new Qs(t,e,o.dom,o.contentDOM||o.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(t,e,r){let i=Qs.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;e<o&&(s=f_(s,e,o,r)),t>0&&(s=f_(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Xs extends sc{constructor(t,e,r,i,s,o,a,l,c){super(t,[],s,o),this.node=e,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,c)}static create(t,e,r,i,s,o){let l,a=s.nodeViews[e.type.name],c=a&&a(e,s,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:o,r,i),p=c&&c.dom,m=c&&c.contentDOM;if(e.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(e.text);else p||({dom:p,contentDOM:m}=jr.renderSpec(document,e.type.spec.toDOM(e)));!m&&!e.isText&&"BR"!=p.nodeName&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),e.type.spec.draggable&&(p.draggable=!0));let g=p;return p=XS(p,r,e),c?l=new lG(t,e,r,i,p,m||null,g,c,s,o+1):e.isText?new tp(t,e,r,i,p,g,s):new Xs(t,e,r,i,p,m||null,g,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>R.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,r){return 0==this.dirty&&t.eq(this.node)&&h_(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,i=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new uG(this,o&&o.node);(function hG(n,t,e,r){let i=t.locals(n),s=0;if(0==i.length){for(let c=0;c<n.childCount;c++){let p=n.child(c);r(p,i,t.forChild(s,p),c),s+=p.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){if(o<i.length&&i[o].to==s){let k,y=i[o++];for(;o<i.length&&i[o].to==s;)(k||(k=[y])).push(i[o++]);if(k){k.sort(pG);for(let S=0;S<k.length;S++)e(k[S],c,!!l)}else e(y,c,!!l)}let p,m;if(l)m=-1,p=l,l=null;else{if(!(c<n.childCount))break;m=c,p=n.child(c++)}for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let g=s+p.nodeSize;if(p.isText){let y=g;o<i.length&&i[o].from<y&&(y=i[o].from);for(let k=0;k<a.length;k++)a[k].to<y&&(y=a[k].to);y<g&&(l=p.cut(y-s),p=p.cut(0,y-s),g=y,m=-1)}r(p,p.isInline&&!p.isLeaf?a.filter(y=>!y.inline):a.slice(),t.forChild(s,p),m),s=g}})(this.node,this.innerDeco,(c,p,m)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!m&&l.syncToMarks(p==this.node.childCount?We.none:this.node.child(p).marks,r,t),l.placeWidget(c,t,i)},(c,p,m,g)=>{let _;l.syncToMarks(c.marks,r,t),l.findNodeMatch(c,p,m,g)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(_=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,p,m,_,t)||l.updateNextNode(c,p,m,t,g)||l.addNode(c,p,m,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),KS(this.contentDOM,this.children,t),va&&function fG(n){if("UL"==n.nodeName||"OL"==n.nodeName){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n),n.style.cssText=t}}(this.dom))}localCompositionInfo(t,e){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Oe)||r<e||i>e+this.node.content.size)return null;let s=t.domSelection(),o=function mG(n,t){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&t>0){if(n.childNodes.length>t&&3==n.childNodes[t].nodeType)return n.childNodes[t];t=Qr(n=n.childNodes[t-1])}else{if(!(1==n.nodeType&&t<n.childNodes.length))return null;n=n.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=function gG(n,t,e,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let c=n.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=e){let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,a,r-e,i-e);return l<0?null:{node:o,pos:l,text:a}}return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:i}){if(this.getDesc(e))return;let s=e;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new aG(this,s,e,i);t.input.compositionNodes.push(o),this.children=f_(this.children,r,r+i.length,t,o)}update(t,e,r,i){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,r,i),0))}updateInner(t,e,r,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(h_(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=QS(this.dom,this.nodeDOM,p_(this.outerDeco,this.node,e),p_(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function qS(n,t,e,r,i){return XS(r,t,n),new Xs(void 0,n,t,e,r,r,r,i,0)}class tp extends Xs{constructor(t,e,r,i,s,o,a){super(t,e,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,r){let i=this.node.cut(t,e),s=document.createTextNode(i.text);return new tp(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(0==t||e==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class GS extends sc{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class lG extends Xs{constructor(t,e,r,i,s,o,a,l,c,p){super(t,e,r,i,s,o,a,c,p),this.spec=l}update(t,e,r,i){if(3==this.dirty)return!1;if(this.spec.update){let s=this.spec.update(t,e,r);return s&&this.updateInner(t,e,r,i),s}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,i){this.spec.setSelection?this.spec.setSelection(t,e,r):super.setSelection(t,e,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function KS(n,t,e){let r=n.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=YS(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Qs){let l=r?r.previousSibling:n.lastChild;KS(o.contentDOM,o.children,e),r=l?l.nextSibling:n.firstChild}}for(;r;)r=YS(r),i=!0;i&&e.trackWrites==n&&(e.trackWrites=null)}const oc=function(n){n&&(this.nodeName=n)};oc.prototype=Object.create(null);const Ys=[new oc];function p_(n,t,e){if(0==n.length)return Ys;let r=e?Ys[0]:new oc,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new oc(o.nodeName));for(let a in o){let l=o[a];null!=l&&(e&&1==i.length&&i.push(r=new oc(t.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return i}function QS(n,t,e,r){if(e==Ys&&r==Ys)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=e[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ys[0]),i=l}cG(i,a||Ys[0],o)}return i}function cG(n,t,e){for(let r in t)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in e)&&n.removeAttribute(r);for(let r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&e[r]!=t[r]&&n.setAttribute(r,e[r]);if(t.class!=e.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=e.class?e.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)-1==i.indexOf(r[s])&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)-1==r.indexOf(i[s])&&n.classList.add(i[s]);0==n.classList.length&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;i=r.exec(t.style);)n.style.removeProperty(i[1])}e.style&&(n.style.cssText+=e.style)}}function XS(n,t,e){return QS(n,n,Ys,p_(t,e,1!=n.nodeType))}function h_(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function YS(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class uG{constructor(t,e){this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function dG(n,t){let e=t,r=e.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=e.children[r-1];if(!(c instanceof Qs)){a=c,r--;break}e=c,r=c.children.length}else{if(e==t)break e;r=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(t[s])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Qs.create(this.top,t[s],e,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,e,r,i){let o,s=-1;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,r)&&!this.preMatch.matched.has(c)){s=a;break}}return!(s<0||(this.destroyBetween(this.index,s),this.index++,0))}updateNodeAt(t,e,r,i,s){let o=this.top.children[i];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,r,s)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let r=t.pmViewDesc;if(r)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}t=e}}updateNextNode(t,e,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof Xs){let l=this.preMatch.matched.get(a);if(null!=l&&l!=s)return!1;let c=a.dom;if((!this.lock||!(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))||t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&h_(e,a.outerDeco))&&a.update(t,e,r,i))return this.destroyBetween(this.index,o),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,r,i,s){this.top.children.splice(this.index++,0,Xs.create(this.top,t,e,r,i,s)),this.changed=!0}placeWidget(t,e,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){let s=new WS(this.top,t,e,r);this.top.children.splice(this.index++,0,s),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Qs;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof tp)||/\n$/.test(t.node.text))&&((hn||rn)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let i=new GS(this.top,[],r,null);e!=this.top?e.children.push(i):e.children.splice(this.index++,0,i),this.changed=!0}}}function pG(n,t){return n.type.side-t.type.side}function f_(n,t,e,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,p=a+=l.size;c>=e||p<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),i&&(s.push(i),i=void 0),p>e&&s.push(l.slice(e-c,l.size,r)))}return s}function JS(n,t=null){let e=n.domSelection(),r=n.state.doc;if(!e.focusNode)return null;let i=n.docView.nearestDesc(e.focusNode),s=i&&0==i.size,o=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(o<0)return null;let l,c,a=r.resolve(o);if(c_(e)){for(l=a;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&ne.isSelectable(p)&&i.parent&&(!p.isInline||!function jq(n,t,e){for(let r=0==t,i=t==Qr(n);r||i;){if(n==e)return!0;let s=Ln(n);if(!(n=n.parentNode))return!1;r=r&&0==s,i=i&&s==Qr(n)}}(e.focusNode,e.focusOffset,i.dom))){let m=i.posBefore;c=new ne(o==m?a:r.resolve(m))}}else{let p=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(p<0)return null;l=r.resolve(p)}return c||(c=g_(n,l,a,"pointer"==t||n.state.selection.head<a.pos&&!s?1:-1)),c}function ZS(n){return n.editable?n.hasFocus():ox(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function es(n,t=!1){let e=n.state.selection;if(rx(n,e),ZS(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&rn){let r=n.domSelection(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&rc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return n.input.mouseDown.delayedSelectionSync=!0,void n.domObserver.setCurSelection()}if(n.domObserver.disconnectSelection(),n.cursorWrapper)!function vG(n){let t=n.domSelection(),e=document.createRange(),r=n.cursorWrapper.dom,i="IMG"==r.nodeName;i?e.setEnd(r.parentNode,Ln(r)+1):e.setEnd(r,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!i&&!n.state.selection.visible&&Fn&&Yi<=11&&(r.disabled=!0,r.disabled=!1)}(n);else{let s,o,{anchor:r,head:i}=e;ex&&!(e instanceof Oe)&&(e.$from.parent.inlineContent||(s=tx(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(o=tx(n,e.to))),n.docView.setSelection(r,i,n.root,t),ex&&(s&&nx(s),o&&nx(o)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function _G(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelection(),r=e.anchorNode,i=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=r||e.anchorOffset!=i)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!ZS(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const ex=hn||rn&&zq<63;function tx(n,t){let{node:e,offset:r}=n.docView.domFromPos(t,0),i=r<e.childNodes.length?e.childNodes[r]:null,s=r?e.childNodes[r-1]:null;if(hn&&i&&"false"==i.contentEditable)return m_(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return m_(i);if(s)return m_(s)}}function m_(n){return n.contentEditable="true",hn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function nx(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function rx(n,t){if(t instanceof ne){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(ix(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else ix(n)}function ix(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function g_(n,t,e,r){return n.someProp("createSelectionBetween",i=>i(n,t,e))||Oe.between(t,e,r)}function sx(n){return(!n.editable||n.root.activeElement==n.dom)&&ox(n)}function ox(n){let t=n.domSelection();if(!t.anchorNode)return!1;try{return n.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function __(n,t){let{$anchor:e,$head:r}=n.selection,i=t>0?e.max(r):e.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Ie.findFrom(s,t)}function Js(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function ax(n,t,e){let r=n.state.selection;if(!(r instanceof Oe)){if(r instanceof ne&&r.node.isInline)return Js(n,new Oe(t>0?r.$to:r.$from));{let i=__(n.state,t);return!!i&&Js(n,i)}}if(!r.empty||e.indexOf("s")>-1)return!1;if(n.endOfTextblock(t>0?"right":"left")){let i=__(n.state,t);return!!(i&&i instanceof ne)&&Js(n,i)}if(!(er&&e.indexOf("m")>-1)){let o,i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM)&&(ne.isSelectable(s)?Js(n,new ne(t<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):!!ep&&Js(n,new Oe(n.state.doc.resolve(t<0?a:a+s.nodeSize))))}}function np(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function ac(n){let t=n.pmViewDesc;return t&&0==t.size&&(n.nextSibling||"BR"!=n.nodeName)}function v_(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let i,s,o=!1;for(Gr&&1==e.nodeType&&r<np(e)&&ac(e.childNodes[r])&&(o=!0);;)if(r>0){if(1!=e.nodeType)break;{let a=e.childNodes[r-1];if(ac(a))i=e,s=--r;else{if(3!=a.nodeType)break;e=a,r=e.nodeValue.length}}}else{if(lx(e))break;{let a=e.previousSibling;for(;a&&ac(a);)i=e.parentNode,s=Ln(a),a=a.previousSibling;if(a)e=a,r=np(e);else{if(e=e.parentNode,e==n.dom)break;r=0}}}o?C_(n,t,e,r):i&&C_(n,t,i,s)}function y_(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let s,o,i=np(e);for(;;)if(r<i){if(1!=e.nodeType)break;if(!ac(e.childNodes[r]))break;s=e,o=++r}else{if(lx(e))break;{let a=e.nextSibling;for(;a&&ac(a);)s=a.parentNode,o=Ln(a)+1,a=a.nextSibling;if(a)e=a,r=0,i=np(e);else{if(e=e.parentNode,e==n.dom)break;r=i=0}}}s&&C_(n,t,s,o)}function lx(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function C_(n,t,e,r){if(c_(t)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),t.removeAllRanges(),t.addRange(s)}else t.extend&&t.extend(e,r);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&es(n)},50)}function cx(n,t,e){let r=n.state.selection;if(r instanceof Oe&&!r.empty||e.indexOf("s")>-1||er&&e.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let o=__(n.state,t);if(o&&o instanceof ne)return Js(n,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Rn?Ie.near(o,t):Ie.findFrom(o,t);return!!a&&Js(n,a)}return!1}function ux(n,t){if(!(n.state.selection instanceof Oe))return!0;let{$head:e,$anchor:r,empty:i}=n.state.selection;if(!e.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return t<0?o.delete(e.pos-s.nodeSize,e.pos):o.delete(e.pos,e.pos+s.nodeSize),n.dispatch(o),!0}return!1}function dx(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function px(n,t){let e=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,s--;let _=r.firstChild;e.push(_.type.name,_.attrs!=_.type.defaultAttrs?_.attrs:null),r=_.content}let o=n.someProp("clipboardSerializer")||jr.fromSchema(n.state.schema),a=Cx(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let p,c=l.firstChild,m=0;for(;c&&1==c.nodeType&&(p=vx[c.nodeName.toLowerCase()]);){for(let _=p.length-1;_>=0;_--){let y=a.createElement(p[_]);for(;l.firstChild;)y.appendChild(l.firstChild);l.appendChild(y),m++}c=l.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(e)}`),{dom:l,text:n.someProp("clipboardTextSerializer",_=>_(t))||t.content.textBetween(0,t.content.size,"\n\n")}}function hx(n,t,e,r,i){let o,a,s=i.parent.type.spec.code;if(!e&&!t)return null;let l=t&&(r||s||!e);if(l){if(n.someProp("transformPastedText",g=>{t=g(t,s||r)}),s)return t?new $(R.from(n.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):$.empty;let m=n.someProp("clipboardTextParser",g=>g(t,i,r));if(m)a=m;else{let g=i.marks(),{schema:_}=n.state,y=jr.fromSchema(_);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(k=>{let S=o.appendChild(document.createElement("p"));k&&S.appendChild(y.serializeNode(_.text(k,g)))})}}else n.someProp("transformPastedHTML",m=>{e=m(e)}),o=function wG(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let i,e=Cx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n);if((i=r&&vx[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=n,i)for(let s=0;s<i.length;s++)e=e.querySelector(i[s])||e;return e}(e),ep&&function SG(n){let t=n.querySelectorAll(rn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let r=t[e];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}(o);let c=o&&o.querySelector("[data-pm-slice]"),p=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0&&o.firstChild;m--)o=o.firstChild;if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Ks.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!(!l&&!p),context:i,ruleFromNode:g=>"BR"!=g.nodeName||g.nextSibling||!g.parentNode||DG.test(g.parentNode.nodeName)?null:{ignore:!0}})),p)a=function xG(n,t){if(!n.size)return n;let r,e=n.content.firstChild.type.schema;try{r=JSON.parse(t)}catch(a){return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=e.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=R.from(l.create(r[a+1],i)),s++,o++}return new $(i,s,o)}(_x(a,+p[1],+p[2]),p[4]);else if(a=$.maxOpen(function TG(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let s,i=t.node(e).contentMatchAt(t.index(e)),o=[];if(n.forEach(a=>{if(!o)return;let c,l=i.findWrapping(a.type);if(!l)return o=null;if(c=o.length&&s.length&&mx(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=gx(o[o.length-1],s.length));let p=fx(a,l);o.push(p),i=i.matchType(p.type),s=l}}),o)return R.from(o)}return n}(a.content,i),!0),a.openStart||a.openEnd){let m=0,g=0;for(let _=a.content.firstChild;m<a.openStart&&!_.type.spec.isolating;m++,_=_.firstChild);for(let _=a.content.lastChild;g<a.openEnd&&!_.type.spec.isolating;g++,_=_.lastChild);a=_x(a,m,g)}return n.someProp("transformPasted",m=>{a=m(a)}),a}const DG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fx(n,t,e=0){for(let r=t.length-1;r>=e;r--)n=t[r].create(null,R.from(n));return n}function mx(n,t,e,r,i){if(i<n.length&&i<t.length&&n[i]==t[i]){let s=mx(n,t,e,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?e.type:n[i+1]))return r.copy(r.content.append(R.from(fx(e,n,i+1))))}}function gx(n,t){if(0==t)return n;let e=n.content.replaceChild(n.childCount-1,gx(n.lastChild,t-1)),r=n.contentMatchAt(n.childCount).fillBefore(R.empty,!0);return n.copy(e.append(r))}function b_(n,t,e,r,i,s){let o=t<0?n.firstChild:n.lastChild,a=o.content;return i<r-1&&(a=b_(a,t,e,r,i+1,s)),i>=e&&(a=t<0?o.contentMatchAt(0).fillBefore(a,n.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(R.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,o.copy(a))}function _x(n,t,e){return t<n.openStart&&(n=new $(b_(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new $(b_(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const vx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yx=null;function Cx(){return yx||(yx=document.implementation.createHTMLDocument("title"))}const fn={};let sn={};class MG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Zs(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function k_(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>D_(n,r))})}function D_(n,t){return n.someProp("handleDOMEvents",e=>{let r=e[t.type];return!!r&&(r(n,t)||t.defaultPrevented)})}function PG(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function rp(n){return{left:n.clientX,top:n.clientY}}function T_(n,t,e,r,i){if(-1==r)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(t,a=>o>s.depth?a(n,e,s.nodeAfter,s.before(o),i,!0):a(n,e,s.node(o),s.before(o),i,!1)))return!0;return!1}function ka(n,t,e){n.focused||n.focus();let r=n.state.tr.setSelection(t);"pointer"==e&&r.setMeta("pointer",!0),n.dispatch(r)}function LG(n,t,e,r){return T_(n,"handleDoubleClickOn",t,e,r)||n.someProp("handleDoubleClick",i=>i(n,t,r))}function BG(n,t,e,r){return T_(n,"handleTripleClickOn",t,e,r)||n.someProp("handleTripleClick",i=>i(n,t,r))||function VG(n,t,e){if(0!=e.button)return!1;let r=n.state.doc;if(-1==t)return!!r.inlineContent&&(ka(n,Oe.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)ka(n,Oe.create(r,a+1,a+1+o.content.size),"pointer");else{if(!ne.isSelectable(o))continue;ka(n,ne.create(r,a),"pointer")}return!0}}(n,e,r)}function w_(n){return ip(n)}sn.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=16==e.keyCode||e.shiftKey,!kx(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!Kr||!rn||13!=e.keyCode))if(229!=e.keyCode&&n.domObserver.forceFlush(),!va||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)n.someProp("handleKeyDown",r=>r(n,e))||function kG(n,t){let e=t.keyCode,r=function bG(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}(t);return 8==e||er&&72==e&&"c"==r?ux(n,-1)||v_(n):46==e||er&&68==e&&"c"==r?ux(n,1)||y_(n):13==e||27==e||(37==e||er&&66==e&&"c"==r?ax(n,-1,r)||v_(n):39==e||er&&70==e&&"c"==r?ax(n,1,r)||y_(n):38==e||er&&80==e&&"c"==r?cx(n,-1,r)||v_(n):40==e||er&&78==e&&"c"==r?function CG(n){if(!hn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelection();if(t&&1==t.nodeType&&0==e&&t.firstChild&&"false"==t.firstChild.contentEditable){let r=t.firstChild;dx(n,r,"true"),setTimeout(()=>dx(n,r,"false"),20)}return!1}(n)||cx(n,1,r)||y_(n):r==(er?"m":"c")&&(66==e||73==e||89==e||90==e))}(n,e)?e.preventDefault():Zs(n,"key");else{let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,ya(13,"Enter"))),n.input.lastIOSEnter=0)},200)}},sn.keyup=(n,t)=>{16==t.keyCode&&(n.input.shiftKey=!1)},sn.keypress=(n,t)=>{let e=t;if(kx(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||er&&e.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,e)))return void e.preventDefault();let r=n.state.selection;if(!(r instanceof Oe&&r.$from.sameParent(r.$to))){let i=String.fromCharCode(e.charCode);n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}};const bx=er?"metaKey":"ctrlKey";fn.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let r=w_(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&function OG(n,t){let e=t.x-n.clientX,r=t.y-n.clientY;return e*e+r*r<100}(e,n.input.lastClick)&&!e[bx]&&("singleClick"==n.input.lastClick.type?s="doubleClick":"doubleClick"==n.input.lastClick.type&&(s="tripleClick")),n.input.lastClick={time:i,x:e.clientX,y:e.clientY,type:s};let o=n.posAtCoords(rp(e));!o||("singleClick"==s?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new HG(n,o,e,!!r)):("doubleClick"==s?LG:BG)(n,o.pos,o.inside,e)?e.preventDefault():Zs(n,"pointer"))};class HG{constructor(t,e,r,i){let s,o;if(this.view=t,this.pos=e,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[bx],this.allowDefault=r.shiftKey,e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside;else{let p=t.state.doc.resolve(e.pos);s=p.parent,o=p.depth?p.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(0==r.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||c instanceof ne&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Gr||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>es(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(rp(t))),this.allowDefault||!e?Zs(this.view,"pointer"):function FG(n,t,e,r,i){return T_(n,"handleClickOn",t,e,r)||n.someProp("handleClick",s=>s(n,t,r))||(i?function RG(n,t){if(-1==t)return!1;let r,i,e=n.state.selection;e instanceof ne&&(r=e.node);let s=n.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ne.isSelectable(a)){i=r&&e.$from.depth>0&&o>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?s.before(e.$from.depth):s.before(o);break}}return null!=i&&(ka(n,ne.create(n.state.doc,i),"pointer"),!0)}(n,e):function NG(n,t){if(-1==t)return!1;let e=n.state.doc.resolve(t),r=e.nodeAfter;return!!(r&&r.isAtom&&ne.isSelectable(r))&&(ka(n,new ne(e),"pointer"),!0)}(n,e))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||hn&&this.mightDrag&&!this.mightDrag.node.isAtom||rn&&!(this.view.state.selection instanceof Oe)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ka(this.view,Ie.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Zs(this.view,"pointer")}move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Zs(this.view,"pointer"),0==t.buttons&&this.done()}}function kx(n,t){return!!n.composing||!!(hn&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500)&&(n.input.compositionEndedAt=-2e8,!0)}fn.touchdown=n=>{w_(n),Zs(n,"pointer")},fn.contextmenu=n=>w_(n);const zG=Kr?5e3:-1;function Dx(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>ip(n),t))}function Tx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=function $G(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function ip(n,t=!1){if(!(Kr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Tx(n),t||n.docView&&n.docView.dirty){let e=JS(n);return e&&!e.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(e)):n.updateState(n.state),!0}return!1}}sn.compositionstart=sn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(r=>!1===r.type.spec.inclusive)))n.markCursor=n.state.storedMarks||e.marks(),ip(n,!0),n.markCursor=null;else if(ip(n),Gr&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let r=n.domSelection();for(let i=r.focusNode,s=r.focusOffset;i&&1==i.nodeType&&0!=s;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(3==o.nodeType){r.collapse(o,o.nodeValue.length);break}i=o,s=-1}}n.input.composing=!0}Dx(n,zG)},sn.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,Dx(n,20))};const Da=Fn&&Yi<15||va&&$q<604;function S_(n,t,e,r){let i=hx(n,t,e,n.input.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,r,i||$.empty)))return!0;if(!i)return!1;let s=function jG(n){return 0==n.openStart&&0==n.openEnd&&1==n.content.childCount?n.content.firstChild:null}(i),o=s?n.state.tr.replaceSelectionWith(s,n.input.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}fn.copy=sn.cut=(n,t)=>{let e=t,r=n.state.selection,i="cut"==e.type;if(r.empty)return;let s=Da?null:e.clipboardData,o=r.content(),{dom:a,text:l}=px(n,o);s?(e.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):function UG(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},sn.paste=(n,t)=>{let e=t;if(n.composing&&!Kr)return;let r=Da?null:e.clipboardData;r&&S_(n,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function WG(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),e?S_(n,r.value,null,t):S_(n,r.textContent,r.innerHTML,t)},50)}(n,e)};class qG{constructor(t,e){this.slice=t,this.move=e}}const wx=er?"altKey":"ctrlKey";fn.dragstart=(n,t)=>{let e=t,r=n.input.mouseDown;if(r&&r.done(),!e.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(rp(e));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ne?i.to-1:i.to)))if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(ne.create(n.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){let c=n.docView.nearestDesc(e.target,!0);c&&c.node.type.spec.draggable&&c!=n.docView&&n.dispatch(n.state.tr.setSelection(ne.create(n.state.doc,c.posBefore)))}let o=n.state.selection.content(),{dom:a,text:l}=px(n,o);e.dataTransfer.clearData(),e.dataTransfer.setData(Da?"Text":"text/html",a.innerHTML),e.dataTransfer.effectAllowed="copyMove",Da||e.dataTransfer.setData("text/plain",l),n.dragging=new qG(o,!e[wx])},fn.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)},sn.dragover=sn.dragenter=(n,t)=>t.preventDefault(),sn.drop=(n,t)=>{let e=t,r=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let i=n.posAtCoords(rp(e));if(!i)return;let s=n.state.doc.resolve(i.pos);if(!s)return;let o=r&&r.slice;o?n.someProp("transformPasted",y=>{o=y(o)}):o=hx(n,e.dataTransfer.getData(Da?"Text":"text/plain"),Da?null:e.dataTransfer.getData("text/html"),!1,s);let a=!(!r||e[wx]);if(n.someProp("handleDrop",y=>y(n,e,o||$.empty,a)))return void e.preventDefault();if(!o)return;e.preventDefault();let l=o?function Eq(n,t,e){let r=n.resolve(t);if(!e.content.size)return t;let i=e.content;for(let s=0;s<e.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(0==e.openStart&&e.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),p=!1;if(1==s)p=c.canReplace(l,l,i);else{let m=c.contentMatchAt(l).findWrapping(i.firstChild.type);p=m&&c.canReplaceWith(l,l,m[0])}if(p)return 0==a?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}(n.state.doc,s.pos,o):s.pos;null==l&&(l=s.pos);let c=n.state.tr;a&&c.deleteSelection();let p=c.mapping.map(l),m=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,g=c.doc;if(m?c.replaceRangeWith(p,p,o.content.firstChild):c.replaceRange(p,p,o),c.doc.eq(g))return;let _=c.doc.resolve(p);if(m&&ne.isSelectable(o.content.firstChild)&&_.nodeAfter&&_.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ne(_));else{let y=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((k,S,E,x)=>y=x),c.setSelection(g_(n,_,c.doc.resolve(y)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))},fn.focus=n=>{n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelection())&&es(n)},20))},fn.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)},fn.beforeinput=(n,t)=>{if(rn&&Kr&&"deleteContentBackward"==t.inputType){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,ya(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in sn)fn[n]=sn[n];function lc(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class x_{constructor(t,e){this.toDOM=t,this.spec=e||eo,this.side=this.spec.side||0}map(t,e,r,i){let{pos:s,deleted:o}=t.mapResult(e.from+i,this.side<0?-1:1);return o?null:new tr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof x_&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&lc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ts{constructor(t,e){this.attrs=t,this.spec=e||eo}map(t,e,r,i){let s=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new tr(s,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof ts&&lc(this.attrs,t.attrs)&&lc(this.spec,t.spec)}static is(t){return t.type instanceof ts}destroy(){}}class M_{constructor(t,e){this.attrs=t,this.spec=e||eo}map(t,e,r,i){let s=t.mapResult(e.from+i,1);if(s.deleted)return null;let o=t.mapResult(e.to+i,-1);return o.deleted||o.pos<=s.pos?null:new tr(s.pos-r,o.pos-r,this)}valid(t,e){let s,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(s=t.child(r)).isText&&i+s.nodeSize==e.to}eq(t){return this==t||t instanceof M_&&lc(this.attrs,t.attrs)&&lc(this.spec,t.spec)}destroy(){}}class tr{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new tr(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new tr(t,t,new x_(e,r))}static inline(t,e,r,i){return new tr(t,e,new ts(r,i))}static node(t,e,r,i){return new tr(t,e,new M_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ts}}const Ta=[],eo={};class xt{constructor(t,e){this.local=t.length?t:Ta,this.children=e.length?e:Ta}static create(t,e){return e.length?sp(e,t,0,eo):Ut}find(t,e,r){let i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,r),i}findInner(t,e,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,r,i+a,s)}}map(t,e,r){return this==Ut||0==t.maps.length?this:this.mapInner(t,e,0,0,r||eo)}mapInner(t,e,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(e,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?function GG(n,t,e,r,i,s,o){let a=n.slice(),l=(p,m,g,_)=>{for(let y=0;y<a.length;y+=3){let S,k=a[y+1];if(k<0||p>k+s)continue;let E=a[y]+s;m>=E?a[y+1]=p<=E?-2:-1:g>=i&&(S=_-g-(m-p))&&(a[y]+=S,a[y+1]+=S)}};for(let p=0;p<e.maps.length;p++)e.maps[p].forEach(l);let c=!1;for(let p=0;p<a.length;p+=3)if(a[p+1]<0){if(-2==a[p+1]){c=!0,a[p+1]=-1;continue}let m=e.map(n[p]+s),g=m-i;if(g<0||g>=r.content.size){c=!0;continue}let y=e.map(n[p+1]+s,-1)-i,{index:k,offset:S}=r.content.findIndex(g),E=r.maybeChild(k);if(E&&S==g&&S+E.nodeSize==y){let x=a[p+2].mapInner(e,E,m+1,n[p]+s+1,o);x!=Ut?(a[p]=g,a[p+1]=y,a[p+2]=x):(a[p+1]=-2,c=!0)}else c=!0}if(c){let p=function KG(n,t,e,r,i,s,o){function a(l,c){for(let p=0;p<l.local.length;p++){let m=l.local[p].map(r,i,c);m?e.push(m):o.onRemove&&o.onRemove(l.local[p].spec)}for(let p=0;p<l.children.length;p+=3)a(l.children[p+2],l.children[p]+c+1)}for(let l=0;l<n.length;l+=3)-1==n[l+1]&&a(n[l+2],t[l]+s+1);return e}(a,n,t,e,i,s,o),m=sp(p,r,0,o);t=m.local;for(let g=0;g<a.length;g+=3)a[g+1]<0&&(a.splice(g,3),g-=3);for(let g=0,_=0;g<m.children.length;g+=3){let y=m.children[g];for(;_<a.length&&a[_]<y;)_+=3;a.splice(_,0,m.children[g],m.children[g+1],m.children[g+2])}}return new xt(t.sort(to),a)}(this.children,o||[],t,e,r,i,s):o?new xt(o.sort(to),Ta):Ut}add(t,e){return e.length?this==Ut?xt.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let i,s=0;t.forEach((a,l)=>{let p,c=l+r;if(p=xx(e,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,p,c+1):i.splice(s,0,l,l+a.nodeSize,sp(p,a,c+1,eo)),s+=3}});let o=Sx(s?Mx(e):e,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new xt(o.length?this.local.concat(o).sort(to):this.local,i||this.children)}remove(t){return 0==t.length||this==Ut?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+e,l=r[s+1]+e;for(let m,p=0;p<t.length;p++)(m=t[p])&&m.from>a&&m.to<l&&(t[p]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Ut?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length)for(let o,s=0;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,e)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1));return r==this.children&&i==this.local?this:i.length||r.length?new xt(i,r):Ut}forChild(t,e){if(this==Ut)return this;if(e.isLeaf)return xt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof ts){let c=Math.max(s,l.from)-s,p=Math.min(o,l.to)-s;c<p&&(i||(i=[])).push(l.copy(c,p))}}if(i){let a=new xt(i.sort(to),Ta);return r?new ns([a,r]):a}return r||Ut}eq(t){if(this==t)return!0;if(!(t instanceof xt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return E_(this.localsInner(t))}localsInner(t){if(this==Ut)return Ta;if(t.inlineContent||!this.local.some(ts.is))return this.local;let e=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ts||e.push(this.local[r]);return e}}xt.empty=new xt([],[]),xt.removeOverlap=E_;const Ut=xt.empty;class ns{constructor(t){this.members=t}map(t,e){const r=this.members.map(i=>i.map(t,e,eo));return ns.from(r)}forChild(t,e){if(e.isLeaf)return xt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,e);s!=Ut&&(s instanceof ns?r=r.concat(s.members):r.push(s))}return ns.from(r)}eq(t){if(!(t instanceof ns)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(e){r&&(e=e.slice(),r=!1);for(let o=0;o<s.length;o++)e.push(s[o])}else e=s}return e?E_(r?e:e.sort(to)):Ta}static from(t){switch(t.length){case 0:return Ut;case 1:return t[0];default:return new ns(t)}}}function Sx(n,t){if(!t||!n.length)return n;let e=[];for(let r=0;r<n.length;r++){let i=n[r];e.push(new tr(i.from+t,i.to+t,i.type))}return e}function xx(n,t,e){if(t.isLeaf)return null;let r=e+t.nodeSize,i=null;for(let o,s=0;s<n.length;s++)(o=n[s])&&o.from>e&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function Mx(n){let t=[];for(let e=0;e<n.length;e++)null!=n[e]&&t.push(n[e]);return t}function sp(n,t,e,r){let i=[],s=!1;t.forEach((a,l)=>{let c=xx(n,a,l+e);if(c){s=!0;let p=sp(c,a,e+l+1,r);p!=Ut&&i.push(l,l+a.nodeSize,p)}});let o=Sx(s?Mx(n):n,-e).sort(to);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new xt(o,i):Ut}function to(n,t){return n.from-t.from||n.to-t.to}function E_(n){let t=n;for(let e=0;e<t.length-1;e++){let r=t[e];if(r.from!=r.to)for(let i=e+1;i<t.length;i++){let s=t[i];if(s.from!=r.from){s.from<r.to&&(t==n&&(t=n.slice()),t[e]=r.copy(r.from,s.from),Ex(t,i,r.copy(s.from,r.to)));break}s.to!=r.to&&(t==n&&(t=n.slice()),t[i]=s.copy(s.from,r.to),Ex(t,i+1,s.copy(r.to,s.to)))}}return t}function Ex(n,t,e){for(;t<n.length&&to(e,n[t])>0;)t++;n.splice(t,0,e)}function I_(n){let t=[];return n.someProp("decorations",e=>{let r=e(n.state);r&&r!=Ut&&t.push(r)}),n.cursorWrapper&&t.push(xt.create(n.state.doc,[n.cursorWrapper.deco])),ns.from(t)}const QG={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},XG=Fn&&Yi<=11;class YG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class JG{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YG,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fn&&Yi<=11&&r.some(i=>"childList"==i.type&&i.removedNodes.length||"characterData"==i.type&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),XG&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,QG),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(sx(this.view)){if(this.suppressingSelectionUpdates)return es(this.view);if(Fn&&Yi<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&rc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(0==t.rangeCount)return!0;let e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let e=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&sx(this.view)&&!this.ignoreSelectionChange(e),i=-1,s=-1,o=!1,a=[];if(this.view.editable)for(let l=0;l<t.length;l++){let c=this.registerMutation(t[l],a);c&&(i=i<0?c.from:Math.min(c.from,i),s=s<0?c.to:Math.max(c.to,s),c.typeOver&&(o=!0))}if(Gr&&a.length>1){let l=a.filter(c=>"BR"==c.nodeName);if(2==l.length){let c=l[0],p=l[1];c.parentNode&&c.parentNode.parentNode==p.parentNode?p.remove():c.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,s),function ZG(n){Ix||(Ix=!0,"normal"==getComputedStyle(n.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(i,s,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||es(this.view),this.currentSelection.set(e))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(let p=0;p<t.addedNodes.length;p++)e.push(t.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Fn&&Yi<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:m,nextSibling:g}=t.addedNodes[p];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(s=g)}let o=i&&i.parentNode==t.target?Ln(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?Ln(s):t.target.childNodes.length;return{from:a,to:r.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Ix=!1;function tK(n){let t=n.pmViewDesc;if(t)return t.parseRule();if("BR"==n.nodeName&&n.parentNode){if(hn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(n.parentNode.lastChild==n||hn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Px(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:g_(n,t.resolve(e.anchor),t.resolve(e.head))}function P_(n,t,e){let r=n.depth,i=t?n.end():n.pos;for(;r>0&&(t||n.indexAfter(r)==n.node(r).childCount);)r--,i++,t=!1;if(e){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}class oK{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new MG,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Fx),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Nx(this),Ox(this),this.nodeViews=Rx(this),this.docView=qS(this.state.doc,Ax(this),I_(this),this.dom,this),this.domObserver=new JG(this,(r,i,s,o)=>function nK(n,t,e,r,i){if(t<0){let Y=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Ye=JS(n,Y);if(Ye&&!n.state.selection.eq(Ye)){let kt=n.state.tr.setSelection(Ye);"pointer"==Y?kt.setMeta("pointer",!0):"key"==Y&&kt.scrollIntoView(),n.dispatch(kt)}return}let s=n.state.doc.resolve(t),o=s.sharedDepth(e);t=s.before(o+1),e=n.state.doc.resolve(e).after(o+1);let a=n.state.selection,l=function eK(n,t,e){let c,{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(t,e),l=n.domSelection(),p=l.anchorNode;if(p&&n.dom.contains(1==p.nodeType?p:p.parentNode)&&(c=[{node:p,offset:l.anchorOffset}],c_(l)||c.push({node:l.focusNode,offset:l.focusOffset})),rn&&8===n.input.lastKeyCode)for(let S=s;S>i;S--){let E=r.childNodes[S-1],x=E.pmViewDesc;if("BR"==E.nodeName&&!x){s=S;break}if(!x||x.size)break}let m=n.state.doc,g=n.someProp("domParser")||Ks.fromSchema(n.state.schema),_=m.resolve(o),y=null,k=g.parse(r,{topNode:_.parent,topMatch:_.parent.contentMatchAt(_.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=_.parent.type.whitespace||"full",findPositions:c,ruleFromNode:tK,context:_});if(c&&null!=c[0].pos){let S=c[0].pos,E=c[1]&&c[1].pos;null==E&&(E=S),y={anchor:S+o,head:E+o}}return{doc:k,sel:y,from:o,to:a}}(n,t,e);if(rn&&n.cursorWrapper&&l.sel&&l.sel.anchor==n.cursorWrapper.deco.from){let Y=n.cursorWrapper.deco.type.toDOM.nextSibling,Ye=Y&&Y.nodeValue?Y.nodeValue.length:1;l.sel={anchor:l.sel.anchor+Ye,head:l.sel.anchor+Ye}}let m,g,c=n.state.doc,p=c.slice(l.from,l.to);8===n.input.lastKeyCode&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,g="end"):(m=n.state.selection.from,g="start"),n.input.lastKeyCode=null;let _=function sK(n,t,e,r,i){let s=n.findDiffStart(t,e);if(null==s)return null;let{a:o,b:a}=n.findDiffEnd(t,e+n.size,e+t.size);return"end"==i&&(r-=o+Math.max(0,s-Math.min(o,a))-s),o<s&&n.size<t.size?(s-=r<=s&&r>=o?s-r:0,a=s+(a-o),o=s):a<s&&(s-=r<=s&&r>=a?s-r:0,o=s+(o-a),a=s),{start:s,endA:o,endB:a}}(p.content,l.doc.content,l.from,m,g);if((va&&n.input.lastIOSEnter>Date.now()-225||Kr)&&i.some(Y=>"DIV"==Y.nodeName||"P"==Y.nodeName)&&(!_||_.endA>=_.endB)&&n.someProp("handleKeyDown",Y=>Y(n,ya(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(!_){if(!(r&&a instanceof Oe&&!a.empty&&a.$head.sameParent(a.$anchor))||n.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let Y=Px(n,n.state.doc,l.sel);Y&&!Y.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(Y))}return}_={start:a.from,endA:a.to,endB:a.to}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&_.start==_.endB&&n.state.selection instanceof Oe&&(_.start>n.state.selection.from&&_.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?_.start=n.state.selection.from:_.endA<n.state.selection.to&&_.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(_.endB+=n.state.selection.to-_.endA,_.endA=n.state.selection.to)),Fn&&Yi<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>l.from&&" \xa0"==l.doc.textBetween(_.start-l.from-1,_.start-l.from+1)&&(_.start--,_.endA--,_.endB--);let x,y=l.doc.resolveNoCache(_.start-l.from),k=l.doc.resolveNoCache(_.endB-l.from),S=c.resolve(_.start),E=y.sameParent(k)&&y.parent.inlineContent&&S.end()>=_.endA;if((va&&n.input.lastIOSEnter>Date.now()-225&&(!E||i.some(Y=>"DIV"==Y.nodeName||"P"==Y.nodeName))||!E&&y.pos<l.doc.content.size&&(x=Ie.findFrom(l.doc.resolve(y.pos+1),1,!0))&&x.head==k.pos)&&n.someProp("handleKeyDown",Y=>Y(n,ya(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(n.state.selection.anchor>_.start&&function iK(n,t,e,r,i){if(!r.parent.isTextblock||e-t<=i.pos-r.pos||P_(r,!0,!1)<i.pos)return!1;let s=n.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(P_(s,!0,!0));return!(!o.parent.isTextblock||o.pos>e||P_(o,!0,!1)<e)&&r.parent.content.cut(r.parentOffset).eq(o.parent.content)}(c,_.start,_.endA,y,k)&&n.someProp("handleKeyDown",Y=>Y(n,ya(8,"Backspace"))))return void(Kr&&rn&&n.domObserver.suppressSelectionUpdates());rn&&Kr&&_.endB==_.start&&(n.input.lastAndroidDelete=Date.now()),Kr&&!E&&y.start()!=k.start()&&0==k.parentOffset&&y.depth==k.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==_.endA&&(_.endB-=2,k=l.doc.resolveNoCache(_.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(Y){return Y(n,ya(13,"Enter"))})},20));let G,xe,Me,N=_.start,V=_.endA;if(E)if(y.pos==k.pos)Fn&&Yi<=11&&0==y.parentOffset&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>es(n),20)),G=n.state.tr.delete(N,V),xe=c.resolve(_.start).marksAcross(c.resolve(_.endA));else if(_.endA==_.endB&&(Me=function rK(n,t){let o,a,l,e=n.firstChild.marks,r=t.firstChild.marks,i=e,s=r;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<e.length;p++)s=e[p].removeFromSet(s);if(1==i.length&&0==s.length)a=i[0],o="add",l=p=>p.mark(a.addToSet(p.marks));else{if(0!=i.length||1!=s.length)return null;a=s[0],o="remove",l=p=>p.mark(a.removeFromSet(p.marks))}let c=[];for(let p=0;p<t.childCount;p++)c.push(l(t.child(p)));if(R.from(c).eq(n))return{mark:a,type:o}}(y.parent.content.cut(y.parentOffset,k.parentOffset),S.parent.content.cut(S.parentOffset,_.endA-S.start()))))G=n.state.tr,"add"==Me.type?G.addMark(N,V,Me.mark):G.removeMark(N,V,Me.mark);else if(y.parent.child(y.index()).isText&&y.index()==k.index()-(k.textOffset?0:1)){let Y=y.parent.textBetween(y.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",Ye=>Ye(n,N,V,Y)))return;G=n.state.tr.insertText(Y,N,V)}if(G||(G=n.state.tr.replace(N,V,l.doc.slice(_.start-l.from,_.endB-l.from))),l.sel){let Y=Px(n,G.doc,l.sel);Y&&!(rn&&Kr&&n.composing&&Y.empty&&(_.start!=_.endB||n.input.lastAndroidDelete<Date.now()-100)&&(Y.head==N||Y.head==G.mapping.map(V)-1)||Fn&&Y.empty&&Y.head==N)&&G.setSelection(Y)}xe&&G.ensureMarks(xe),n.dispatch(G.scrollIntoView())}(this,r,i,s,o)),this.domObserver.start(),function EG(n){for(let t in fn){let e=fn[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>{PG(n,r)&&!D_(n,r)&&(n.editable||!(r.type in sn))&&e(n,r)})}hn&&n.dom.addEventListener("input",()=>null),k_(n)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&k_(this),this._props=t,t.plugins&&(t.plugins.forEach(Fx),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}setProps(t){let e={};for(let r in this._props)e[r]=this._props[r];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}updateStateInner(t,e){let r=this.state,i=!1,s=!1;if(t.storedMarks&&this.composing&&(Tx(this),s=!0),this.state=t,e){let m=Rx(this);(function lK(n,t){let e=0,r=0;for(let i in n){if(n[i]!=t[i])return!0;e++}for(let i in t)r++;return e!=r})(m,this.nodeViews)&&(this.nodeViews=m,i=!0),k_(this)}this.editable=Nx(this),Ox(this);let o=I_(this),a=Ax(this),l=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(t.doc,a,o);(c||!t.selection.eq(r.selection))&&(s=!0);let p="preserve"==l&&s&&null==this.dom.style.overflowAnchor&&function Kq(n){let r,i,t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top);for(let s=(t.left+t.right)/2,o=e+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:RS(n.dom)}}(this);if(s){this.domObserver.stop();let m=c&&(Fn||rn)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&function aK(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}(r.selection,t.selection);if(c){let g=rn?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(t.doc,a,o,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=qS(t.doc,a,o,this.dom,this)),g&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function yG(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelection();return rc(t.node,t.offset,e.anchorNode,e.anchorOffset)}(this))?es(this,m):(rx(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){let m=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",g=>g(this)))if(t.selection instanceof ne){let g=this.docView.domAfterPos(t.selection.from);1==g.nodeType&&NS(this,g.getBoundingClientRect(),m)}else NS(this,this.coordsAtPos(t.selection.head,1),m)}else p&&function Qq({refDOM:n,refTop:t,stack:e}){let r=n?n.getBoundingClientRect().top:0;FS(e,0==r?0:r-t)}(p)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let r=this.state.plugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}}someProp(t,e){let i,r=this._props&&this._props[t];if(null!=r&&(i=e?e(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(null!=a&&(i=e?e(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(null!=a&&(i=e?e(a):a))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function Xq(n){if(n.setActive)return n.setActive();if(Ca)return n.focus(Ca);let t=RS(n);n.focus(null==Ca?{get preventScroll(){return Ca={preventScroll:!0},!0}}:void 0),Ca||(Ca=!1,FS(t,0))}(this.dom),es(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}posAtCoords(t){return tG(this,t)}coordsAtPos(t,e=1){return VS(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let i=this.docView.posFromDOM(t,e,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,e){return function oG(n,t,e){return zS==t&&$S==e?US:(zS=t,$S=e,US="up"==e||"down"==e?function rG(n,t,e){let r=t.selection,i="up"==e?r.$from:r.$to;return HS(n,t,()=>{let{node:s}=n.docView.domFromPos(i.pos,"up"==e?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}let o=VS(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=bi(a,0,a.nodeValue.length).getClientRects()}for(let c=0;c<l.length;c++){let p=l[c];if(p.bottom>p.top+1&&("up"==e?o.top-p.top>2*(p.bottom-o.top):p.bottom-o.bottom>2*(o.bottom-p.top)))return!1}}return!0})}(n,t,e):function sG(n,t,e){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return iG.test(r.parent.textContent)&&a.modify?HS(n,t,()=>{let l=a.getRangeAt(0),c=a.focusNode,p=a.focusOffset,m=a.caretBidiLevel;a.modify("move",e,"character");let _=!(r.depth?n.docView.domAfterPos(r.before()):n.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||c==a.focusNode&&p==a.focusOffset;return a.removeAllRanges(),a.addRange(l),null!=m&&(a.caretBidiLevel=m),_}):"left"==e||"backward"==e?s:o}(n,t,e))}(this,e||this.state,t)}destroy(){!this.docView||(function IG(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],I_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function AG(n,t){!D_(n,t)&&fn[t.type]&&(n.editable||!(t.type in sn))&&fn[t.type](n,t)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function Ax(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),t.translate="no",n.someProp("attributes",e=>{if("function"==typeof e&&(e=e(n.state)),e)for(let r in e)"class"==r&&(t.class+=" "+e[r]),"style"==r?t.style=(t.style?t.style+";":"")+e[r]:!t[r]&&"contenteditable"!=r&&"nodeName"!=r&&(t[r]=String(e[r]))}),[tr.node(0,n.state.doc.content.size,t)]}function Ox(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:tr.widget(n.state.selection.head,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Nx(n){return!n.someProp("editable",t=>!1===t(n.state))}function Rx(n){let t=Object.create(null);return n.someProp("nodeViews",e=>{for(let r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r])}),t}function Fx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const cK=["ol",0],uK=["ul",0],dK=["li",0],Lx={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:n=>({order:n.hasAttribute("start")?+n.getAttribute("start"):1})}],toDOM:n=>1==n.attrs.order?cK:["ol",{start:n.attrs.order},0]},Bx={parseDOM:[{tag:"ul"}],toDOM:()=>uK};function fK(n){return function(t,e){let{$from:r,$to:i,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(i))return!1;let o=r.node(-1);if(o.type!=n)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){let p=R.empty,m=r.index(-1)?1:r.index(-2)?2:3;for(let S=r.depth-m;S>=r.depth-3;S--)p=R.from(r.node(S).copy(p));let g=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;p=p.append(R.from(n.createAndFill()));let _=r.before(r.depth-(m-1)),y=t.tr.replace(_,r.after(-g),new $(p,4-m,0)),k=-1;y.doc.nodesBetween(_,y.doc.content.size,(S,E)=>{if(k>-1)return!1;S.isTextblock&&0==S.content.size&&(k=E+1)}),k>-1&&y.setSelection(Ie.near(y.doc.resolve(k))),e(y.scrollIntoView())}return!0}let a=i.pos==r.end()?o.contentMatchAt(0).defaultType:null,l=t.tr.delete(r.pos,i.pos),c=a?[null,{type:a}]:void 0;return!!ha(l.doc,r.pos,2,c)&&(e&&e(l.split(r.pos,2,c).scrollIntoView()),!0)}}function Hx(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return!!s&&(!e||(r.node(s.depth-1).type==n?function mK(n,t,e,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);return s<o&&(i.step(new At(s-1,o,s,o,new $(R.from(e.create(null,r.parent.copy())),1,0),1,!0)),r=new jd(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth)),t(i.lift(r,Zl(r)).scrollIntoView()),!0}(t,e,n,s):function gK(n,t,e){let r=n.tr,i=e.parent;for(let _=e.end,y=e.endIndex-1,k=e.startIndex;y>k;y--)_-=i.child(y).nodeSize,r.delete(_-1,_+1);let s=r.doc.resolve(e.start),o=s.nodeAfter;if(r.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let a=0==e.startIndex,l=e.endIndex==i.childCount,c=s.node(-1),p=s.index(-1);if(!c.canReplace(p+(a?0:1),p+1,o.content.append(l?R.empty:R.from(i))))return!1;let m=s.pos,g=m+o.nodeSize;return r.step(new At(m-(a?1:0),g+(l?1:0),m+1,g-1,new $((a?R.empty:R.from(i.copy(R.empty))).append(l?R.empty:R.from(i.copy(R.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,e,s)))}}function zx(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(0==o)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,p=R.from(c?n.create():null),m=new $(R.from(n.create(null,R.from(a.type.create(null,p)))),c?3:1,0),g=s.start,_=s.end;e(t.tr.step(new At(g-(c?3:1),_,g,_,m,1,!0)).scrollIntoView())}return!0}}const _K={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:n=>({href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")})}],toDOM(n){const{href:t,title:e,target:r}=n.attrs;return["a",{href:t,title:e,target:r},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>"normal"!==n.style.fontWeight&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){const{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){const{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}}},IK={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(n){const{textAlign:t}=n.style;return{align:n.getAttribute("align")||t||null}}}],toDOM(n){const{align:t}=n.attrs;return["p",{style:Hw({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){const{textAlign:t}=n.style;return{level:1,align:n.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(n){const{textAlign:t}=n.style;return{level:2,align:n.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(n){const{textAlign:t}=n.style;return{level:3,align:n.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(n){const{textAlign:t}=n.style;return{level:4,align:n.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(n){const{textAlign:t}=n.style;return{level:5,align:n.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(n){const{textAlign:t}=n.style;return{level:6,align:n.getAttribute("align")||t||null}}}],toDOM(n){const{level:t,align:e}=n.attrs;return[`h${t}`,{style:Hw({textAlign:"left"!==e?e:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:n=>({src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")})}],toDOM(n){const{src:t,alt:e,title:r,width:i}=n.attrs;return["img",{src:t,alt:e,title:r,width:i}]}},list_item:Object.assign(Object.assign({},{parseDOM:[{tag:"li"}],toDOM:()=>dK,defining:!0}),{content:"paragraph block*"}),ordered_list:Object.assign(Object.assign({},Lx),{content:"list_item+",group:"block"}),bullet_list:Object.assign(Object.assign({},Bx),{content:"list_item+",group:"block"})},op=new class oq{constructor(t){this.cached=Object.create(null),this.spec={nodes:zw.from(t.nodes),marks:zw.from(t.marks||{}),topNode:t.topNode},this.nodes=qd.compile(this.spec.nodes,this),this.marks=Gd.compile(this.spec.marks,this);let e=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",o=i.spec.marks;i.contentMatch=e[s]||(e[s]=Gs.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==o?null:o?rS(this,o.split(" ")):""!=o&&i.inlineContent?null:[]}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=null==s?[i]:""==s?[]:rS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof qd))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,i)}text(t,e){let r=this.nodes.text;return new Wd(r,r.defaultAttrs,t,We.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Ur.fromJSON(this,t)}markFromJSON(t){return We.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}({marks:_K,nodes:IK}),$x=(n,t)=>!n.selection.empty&&(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function wa(n,t,e=!1){for(let r=n;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&1!=r.childCount)return!1}return!1}function Ux(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function jx(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const Wx=(n,t)=>{let{$head:e,$anchor:r}=n.selection;return!(!e.parent.type.spec.code||!e.sameParent(r)||(t&&t(n.tr.insertText("\n").scrollIntoView()),0))};function O_(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const qx=(n,t)=>{let{$head:e,$anchor:r}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(r))return!1;let i=e.node(-1),s=e.indexAfter(-1),o=O_(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=e.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ie.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},Gx=(n,t)=>{let e=n.selection,{$from:r,$to:i}=e;if(e instanceof Rn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=O_(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Oe.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},Kx=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(ha(n.doc,s))return t&&t(n.tr.split(s).scrollIntoView()),!0}let r=e.blockRange(),i=r&&Zl(r);return null!=i&&(t&&t(n.tr.lift(r,i).scrollIntoView()),!0)},N_=(n,t)=>{let{$from:e,$to:r}=n.selection;if(n.selection instanceof ne&&n.selection.node.isBlock)return!(!e.parentOffset||!ha(n.doc,e.pos)||(t&&t(n.tr.split(e.pos).scrollIntoView()),0));if(!e.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,s=n.tr;(n.selection instanceof Oe||n.selection instanceof Rn)&&s.deleteSelection();let o=0==e.depth?null:O_(e.node(-1).contentMatchAt(e.indexAfter(-1))),a=i&&o?[{type:o}]:void 0,l=ha(s.doc,s.mapping.map(e.pos),1,a);if(!a&&!l&&ha(s.doc,s.mapping.map(e.pos),1,o?[{type:o}]:void 0)&&(o&&(a=[{type:o}]),l=!0),l&&(s.split(s.mapping.map(e.pos),1,a),!i&&!e.parentOffset&&e.parent.type!=o)){let c=s.mapping.map(e.before()),p=s.doc.resolve(c);o&&e.node(-1).canReplaceWith(p.index(),p.index()+1,o)&&s.setNodeMarkup(s.mapping.map(e.before()),o)}t(s.scrollIntoView())}return!0};function Qx(n,t,e){let s,o,r=t.nodeBefore,i=t.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function LK(n,t,e){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(s-1,s)?(e&&e(n.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!Yg(n.doc,t.pos)||(e&&e(n.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(n,t,e))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(e){let m=t.pos+i.nodeSize,g=R.empty;for(let k=s.length-1;k>=0;k--)g=R.from(s[k].create(null,g));g=R.from(r.copy(g));let _=n.tr.step(new At(t.pos-1,m,t.pos,m,new $(g,1,0),s.length,!0)),y=m+2*s.length;Yg(_.doc,y)&&_.join(y),e(_.scrollIntoView())}return!0}let l=Ie.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),p=c&&Zl(c);if(null!=p&&p>=t.depth)return e&&e(n.tr.lift(c,p).scrollIntoView()),!0;if(a&&wa(i,"start",!0)&&wa(r,"end")){let m=r,g=[];for(;g.push(m),!m.isTextblock;)m=m.lastChild;let _=i,y=1;for(;!_.isTextblock;_=_.firstChild)y++;if(m.canReplace(m.childCount,m.childCount,_.content)){if(e){let k=R.empty;for(let E=g.length-1;E>=0;E--)k=R.from(g[E].copy(k));e(n.tr.step(new At(t.pos-g.length,t.pos+i.nodeSize,t.pos+y,t.pos+i.nodeSize-y,new $(k,g.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Xx(n){return function(t,e){let r=t.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(e&&e(t.tr.setSelection(Oe.create(t.doc,n<0?i.start(s):i.end(s)))),!0)}}const BK=Xx(-1),VK=Xx(1);function R_(n,t=null){return function(e,r){let{from:i,to:s}=e.selection,o=!1;return e.doc.nodesBetween(i,s,(a,l)=>{if(o)return!1;if(a.isTextblock&&!a.hasMarkup(n,t))if(a.type==n)o=!0;else{let c=e.doc.resolve(l),p=c.index();o=c.parent.canReplaceWith(p,p+1,n)}}),!!o&&(r&&r(e.tr.setBlockType(i,s,n,t).scrollIntoView()),!0)}}function Sa(n,t=null){return function(e,r){let{empty:i,$cursor:s,ranges:o}=e.selection;if(i&&!s||!function zK(n,t,e){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=0==i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(e)}),o)return!0}return!1}(e.doc,o,n))return!1;if(r)if(s)n.isInSet(e.storedMarks||s.marks())?r(e.tr.removeStoredMark(n)):r(e.tr.addStoredMark(n.create(t)));else{let a=!1,l=e.tr;for(let c=0;!a&&c<o.length;c++){let{$from:p,$to:m}=o[c];a=e.doc.rangeHasMark(p.pos,m.pos,n)}for(let c=0;c<o.length;c++){let{$from:p,$to:m}=o[c];if(a)l.removeMark(p.pos,m.pos,n);else{let g=p.pos,_=m.pos,y=p.nodeAfter,k=m.nodeBefore,S=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,E=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;g+S<_&&(g+=S,_-=E),l.addMark(g,_,n.create(t))}}r(l.scrollIntoView())}return!0}}function cc(...n){return function(t,e,r){for(let i=0;i<n.length;i++)if(n[i](t,e,r))return!0;return!1}}let F_=cc($x,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("backward",n):r.parentOffset>0))return!1;let i=Ux(r);if(!i){let o=r.blockRange(),a=o&&Zl(o);return null!=a&&(t&&t(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&Qx(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"end")||ne.isSelectable(s))){let o=Jg(n.doc,r.before(),r.after(),$.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"end")?Ie.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ne.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Ux(r)}let o=s&&s.nodeBefore;return!(!o||!ne.isSelectable(o)||(t&&t(n.tr.setSelection(ne.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),0))}),Yx=cc($x,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size))return!1;let i=jx(r);if(!i)return!1;let s=i.nodeAfter;if(Qx(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"start")||ne.isSelectable(s))){let o=Jg(n.doc,r.before(),r.after(),$.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"start")?Ie.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ne.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=jx(r)}let o=s&&s.nodeAfter;return!(!o||!ne.isSelectable(o)||(t&&t(n.tr.setSelection(ne.create(n.doc,s.pos)).scrollIntoView()),0))});const ki={Enter:cc(Wx,Gx,Kx,N_),"Mod-Enter":qx,Backspace:F_,"Mod-Backspace":F_,"Shift-Backspace":F_,Delete:Yx,"Mod-Delete":Yx,"Mod-a":(n,t)=>(t&&t(n.tr.setSelection(new Rn(n.doc))),!0)},Jx={"Ctrl-h":ki.Backspace,"Alt-Backspace":ki["Mod-Backspace"],"Ctrl-d":ki.Delete,"Ctrl-Alt-Backspace":ki["Mod-Delete"],"Alt-Delete":ki["Mod-Delete"],"Alt-d":ki["Mod-Delete"],"Ctrl-a":BK,"Ctrl-e":VK};for(let n in ki)Jx[n]=ki[n];const UK=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?Jx:ki;class Di{constructor(t,e){this.match=t,this.match=t,this.handler="string"==typeof e?function jK(n){return function(t,e,r,i){let s=n;if(e[1]){let o=e[0].lastIndexOf(e[1]);s+=e[0].slice(o+e[1].length);let a=(r+=o)-i;a>0&&(s=e[0].slice(o-a,o)+s,r=i)}return t.tr.insertText(s,r,i)}}(e):e}}function Zx(n,t,e,r,i,s){if(n.composing)return!1;let o=n.state,a=o.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r;for(let c=0;c<i.length;c++){let p=i[c].match.exec(l),m=p&&i[c].handler(o,p,t-(p[0].length-r.length),e);if(m)return n.dispatch(m.setMeta(s,{transform:m,from:t,to:e,text:r})),!0}return!1}const GK=new Di(/--$/,"\u2014"),KK=new Di(/\.\.\.$/,"\u2026"),ZK=[new Di(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Di(/"$/,"\u201d"),new Di(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Di(/'$/,"\u2019")];function L_(n,t,e=null,r){return new Di(n,(i,s,o,a)=>{let l=e instanceof Function?e(s):e,c=i.tr.delete(o,a),m=c.doc.resolve(o).blockRange(),g=m&&Xg(m,t,l);if(!g)return null;c.wrap(m,g);let _=c.doc.resolve(o-1).nodeBefore;return _&&_.type==t&&Yg(c.doc,o-1)&&(!r||r(s,_))&&c.join(o-1),c})}function e2(n,t,e=null){return new Di(n,(r,i,s,o)=>{let a=r.doc.resolve(s),l=e instanceof Function?e(i):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(s,o).setBlockType(s,s,t,l):null})}const B_=(n,t)=>{const{from:e,$from:r,to:i,empty:s}=n.selection;return s?Boolean(t.isInSet(n.storedMarks||r.marks())):n.doc.rangeHasMark(e,i,t)},t2=(n,t,e={})=>{const{selection:r}=n,{$from:i,to:s}=r,o=((n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null})(t,i);return Object.entries(e).length&&o?s<=i.end()&&i.parent.hasMarkup(t,e):Boolean(o)},n2=n=>{const t=[],{selection:{from:e,to:r}}=n;return n.doc.nodesBetween(e,r,i=>{t.push(i)}),t},r2=(n,t,e)=>{for(const r of t){const{$from:i,$to:s}=r;let o=0===i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>!o&&(o=a.inlineContent&&a.type.allowsMarkType(e),!0)),o)return!0}return!1},i2=(n,t,e)=>new Di(n,(r,i,s,o)=>{const{tr:a}=r,l=s;let c=o;if(i[2]){const p=s+i[0].indexOf(i[2]),m=p+i[2].length;m<o&&a.delete(m,o),p>s&&a.delete(s,p),c=s+i[2].length}return a.addMark(l,c,t.create(e))}),s2=(n,t={})=>(e,r)=>{const{tr:i,selection:s}=e,{empty:o,ranges:a,$from:l,$to:c}=s;if(o&&s instanceof Oe){const{$cursor:p}=s;if(!p||!r2(e.doc,a,n)||(i.addStoredMark(n.create(t)),!i.storedMarksSet))return!1;null==r||r(i)}else{if(i.addMark(l.pos,c.pos,n.create(t)),!i.docChanged)return!1;null==r||r(i.scrollIntoView())}return!0};for(var rs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ap={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sQ="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),oQ="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ot=0;Ot<10;Ot++)rs[48+Ot]=rs[96+Ot]=String(Ot);for(Ot=1;Ot<=24;Ot++)rs[Ot+111]="F"+Ot;for(Ot=65;Ot<=90;Ot++)rs[Ot]=String.fromCharCode(Ot+32),ap[Ot]=String.fromCharCode(Ot);for(var V_ in rs)ap.hasOwnProperty(V_)||(ap[V_]=rs[V_]);const lQ="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function cQ(n){let r,i,s,o,t=n.split(/-(?!$)/),e=t[t.length-1];"Space"==e&&(e=" ");for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);lQ?o=!0:i=!0}}return r&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function H_(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),!1!==e&&t.shiftKey&&(n="Shift-"+n),n}function lp(n){return new qr({props:{handleKeyDown:dQ(n)}})}function dQ(n){let t=function uQ(n){let t=Object.create(null);for(let e in n)t[cQ(e)]=n[e];return t}(n);return function(e,r){let o,i=function aQ(n){var e=!(sQ&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||oQ&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?ap:rs)[n.keyCode]||n.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),s=1==i.length&&" "!=i,a=t[H_(i,r,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=rs[r.keyCode])&&o!=i){let l=t[H_(o,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(s&&r.shiftKey){let l=t[H_(i,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Nt=function(){};Nt.prototype.append=function(t){return t.length?(t=Nt.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Nt.prototype.prepend=function(t){return t.length?Nt.from(t).append(this):this},Nt.prototype.appendInner=function(t){return new pQ(this,t)},Nt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Nt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Nt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Nt.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},Nt.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},e,r),i},Nt.from=function(t){return t instanceof Nt?t:t&&t.length?new o2(t):Nt.empty};var o2=function(n){function t(r){n.call(this),this.values=r}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return 0==i&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(!1===i(this.values[l],a+l))return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(!1===i(this.values[l],a+l))return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new t(i.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Nt);Nt.empty=new o2([]);var pQ=function(n){function t(e,r){n.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(s,a),o)||s>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a))return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)||s<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),s,o))return!1},t.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Nt);const a2=Nt;class Tr{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let i,s,r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}e&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a,l,o=t.tr,c=[],p=[];return this.items.forEach((m,g)=>{if(!m.step)return i||(i=this.remapping(r,g+1),s=i.maps.length),s--,void p.push(m);if(i){p.push(new Yr(m.map));let y,_=m.step.map(i.slice(s));_&&o.maybeStep(_).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],c.push(new Yr(y,void 0,void 0,c.length+p.length))),s--,y&&i.appendMap(y,s)}else o.maybeStep(m.step);return m.selection?(a=i?m.selection.map(i.slice(s)):m.selection,l=new Tr(this.items.slice(0,r).append(p.reverse().concat(c)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,e,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let p=0;p<t.steps.length;p++){let _,m=t.steps[p].invert(t.docs[p]),g=new Yr(t.mapping.maps[p],m,e);(_=l&&l.merge(g))&&(g=_,p?s.pop():a=a.slice(0,a.length-1)),s.push(g),e&&(o++,e=void 0),i||(l=g)}let c=o-r.depth;return c>mQ&&(a=function fQ(n,t){let e;return n.forEach((r,i)=>{if(r.selection&&0==t--)return e=i,!1}),n.slice(e)}(a,c),o-=c),new Tr(a.append(s),o)}remapping(t,e){let r=new da;return this.items.forEach((i,s)=>{r.appendMap(i.map,null!=i.mirrorOffset&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0)},t,e),r}addMaps(t){return 0==this.eventCount?this:new Tr(this.items.append(t.map(e=>new Yr(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},i);let l=e;this.items.forEach(g=>{let _=s.getMirror(--l);if(null==_)return;o=Math.min(o,_);let y=s.maps[_];if(g.step){let k=t.steps[_].invert(t.docs[_]),S=g.selection&&g.selection.map(s.slice(l+1,_));S&&a++,r.push(new Yr(y,k,S))}else r.push(new Yr(y))},i);let c=[];for(let g=e;g<o;g++)c.push(new Yr(s.maps[g]));let p=this.items.slice(0,i).append(c).append(r),m=new Tr(p,a);return m.emptyItemCount()>500&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(e.slice(r)),c=l&&l.getMap();if(r--,c&&e.appendMap(c,r),l){let p=o.selection&&o.selection.map(e.slice(r));p&&s++;let g,m=new Yr(c.invert(),l,p),_=i.length-1;(g=i.length&&i[_].merge(m))?i[_]=g:i.push(m)}}else o.map&&r--},this.items.length,0),new Tr(a2.from(i.reverse()),s)}}Tr.empty=new Tr(a2.empty,0);class Yr{constructor(t,e,r,i){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Yr(e.getMap().invert(),e,this.selection)}}}class is{constructor(t,e,r,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=i}}const mQ=20;function l2(n){let t=[];return n.forEach((e,r,i,s)=>t.push(i,s)),t}function z_(n,t){if(!n)return null;let e=[];for(let r=0;r<n.length;r+=2){let i=t.map(n[r],1),s=t.map(n[r+1],-1);i<=s&&e.push(i,s)}return e}function c2(n,t,e,r){let i=up(t),s=Jr.get(t).spec.config,o=(r?n.undone:n.done).popEvent(t,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),s,i),c=new is(r?l:o.remaining,r?o.remaining:l,null,0);e(o.transform.setSelection(a).setMeta(Jr,{redo:r,historyState:c}).scrollIntoView())}let $_=!1,u2=null;function up(n){let t=n.plugins;if(u2!=t){$_=!1,u2=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){$_=!0;break}}return $_}const Jr=new Ci("history"),d2=new Ci("closeHistory");const p2=(n,t)=>{let e=Jr.getState(n);return!(!e||0==e.done.eventCount||(t&&c2(e,n,t,!1),0))},U_=(n,t)=>{let e=Jr.getState(n);return!(!e||0==e.undone.eventCount||(t&&c2(e,n,t,!0),0))},yQ=["imgEl"];function CQ(n,t){if(1&n){const e=B();u(0,"span",4)(1,"span",5),T("mousedown",function(i){return M(e),C().startResizing(i,"left")}),d(),u(2,"span",6),T("mousedown",function(i){return M(e),C().startResizing(i,"right")}),d(),u(3,"span",7),T("mousedown",function(i){return M(e),C().startResizing(i,"left")}),d(),u(4,"span",8),T("mousedown",function(i){return M(e),C().startResizing(i,"right")}),d()()}}const bQ=function(n){return{"NgxEditor__Resizer--Active":n}},kQ=["ngxEditor"],DQ=["*"];function TQ(n,t){if(1&n&&(u(0,"div",12),h(1),d()),2&n){const e=C(2);f(1),I(" ",(null==e.href.errors?null:e.href.errors.pattern)&&"Please enter valid url."," ")}}function wQ(n,t){if(1&n&&(u(0,"div",12),h(1),d()),2&n){const e=C(2);f(1),I(" ",(null==e.text.errors?null:e.text.errors.required)&&"This is required"," ")}}function SQ(n,t){if(1&n){const e=B();u(0,"div",2)(1,"form",3),T("ngSubmit",function(i){return M(e),C().insertLink(i)}),u(2,"div",4)(3,"div",5)(4,"label",6),h(5),d(),D(6,"input",7),b(7,TQ,2,1,"div",8),d()(),u(8,"div",4)(9,"div",5)(10,"label",6),h(11),d(),D(12,"input",9),b(13,wQ,2,1,"div",8),d()(),u(14,"div",4)(15,"div",5)(16,"label"),D(17,"input",10),h(18),d()()(),u(19,"button",11),h(20),d()()()}if(2&n){const e=C();f(1),v("formGroup",e.form),f(4),F(e.getLabel("url")),f(2),v("ngIf",e.href.touched&&e.href.invalid),f(4),F(e.getLabel("text")),f(2),v("ngIf",e.text.touched&&e.text.invalid),f(5),I(" ",e.getLabel("openInNewTab")," "),f(1),v("disabled",!e.form.valid),f(1),F(e.getLabel("insert"))}}function xQ(n,t){if(1&n&&(u(0,"div",12),h(1),d()),2&n){const e=C(2);f(1),I(" ",(null==e.src.errors?null:e.src.errors.pattern)&&"Please enter valid url."," ")}}function MQ(n,t){if(1&n){const e=B();u(0,"div",2)(1,"form",3),T("ngSubmit",function(i){return M(e),C().insertLink(i)}),u(2,"div",4)(3,"div",5)(4,"label",6),h(5),d(),D(6,"input",7),b(7,xQ,2,1,"div",8),d()(),u(8,"div",4)(9,"div",5)(10,"label",6),h(11),d(),D(12,"input",9),d()(),u(13,"div",4)(14,"div",5)(15,"label",6),h(16),d(),D(17,"input",10),d()(),u(18,"button",11),h(19),d()()()}if(2&n){const e=C();f(1),v("formGroup",e.form),f(4),F(e.getLabel("url")),f(2),v("ngIf",e.src.touched&&e.src.invalid),f(4),F(e.getLabel("altText")),f(5),F(e.getLabel("title")),f(2),v("disabled",!e.form.valid||!e.form.dirty),f(1),F(e.getLabel("insert"))}}const EQ=function(n,t){return{"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t}};function IQ(n,t){if(1&n){const e=B();u(0,"div",4),T("mousedown",function(i){const o=M(e).$implicit;return C(2).onClick(i,o)}),h(1),d()}if(2&n){const e=t.$implicit,r=C(2);v("ngClass",hu(2,EQ,e===r.activeItem,r.disabledItems.includes(e))),f(1),I(" ",r.getName(e)," ")}}function PQ(n,t){if(1&n&&(u(0,"div",2),b(1,IQ,2,5,"div",3),d()),2&n){const e=C();f(1),v("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}const AQ=function(n,t){return{backgroundColor:n,color:t}},OQ=function(n){return{"NgxEditor__Color--Active":n}};function NQ(n,t){if(1&n){const e=B();u(0,"button",7),T("mousedown",function(i){const o=M(e).$implicit;return C(3).onColorSelect(i,o)}),d()}if(2&n){const e=t.$implicit,r=C(3);v("ngStyle",hu(3,AQ,e,r.getContrastYIQ(e)))("title",e)("ngClass",Xe(6,OQ,r.activeColors.includes(e)))}}function RQ(n,t){if(1&n&&(u(0,"div",5),b(1,NQ,1,8,"button",6),d()),2&n){const e=t.$implicit,r=C(2);f(1),v("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function FQ(n,t){if(1&n){const e=B();u(0,"div",2),b(1,RQ,2,2,"div",3),u(2,"button",4),T("mousedown",function(i){return M(e),C().remove(i)}),h(3),d()()}if(2&n){const e=C();f(1),v("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),f(1),v("disabled",!e.isActive),f(1),I(" ",e.getLabel("remove")," ")}}function LQ(n,t){if(1&n&&D(0,"ngx-toggle-command",7),2&n){const e=C().$implicit;di(C(2).iconContainerClass),v("toolbarItem",e)}}function BQ(n,t){if(1&n&&D(0,"ngx-insert-command",7),2&n){const e=C().$implicit;di(C(2).iconContainerClass),v("toolbarItem",e)}}function VQ(n,t){1&n&&D(0,"ngx-link"),2&n&&di(C(3).iconContainerClass)}function HQ(n,t){1&n&&D(0,"ngx-image"),2&n&&di(C(3).iconContainerClass)}function zQ(n,t){if(1&n&&D(0,"ngx-dropdown",9),2&n){const e=t.$implicit;di(C(4).dropdownContainerClass),v("group",e.key)("items",e.value)}}function $Q(n,t){if(1&n&&(ws(0),b(1,zQ,1,4,"ngx-dropdown",8),Ms(2,"keyvalue"),Ss()),2&n){const e=C().$implicit,r=C(2);f(1),v("ngForOf",Es(2,2,r.getDropdownItems(e)))("ngForTrackBy",r.trackByIndex)}}function UQ(n,t){if(1&n&&D(0,"ngx-color-picker",10),2&n){const e=C(3);di(e.iconContainerClass),v("presets",e.presets)}}function jQ(n,t){if(1&n&&D(0,"ngx-color-picker",11),2&n){const e=C(3);di(e.iconContainerClass),v("presets",e.presets)}}function WQ(n,t){1&n&&D(0,"div"),2&n&&di(C(3).seperatorClass)}function qQ(n,t){if(1&n&&(ws(0),b(1,LQ,1,3,"ngx-toggle-command",3),b(2,BQ,1,3,"ngx-insert-command",3),b(3,VQ,1,2,"ngx-link",4),b(4,HQ,1,2,"ngx-image",4),b(5,$Q,3,4,"ng-container",2),b(6,UQ,1,3,"ngx-color-picker",5),b(7,jQ,1,3,"ngx-color-picker",6),b(8,WQ,1,2,"div",4),Ss()),2&n){const e=t.$implicit,r=t.last,i=C().last,s=C();f(1),v("ngIf",s.toggleCommands.includes(e)),f(1),v("ngIf",s.insertCommands.includes(e)),f(1),v("ngIf","link"===e),f(1),v("ngIf","image"===e),f(1),v("ngIf",s.isDropDown(e)),f(1),v("ngIf","text_color"===e),f(1),v("ngIf","background_color"===e),f(1),v("ngIf",r&&!i)}}function GQ(n,t){if(1&n&&(ws(0),b(1,qQ,9,8,"ng-container",1),Ss()),2&n){const e=t.$implicit,r=C();f(1),v("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function KQ(n,t){if(1&n&&(ws(0),uf(1,12),Ss()),2&n){const e=C();f(1),v("ngTemplateOutlet",e.customMenuRef)}}const QQ=function(n,t){return{"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t}},eX=(n=!0)=>new qr({key:new Ci("editable"),state:{init:()=>n,apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_EDITABLE"))&&void 0!==r?r:e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),nX=n=>new qr({key:new Ci("placeholder"),state:{init:()=>null!=n?n:"",apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_PLACEHOLDER"))&&void 0!==r?r:e}},props:{decorations(t){const{doc:e}=t,{textContent:r,childCount:i}=e,s=this.getState(t);if(!s||i>1)return xt.empty;const o=[];return e.descendants((l,c)=>{var p;if(l.type.isBlock&&0===l.childCount&&0===r.length){const _=tr.node(c,c+l.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":s,"data-align":null!==(p=l.attrs.align)&&void 0!==p?p:null});o.push(_)}return!1}),xt.create(e,o)}}});let oX=(()=>{class n{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new Ge}startResizing(e,r){e.preventDefault(),this.resizeImage(e,r)}resizeImage(e,r){const i=e.pageX,s=this.imgEl.nativeElement.clientWidth,o="left"===r,{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=m=>{const _=m.pageX-i,y=o?s-_:s+_;y>l||y<20||(this.outerWidth=`${y}px`)},p=m=>{m.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",p),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["ngx-image-view"]],viewQuery:function(e,r){if(1&e&&mu(yQ,7),2&e){let i;Yo(i=Jo())&&(r.imgEl=i.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(e,r){1&e&&(u(0,"span",0),b(1,CQ,5,0,"span",1),D(2,"img",2,3),d()),2&e&&(cn("width",r.outerWidth),v("ngClass",Xe(7,bQ,r.selected)),f(1),v("ngIf",r.selected),f(1),v("src",r.src,P)("alt",r.alt)("title",r.title))},directives:[tn,ve],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),n})();class aX{constructor(t,e,r,i){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:a,dispatch:l}=this.view,{tr:c}=a,p=c.setNodeMarkup(this.getPos(),void 0,Object.assign(Object.assign({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),m=p.doc.resolve(this.getPos()),g=new ne(m);p.setSelection(g),l(p)};const s=i.get(Ko);this.applicationRef=i.get(Cu);const o=s.resolveComponentFactory(oX);this.imageComponentRef=o.create(i,[]),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const cX=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,h2=n=>{const t=[];return n.forEach(e=>{if(e.isText){const r=e.text;let i=0;const s=cX.exec(r);if(s){const o=s.index,a=o+s[0].length,{link:l}=e.type.schema.marks;o>0&&t.push(e.cut(i,o));const c=r.slice(o,a);t.push(e.cut(o,a).mark(l.create({href:c}).addToSet(e.marks))),i=a}i<r.length&&t.push(e.cut(i))}else t.push(e.copy(h2(e.content)))}),R.fromArray(t)},dX={type:"doc",content:[{type:"paragraph"}]},f2=(n,t)=>{const e=null!=t?t:op,r=e.nodeFromJSON(n),i=jr.fromSchema(e).serializeFragment(r.content),s=document.createElement("div");return s.appendChild(i),s.innerHTML},uc=(n,t)=>{if(!n)return t.nodeFromJSON(dX);if("string"!=typeof n)return t.nodeFromJSON(n);const e=((n,t)=>{const e=null!=t?t:op,r=document.createElement("div");return r.innerHTML=n,Ks.fromSchema(e).parse(r).toJSON()})(n,t);return t.nodeFromJSON(e)};let hX=(()=>{class n{constructor(e,r,i){this.renderer=e,this.injector=r,this.elementRef=i,this.placeholder="Type Here...",this.focusOut=new Ge,this.focusIn=new Ge,this.unsubscribe=new gn,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){!this.outputFormat&&"string"==typeof e&&(this.outputFormat="html"),this.editor.setContent(null!=e?e:"")}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if("html"!==this.outputFormat)this.onChange(e);else{const r=f2(e,this.editor.schema);this.onChange(r)}}setMeta(e,r){const{dispatch:i,state:{tr:s}}=this.editor.view;i(s.setMeta(e,r))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(eX()),this.editor.registerPlugin(nX(this.placeholder)),this.editor.registerPlugin(((n={})=>new qr({key:new Ci("attributes"),props:{attributes:n}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((n=>new qr({key:new Ci("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((n=>new qr({key:new Ci("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((n=>new qr({key:new Ci("image-resize"),props:{nodeViews:{image:(t,e,r)=>new aX(t,e,r,n)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new qr({key:new Ci("linkify"),props:{transformPasted:n=>new $(h2(n.content),n.openStart,n.openEnd)}}))}ngOnInit(){if(!this.editor)throw new Hg("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(function $W(n){return Dt((t,e)=>{ir(n).subscribe(dt(e,()=>e.complete(),an)),!e.closed&&t.subscribe(e)})}(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(Lr),w(mt),w(_t))},n.\u0275cmp=Q({type:n,selectors:[["ngx-editor"]],viewQuery:function(e,r){if(1&e&&mu(kQ,7),2&e){let i;Yo(i=Jo())&&(r.ngxEditor=i.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[Ue([{provide:Cr,useExisting:Ve(()=>n),multi:!0}]),Qt],ngContentSelectors:DQ,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(e,r){1&e&&(function kC(n){const t=O()[16][6];if(!t.projection){const r=t.projection=qa(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=n?KA(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),u(0,"div",0,1),function DC(n,t=0,e){const r=O(),i=Te(),s=Eo(i,20+n,16,null,e||null);null===s.projection&&(s.projection=t),$p(),64!=(64&s.flags)&&function KI(n,t,e){Xy(t[11],0,t,e,Hy(n,e,t),jy(e.parent||t[6],e,t))}(i,r,s)}(2),d())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),n})(),ss=(()=>{class n{constructor(){this.customMenuRefChange=new gn}setCustomMenuRef(e){this.customMenuRefChange.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RX={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n'};class dc{static get(t,e="currentColor"){return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill=${e}\n        height=20\n        width=20\n      >\n        ${RX[t]||"<path></path>"}\n      </svg>\n    `}}class xa{constructor(t){this.name=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&s2(i)(t,e)}}toggle(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&Sa(i)(t,e)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&B_(t,r)}canExecute(t){return this.toggle()(t)}}class dp{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{const{schema:r}=t,i=this.getType(r);return!!i&&(this.isActive(t)?Hx(r.nodes.list_item)(t,e):function pK(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(n)&&0==o.startIndex){if(0==i.index(o.depth-1))return!1;let p=e.doc.resolve(o.start-2);l=new jd(p,p,o.depth),o.endIndex<o.parent.childCount&&(o=new jd(i,e.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=Xg(l,n,t,o);return!!c&&(r&&r(function hK(n,t,e,r,i){let s=R.empty;for(let p=e.length-1;p>=0;p--)s=R.from(e[p].type.create(e[p].attrs,s));n.step(new At(t.start-(r?2:0),t.end,t.start,t.end,new $(s,0,0),e.length,!0));let o=0;for(let p=0;p<e.length;p++)e[p].type==i&&(o=p+1);let a=e.length-o,l=t.start+e.length-(r?2:0),c=t.parent;for(let p=t.startIndex,m=t.endIndex,g=!0;p<m;p++,g=!1)!g&&ha(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(p).nodeSize;return n}(e.tr,o,c,a,n).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=this.getType(e);return!!r&&t2(t,r)}canExecute(t){return this.toggle()(t)}}class no{constructor(t){this.level=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.nodes.heading;return!!i&&R_(i)(t,e)}}toggle(){return(t,e)=>{var r;const{schema:i,selection:s,doc:o}=t,a=i.nodes.heading;if(!a)return!1;const l=s.$from.before(1),c=o.nodeAt(l),p=null!==(r=null==c?void 0:c.attrs)&&void 0!==r?r:{};return this.isActive(t)?R_(i.nodes.paragraph,p)(t,e):R_(a,Object.assign(Object.assign({},p),{level:this.level}))(t,e)}}isActive(t){const{schema:e}=t,r=n2(t),i=e.nodes.heading;if(!i)return!1;const s=[i,e.nodes.text,e.nodes.blockquote],a=r.filter(l=>s.includes(l.type)).find(l=>l.attrs.level===this.level);return Boolean(a)}canExecute(t){return this.toggle()(t)}}class pc{constructor(t){this.align=t}toggle(){return(t,e)=>{const{doc:r,selection:i,tr:s,schema:o}=t,{from:a,to:l}=i;let c=!1;return r.nodesBetween(a,l,(p,m)=>{const g=p.type;return[o.nodes.paragraph,o.nodes.heading].includes(g)&&(c=!0,s.setNodeMarkup(m,g,Object.assign(Object.assign({},p.attrs),{align:this.align}))),!0}),!!c&&(s.docChanged&&(null==e||e(s)),!0)}}isActive(t){const r=n2(t).find(i=>i.attrs.align===this.align);return Boolean(r)}canExecute(t){return this.toggle()(t)}}const BX={strict:!0};class j_{update(t){return(e,r)=>{const{schema:i,selection:s}=e,o=i.marks.link;return!(!o||s.empty)&&Sa(o,t)(e,r)}}insert(t,e){return(r,i)=>{var s,o;const{schema:a,tr:l}=r;if(!a.marks.link)return!1;const p={href:e.href,title:null!==(s=e.title)&&void 0!==s?s:t,target:null!==(o=e.target)&&void 0!==o?o:"_blank"},m=a.text(t,[a.marks.link.create(p)]);return l.replaceSelectionWith(m,!1).scrollIntoView(),!!l.docChanged&&(null==i||i(l),!0)}}isActive(t,e=BX){if(e.strict)return!0;const{schema:r}=t,i=r.marks.link;return!!i&&B_(t,i)}remove(t,e){return((n,t)=>{const{doc:e,selection:r,tr:i}=n,{$head:{pos:s},from:o,to:a}=r;if(o===a){const l=e.resolve(s),c=s-l.textOffset,p=c+l.parent.child(l.index()).nodeSize;i.removeMark(c,p)}else i.removeMark(o,a);return!!i.docChanged&&(null==t||t(i),!0)})(t,e)}canExecute(t){const e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}}class m2{insert(t,e){return(r,i)=>{const{schema:s,tr:o,selection:a}=r,l=s.nodes.image;if(!l)return!1;const c=Object.assign({width:null,src:t},e);!c.width&&a instanceof ne&&a.node.type===l&&(c.width=a.node.attrs.width),o.replaceSelectionWith(l.createAndFill(c));const p=o.doc.resolve(o.selection.anchor-o.selection.$anchor.nodeBefore.nodeSize);return o.setSelection(new ne(p)).scrollIntoView(),!!o.docChanged&&(null==i||i(o),!0)}}isActive(t){const{selection:e}=t;return e instanceof ne&&"image"===e.node.type.name}}class Ma{constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,r)=>{const{schema:i,selection:s,doc:o}=e,a=i.marks[this.name];if(!a)return!1;const{from:l,to:c,empty:p}=s;if(!p&&l+1===c){const m=o.nodeAt(l);if((null==m?void 0:m.isAtom)&&!m.isText&&m.isLeaf)return!1}return s2(a,t)(e,r)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&B_(t,r)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:e}=t;return(n=>{let t=[];const{selection:e,storedMarks:r}=n,{from:i,to:s,empty:o,$from:a}=e;return o?t=r||a.marks():n.doc.nodesBetween(i,s,l=>{t=[...t,...l.marks]}),t})(t).filter(s=>s.type===e.marks[this.name]).map(s=>s.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&(n=i,(t,e)=>{const{tr:r,selection:i,storedMarks:s,doc:o}=t,{empty:a,ranges:l}=i;if(a&&i instanceof Oe){const{$cursor:c}=i;if(!c||!r2(t.doc,l,n))return!1;if(n.isInSet(s||c.marks()))return r.removeStoredMark(n),null==e||e(r),!0}else{for(const c of l){const{$from:p,$to:m}=c;o.rangeHasMark(p.pos,m.pos,n)&&r.removeMark(p.pos,m.pos,n)}if(!r.docChanged)return!1;null==e||e(r.scrollIntoView())}return!1})(t,e);var n}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}}const VX=new xa("strong"),HX=new xa("em"),zX=new xa("code"),$X=new xa("u"),UX=new xa("s"),jX=new class FX{toggle(){return(t,e)=>{const{schema:r}=t,i=r.nodes.blockquote;return!!i&&(this.isActive(t)?((n,t)=>{let{$from:e,$to:r}=n.selection,i=e.blockRange(r),s=i&&Zl(i);return null!=s&&(t&&t(n.tr.lift(i,s).scrollIntoView()),!0)})(t,e):function HK(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=o&&Xg(o,n,t);return!!a&&(r&&r(e.tr.wrap(o,a).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=e.nodes.blockquote;return!!r&&t2(t,r)}canExecute(t){return this.toggle()(t)}},WX=new class LX{insert(){return(t,e)=>{const{schema:r,tr:i}=t,s=r.nodes.horizontal_rule;return!!s&&(e(i.replaceSelectionWith(s.create()).scrollIntoView()),!0)}}canExecute(t){return((n,t)=>{const{$from:e}=n.selection;for(let r=e.depth;r>=0;r-=1){const i=e.index(r);if(e.node(r).canReplaceWith(i,i,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},qX=new dp(!0),GX=new dp(!1),KX=new no(1),QX=new no(2),XX=new no(3),YX=new no(4),JX=new no(5),ZX=new no(6),eY=new pc("left"),tY=new pc("center"),nY=new pc("right"),rY=new pc("justify"),iY=new j_,sY=new m2,oY=new Ma("text_color","color"),aY=new Ma("text_background_color","backgroundColor"),pp={bold:VX,italic:HX,code:zX,underline:$X,strike:UX,blockquote:jX,bullet_list:qX,ordered_list:GX,h1:KX,h2:QX,h3:XX,h4:YX,h5:JX,h6:ZX,align_left:eY,align_center:tY,align_right:nY,align_justify:rY},g2={horizontal_rule:WX},hc=iY,_2=sY,lY=oY,cY=aY,W_={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class uY{constructor(t={}){this.locals=W_,this.get=e=>{var r;return null!==(r=this.locals[e])&&void 0!==r?r:""},this.locals=Object.assign(Object.assign({},W_),t)}}let q_=(()=>{class n{constructor(){this.locals={}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ro=(()=>{class n{constructor(e){this.config=e}get locals(){return new uY(this.config.locals)}}return n.\u0275fac=function(e){return new(e||n)(L(q_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v2=n=>{var t;return{locals:null!==(t=n.locals)&&void 0!==t?t:{}}};let Ea=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Ik,16))},n.\u0275pipe=Kt({name:"sanitizeHtml",type:n,pure:!0}),n})(),dY=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.isActive=!1,this.disabled=!1,this.update=i=>{const{state:s}=i,o=pp[this.name];this.isActive=o.isActive(s),this.disabled=!o.canExecute(s)}}get name(){return this.toolbarItem}toggle(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;pp[this.name].toggle()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=dc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(ro),w(ss))},n.\u0275cmp=Q({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.toggle(s)}),Ms(1,"sanitizeHtml"),d()),2&e&&(Nr("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),v("innerHTML",Es(1,6,r.html),ks)("title",r.getTitle(r.name)))},pipes:[Ea],styles:[""]}),n})(),pY=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.disabled=!1,this.update=i=>{const{state:s}=i;this.disabled=!g2[this.name].canExecute(s)}}get name(){return this.toolbarItem}insert(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;g2[this.name].insert()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=dc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(ro),w(ss))},n.\u0275cmp=Q({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:6,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.insert(s)}),Ms(1,"sanitizeHtml"),d()),2&e&&(Nr("NgxEditor--Disabled",r.disabled),v("innerHTML",Es(1,4,r.html),ks)("title",r.getTitle(r.name)))},pipes:[Ea],styles:[""]}),n})(),hY=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new Pt({href:new ke("",[q.required,q.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),text:new ke("",[q.required]),openInNewTab:new ke(!0)}),this.setText=()=>{const{state:{selection:s,doc:o}}=this.editorView,{empty:a,from:l,to:c}=s,p=a?"":o.textBetween(l,c);p&&(this.text.patchValue(p),this.text.disable())},this.update=s=>{const{state:o}=s;this.isActive=hc.isActive(o,{strict:!1}),this.canExecute=hc.canExecute(o)}}get icon(){return dc.get(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(e){if(0!==e.button)return;const{state:r,dispatch:i}=this.editorView;this.isActive?hc.remove(r,i):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(e){e.preventDefault();const{text:r,href:i,openInNewTab:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView,{selection:l}=a,c={title:i,href:i,target:s?"_blank":"_self"};l.empty?(hc.insert(r,c)(a,o),this.editorView.focus()):hc.update(c)(a,o),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(ro),w(ss))},n.\u0275cmp=Q({type:n,selectors:[["ngx-link"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.onMouseDown(s)}),Ms(1,"sanitizeHtml"),d(),b(2,SQ,21,8,"div",1)),2&e&&(Nr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),v("innerHTML",Es(1,7,r.icon),ks)("title",r.title),f(2),v("ngIf",r.showPopup))},directives:[ve,In,Mn,dn,It,Ct,Pn,Gm],pipes:[Ea],styles:[""]}),n})(),fY=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.form=new Pt({src:new ke("",[q.required,q.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new ke(""),title:new ke("")}),this.update=s=>{const{state:o}=s;this.isActive=_2.isActive(o)}}get icon(){return dc.get("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(e){0===e.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:e}=this.editorView,{selection:r}=e;if(r instanceof ne&&this.isActive){const{src:i,alt:s="",title:o=""}=r.node.attrs;this.form.setValue({src:i,alt:s,title:o})}}insertLink(e){e.preventDefault();const{src:r,alt:i,title:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView;_2.insert(r,{alt:i,title:s})(a,o),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(ro),w(ss))},n.\u0275cmp=Q({type:n,selectors:[["ngx-image"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},decls:3,vars:7,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.onMouseDown(s)}),Ms(1,"sanitizeHtml"),d(),b(2,MQ,20,7,"div",1)),2&e&&(Nr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),v("innerHTML",Es(1,5,r.icon),ks)("title",r.getLabel("insertImage")),f(2),v("ngIf",r.showPopup))},directives:[ve,In,Mn,dn,It,Ct,Pn],pipes:[Ea],styles:[""]}),n})(),mY=(()=>{class n{constructor(e,r,i){this.ngxeService=e,this.menuService=r,this.el=i,this.isDropdownOpen=!1,this.disabledItems=[],this.update=s=>{const{state:o}=s;this.disabledItems=[];const a=[];this.items.forEach(l=>{const c=pp[l];c.isActive(o)&&a.push(l),c.canExecute(o)||this.disabledItems.push(l)}),1===a.length?[this.activeItem]=a:this.activeItem=null}}get isSelected(){return Boolean(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}toggleDropdown(e){e.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(e){return e}onClick(e,r){if(e.preventDefault(),0!==e.button)return;const i=pp[r],{state:s,dispatch:o}=this.editorView;i.toggle()(s,o),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(ro),w(ss),w(_t))},n.\u0275cmp=Q({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s.target)},!1,rl)},inputs:{group:"group",items:"items"},decls:3,vars:6,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.toggleDropdown(s)}),h(1),d(),b(2,PQ,2,2,"div",1)),2&e&&(Nr("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),f(1),I(" ",r.getName(r.activeItem||r.group),"\n"),f(1),v("ngIf",r.isDropdownOpen))},directives:[ve,we,tn],styles:[""]}),n})(),gY=(()=>{class n{constructor(e,r,i){this.el=e,this.menuService=r,this.ngxeService=i,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=s=>{const{state:o}=s;this.canExecute=this.command.canExecute(o),this.isActive=this.command.isActive(o),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(o))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return dc.get("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?lY:cY}getContrastYIQ(e){const r=e.replace("#","");return(299*parseInt(r.substring(0,2),16)+587*parseInt(r.substring(2,4),16)+114*parseInt(r.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup)}remove(e){e.preventDefault();const{state:r,dispatch:i}=this.editorView;this.command.remove()(r,i),this.hidePopup()}trackByIndex(e){return e}onColorSelect(e,r){if(e.preventDefault(),0!==e.button)return;const{state:i,dispatch:s}=this.editorView;"text_color"===this.type?this.command.apply({color:r})(i,s):this.command.apply({backgroundColor:r})(i,s),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(ss),w(ro))},n.\u0275cmp=Q({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},inputs:{presets:"presets",type:"type"},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(e,r){1&e&&(u(0,"div",0),T("mousedown",function(s){return r.togglePopup(s)}),Ms(1,"sanitizeHtml"),d(),b(2,FQ,4,4,"div",1)),2&e&&(Nr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),v("innerHTML",Es(1,7,r.icon),ks)("title",r.title),f(2),v("ngIf",r.showPopup))},directives:[ve,we,uk,tn],pipes:[Ea],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),n})();const _Y=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],vY=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let yY=(()=>{class n{constructor(e){this.menuService=e,this.toolbar=_Y,this.colorPresets=vY,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const r=[];return this.colorPresets.forEach((i,s)=>{const o=Math.floor(s/8);r[o]||r.push([]),r[o].push(i)}),r}trackByIndex(e){return e}isDropDown(e){return!!(null==e?void 0:e.heading)}getDropdownItems(e){return e}ngOnInit(){if(!this.editor)throw new Hg("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return n.\u0275fac=function(e){return new(e||n)(w(ss))},n.\u0275cmp=Q({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[Ue([ss])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(e,r){1&e&&(u(0,"div",0),b(1,GQ,2,2,"ng-container",1),b(2,KQ,2,1,"ng-container",2),d()),2&e&&(v("ngClass",hu(4,QQ,r.disabled,"top"===r.dropdownPlacement)),f(1),v("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),f(1),v("ngIf",r.customMenuRef))},directives:[dY,pY,hY,fY,mY,gY,tn,we,ve,dk],pipes:[pk],styles:[""]}),n})(),CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:[Ea],imports:[[ta,Wl]]}),n})();const hp=new le("NgxEditorConfig"),y2={locals:W_};let bY=(()=>{class n{static forRoot(e=y2){return{ngModule:n,providers:[{provide:hp,useValue:e},{provide:q_,useFactory:v2,deps:[hp]}]}}static forChild(e=y2){return{ngModule:n,providers:[{provide:hp,useValue:e},{provide:q_,useFactory:v2,deps:[hp]},ro]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({providers:[],imports:[[ta,CY]]}),n})();const nr=(n,t=!1)=>(e,r)=>{const i=new xa(n);return t?i.toggle()(e,r):i.apply()(e,r)};class TY{constructor(t){if(this.applyTrx=e=>{this.state=this.state.apply(null!=e?e:this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=e=>{this.applyTrx(e)},!t)throw new Hg("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(){return this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return cc(Wx,Gx,Kx,N_)(this.state,this.dispatch),this}applyMark(t){return nr(t,!1)(this.state,this.dispatch),this}toggleMark(t){return nr(t,!0)(this.state,this.dispatch),this}bold(){return nr("strong")(this.state,this.dispatch),this}toggleBold(){return nr("strong",!0)(this.state,this.dispatch),this}italics(){return nr("em")(this.state,this.dispatch),this}toggleItalics(){return nr("em",!0)(this.state,this.dispatch),this}underline(){return nr("u")(this.state,this.dispatch),this}toggleUnderline(){return nr("u",!0)(this.state,this.dispatch),this}strike(){return nr("s")(this.state,this.dispatch),this}toggleStrike(){return nr("s",!0)(this.state,this.dispatch),this}code(){return nr("code")(this.state,this.dispatch),this}toggleCode(){return nr("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new dp(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new dp(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new no(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return(new j_).insert(t,e)(this.state,this.dispatch),this}updateLink(t){return(new j_).update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return(new m2).insert(t,e)(this.state,this.dispatch),this}textColor(t){return new Ma("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new Ma("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new Ma("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Ma("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new pc(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:e,schema:r,tr:i}=this.state,{from:s,to:o}=e,a=document.createElement("div");a.innerHTML=t.trim();const l=Ks.fromSchema(r).parseSlice(a),c=i.replaceRange(s,o,l);return this.applyTrx(c),this}}const wY="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),OY=n=>{const t=ZK.concat(KK,GK);return t.push((n=>i2(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,n))(n.marks.strong)),t.push((n=>i2(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,n))(n.marks.em)),t.push((n=>L_(/^\s*>\s$/,n))(n.nodes.blockquote)),t.push((n=>L_(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])))(n.nodes.ordered_list)),t.push((n=>L_(/^\s*(?:[-+*])\s$/,n))(n.nodes.bullet_list)),t.push((n=>e2(/^```$/,n))(n.nodes.code_block)),t.push(((n,t)=>e2(new RegExp("^(#{1,6})\\s$"),n,e=>({level:e[1].length})))(n.nodes.heading)),function qK({rules:n}){let t=new qr({state:{init:()=>null,apply(e,r){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:r)}},props:{handleTextInput:(e,r,i,s)=>Zx(e,r,i,s,n,t),handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:r}=e.state.selection;r&&Zx(e,r.pos,r.pos,"",n,t)})}}},isInputRules:!0});return t}({rules:t})},RY=(n,t)=>{const e=[];return t.keyboardShortcuts&&e.push(...((n,t)=>{const e={};e["Mod-z"]=p2,wY?e["Shift-Mod-z"]=U_:e["Mod-y"]=U_;const r=[lp({"Mod-b":Sa(n.marks.strong),"Mod-i":Sa(n.marks.em),"Mod-u":Sa(n.marks.u),"Mod-`":Sa(n.marks.code)}),lp({Enter:fK(n.nodes.list_item),"Shift-Enter":cc(qx,(i,s)=>{const{tr:o}=i;return s(o.replaceSelectionWith(n.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":Hx(n.nodes.list_item),"Mod-]":zx(n.nodes.list_item),Tab:zx(n.nodes.list_item)}),lp(UK)];return t.history&&r.push(lp(e)),r})(n,{history:t.history})),t.history&&e.push(function vQ(n={}){return new qr({key:Jr,state:{init:()=>new is(Tr.empty,Tr.empty,null,0),apply:(t,e,r)=>function gQ(n,t,e,r){let s,i=e.getMeta(Jr);if(i)return i.historyState;e.getMeta(d2)&&(n=new is(n.done,n.undone,null,0));let o=e.getMeta("appendedTransaction");if(0==e.steps.length)return n;if(o&&o.getMeta(Jr))return o.getMeta(Jr).redo?new is(n.done.addTransform(e,void 0,r,up(t)),n.undone,l2(e.mapping.maps[e.steps.length-1]),n.prevTime):new is(n.done,n.undone.addTransform(e,void 0,r,up(t)),null,n.prevTime);if(!1===e.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))return(s=e.getMeta("rebased"))?new is(n.done.rebased(e,s),n.undone.rebased(e,s),z_(n.prevRanges,e.mapping),n.prevTime):new is(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),z_(n.prevRanges,e.mapping),n.prevTime);{let a=0==n.prevTime||!o&&(n.prevTime<(e.time||0)-r.newGroupDelay||!function _Q(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(e=!0)}),e}(e,n.prevRanges)),l=o?z_(n.prevRanges,e.mapping):l2(e.mapping.maps[e.steps.length-1]);return new is(n.done.addTransform(e,a?t.selection.getBookmark():void 0,r,up(t)),Tr.empty,l,e.time)}}(e,r,t,n)},config:n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,i="historyUndo"==r?p2:"historyRedo"==r?U_:null;return!!i&&(e.preventDefault(),i(t.state,t.dispatch))}}}})}()),t.inputRules&&e.push(OY(n)),e},b2={linkOnPaste:!0,resizeImage:!0},k2={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:op,plugins:[],nodeViews:{},attributes:{},features:b2,handleScrollToSelection:null};class FY{constructor(t=k2){this.valueChangesSubject=new gn,this.updateSubject=new gn,this.options=Object.assign(Object.assign({},k2),t),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||op}get commands(){return new TY(this.view)}get features(){return Object.assign(Object.assign({},b2),this.options.features)}handleTransactions(t){const e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const r=e.doc.toJSON();this.valueChangesSubject.next(r)}createEditor(){var t,e;const{options:r,schema:i}=this,{content:s=null,nodeViews:o}=r,{history:a=!0,keyboardShortcuts:l=!0,inputRules:c=!0}=r,p=uc(s,i),m=null!==(t=r.plugins)&&void 0!==t?t:[],g=null!==(e=r.attributes)&&void 0!==e?e:{},_=RY(i,{history:a,keyboardShortcuts:l,inputRules:c});this.view=new oK(null,{state:_a.create({doc:p,schema:i,plugins:[..._,...m]}),nodeViews:o,dispatchTransaction:this.handleTransactions.bind(this),attributes:g,handleScrollToSelection:r.handleScrollToSelection})}setContent(t){if(null==t)return;const{state:e}=this.view,{tr:r,doc:i}=e,s=uc(t,this.schema);r.replaceWith(0,e.doc.content.size,s),!i.eq(r.doc)&&(!r.docChanged||this.view.dispatch(r))}registerPlugin(t){const{state:e}=this.view,r=[...e.plugins,t],i=e.reconfigure({plugins:r});this.view.updateState(i)}destroy(){this.view.destroy()}}function LY(n,t){1&n&&(u(0,"div",12),h(1," peepee "),d())}function BY(n,t){1&n&&(u(0,"div",12),h(1," poopoo "),d())}const D2=function(n){return{"is-invalid":n}},VY=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:NV},{path:"db-download",component:EV},{path:"customcard-db",component:MV},{path:"drafts",component:PV},{path:"draftmode",component:LV},{path:"draft-maker",component:HH},{path:"draft-form",component:YH},{path:"decklists",component:ZH},{path:"banlist",component:h7},{path:"articles",component:f7},{path:"binders",component:E7},{path:"packs",component:P9},{path:"pack-maker",component:Iz},{path:"deck-editor",component:C$},{path:"decklist/:deckid",component:F$},{path:"deck-master",component:B$},{path:"collections",component:J$},{path:"checklist",component:NU},{path:"cards/:cardid",component:UU},{path:"packs/:packid",component:dj},{path:"players",component:hj},{path:"players/:playerid",component:tW},{path:"submit-match",component:dW},{path:"pack-editor",component:mW},{path:"matches",component:TW},{path:"settings",component:FW},{path:"duelist-decklists",component:BW},{path:"upload-decklist",component:VW},{path:"database",component:HW},{path:"admin",component:zW},{path:"editor",component:(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.articleInfo=new Pt({title:new ke(void 0,[q.required,q.minLength(5)]),about:new ke(void 0,[q.required]),editorContent:new ke(null,[q.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.articleInfo.controls}ngOnInit(){this.editor=new FY,this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}ngOnDestroy(){this.editor.destroy()}submitArticle(){this.theInnerHTML=f2(this.articleInfo.controls.editorContent.value)}}return n.\u0275fac=function(e){return new(e||n)(w(ge),w(De),w(ie))},n.\u0275cmp=Q({type:n,selectors:[["app-editor"]],decls:18,vars:16,consts:[[1,"container"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"sr-only"],["formControlName","title","name","title","type","text","placeholder","Title","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","about","name","about","type","text","placeholder","About","required","",1,"form-control",3,"ngClass"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","editorContent",3,"editor","ngModel","disabled","placeholder"],[1,"btn","btn-success",3,"click"],[3,"innerHTML"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(u(0,"div",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.submitArticle()}),u(3,"label",3),h(4,"Title"),d(),D(5,"input",4),b(6,LY,2,0,"div",5),u(7,"label",3),h(8,"About"),d(),D(9,"input",6),b(10,BY,2,0,"div",5),u(11,"div",7),D(12,"ngx-editor-menu",8)(13,"ngx-editor",9),d()()(),u(14,"button",10),T("click",function(){return r.submitArticle()}),h(15,"Submit"),d(),u(16,"div"),D(17,"p",11),d()()),2&e&&(f(2),v("formGroup",r.articleInfo),f(3),v("ngClass",Xe(12,D2,r.submitted&&r.f.title.errors)),f(1),v("ngIf",r.submitted&&r.f.title.errors),f(3),v("ngClass",Xe(14,D2,r.submitted&&r.f.about.errors)),f(1),v("ngIf",r.submitted&&r.f.about.errors),f(2),v("toolbar",r.toolbar)("editor",r.editor),f(1),v("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),f(4),v("innerHTML",r.theInnerHTML,ks))},directives:[In,Mn,dn,It,Ct,Pn,Hs,tn,ve,yY,hX],styles:[".btn-success[_ngcontent-%COMP%]{width:100px;margin-top:5px}.row[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})()}];let HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[[od.forRoot(VY),vd,Wl,N8,j8,ta],od,vd,Wl]}),n})();function zY(n,t){1&n&&(u(0,"a",35),h(1,"Pack Maker"),d())}function $Y(n,t){1&n&&(u(0,"a",36),h(1,"Pack Editor"),d())}function UY(n,t){1&n&&(u(0,"li")(1,"a",44),h(2,"Database"),d()())}function jY(n,t){if(1&n&&(u(0,"li",14)(1,"a",37),h(2),d(),u(3,"ul",16)(4,"li",38),h(5),d(),u(6,"li")(7,"a",39),h(8,"Settings"),d()(),u(9,"li")(10,"a",40),h(11,"Submit Match"),d()(),u(12,"li",8)(13,"a",41),h(14,"Binders"),d()(),u(15,"li",8)(16,"a",42),h(17,"Collection"),d()(),b(18,UY,3,0,"li",43),d()()),2&n){const e=C();f(1),A("routerLink","/players/",e.id,""),f(1),I(" ",e._authService.username," "),f(3),I("",e._authService.currency," Dosh\u2122"),f(13),v("ngIf",e._authService.adminRole())}}function WY(n,t){1&n&&(u(0,"button",45),h(1,"Login"),d())}function qY(n,t){1&n&&(u(0,"button",46),h(1,"Sign Up"),d())}function GY(n,t){if(1&n){const e=B();u(0,"button",47),T("click",function(){return M(e),C()._authService.logoutUser()}),h(1,"Logout"),d()}}function KY(n,t){1&n&&(u(0,"button",48),h(1,"Admin"),d())}let QY=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0}):(this.username=void 0,this.id=void 0)}goToSealedDraft(){this.customcardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToPackOpener(){this.customcardsService.setSealedDraftMode(!1),this._router.navigate(["/packs"])}}return n.\u0275fac=function(e){return new(e||n)(w(ie),w(De),w(ge))},n.\u0275cmp=Q({type:n,selectors:[["app-navigation"]],decls:70,vars:7,consts:[[1,"navbar","navbar-default","navbar-expand-md","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-dark"],[1,"navbar-toggler-icon","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/banlist",1,"nav-link"],["routerLink","/players",1,"nav-link"],["routerLink","/matches",1,"nav-link"],["routerLink","/checklist",1,"nav-link"],[1,"nav-item","dropdown"],["routerLink","/drafts","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["aria-labelledby","navbarDarkDropdownMenuLink",1,"dropdown-menu","dropdown-menu-dark"],["routerLink","/draft-maker",1,"nav-link"],["routerLink","/draftmode",1,"nav-link"],["routerLink","/packs","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link",3,"click"],["class","nav-link","routerLink","/pack-maker",4,"ngIf"],["class","nav-link","routerLink","/pack-editor",4,"ngIf"],["routerLink","/packs",1,"nav-link",3,"click"],["routerLink","/deck-editor",1,"nav-link",3,"click"],["routerLink","/decklists","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/decklists",1,"nav-link"],["routerLink","/duelist-decklists",1,"nav-link"],["routerLink","/upload-decklist",1,"nav-link"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],["class","nav-item dropdown",4,"ngIf"],[1,"form-inline","my-2","my-lg-0"],["type","button","class","btn btn-success","routerLink","/login","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/register","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLinkActive","active",3,"click",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/admin","routerLinkActive","active",4,"ngIf"],["routerLink","/pack-maker",1,"nav-link"],["routerLink","/pack-editor",1,"nav-link"],["id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link",3,"routerLink"],[1,"nav-link"],["routerLink","/settings",1,"nav-link"],["routerLink","/submit-match",1,"nav-link"],["routerLink","/binders",1,"nav-link"],["routerLink","/collections",1,"nav-link"],[4,"ngIf"],["routerLink","/database",1,"nav-link"],["type","button","routerLink","/login","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLink","/register","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLinkActive","active",1,"btn","btn-success",3,"click"],["type","button","routerLink","/admin","routerLinkActive","active",1,"btn","btn-success"]],template:function(e,r){1&e&&(u(0,"nav",0)(1,"div",1)(2,"a",2),D(3,"img",3),d(),u(4,"button",4),D(5,"span",5),d(),u(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),h(10,"Home"),d()(),u(11,"li",8)(12,"a",10),h(13,"Banlist"),d()(),u(14,"li",8)(15,"a",11),h(16,"Players"),d()(),u(17,"li",8)(18,"a",12),h(19,"Matches"),d()(),u(20,"li",8)(21,"a",13),h(22,"Checklist"),d()(),u(23,"li",14)(24,"a",15),h(25," Drafts "),d(),u(26,"ul",16)(27,"li")(28,"a",17),h(29,"Draft Creator "),d()(),u(30,"li")(31,"a",18),h(32,"Draft Editor"),d()()()(),u(33,"li",14)(34,"a",19),T("click",function(){return r.goToPackOpener()}),h(35," Packs "),d(),u(36,"ul",16)(37,"li"),b(38,zY,2,0,"a",20),d(),u(39,"li"),b(40,$Y,2,0,"a",21),d(),u(41,"li")(42,"a",22),T("click",function(){return r.goToSealedDraft()}),h(43,"Sealed Draft"),d()()()(),u(44,"li",8)(45,"a",23),T("click",function(){return r.customcardsService.resetDeck()}),h(46,"Editor"),d()(),u(47,"li",14)(48,"a",24),h(49," Decklists "),d(),u(50,"ul",16)(51,"li")(52,"a",25),h(53,"Public Decklists"),d()(),u(54,"li")(55,"a",26),h(56,"Your Decklists"),d()(),u(57,"li")(58,"a",27),h(59,"Upload Decklist"),d()()()()(),u(60,"ul",28),b(61,jY,19,4,"li",29),u(62,"form",30),b(63,WY,2,0,"button",31),d(),u(64,"form",30),b(65,qY,2,0,"button",32),d(),u(66,"form",30),b(67,GY,2,0,"button",33),d()(),u(68,"form",30),b(69,KY,2,0,"button",34),d()()()()),2&e&&(f(38),v("ngIf",r._authService.adminRole()),f(2),v("ngIf",r._authService.adminRole()),f(21),v("ngIf",null!=r.username),f(2),v("ngIf",!r._authService.loggedIn()),f(2),v("ngIf",!r._authService.loggedIn()),f(2),v("ngIf",r._authService.loggedIn()),f(2),v("ngIf",r._authService.adminRole()))},directives:[Xn,sd,ve,In,Mn,_d,xn],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}.navbar-brand[_ngcontent-%COMP%]{padding-bottom:10px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;margin-top:0}.navbar-light[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='yellow' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\");color:#fff}.navbar-light[_ngcontent-%COMP%]   button.navbar-toggler[_ngcontent-%COMP%]{border-color:#ff0}@media (max-width: 768px){.collapse[_ngcontent-%COMP%]{background-color:#212529;padding-left:5px;margin:0}.nav-item[_ngcontent-%COMP%]{padding-left:5px}.navbar-collapse[_ngcontent-%COMP%]{background-color:#212529;z-index:1000;padding:0;margin:0}}"]}),n})(),XY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Q({type:n,selectors:[["app-bottom-nav"]],decls:6,vars:0,consts:[["id","sticky-footer",1,"flex-shrink-0","py-4","bg-dark","text-white-50"],[1,"container","text-center"],["href","https://github.com/farisalkhat"]],template:function(e,r){1&e&&(u(0,"footer",0)(1,"div",1)(2,"small"),h(3,"Faris Al-khatahtbeh \xa9 "),u(4,"a",2),h(5,"Github"),d()()()())},styles:[".container[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]{margin-top:100px;font-family:Oswald,sans-serif;color:#fff;font-size:20px}p[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#fff}.bottom[_ngcontent-%COMP%]{background-color:#1f1a1f;overflow:hidden;bottom:0;width:100%;margin-top:50px}"]}),n})(),YY=(()=>{class n{constructor(e){this._authService=e,this.title="The Attic"}}return n.\u0275fac=function(e){return new(e||n)(w(De))},n.\u0275cmp=Q({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&D(0,"app-navigation")(1,"router-outlet")(2,"app-bottom-nav")},directives:[QY,Hm,XY],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}"]}),n})(),JY=(()=>{class n{constructor(e,r){this._authService=e,this._router=r}canActivate(){return!!this._authService.loggedIn()||(this._router.navigate(["/login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(L(De),L(ie))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n}),n.\u0275inj=ot({imports:[[ta]]}),n})(),iJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=pt({type:n,bootstrap:[YY]}),n.\u0275inj=ot({providers:[JY],imports:[[L4,xk,HY,vd,Wl,rJ,bY.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",blockquote:"Blockquote",underline:"Underline",strike:"Strike",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}})]]}),n})();(function nF(){R0=!1})(),p4().bootstrapModule(iJ).catch(n=>console.error(n))},327:function(oo,fc){var ds;void 0!==(ds=function(){"use strict";function ti(be,Se,an){var Le=new XMLHttpRequest;Le.open("GET",be),Le.responseType="blob",Le.onload=function(){Hn(Le.response,Se,an)},Le.onerror=function(){console.error("could not download file")},Le.send()}function Wt(be){var Se=new XMLHttpRequest;Se.open("HEAD",be,!1);try{Se.send()}catch(an){}return 200<=Se.status&&299>=Se.status}function ps(be){try{be.dispatchEvent(new MouseEvent("click"))}catch(an){var Se=document.createEvent("MouseEvents");Se.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),be.dispatchEvent(Se)}}var mn="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Ia=mn.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Hn=mn.saveAs||("object"!=typeof window||window!==mn?function(){}:"download"in HTMLAnchorElement.prototype&&!Ia?function(be,Se,an){var Le=mn.URL||mn.webkitURL,qt=document.createElement("a");qt.download=Se=Se||be.name||"download",qt.rel="noopener","string"==typeof be?(qt.href=be,qt.origin===location.origin?ps(qt):Wt(qt.href)?ti(be,Se,an):ps(qt,qt.target="_blank")):(qt.href=Le.createObjectURL(be),setTimeout(function(){Le.revokeObjectURL(qt.href)},4e4),setTimeout(function(){ps(qt)},0))}:"msSaveOrOpenBlob"in navigator?function(be,Se,an){if(Se=Se||be.name||"download","string"!=typeof be)navigator.msSaveOrOpenBlob(function ao(be,Se){return void 0===Se?Se={autoBom:!1}:"object"!=typeof Se&&(console.warn("Deprecated: Expected third argument to be a object"),Se={autoBom:!Se}),Se.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(be.type)?new Blob(["\ufeff",be],{type:be.type}):be}(be,an),Se);else if(Wt(be))ti(be,Se,an);else{var Le=document.createElement("a");Le.href=be,Le.target="_blank",setTimeout(function(){ps(Le)})}}:function(be,Se,an,Le){if((Le=Le||open("","_blank"))&&(Le.document.title=Le.document.body.innerText="downloading..."),"string"==typeof be)return ti(be,Se,an);var qt="application/octet-stream"===be.type,fp=/constructor/i.test(mn.HTMLElement)||mn.safari,lo=/CriOS\/[\d]+/.test(navigator.userAgent);if((lo||qt&&fp||Ia)&&"undefined"!=typeof FileReader){var rr=new FileReader;rr.onloadend=function(){var ni=rr.result;ni=lo?ni:ni.replace(/^data:[^;]*;/,"data:attachment/file;"),Le?Le.location.href=ni:location=ni,Le=null},rr.readAsDataURL(be)}else{var hs=mn.URL||mn.webkitURL,Pa=hs.createObjectURL(be);Le?Le.location=Pa:location.href=Pa,Le=null,setTimeout(function(){hs.revokeObjectURL(Pa)},4e4)}});mn.saveAs=Hn.saveAs=Hn,oo.exports=Hn}.apply(fc,[]))&&(oo.exports=ds)}},oo=>{oo(oo.s=653)}]);