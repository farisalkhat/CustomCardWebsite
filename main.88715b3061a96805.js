(self.webpackChunkCustomCardWebsite=self.webpackChunkCustomCardWebsite||[]).push([[179],{113:(co,bc,hs)=>{"use strict";function Fe(n){return"function"==typeof n}function fs(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const uo=fs(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ni(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class rn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){t=s instanceof uo?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Pa(s)}catch(o){t=null!=t?t:[],o instanceof uo?t=[...t,...o.errors]:t.push(o)}}if(t)throw new uo(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Pa(t);else{if(t instanceof rn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ni(e,t)}remove(t){const{_teardowns:e}=this;e&&ni(e,t),t instanceof rn&&t._removeParent(this)}}rn.EMPTY=(()=>{const n=new rn;return n.closed=!0,n})();const ms=rn.EMPTY;function Sn(n){return n instanceof rn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function Pa(n){Fe(n)?n():n.unsubscribe()}const Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Te={setTimeout(...n){const{delegate:t}=Te;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=Te;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function xe(n){Te.setTimeout(()=>{const{onUnhandledError:t}=Un;if(!t)throw n;t(n)})}function _n(){}const Be=po("C",void 0,void 0);function po(n,t,e){return{kind:n,value:t,error:e}}let sr=null;function gs(n){if(Un.useDeprecatedSynchronousErrorHandling){const t=!sr;if(t&&(sr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=sr;if(sr=null,e)throw r}}else n()}class ri extends rn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sn(t)&&t.add(this)):this.destination=NM}static create(t,e,r){return new kc(t,e,r)}next(t){this.isStopped?bp(function yp(n){return po("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?bp(function sn(n){return po("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?bp(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const PM=Function.prototype.bind;function Cp(n,t){return PM.call(n,t)}class AM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Dc(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Dc(r)}else Dc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Dc(e)}}}class kc extends ri{constructor(t,e,r){let i;if(super(),Fe(t)||!t)i={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let s;this&&Un.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Cp(t.next,s),error:t.error&&Cp(t.error,s),complete:t.complete&&Cp(t.complete,s)}):i=t}this.destination=new AM(i)}}function Dc(n){Un.useDeprecatedSynchronousErrorHandling?function Aa(n){Un.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=n)}(n):xe(n)}function bp(n,t){const{onStoppedNotification:e}=Un;e&&Te.setTimeout(()=>e(n,t))}const NM={closed:!0,next:_n,error:function OM(n){throw n},complete:_n},kp="function"==typeof Symbol&&Symbol.observable||"@@observable";function _s(n){return n}let st=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function FM(n){return n&&n instanceof ri||function RM(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&Sn(n)}(e)?e:new kc(e,r,i);return gs(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=tv(r))((i,s)=>{const o=new kc({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[kp](){return this}pipe(...e){return function ev(n){return 0===n.length?_s:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=tv(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=t=>new n(t),n})();function tv(n){var t;return null!==(t=null!=n?n:Un.Promise)&&void 0!==t?t:Promise}const LM=fs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let wn=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new nv(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new LM}next(e){gs(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){gs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){gs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ms:(s.push(e),new rn(()=>ni(s,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new st;return e.source=this,e}}return n.create=(t,e)=>new nv(t,e),n})();class nv extends wn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:ms}}function rv(n){return Fe(null==n?void 0:n.lift)}function St(n){return t=>{if(rv(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,t,e,r,i){return new BM(n,t,e,r,i)}class BM extends ri{constructor(t,e,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Pe(n,t){return St((e,r)=>{let i=0;e.subscribe(mt(r,s=>{r.next(n.call(t,s,i++))}))})}function vs(n){return this instanceof vs?(this.v=n,this):new vs(n)}function zM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(_){r[_]&&(i[_]=function(C){return new Promise(function(b,T){s.push([_,C,b,T])>1||a(_,C)})})}function a(_,C){try{!function l(_){_.value instanceof vs?Promise.resolve(_.value.v).then(d,f):g(s[0][2],_)}(r[_](C))}catch(b){g(s[0][3],b)}}function d(_){a("next",_)}function f(_){a("throw",_)}function g(_,C){_(C),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $M(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ov(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(d){s({value:d,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const av=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lv(n){return Fe(null==n?void 0:n.then)}function cv(n){return Fe(n[kp])}function uv(n){return Symbol.asyncIterator&&Fe(null==n?void 0:n[Symbol.asyncIterator])}function dv(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pv=function jM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hv(n){return Fe(null==n?void 0:n[pv])}function fv(n){return zM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield vs(e.read());if(i)return yield vs(void 0);yield yield vs(r)}}finally{e.releaseLock()}})}function mv(n){return Fe(null==n?void 0:n.getReader)}function or(n){if(n instanceof st)return n;if(null!=n){if(cv(n))return function WM(n){return new st(t=>{const e=n[kp]();if(Fe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(av(n))return function qM(n){return new st(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(lv(n))return function GM(n){return new st(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,xe)})}(n);if(uv(n))return gv(n);if(hv(n))return function KM(n){return new st(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mv(n))return function QM(n){return gv(fv(n))}(n)}throw dv(n)}function gv(n){return new st(t=>{(function XM(n,t){var e,r,i,s;return function VM(n,t,e,r){return new(e||(e=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(g){o(g)}}function l(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):function i(s){return s instanceof e?s:new e(function(o){o(s)})}(f.value).then(a,l)}d((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=$M(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ii(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function wt(n,t,e=1/0){return Fe(t)?wt((r,i)=>Pe((s,o)=>t(r,s,i,o))(or(n(r,i))),e):("number"==typeof t&&(e=t),St((r,i)=>function YM(n,t,e,r,i,s,o,a){const l=[];let d=0,f=0,g=!1;const _=()=>{g&&!l.length&&!d&&t.complete()},C=T=>d<r?b(T):l.push(T),b=T=>{s&&t.next(T),d++;let M=!1;or(e(T,f++)).subscribe(mt(t,P=>{null==i||i(P),s?C(P):t.next(P)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;l.length&&d<r;){const P=l.shift();o?ii(t,o,()=>b(P)):b(P)}_()}catch(P){t.error(P)}}))};return n.subscribe(mt(t,C,()=>{g=!0,_()})),()=>{null==a||a()}}(r,i,n,e)))}function Oa(n=1/0){return wt(_s,n)}const si=new st(n=>n.complete());function Tp(n){return n[n.length-1]}function _v(n){return Fe(Tp(n))?n.pop():void 0}function Na(n){return function ZM(n){return n&&Fe(n.schedule)}(Tp(n))?n.pop():void 0}function vv(n,t=0){return St((e,r)=>{e.subscribe(mt(r,i=>ii(r,n,()=>r.next(i),t),()=>ii(r,n,()=>r.complete(),t),i=>ii(r,n,()=>r.error(i),t)))})}function yv(n,t=0){return St((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Cv(n,t){if(!n)throw new Error("Iterable cannot be null");return new st(e=>{ii(e,t,()=>{const r=n[Symbol.asyncIterator]();ii(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Mt(n,t){return t?function ox(n,t){if(null!=n){if(cv(n))return function tx(n,t){return or(n).pipe(yv(t),vv(t))}(n,t);if(av(n))return function rx(n,t){return new st(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(lv(n))return function nx(n,t){return or(n).pipe(yv(t),vv(t))}(n,t);if(uv(n))return Cv(n,t);if(hv(n))return function ix(n,t){return new st(e=>{let r;return ii(e,t,()=>{r=n[pv](),ii(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>Fe(null==r?void 0:r.return)&&r.return()})}(n,t);if(mv(n))return function sx(n,t){return Cv(fv(n),t)}(n,t)}throw dv(n)}(n,t):or(n)}function Tc(n){return n<=0?()=>si:St((t,e)=>{let r=0;t.subscribe(mt(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Sp(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Tc(1)).subscribe(()=>n())}function Ve(n){for(let t in n)if(n[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function wp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Mp(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const cx=Ve({__forward_ref__:Ve});function He(n){return n.__forward_ref__=He,n.toString=function(){return Oe(this())},n}function fe(n){return bv(n)?n():n}function bv(n){return"function"==typeof n&&n.hasOwnProperty(cx)&&n.__forward_ref__===He}class q extends Error{constructor(t,e){super(function xp(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function on(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}function Sc(n,t){const e=t?` in ${t}`:"";throw new q(-201,`No provider for ${on(n)} found${e}`)}function xn(n,t){null==n&&function Ge(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ep(n){return kv(n,wc)||kv(n,Tv)}function kv(n,t){return n.hasOwnProperty(t)?n[t]:null}function Dv(n){return n&&(n.hasOwnProperty(Ip)||n.hasOwnProperty(gx))?n[Ip]:null}const wc=Ve({\u0275prov:Ve}),Ip=Ve({\u0275inj:Ve}),Tv=Ve({ngInjectableDef:Ve}),gx=Ve({ngInjectorDef:Ve});var ae=(()=>((ae=ae||{})[ae.Default=0]="Default",ae[ae.Host=1]="Host",ae[ae.Self=2]="Self",ae[ae.SkipSelf=4]="SkipSelf",ae[ae.Optional=8]="Optional",ae))();let Pp;function Mi(n){const t=Pp;return Pp=n,t}function Sv(n,t,e){const r=Ep(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&ae.Optional?null:void 0!==t?t:void Sc(Oe(n),"Injector")}function xi(n){return{toString:n}.toString()}var ar=(()=>((ar=ar||{})[ar.OnPush=0]="OnPush",ar[ar.Default=1]="Default",ar))(),lr=(()=>{return(n=lr||(lr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lr;var n})();const vx="undefined"!=typeof globalThis&&globalThis,yx="undefined"!=typeof window&&window,Cx="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le=vx||"undefined"!=typeof global&&global||yx||Cx,ho={},ze=[],Mc=Ve({\u0275cmp:Ve}),Ap=Ve({\u0275dir:Ve}),Op=Ve({\u0275pipe:Ve}),wv=Ve({\u0275mod:Ve}),ai=Ve({\u0275fac:Ve}),Ra=Ve({__NG_ELEMENT_ID__:Ve});let bx=0;function G(n){return xi(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lr.Emulated,id:"c",styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=bx++,r.inputs=Iv(n.inputs,e),r.outputs=Iv(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Mv):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(xv):null,r})}function Mv(n){return zt(n)||function Ei(n){return n[Ap]||null}(n)}function xv(n){return function ys(n){return n[Op]||null}(n)}const Ev={};function gt(n){return xi(()=>{const t={type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ev[n.id]=n.type),t})}function Iv(n,t){if(null==n)return ho;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}const re=G;function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function zt(n){return n[Mc]||null}function jn(n,t){const e=n[wv]||null;if(!e&&!0===t)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return e}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ur(n){return Array.isArray(n)&&!0===n[1]}function Fp(n){return 0!=(8&n.flags)}function Pc(n){return 2==(2&n.flags)}function Ac(n){return 1==(1&n.flags)}function dr(n){return null!==n.template}function Mx(n){return 0!=(512&n[2])}function Ds(n,t){return n.hasOwnProperty(ai)?n[ai]:null}class Ix{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Et(){return Av}function Av(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ax),Px}function Px(){const n=Nv(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===ho)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Ax(n,t,e,r){const i=Nv(n)||function Ox(n,t){return n[Ov]=t}(n,{previous:ho,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[e],l=o[a];s[a]=new Ix(l&&l.currentValue,t,o===ho),n[r]=t}Et.ngInherit=!0;const Ov="__ngSimpleChanges__";function Nv(n){return n[Ov]||null}let zp;function $p(){return void 0!==zp?zp:"undefined"!=typeof document?document:void 0}function nt(n){return!!n.listen}const Rv={createRenderer:(n,t)=>$p()};function ut(n){for(;Array.isArray(n);)n=n[0];return n}function Oc(n,t){return ut(t[n])}function Gn(n,t){return ut(t[n.index])}function Up(n,t){return n.data[t]}function In(n,t){const e=t[n];return wr(e)?e:e[0]}function Fv(n){return 4==(4&n[2])}function jp(n){return 128==(128&n[2])}function Ii(n,t){return null==t?null:n[t]}function Lv(n){n[18]=0}function Wp(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const se={lFrame:Wv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bv(){return se.bindingsEnabled}function N(){return se.lFrame.lView}function Se(){return se.lFrame.tView}function S(n){return se.lFrame.contextLView=n,n[8]}function _t(){let n=Vv();for(;null!==n&&64===n.type;)n=n.parent;return n}function Vv(){return se.lFrame.currentTNode}function Mr(n,t){const e=se.lFrame;e.currentTNode=n,e.isParent=t}function qp(){return se.lFrame.isParent}function Gp(){se.lFrame.isParent=!1}function Nc(){return se.isInCheckNoChangesMode}function Rc(n){se.isInCheckNoChangesMode=n}function ln(){const n=se.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function yo(){return se.lFrame.bindingIndex++}function ci(n){const t=se.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Xx(n,t){const e=se.lFrame;e.bindingIndex=e.bindingRootIndex=n,Kp(t)}function Kp(n){se.lFrame.currentDirectiveIndex=n}function $v(){return se.lFrame.currentQueryIndex}function Xp(n){se.lFrame.currentQueryIndex=n}function Jx(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Uv(n,t,e){if(e&ae.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&ae.Host||(i=Jx(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,n=s}const r=se.lFrame=jv();return r.currentTNode=t,r.lView=n,!0}function Fc(n){const t=jv(),e=n[1];se.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function jv(){const n=se.lFrame,t=null===n?null:n.child;return null===t?Wv(n):t}function Wv(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function qv(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gv=qv;function Lc(){const n=qv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return se.lFrame.selectedIndex}function Pi(n){se.lFrame.selectedIndex=n}function rt(){const n=se.lFrame;return Up(n.tView,n.selectedIndex)}function Bc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Vc(n,t,e){Kv(n,t,3,e)}function Hc(n,t,e,r){(3&n[2])===e&&Kv(n,t,e,r)}function Yp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Kv(n,t,e,r){const s=null!=r?r:-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(aE(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function aE(n,t,e,r){const i=e[r]<0,s=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ha{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function zc(n,t,e){const r=nt(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const o=e[i++],a=e[i++],l=e[i++];r?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++i];Zp(o)?r&&n.setProperty(t,o,a):r?n.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Qv(n){return 3===n||4===n||6===n}function Zp(n){return 64===n.charCodeAt(0)}function $c(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Xv(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Xv(n,t,e,r,i){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Yv(n){return-1!==n}function Co(n){return 32767&n}function bo(n,t){let e=function pE(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let eh=!0;function Uc(n){const t=eh;return eh=n,t}let hE=0;function $a(n,t){const e=nh(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,th(r.data,n),th(t,null),th(r.blueprint,null));const i=jc(n,t),s=n.injectorIndex;if(Yv(i)){const o=Co(i),a=bo(i,t),l=a[1].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|l[o+d]}return t[s+8]=i,s}function th(n,t){n.push(0,0,0,0,0,0,0,0,t)}function nh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function jc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Wc(n,t,e){!function fE(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ra)&&(r=e[Ra]),null==r&&(r=e[Ra]=hE++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function e1(n,t,e){if(e&ae.Optional)return n;Sc(t,"NodeInjector")}function t1(n,t,e,r){if(e&ae.Optional&&void 0===r&&(r=null),0==(e&(ae.Self|ae.Host))){const i=n[9],s=Mi(void 0);try{return i?i.get(t,r,e&ae.Optional):Sv(t,r,e&ae.Optional)}finally{Mi(s)}}return e1(r,t,e)}function n1(n,t,e,r=ae.Default,i){if(null!==n){const s=function vE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ra)?n[Ra]:void 0;return"number"==typeof t?t>=0?255&t:gE:t}(e);if("function"==typeof s){if(!Uv(t,n,r))return r&ae.Host?e1(i,e,r):t1(t,e,r,i);try{const o=s(r);if(null!=o||r&ae.Optional)return o;Sc(e)}finally{Gv()}}else if("number"==typeof s){let o=null,a=nh(n,t),l=-1,d=r&ae.Host?t[16][6]:null;for((-1===a||r&ae.SkipSelf)&&(l=-1===a?jc(n,t):t[a+8],-1!==l&&s1(r,!1)?(o=t[1],a=Co(l),t=bo(l,t)):a=-1);-1!==a;){const f=t[1];if(i1(s,a,f.data)){const g=_E(a,t,e,o,r,d);if(g!==r1)return g}l=t[a+8],-1!==l&&s1(r,t[1].data[a+8]===d)&&i1(s,a,t)?(o=f,a=Co(l),t=bo(l,t)):a=-1}}}return t1(t,e,r,i)}const r1={};function gE(){return new ko(_t(),N())}function _E(n,t,e,r,i,s){const o=t[1],a=o.data[n+8],f=qc(a,o,e,null==r?Pc(a)&&eh:r!=o&&0!=(3&a.type),i&ae.Host&&s===a);return null!==f?Ua(t,o,f,a):r1}function qc(n,t,e,r,i){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,f=s>>20,_=i?a+f:n.directiveEnd;for(let C=r?a:a+f;C<_;C++){const b=o[C];if(C<l&&e===b||C>=l&&b.type===e)return C}if(i){const C=o[l];if(C&&dr(C)&&C.type===e)return l}return null}function Ua(n,t,e,r){let i=n[e];const s=t.data;if(function lE(n){return n instanceof Ha}(i)){const o=i;o.resolving&&function ux(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${e}`)}(on(s[e]));const a=Uc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Mi(o.injectImpl):null;Uv(n,r,ae.Default);try{i=n[e]=o.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function oE(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Av(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&Mi(l),Uc(a),o.resolving=!1,Gv()}}return i}function i1(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function s1(n,t){return!(n&ae.Self||n&ae.Host&&t)}class ko{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return n1(this._tNode,this._lView,t,r,e)}}function Ut(n){return xi(()=>{const t=n.prototype.constructor,e=t[ai]||rh(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||rh(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function rh(n){return bv(n)?()=>{const t=rh(fe(n));return t&&t()}:Ds(n)}function ja(n){return function mE(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(Qv(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(_t(),n)}const To="__parameters__";function wo(n,t,e){return xi(()=>{const r=function ih(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,d,f){const g=l.hasOwnProperty(To)?l[To]:Object.defineProperty(l,To,{value:[]})[To];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=X({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const CE=new de("AnalyzeForEntryComponents");function Kn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Kn(r,t)):t!==n&&t.push(r)}return t}function xr(n,t){n.forEach(e=>Array.isArray(e)?xr(e,t):t(e))}function a1(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Gc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ga(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Pn(n,t,e){let r=Mo(n,t);return r>=0?n[1|r]=e:(r=~r,function DE(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function oh(n,t){const e=Mo(n,t);if(e>=0)return n[1|e]}function Mo(n,t){return function u1(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<e];if(t===o)return s<<e;o>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const Ka={},lh="__NG_DI_FLAG__",Qc="ngTempTokenPath",IE=/\n/gm,p1="__source",AE=Ve({provide:String,useValue:Ve});let Qa;function h1(n){const t=Qa;return Qa=n,t}function OE(n,t=ae.Default){if(void 0===Qa)throw new q(203,"");return null===Qa?Sv(n,void 0,t):Qa.get(n,t&ae.Optional?null:void 0,t)}function H(n,t=ae.Default){return(function _x(){return Pp}()||OE)(fe(n),t)}const NE=H;function ch(n){const t=[];for(let e=0;e<n.length;e++){const r=fe(n[e]);if(Array.isArray(r)){if(0===r.length)throw new q(900,"");let i,s=ae.Default;for(let o=0;o<r.length;o++){const a=r[o],l=RE(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(H(i,s))}else t.push(H(r))}return t}function Xa(n,t){return n[lh]=t,n.prototype[lh]=t,n}function RE(n){return n[lh]}const Xc=Xa(wo("Inject",n=>({token:n})),-1),Oi=Xa(wo("Optional"),8),Ya=Xa(wo("SkipSelf"),4);let Jc,Zc;function Eo(n){var t;return(null===(t=function dh(){if(void 0===Jc&&(Jc=null,Le.trustedTypes))try{Jc=Le.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Jc}())||void 0===t?void 0:t.createHTML(n))||n}function y1(n){var t;return(null===(t=function ph(){if(void 0===Zc&&(Zc=null,Le.trustedTypes))try{Zc=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Zc}())||void 0===t?void 0:t.createHTML(n))||n}class Ts{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class KE extends Ts{getTypeName(){return"HTML"}}class QE extends Ts{getTypeName(){return"Style"}}class XE extends Ts{getTypeName(){return"Script"}}class YE extends Ts{getTypeName(){return"URL"}}class JE extends Ts{getTypeName(){return"ResourceURL"}}function An(n){return n instanceof Ts?n.changingThisBreaksApplicationSecurity:n}function Er(n,t){const e=k1(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function k1(n){return n instanceof Ts&&n.getTypeName()||null}class iI{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Eo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class sI{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Eo(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Eo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const o=e.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const aI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Za(n){return(n=String(n)).match(aI)||n.match(lI)?n:"unsafe:"+n}function Ir(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function el(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const S1=Ir("area,br,col,hr,img,wbr"),w1=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M1=Ir("rp,rt"),hh=el(S1,el(w1,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(M1,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(M1,w1)),fh=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mh=Ir("srcset"),x1=el(fh,mh,Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cI=Ir("script,style,template");class uI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hh.hasOwnProperty(e))return this.sanitizedSomething=!0,!cI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!x1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;fh[a]&&(l=Za(l)),mh[a]&&(n=l,l=(n=String(n)).split(",").map(t=>Za(t.trim())).join(", ")),this.buf.push(" ",o,'="',E1(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hh.hasOwnProperty(e)&&!S1.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(E1(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const dI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pI=/([^\#-~ |!])/g;function E1(n){return n.replace(/&/g,"&amp;").replace(dI,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eu;function I1(n,t){let e=null;try{eu=eu||function D1(n){const t=new sI(n);return function oI(){try{return!!(new window.DOMParser).parseFromString(Eo(""),"text/html")}catch(n){return!1}}()?new iI(t):t}(n);let r=t?String(t):"";e=eu.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=eu.getInertBodyElement(r)}while(r!==s);return Eo((new uI).sanitizeChildren(gh(e)||e))}finally{if(e){const r=gh(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gh(n){return"content"in n&&function hI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ue=(()=>((Ue=Ue||{})[Ue.NONE=0]="NONE",Ue[Ue.HTML=1]="HTML",Ue[Ue.STYLE=2]="STYLE",Ue[Ue.SCRIPT=3]="SCRIPT",Ue[Ue.URL=4]="URL",Ue[Ue.RESOURCE_URL=5]="RESOURCE_URL",Ue))();function pr(n){const t=tl();return t?y1(t.sanitize(Ue.HTML,n)||""):Er(n,"HTML")?y1(An(n)):I1($p(),le(n))}function I(n){const t=tl();return t?t.sanitize(Ue.URL,n)||"":Er(n,"URL")?An(n):Za(le(n))}function tl(){const n=N();return n&&n[12]}const O1="__ngContext__";function jt(n,t){n[O1]=t}function vh(n){const t=function nl(n){return n[O1]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ch(n){return n.ngOriginalError}function EI(n,...t){n.error(...t)}class rl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function xI(n){return n&&n.ngErrorLogger||EI}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Ch(t);for(;e&&Ch(e);)e=Ch(e);return e||null}}const VI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Le))();function il(n){return n.ownerDocument}function Pr(n){return n instanceof Function?n():n}var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();function kh(n,t){return undefined(n,t)}function sl(n){const t=n[3];return ur(t)?t[3]:t}function Dh(n){return $1(n[13])}function Th(n){return $1(n[4])}function $1(n){for(;null!==n&&!ur(n);)n=n[4];return n}function Po(n,t,e,r,i){if(null!=r){let s,o=!1;ur(r)?s=r:wr(r)&&(o=!0,r=r[0]);const a=ut(r);0===n&&null!==e?null==i?K1(t,e,a):Ss(t,e,a,i||null,!0):1===n&&null!==e?Ss(t,e,a,i||null,!0):2===n?function ty(n,t,e){const r=tu(n,t);r&&function JI(n,t,e,r){nt(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function tP(n,t,e,r,i){const s=e[7];s!==ut(e)&&Po(t,n,r,s,i);for(let a=10;a<e.length;a++){const l=e[a];ol(l[1],l,n,t,r,s)}}(t,n,s,e,i)}}function wh(n,t,e){if(nt(n))return n.createElement(t,e);{const r=null!==e?function Lx(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function j1(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Wp(i,-1)),e.splice(r,1)}function Mh(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&j1(i,r),t>0&&(n[e-1][4]=r[4]);const s=Gc(n,10+t);!function jI(n,t){ol(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function W1(n,t){if(!(256&t[2])){const e=t[11];nt(e)&&e.destroyNode&&ol(n,t,e,3,null,null),function GI(n){let t=n[13];if(!t)return xh(n[1],n);for(;t;){let e=null;if(wr(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)wr(t)&&xh(t[1],t),t=t[3];null===t&&(t=n),wr(t)&&xh(t[1],t),e=t&&t[4]}t=e}}(t)}}function xh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function YI(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Ha)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,t),function XI(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):ut(t[o]),l=r[i=e[s+2]],d=e[s+3];"boolean"==typeof d?a.removeEventListener(e[s],l,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const o=r[i=e[s+1]];e[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(n,t),1===t[1].type&&nt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ur(t[3])){e!==t[3]&&j1(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function q1(n,t,e){return function G1(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===lr.None||i===lr.Emulated)return null}return Gn(r,e)}(n,t.parent,e)}function Ss(n,t,e,r,i){nt(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function K1(n,t,e){nt(n)?n.appendChild(t,e):t.appendChild(e)}function Q1(n,t,e,r,i){null!==r?Ss(n,t,e,r,i):K1(n,t,e)}function tu(n,t){return nt(n)?n.parentNode(t):t.parentNode}function X1(n,t,e){return J1(n,t,e)}let J1=function Y1(n,t,e){return 40&n.type?Gn(n,e):null};function nu(n,t,e,r){const i=q1(n,r,t),s=t[11],a=X1(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Q1(s,i,e[l],a,!1);else Q1(s,i,e,a,!1)}function ru(n,t){if(null!==t){const e=t.type;if(3&e)return Gn(t,n);if(4&e)return Ih(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return ru(n,r);{const i=n[t.index];return ur(i)?Ih(-1,i):ut(i)}}if(32&e)return kh(t,n)()||ut(n[t.index]);{const r=ey(n,t);return null!==r?Array.isArray(r)?r[0]:ru(sl(n[16]),r):ru(n,t.next)}}return null}function ey(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Ih(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return ru(r,i)}return t[7]}function Ph(n,t,e,r,i,s,o){for(;null!=e;){const a=r[e.index],l=e.type;if(o&&0===t&&(a&&jt(ut(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)Ph(n,t,e.child,r,i,s,!1),Po(t,n,i,a,s);else if(32&l){const d=kh(e,r);let f;for(;f=d();)Po(t,n,i,f,s);Po(t,n,i,a,s)}else 16&l?ny(n,t,r,e,i,s):Po(t,n,i,a,s);e=o?e.projectionNext:e.next}}function ol(n,t,e,r,i,s){Ph(e,r,n.firstChild,t,i,s,!1)}function ny(n,t,e,r,i,s){const o=e[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Po(t,n,i,l[d],s);else Ph(n,t,l,o[3],i,s,!0)}function ry(n,t,e){nt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Ah(n,t,e){nt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function iy(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}const sy="ng-template";function rP(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==iy(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function oy(n){return 4===n.type&&n.value!==sy}function iP(n,t,e){return t===(4!==n.type||e?n.value:sy)}function sP(n,t,e){let r=4;const i=n.attrs||[],s=function lP(n){for(let t=0;t<n.length;t++)if(Qv(n[t]))return t;return n.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!iP(n,l,e)||""===l&&1===t.length){if(hr(r))return!1;o=!0}}else{const d=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!rP(n.attrs,d,e)){if(hr(r))return!1;o=!0}continue}const g=oP(8&r?"class":l,i,oy(n),e);if(-1===g){if(hr(r))return!1;o=!0;continue}if(""!==d){let _;_=g>s?"":i[g+1].toLowerCase();const C=8&r?_:null;if(C&&-1!==iy(C,d,0)||2&r&&d!==_){if(hr(r))return!1;o=!0}}}}else{if(!o&&!hr(r)&&!hr(l))return!1;if(o&&hr(l))continue;o=!1,r=l|1&r}}return hr(r)||o}function hr(n){return 0==(1&n)}function oP(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const o=t[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function cP(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function ay(n,t,e=!1){for(let r=0;r<t.length;r++)if(sP(n,t[r],e))return!0;return!1}function uP(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ly(n,t){return n?":not("+t.trim()+")":t}function dP(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&r){const a=n[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hr(o)&&(t+=ly(s,i),i=""),r=o,s=s||!hr(r);e++}return""!==i&&(t+=ly(s,i)),t}const ce={};function h(n){cy(Se(),N(),cn()+n,Nc())}function cy(n,t,e,r){if(!r)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Vc(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Hc(t,s,0,e)}Pi(e)}function iu(n,t){return n<<17|t<<2}function fr(n){return n>>17&32767}function Oh(n){return 2|n}function ui(n){return(131068&n)>>2}function Nh(n,t){return-131069&n|t<<2}function Rh(n){return 1|n}function Cy(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const o=n.data[s];Xp(i),o.contentQueries(2,t[s],s)}}}function al(n,t,e,r,i,s,o,a,l,d){const f=t.blueprint.slice();return f[0]=i,f[2]=140|r,Lv(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=s,f[16]=2==t.type?n[16]:f,f}function Ao(n,t,e,r,i){let s=n.data[t];if(null===s)s=function jh(n,t,e,r,i){const s=Vv(),o=qp(),l=n.data[t]=function EP(n,t,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,r,i),function Qx(){return se.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function Va(){const n=se.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mr(s,!0),s}function Oo(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function ll(n,t,e){Fc(t);try{const r=n.viewQuery;null!==r&&Zh(1,r,e);const i=n.template;null!==i&&by(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cy(n,t),n.staticViewQueries&&Zh(2,n.viewQuery,e);const s=n.components;null!==s&&function wP(n,t){for(let e=0;e<t.length;e++)GP(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Lc()}}function No(n,t,e,r){const i=t[2];if(256==(256&i))return;Fc(t);const s=Nc();try{Lv(t),function Hv(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&by(n,t,e,2,r);const o=3==(3&i);if(!s)if(o){const d=n.preOrderCheckHooks;null!==d&&Vc(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Hc(t,d,0,null),Yp(t,0)}if(function WP(n){for(let t=Dh(n);null!==t;t=Th(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&Wp(s,1),i[2]|=1024}}}(t),function jP(n){for(let t=Dh(n);null!==t;t=Th(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];jp(r)&&No(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Cy(n,t),!s)if(o){const d=n.contentCheckHooks;null!==d&&Vc(t,d)}else{const d=n.contentHooks;null!==d&&Hc(t,d,1),Yp(t,1)}!function TP(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Pi(~i);else{const s=i,o=e[++r],a=e[++r];Xx(o,s),a(2,t[s])}}}finally{Pi(-1)}}(n,t);const a=n.components;null!==a&&function SP(n,t){for(let e=0;e<t.length;e++)qP(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Zh(2,l,r),!s)if(o){const d=n.viewCheckHooks;null!==d&&Vc(t,d)}else{const d=n.viewHooks;null!==d&&Hc(t,d,2),Yp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Wp(t[3],-1))}finally{Lc()}}function MP(n,t,e,r){const i=t[10],s=!Nc(),o=Fv(t);try{s&&!o&&i.begin&&i.begin(),o&&ll(n,t,r),No(n,t,e,r)}finally{s&&!o&&i.end&&i.end()}}function by(n,t,e,r,i){const s=cn(),o=2&r;try{Pi(-1),o&&t.length>20&&cy(n,t,20,Nc()),e(r,i)}finally{Pi(s)}}function ky(n,t,e){if(Fp(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Wh(n,t,e){!Bv()||(function FP(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||$a(e,t),jt(r,t);const o=e.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],d=dr(l);d&&zP(t,e,l);const f=Ua(t,n,a,e);jt(f,t),null!==o&&$P(0,a-i,f,l,0,o),d&&(In(e.index,t)[8]=f)}}(n,t,e,Gn(e,t)),128==(128&e.flags)&&function LP(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=function Yx(){return se.lFrame.currentDirectiveIndex}();try{Pi(o);for(let l=r;l<i;l++){const d=n.data[l],f=t[l];Kp(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Iy(d,f)}}finally{Pi(-1),Kp(a)}}(n,t,e))}function qh(n,t,e=Gn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(t,n):n[o];n[i++]=a}}}function Dy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=au(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function au(n,t,e,r,i,s,o,a,l,d){const f=20+r,g=f+i,_=function xP(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ce);return e}(f,g),C="function"==typeof d?d():d;return _[1]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1}}function wy(n,t,e,r){const i=Fy(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&Ly(n).push(r,i.length-1))}function My(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function Nn(n,t,e,r,i,s,o,a){const l=Gn(t,e);let f,d=t.inputs;!a&&null!=d&&(f=d[r])?(Hy(n,e,f,r,i),Pc(t)&&function AP(n,t){const e=In(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function PP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,t.value||"",r):i,nt(s)?s.setProperty(l,r,i):Zp(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Gh(n,t,e,r){let i=!1;if(Bv()){const s=function BP(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ay(e,o.selectors,!1)&&(i||(i=[]),Wc($a(e,t),n,o.type),dr(o)?(Py(n,e),i.unshift(o)):i.push(o))}return i}(n,t,e),o=null===r?null:{"":-1};if(null!==s){i=!0,Ay(e,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let a=!1,l=!1,d=Oo(n,t,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];e.mergedAttrs=$c(e.mergedAttrs,g.hostAttrs),Oy(n,e,t,d,g),HP(d,g,o),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const _=g.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),d++}!function IP(n,t){const r=t.directiveEnd,i=n.data,s=t.attrs,o=[];let a=null,l=null;for(let d=t.directiveStart;d<r;d++){const f=i[d],g=f.inputs,_=null===s||oy(t)?null:UP(g,s);o.push(_),a=My(g,d,a),l=My(f.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function VP(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new q(-301,!1);r.push(t[i],s)}}}(e,r,o)}return e.mergedAttrs=$c(e.mergedAttrs,e.attrs),i}function Ey(n,t,e,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function RP(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function Iy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Py(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function HP(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;dr(t)&&(e[""]=n)}}function Ay(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Oy(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ds(i.type)),o=new Ha(s,dr(i),null);n.blueprint[r]=o,e[r]=o,Ey(n,t,0,r,Oo(n,e,i.hostVars,ce),i)}function zP(n,t,e){const r=Gn(t,n),i=Dy(e),s=n[10],o=lu(n,al(n,i,null,e.onPush?64:16,r,t,s,s.createRenderer(r,e),null,null));n[t.index]=o}function Ar(n,t,e,r,i,s){const o=Gn(n,t);!function Kh(n,t,e,r,i,s,o){if(null==s)nt(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const a=null==o?le(s):o(s,r||"",i);nt(n)?n.setAttribute(t,i,a,e):e?t.setAttributeNS(e,i,a):t.setAttribute(i,a)}}(t[11],o,s,n.value,e,r,i)}function $P(n,t,e,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const d=o[l++],f=o[l++],g=o[l++];null!==a?r.setInput(e,g,d,f):e[f]=g}}}function UP(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function Ny(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function qP(n,t){const e=In(t,n);if(jp(e)){const r=e[1];80&e[2]?No(r,e,r.template,e[8]):e[5]>0&&Qh(e)}}function Qh(n){for(let r=Dh(n);null!==r;r=Th(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];No(o,s,o.template,s[8])}else s[5]>0&&Qh(s)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=In(e[r],n);jp(i)&&i[5]>0&&Qh(i)}}function GP(n,t){const e=In(t,n),r=e[1];(function KP(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),ll(r,e,e[8])}function lu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Xh(n){for(;n;){n[2]|=64;const t=sl(n);if(Mx(n)&&!t)return n;n=t}return null}function Jh(n,t,e){const r=t[10];r.begin&&r.begin();try{No(n,t,n.template,e)}catch(i){throw Vy(t,i),i}finally{r.end&&r.end()}}function Ry(n){!function Yh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=vh(e),i=r[1];MP(i,r,i.template,e)}}(n[8])}function Zh(n,t,e){Xp(0),t(n,e)}const JP=(()=>Promise.resolve(null))();function Fy(n){return n[7]||(n[7]=[])}function Ly(n){return n.cleanup||(n.cleanup=[])}function Vy(n,t){const e=n[9],r=e?e.get(rl,null):null;r&&r.handleError(t)}function Hy(n,t,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],d=n.data[o];null!==d.setInput?d.setInput(l,i,r,a):l[a]=i}}function di(n,t,e){const r=Oc(t,n);!function U1(n,t,e){nt(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function cu(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Mp(i,a):2==s&&(r=Mp(r,a+": "+t[++o]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const ef=new de("INJECTOR",-1);class zy{get(t,e=Ka){if(e===Ka){const r=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw r.name="NullInjectorError",r}return e}}const tf=new de("Set Injector scope."),cl={},tA={};let nf;function $y(){return void 0===nf&&(nf=new zy),nf}function Uy(n,t=null,e=null,r){const i=jy(n,t,e,r);return i._resolveInjectorDefTypes(),i}function jy(n,t=null,e=null,r){return new nA(n,e,t||$y(),r)}class nA{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&xr(e,a=>this.processProvider(a,t,e)),xr([t],a=>this.processInjectorType(a,[],s)),this.records.set(ef,Ro(void 0,this));const o=this.records.get(tf);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:Oe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ka,r=ae.Default){this.assertNotDestroyed();const i=h1(this),s=Mi(void 0);try{if(!(r&ae.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function uA(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&Ep(t);a=l&&this.injectableDefInScope(l)?Ro(rf(t),cl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&ae.Self?$y():this.parent).get(t,e=r&ae.Optional&&e===Ka?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Qc]=o[Qc]||[]).unshift(Oe(t)),i)throw o;return function FE(n,t,e,r){const i=n[Qc];throw t[p1]&&i.unshift(t[p1]),n.message=function LE(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Oe(t);if(Array.isArray(t))i=t.map(Oe).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(IE,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Qc]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Mi(s),h1(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Oe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processInjectorType(t,e,r){if(!(t=fe(t)))return!1;let i=Dv(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Dv(s)),null==i)return!1;if(null!=i.imports&&!a){let f;r.push(o);try{xr(i.imports,g=>{this.processInjectorType(g,e,r)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:_,providers:C}=f[g];xr(C,b=>this.processProvider(b,_,C||ze))}}this.injectorDefTypes.add(o);const l=Ds(o)||(()=>new o);this.records.set(o,Ro(l,cl));const d=i.providers;if(null!=d&&!a){const f=t;xr(d,g=>this.processProvider(g,f,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,r){let i=Fo(t=fe(t))?t:fe(t&&t.provide);const s=function iA(n,t,e){return qy(n)?Ro(void 0,n.useValue):Ro(Wy(n),cl)}(t);if(Fo(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ro(void 0,cl,!0),o.factory=()=>ch(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,e){return e.value===cl&&(e.value=tA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function cA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=fe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function rf(n){const t=Ep(n),e=null!==t?t.factory:Ds(n);if(null!==e)return e;if(n instanceof de)throw new q(204,!1);if(n instanceof Function)return function rA(n){const t=n.length;if(t>0)throw Ga(t,"?"),new q(204,!1);const e=function fx(n){const t=n&&(n[wc]||n[Tv]);if(t){const e=function mx(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new q(204,!1)}function Wy(n,t,e){let r;if(Fo(n)){const i=fe(n);return Ds(i)||rf(i)}if(qy(n))r=()=>fe(n.useValue);else if(function oA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ch(n.deps||[]));else if(function sA(n){return!(!n||!n.useExisting)}(n))r=()=>H(fe(n.useExisting));else{const i=fe(n&&(n.useClass||n.provide));if(!function lA(n){return!!n.deps}(n))return Ds(i)||rf(i);r=()=>new i(...ch(n.deps))}return r}function Ro(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function qy(n){return null!==n&&"object"==typeof n&&AE in n}function Fo(n){return"function"==typeof n}let yt=(()=>{class n{static create(e,r){var i;if(Array.isArray(e))return Uy({name:""},r,e,"");{const s=null!==(i=e.name)&&void 0!==i?i:"";return Uy({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ka,n.NULL=new zy,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>H(ef)}),n.__NG_ELEMENT_ID__=-1,n})();function vA(n,t){Bc(vh(n)[1],_t())}function Ne(n){let t=function iC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(dr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new q(903,"");i=t.\u0275dir}if(i){if(e){r.push(i);const o=n;o.inputs=af(n.inputs),o.declaredInputs=af(n.declaredInputs),o.outputs=af(n.outputs);const a=i.hostBindings;a&&kA(n,a);const l=i.viewQuery,d=i.contentQueries;if(l&&CA(n,l),d&&bA(n,d),wp(n.inputs,i.inputs),wp(n.declaredInputs,i.declaredInputs),wp(n.outputs,i.outputs),dr(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ne&&(e=!1)}}t=Object.getPrototypeOf(t)}!function yA(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,e=$c(e,i.hostAttrs))}}(r)}function af(n){return n===ho?{}:n===ze?[]:n}function CA(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function bA(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function kA(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let uu=null;function Lo(){if(!uu){const n=Le.Symbol;if(n&&n.iterator)uu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(uu=r)}}}return uu}function ul(n){return!!lf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Lo()in n)}function lf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Or(n,t,e){return n[t]=e}function Wt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ws(n,t,e,r){const i=Wt(n,t,e);return Wt(n,t+1,r)||i}function Nr(n,t,e,r){const i=N();return Wt(i,yo(),t)&&(Se(),Ar(rt(),i,n,t,e,r)),Nr}function Vo(n,t,e,r){return Wt(n,yo(),e)?t+le(e)+r:ce}function Ho(n,t,e,r,i,s){const a=ws(n,function li(){return se.lFrame.bindingIndex}(),e,i);return ci(2),a?t+le(e)+r+le(i)+s:ce}function y(n,t,e,r,i,s,o,a){const l=N(),d=Se(),f=n+20,g=d.firstCreatePass?function EA(n,t,e,r,i,s,o,a,l){const d=t.consts,f=Ao(t,n,4,o||null,Ii(d,a));Gh(t,e,f,Ii(d,l)),Bc(t,f);const g=f.tViews=au(2,f,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,l,t,e,r,i,s,o):d.data[f];Mr(g,!1);const _=l[11].createComment("");nu(d,l,_,g),jt(_,l),lu(l,l[f]=Ny(_,l,_,g)),Ac(g)&&Wh(d,l,g),null!=o&&qh(l,g,a)}function w(n,t=ae.Default){const e=N();return null===e?H(n,t):n1(_t(),e,fe(n),t)}function hf(){throw new Error("invalid")}function m(n,t,e){const r=N();return Wt(r,yo(),t)&&Nn(Se(),rt(),r,n,t,r[11],e,!1),m}function ff(n,t,e,r,i){const o=i?"class":"style";Hy(n,e,t.inputs[o],o,r)}function c(n,t,e,r){const i=N(),s=Se(),o=20+n,a=i[11],l=i[o]=wh(a,t,function sE(){return se.lFrame.currentNamespace}()),d=s.firstCreatePass?function YA(n,t,e,r,i,s,o){const a=t.consts,d=Ao(t,n,2,i,Ii(a,s));return Gh(t,e,d,Ii(a,o)),null!==d.attrs&&cu(d,d.attrs,!1),null!==d.mergedAttrs&&cu(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,s,i,0,t,e,r):s.data[o];Mr(d,!0);const f=d.mergedAttrs;null!==f&&zc(a,l,f);const g=d.classes;null!==g&&Ah(a,l,g);const _=d.styles;return null!==_&&ry(a,l,_),64!=(64&d.flags)&&nu(s,i,l,d),0===function Ux(){return se.lFrame.elementDepthCount}()&&jt(l,i),function jx(){se.lFrame.elementDepthCount++}(),Ac(d)&&(Wh(s,i,d),ky(s,d,i)),null!==r&&qh(i,d),c}function u(){let n=_t();qp()?Gp():(n=n.parent,Mr(n,!1));const t=n;!function Wx(){se.lFrame.elementDepthCount--}();const e=Se();return e.firstCreatePass&&(Bc(e,n),Fp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function uE(n){return 0!=(16&n.flags)}(t)&&ff(e,t,N(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dE(n){return 0!=(32&n.flags)}(t)&&ff(e,t,N(),t.stylesWithoutHost,!1),u}function D(n,t,e,r){return c(n,t,e,r),u(),D}function Ms(n,t,e){const r=N(),i=Se(),s=n+20,o=i.firstCreatePass?function JA(n,t,e,r,i){const s=t.consts,o=Ii(s,r),a=Ao(t,n,8,"ng-container",o);return null!==o&&cu(a,o,!0),Gh(t,e,a,Ii(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,e):i.data[s];Mr(o,!0);const a=r[s]=r[11].createComment("");return nu(i,r,a,o),jt(a,r),Ac(o)&&(Wh(i,r,o),ky(i,o,r)),null!=e&&qh(r,o),Ms}function xs(){let n=_t();const t=Se();return qp()?Gp():(n=n.parent,Mr(n,!1)),t.firstCreatePass&&(Bc(t,n),Fp(n)&&t.queries.elementEnd(n)),xs}function mf(n,t,e){return Ms(n,t,e),xs(),mf}function F(){return N()}function pl(n){return!!n&&"function"==typeof n.then}const gf=function TC(n){return!!n&&"function"==typeof n.subscribe};function k(n,t,e,r){const i=N(),s=Se(),o=_t();return function wC(n,t,e,r,i,s,o,a){const l=Ac(r),f=n.firstCreatePass&&Ly(n),g=t[8],_=Fy(t);let C=!0;if(3&r.type||a){const M=Gn(r,t),P=a?a(M):M,E=_.length,R=a?z=>a(ut(z[r.index])):r.index;if(nt(e)){let z=null;if(!a&&l&&(z=function ZA(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=t[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,C=!1;else{s=_f(r,t,g,s,!1);const K=e.listen(P,i,s);_.push(s,K),f&&f.push(i,R,E,E+1)}}else s=_f(r,t,g,s,!0),P.addEventListener(i,s,o),_.push(s),f&&f.push(i,R,E,o)}else s=_f(r,t,g,s,!1);const b=r.outputs;let T;if(C&&null!==b&&(T=b[i])){const M=T.length;if(M)for(let P=0;P<M;P+=2){const Ee=t[T[P]][T[P+1]].subscribe(s),Ie=_.length;_.push(s,Ee),f&&f.push(i,r.index,Ie,-(Ie+1))}}}(s,i,i[11],o,n,t,!!e,r),k}function MC(n,t,e,r){try{return!1!==e(r)}catch(i){return Vy(n,i),!1}}function _f(n,t,e,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?In(n.index,t):t;0==(32&t[2])&&Xh(a);let l=MC(t,0,r,o),d=s.__ngNextListenerFn__;for(;d;)l=MC(t,0,d,o)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function v(n=1){return function Zx(n){return(se.lFrame.contextLView=function eE(n,t){for(;n>0;)t=t[15],n--;return t}(n,se.lFrame.contextLView))[8]}(n)}function e3(n,t){let e=null;const r=function aP(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ay(n,s,!0):uP(r,s))return i}else e=i}return e}function B(n,t,e){return A(n,"",t,"",e),B}function A(n,t,e,r,i){const s=N(),o=Vo(s,t,e,r);return o!==ce&&Nn(Se(),rt(),s,n,o,s[11],i,!1),A}function BC(n,t,e,r,i){const s=n[e+1],o=null===t;let a=r?fr(s):ui(s),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];r3(n[a],t)&&(l=!0,n[a+1]=r?Rh(f):Oh(f)),a=r?fr(f):ui(f)}l&&(n[e+1]=r?Oh(s):Rh(s))}function r3(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Mo(n,t)>=0}const Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VC(n){return n.substring(Ct.key,Ct.keyEnd)}function HC(n,t){const e=Ct.textEnd;return e===t?-1:(t=Ct.keyEnd=function l3(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ct.key=t,e),Ko(n,t,e))}function Ko(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function It(n,t,e){return gr(n,t,e,!1),It}function Rr(n,t){return gr(n,t,null,!0),Rr}function pi(n){!function _r(n,t,e,r){const i=Se(),s=ci(2);i.firstUpdatePass&&qC(i,null,s,r);const o=N();if(e!==ce&&Wt(o,s,e)){const a=i.data[cn()];if(XC(a,r)&&!WC(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Mp(l,e||"")),ff(i,a,o,e,r)}else!function _3(n,t,e,r,i,s,o,a){i===ce&&(i=ze);let l=0,d=0,f=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){const _=l<i.length?i[l+1]:void 0,C=d<s.length?s[d+1]:void 0;let T,b=null;f===g?(l+=2,d+=2,_!==C&&(b=g,T=C)):null===g||null!==f&&f<g?(l+=2,b=f):(d+=2,b=g,T=C),null!==b&&KC(n,t,e,r,b,T,o,a),f=l<i.length?i[l]:null,g=d<s.length?s[d]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function g3(n,t,e){if(null==e||""===e)return ze;const r=[],i=An(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,s)}}(Pn,Lr,n,!0)}function Lr(n,t){for(let e=function o3(n){return function $C(n){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=n.length}(n),HC(n,Ko(n,0,Ct.textEnd))}(t);e>=0;e=HC(t,e))Pn(n,VC(t),!0)}function gr(n,t,e,r){const i=N(),s=Se(),o=ci(2);s.firstUpdatePass&&qC(s,n,o,r),t!==ce&&Wt(i,o,t)&&KC(s,s.data[cn()],i,i[11],n,i[o+1]=function v3(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Oe(An(n)))),n}(t,e),r,o)}function WC(n,t){return t>=n.expandoStartIndex}function qC(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[cn()],o=WC(n,e);XC(s,r)&&null===t&&!o&&(t=!1),t=function p3(n,t,e,r){const i=function Qp(n){const t=se.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=hl(e=vf(null,n,t,e,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==i)if(e=vf(i,n,t,e,r),null===s){let l=function h3(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ui(r))return n[fr(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=vf(null,n,t,l[1],r),l=hl(l,t.attrs,r),function f3(n,t,e,r){n[fr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else s=function m3(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=hl(r,n[s].hostAttrs,e);return hl(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function t3(n,t,e,r,i,s){let o=s?t.classBindings:t.styleBindings,a=fr(o),l=ui(o);n[r]=e;let f,d=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||Mo(g,f)>0)&&(d=!0)}else f=e;if(i)if(0!==l){const _=fr(n[a+1]);n[r+1]=iu(_,a),0!==_&&(n[_+1]=Nh(n[_+1],r)),n[a+1]=function fP(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=iu(a,0),0!==a&&(n[a+1]=Nh(n[a+1],r)),a=r;else n[r+1]=iu(l,0),0===a?a=r:n[l+1]=Nh(n[l+1],r),l=r;d&&(n[r+1]=Oh(n[r+1])),BC(n,f,r,!0),BC(n,f,r,!1),function n3(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Mo(s,t)>=0&&(e[r+1]=Rh(e[r+1]))}(t,f,n,r,s),o=iu(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,e,o,r)}}function vf(n,t,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],r=hl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function hl(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pn(n,o,!!e||t[++s]))}return void 0===n?null:n}function KC(n,t,e,r,i,s,o,a){if(!(3&t.type))return;const l=n.data,d=l[a+1];hu(function py(n){return 1==(1&n)}(d)?QC(l,t,e,i,ui(d),o):void 0)||(hu(s)||function dy(n){return 2==(2&n)}(d)&&(s=QC(l,null,e,i,a,o)),function nP(n,t,e,r,i){const s=nt(n);if(t)i?s?n.addClass(e,r):e.classList.add(r):s?n.removeClass(e,r):e.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:On.DashCase;if(null==i)s?n.removeStyle(e,r,o):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=On.Important),s?n.setStyle(e,r,i,o):e.style.setProperty(r,i,a?"important":"")}}}(r,o,Oc(cn(),e),i,s))}function QC(n,t,e,r,i,s){const o=null===t;let a;for(;i>0;){const l=n[i],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let _=e[i+1];_===ce&&(_=g?ze:void 0);let C=g?oh(_,r):f===r?_:void 0;if(d&&!hu(C)&&(C=oh(l,r)),hu(C)&&(a=C,o))return a;const b=n[i+1];i=o?fr(b):ui(b)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=oh(l,r))}return a}function hu(n){return void 0!==n}function XC(n,t){return 0!=(n.flags&(t?16:32))}function p(n,t=""){const e=N(),r=Se(),i=n+20,s=r.firstCreatePass?Ao(r,i,1,t,null):r.data[i],o=e[i]=function Sh(n,t){return nt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);nu(r,e,o,s),Mr(s,!1)}function O(n){return x("",n,""),O}function x(n,t,e){const r=N(),i=Vo(r,n,t,e);return i!==ce&&di(r,cn(),i),x}function we(n,t,e,r,i){const s=N(),o=Ho(s,n,t,e,r,i);return o!==ce&&di(s,cn(),o),we}const Es=void 0;var B3=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L3(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Qo={};function dn(n){const t=function V3(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=gb(t);if(e)return e;const r=t.split("-")[0];if(e=gb(r),e)return e;if("en"===r)return B3;throw new Error(`Missing locale data for the locale "${n}".`)}function gb(n){return n in Qo||(Qo[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),Qo[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const fu="en-US";let _b=fu;function bf(n,t,e,r,i){if(n=fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)bf(n[s],t,e,r,i);else{const s=Se(),o=N();let a=Fo(n)?n:fe(n.provide),l=Wy(n);const d=_t(),f=1048575&d.providerIndexes,g=d.directiveStart,_=d.providerIndexes>>20;if(Fo(n)||!n.multi){const C=new Ha(l,i,w),b=Df(a,t,i?f:f+_,g);-1===b?(Wc($a(d,o),s,a),kf(s,n,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(C),o.push(C)):(e[b]=C,o[b]=C)}else{const C=Df(a,t,f+_,g),b=Df(a,t,f,f+_),T=C>=0&&e[C],M=b>=0&&e[b];if(i&&!M||!i&&!T){Wc($a(d,o),s,a);const P=function LO(n,t,e,r,i){const s=new Ha(n,e,w);return s.multi=[],s.index=t,s.componentProviders=0,zb(s,i,r&&!e),s}(i?FO:RO,e.length,i,r,l);!i&&M&&(e[b].providerFactory=P),kf(s,n,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(P),o.push(P)}else kf(s,n,C>-1?C:b,zb(e[i?b:C],l,!i&&r));!i&&r&&M&&e[b].componentProviders++}}}function kf(n,t,e,r){const i=Fo(t),s=function aA(n){return!!n.useClass}(t);if(i||s){const l=(s?fe(t.useClass):t).prototype.ngOnDestroy;if(l){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const f=d.indexOf(e);-1===f?d.push(e,[r,l]):d[f+1].push(r,l)}else d.push(e,l)}}}function zb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Df(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function RO(n,t,e,r){return Tf(this.multi,[])}function FO(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ua(e,e[1],this.providerFactory.index,r);s=a.slice(0,o),Tf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Tf(i,s);return s}function Tf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function je(n,t=[]){return e=>{e.providersResolver=(r,i)=>function NO(n,t,e){const r=Se();if(r.firstCreatePass){const i=dr(n);bf(e,r.data,r.blueprint,i,!0),bf(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class $b{}class HO{resolveComponentFactory(t){throw function VO(n){const t=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Yo=(()=>{class n{}return n.NULL=new HO,n})();function zO(){return Jo(_t(),N())}function Jo(n,t){return new dt(Gn(n,t))}let dt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=zO,n})();function $O(n){return n instanceof dt?n.nativeElement:n}class vl{}let Br=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jO(){const n=N(),e=In(_t().index,n);return function UO(n){return n[11]}(wr(e)?e:n)}(),n})(),WO=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class yl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qO=new yl("13.2.5"),Sf={};function yu(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(ut(s)),ur(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1].firstChild;null!==d&&yu(l[1],l,d,r)}const o=e.type;if(8&o)yu(n,t,e.child,r);else if(32&o){const a=kh(e,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ey(t,e);if(Array.isArray(a))r.push(...a);else{const l=sl(t[16]);yu(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Cl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return yu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ur(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Mh(t,r),Gc(e,r))}this._attachedToViewContainer=!1}W1(this._lView[1],this._lView)}onDestroy(t){wy(this._lView[1],this._lView,null,t)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function XP(n,t,e){Rc(!0);try{Jh(n,t,e)}finally{Rc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new q(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qI(n,t){ol(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new q(902,"");this._appRef=t}}class GO extends Cl{constructor(t){super(t),this._view=t}detectChanges(){Ry(this._view)}checkNoChanges(){!function YP(n){Rc(!0);try{Ry(n)}finally{Rc(!1)}}(this._view)}get context(){return null}}class jb extends Yo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=zt(t);return new wf(e,this.ngModule)}}function Wb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class wf extends $b{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function pP(n){return n.map(dP).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(t,e,r,i){const s=(i=i||this.ngModule)?function QO(n,t){return{get:(e,r,i)=>{const s=n.get(e,Sf,i);return s!==Sf||r===Sf?s:t.get(e,r,i)}}}(t,i.injector):t,o=s.get(vl,Rv),a=s.get(WO,null),l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function Sy(n,t,e){if(nt(n))return n.selectRootElement(t,e===lr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(l,r,this.componentDef.encapsulation):wh(o.createRenderer(null,this.componentDef),d,function KO(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(d)),g=this.componentDef.onPush?576:528,_=function rC(n,t){return{components:[],scheduler:n||VI,clean:JP,playerHandler:t||null,flags:0}}(),C=au(0,null,null,1,0,null,null,null,null,null),b=al(null,C,_,g,null,null,o,l,a,s);let T,M;Fc(b);try{const P=function tC(n,t,e,r,i,s){const o=e[1];e[20]=n;const l=Ao(o,20,2,"#host",null),d=l.mergedAttrs=t.hostAttrs;null!==d&&(cu(l,d,!0),null!==n&&(zc(i,n,d),null!==l.classes&&Ah(i,n,l.classes),null!==l.styles&&ry(i,n,l.styles)));const f=r.createRenderer(n,t),g=al(e,Dy(t),null,t.onPush?64:16,e[20],l,r,f,s||null,null);return o.firstCreatePass&&(Wc($a(l,e),o,t.type),Py(o,l),Ay(l,e.length,1)),lu(e,g),e[20]=g}(f,this.componentDef,b,o,l);if(f)if(r)zc(l,f,["ng-version",qO.full]);else{const{attrs:E,classes:R}=function hP(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!hr(i))break;i=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);E&&zc(l,f,E),R&&R.length>0&&Ah(l,f,R.join(" "))}if(M=Up(C,20),void 0!==e){const E=M.projection=[];for(let R=0;R<this.ngContentSelectors.length;R++){const z=e[R];E.push(null!=z?Array.from(z):null)}}T=function nC(n,t,e,r,i){const s=e[1],o=function NP(n,t,e){const r=_t();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Oy(n,r,t,Oo(n,t,1,null),e));const i=Ua(t,n,r.directiveStart,r);jt(i,t);const s=Gn(r,t);return s&&jt(s,t),i}(s,e,t);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,t)),t.contentQueries){const l=_t();t.contentQueries(1,o,l.directiveStart)}const a=_t();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pi(a.index),Ey(e[1],a,0,a.directiveStart,a.directiveEnd,t),Iy(t,o)),o}(P,this.componentDef,b,_,[vA]),ll(C,b,null)}finally{Lc()}return new YO(this.componentType,T,Jo(M,b),b,M)}}class YO extends class BO{}{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new GO(i),this.componentType=t}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class hi{}class qb{}const Zo=new Map;class Qb extends hi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jb(this);const r=jn(t);this._bootstrapComponents=Pr(r.bootstrap),this._r3Injector=jy(t,e,[{provide:hi,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],Oe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yt.THROW_IF_NOT_FOUND,r=ae.Default){return t===yt||t===hi||t===ef?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mf extends qb{constructor(t){super(),this.moduleType=t,null!==jn(t)&&function ZO(n){const t=new Set;!function e(r){const i=jn(r,!0),s=i.id;null!==s&&(function Gb(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Oe(t)} vs ${Oe(t.name)}`)}(s,Zo.get(s),r),Zo.set(s,r));const o=Pr(i.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Qb(this.moduleType,t)}}function xf(n,t,e){const r=ln()+n,i=N();return i[r]===ce?Or(i,r,e?t.call(e):t()):function dl(n,t){return n[t]}(i,r)}function Me(n,t,e,r){return Xb(N(),ln(),n,t,e,r)}function Cu(n,t,e,r,i){return function Yb(n,t,e,r,i,s,o){const a=t+e;return ws(n,a,i,s)?Or(n,a+2,o?r.call(o,i,s):r(i,s)):bl(n,a+2)}(N(),ln(),n,t,e,r,i)}function bl(n,t){const e=n[t];return e===ce?void 0:e}function Xb(n,t,e,r,i,s){const o=t+e;return Wt(n,o,i)?Or(n,o+1,s?r.call(s,i):r(i)):bl(n,o+1)}function Is(n,t){const e=Se();let r;const i=n+20;e.firstCreatePass?(r=function aN(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=Ds(r.type)),o=Mi(w);try{const a=Uc(!1),l=s();return Uc(a),function IA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,N(),i,l),l}finally{Mi(o)}}function Ps(n,t,e){const r=n+20,i=N(),s=function vo(n,t){return n[t]}(i,r);return function kl(n,t){return n[1].data[t].pure}(i,r)?Xb(i,ln(),t,s.transform,e,s):s.transform(e)}function Ef(n){return t=>{setTimeout(n,void 0,t)}}const Ke=class pN extends wn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,s,o;let a=t,l=e||(()=>null),d=r;if(t&&"object"==typeof t){const g=t;a=null===(i=g.next)||void 0===i?void 0:i.bind(g),l=null===(s=g.error)||void 0===s?void 0:s.bind(g),d=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(l=Ef(l),a&&(a=Ef(a)),d&&(d=Ef(d)));const f=super.subscribe({next:a,error:l,complete:d});return t instanceof rn&&t.add(f),f}};function hN(){return this._results[Lo()]()}class If{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Lo(),r=If.prototype;r[e]||(r[e]=hN)}get changes(){return this._changes||(this._changes=new Ke)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Kn(t);(this._changesDetected=!function bE(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=gN,n})();const fN=fi,mN=class extends fN{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=al(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),ll(e,r,t),new Cl(r)}};function gN(){return bu(_t(),N())}function bu(n,t){return 4&n.type?new mN(t,n,Jo(n,t)):null}let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=_N,n})();function _N(){return r0(_t(),N())}const vN=vr,t0=class extends vN{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Jo(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=jc(this._hostTNode,this._hostLView);if(Yv(t)){const e=bo(t,this._hostLView),r=Co(t);return new ko(e[1].data[r+8],e)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=n0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,s){const o=t&&!function qa(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.ngModuleRef}const l=o?t:new wf(zt(t)),d=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?d:this.parentInjector).get(hi,null);_&&(s=_)}const f=l.create(d,i,void 0,s);return this.insert(f.hostView,a),f}insert(t,e){const r=t._lView,i=r[1];if(function $x(n){return ur(n[3])}(r)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=r[3],_=new t0(g,g[6],g[3]);_.detach(_.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function KI(n,t,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=t),r<s-10?(t[4]=e[i],a1(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function QI(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(i,r,o,s);const a=Ih(s,o),l=r[11],d=tu(l,o[7]);return null!==d&&function WI(n,t,e,r,i,s){r[0]=i,r[6]=t,ol(n,r,e,1,i,s)}(i,o[6],l,r,d,a),t.attachToViewContainerRef(),a1(Pf(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=n0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Mh(this._lContainer,e);r&&(Gc(Pf(this._lContainer),e),W1(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Mh(this._lContainer,e);return r&&null!=Gc(Pf(this._lContainer),e)?new Cl(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function n0(n){return n[8]}function Pf(n){return n[8]||(n[8]=[])}function r0(n,t){let e;const r=t[n.index];if(ur(r))e=r;else{let i;if(8&n.type)i=ut(r);else{const s=t[11];i=s.createComment("");const o=Gn(n,t);Ss(s,tu(s,o),i,function ZI(n,t){return nt(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=Ny(r,t,i,n),lu(t,e)}return new t0(e,n,t)}class Af{constructor(t){this.queryList=t,this.matches=null}clone(){return new Af(this.queryList)}setDirty(){this.queryList.setDirty()}}class Of{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Of(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==c0(t,e).matches&&this.queries[e].setDirty()}}class s0{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class Nf{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new Nf(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Rf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,bN(e,s)),this.matchTNodeWithReadOption(t,e,qc(e,t,s,!1,!1))}else r===fi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dt||i===vr||i===fi&&4&e.type)this.addMatch(e.index,-2);else{const s=qc(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function bN(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function DN(n,t,e,r){return-1===e?function kN(n,t){return 11&n.type?Jo(n,t):4&n.type?bu(n,t):null}(t,n):-2===e?function TN(n,t,e){return e===dt?Jo(t,n):e===fi?bu(t,n):e===vr?r0(t,n):void 0}(n,t,r):Ua(n,n[1],e,t)}function o0(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:DN(t,s[d],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function Ff(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const o=o0(n,t,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const d=s[a+1],f=t[-l];for(let g=10;g<f.length;g++){const _=f[g];_[17]===_[3]&&Ff(_[1],_,d,r)}if(null!==f[9]){const g=f[9];for(let _=0;_<g.length;_++){const C=g[_];Ff(C[1],C,d,r)}}}}}return r}function As(n){const t=N(),e=Se(),r=$v();Xp(r+1);const i=c0(e,r);if(n.dirty&&Fv(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Ff(e,t,r,[]):o0(e,t,i,r);n.reset(s,$O),n.notifyOnChanges()}return!0}return!1}function Dl(n,t,e){const r=Se();r.firstCreatePass&&(l0(r,new s0(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),a0(r,N(),t)}function Lf(n,t,e,r){const i=Se();if(i.firstCreatePass){const s=_t();l0(i,new s0(t,e,r),s.index),function wN(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}a0(i,N(),e)}function Os(){return function SN(n,t){return n[19].queries[t].queryList}(N(),$v())}function a0(n,t,e){const r=new If(4==(4&e));wy(n,t,r,r.destroy),null===t[19]&&(t[19]=new Of),t[19].queries.push(new Af(r))}function l0(n,t,e){null===n.queries&&(n.queries=new Nf),n.queries.track(new Rf(t,e))}function c0(n,t){return n.queries.getByIndex(t)}function Tu(...n){}const Uf=new de("Application Initializer");let jf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Tu,this.reject=Tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(pl(s))e.push(s);else if(gf(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(H(Uf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sl=new de("AppId",{providedIn:"root",factory:function w0(){return`${Wf()}${Wf()}${Wf()}`}});function Wf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M0=new de("Platform Initializer"),Su=new de("Platform ID"),x0=new de("appBootstrapListener");let E0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Fi=new de("LocaleId",{providedIn:"root",factory:()=>NE(Fi,ae.Optional|ae.SkipSelf)||function jN(){return"undefined"!=typeof $localize&&$localize.locale||fu}()});class qN{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let I0=(()=>{class n{compileModuleSync(e){return new Mf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Pr(jn(e).declarations).reduce((o,a)=>{const l=zt(a);return l&&o.push(new wf(l)),o},[]);return new qN(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KN=(()=>Promise.resolve(0))();function qf(n){"undefined"==typeof Zone?KN.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function QN(){let n=Le.requestAnimationFrame,t=Le.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function JN(n){const t=()=>{!function YN(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Kf(n),n.isCheckStableRunning=!0,Gf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Kf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,o,a)=>{try{return P0(n),e.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),A0(n)}},onInvoke:(e,r,i,s,o,a,l)=>{try{return P0(n),e.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),A0(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Kf(n),Gf(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,XN,Tu,Tu);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const XN={};function Gf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Kf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function P0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function A0(n){n._nesting--,Gf(n)}class ZN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let Qf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bt.assertNotInAngularZone(),qf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(H(bt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),O0=(()=>{class n{constructor(){this._applications=new Map,Xf.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Xf.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class eR{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let yr,Xf=new eR;const N0=new de("AllowMultipleToken");class R0{constructor(t,e){this.name=t,this.token=e}}function F0(n,t,e=[]){const r=`Platform: ${t}`,i=new de(r);return(s=[])=>{let o=L0();if(!o||o.injector.get(N0,!1))if(n)n(e.concat(s).concat({provide:i,useValue:!0}));else{const a=e.concat(s).concat({provide:i,useValue:!0},{provide:tf,useValue:"platform"});!function iR(n){if(yr&&!yr.destroyed&&!yr.injector.get(N0,!1))throw new q(400,"");yr=n.get(B0);const t=n.get(M0,null);t&&t.forEach(e=>e())}(yt.create({providers:a,name:r}))}return function sR(n){const t=L0();if(!t)throw new q(401,"");return t}()}}function L0(){return yr&&!yr.destroyed?yr:null}let B0=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function oR(n,t){let e;return e="noop"===n?new ZN:("zone.js"===n?void 0:n)||new bt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:bt,useValue:a}];return a.run(()=>{const d=yt.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(d),g=f.injector.get(rl,null);if(!g)throw new q(402,"");return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:C=>{g.handleError(C)}});f.onDestroy(()=>{Yf(this._modules,f),_.unsubscribe()})}),function aR(n,t,e){try{const r=e();return pl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(g,a,()=>{const _=f.injector.get(jf);return _.runInitializers(),_.donePromise.then(()=>(function U3(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(_b=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Fi,fu)||fu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,r=[]){const i=V0({},r);return function nR(n,t,e){const r=new Mf(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(wu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new q(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(H(yt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function V0(n,t){return Array.isArray(t)?t.reduce(V0,n):Object.assign(Object.assign({},n),t)}let wu=(()=>{class n{constructor(e,r,i,s,o){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new st(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),l=new st(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{bt.assertNotInAngularZone(),qf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=function ax(...n){const t=Na(n),e=function ex(n,t){return"number"==typeof Tp(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?or(r[0]):Oa(e)(Mt(r,t)):si}(a,l.pipe(function lx(n={}){const{connector:t=(()=>new wn),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,d=0,f=!1,g=!1;const _=()=>{null==a||a.unsubscribe(),a=null},C=()=>{_(),o=l=null,f=g=!1},b=()=>{const T=o;C(),null==T||T.unsubscribe()};return St((T,M)=>{d++,!g&&!f&&_();const P=l=null!=l?l:t();M.add(()=>{d--,0===d&&!g&&!f&&(a=Sp(b,i))}),P.subscribe(M),o||(o=new kc({next:E=>P.next(E),error:E=>{g=!0,_(),a=Sp(C,e,E),P.error(E)},complete:()=>{f=!0,_(),a=Sp(C,r),P.complete()}}),Mt(T).subscribe(o))})(s)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new q(405,"");let i;i=e instanceof $b?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function rR(n){return n.isBoundToModule}(i)?void 0:this._injector.get(hi),a=i.create(yt.NULL,[],r||i.selector,s),l=a.location.nativeElement,d=a.injector.get(Qf,null),f=d&&a.injector.get(O0);return d&&f&&f.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),Yf(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new q(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Yf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(x0,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(H(bt),H(yt),H(rl),H(Yo),H(jf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let z0=!0,Mu=(()=>{class n{}return n.__NG_ELEMENT_ID__=uR,n})();function uR(n){return function dR(n,t,e){if(Pc(n)&&!e){const r=In(n.index,t);return new Cl(r,r)}return 47&n.type?new Cl(t[16],t):null}(_t(),N(),16==(16&n))}class q0{constructor(){}supports(t){return ul(t)}create(t){return new _R(t)}}const gR=(n,t)=>t;class _R{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gR}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<K0(r,i,s)?e:r,a=K0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,f=l-i;if(d!=f){for(let _=0;_<d;_++){const C=_<s.length?s[_]:s[_]=0,b=C+_;f<=b&&b<d&&(s[_]=C+1)}s[o.previousIndex]=f-d}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ul(t))throw new q(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function xA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Lo()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new vR(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new G0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class vR{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class G0{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new yR,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class Q0{constructor(){}supports(t){return t instanceof Map||lf(t)}create(){return new CR}}class CR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||lf(t)))throw new q(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new bR(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class bR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new Iu([new q0])}let Iu=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||X0()),deps:[[n,new Ya,new Oi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new q(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:X0}),n})();function Y0(){return new wl([new Q0])}let wl=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Y0()),deps:[[n,new Ya,new Oi]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new q(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:Y0}),n})();const TR=F0(null,"core",[{provide:Su,useValue:"unknown"},{provide:B0,deps:[yt]},{provide:O0,deps:[]},{provide:E0,deps:[]}]);let SR=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(H(wu))},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({}),n})(),Pu=null;function Vr(){return Pu}const Nt=new de("DocumentToken");let Rs=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function ER(){return H(J0)}()},providedIn:"platform"}),n})();const IR=new de("Location Initialized");let J0=(()=>{class n extends Rs{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(e){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){Z0()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){Z0()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(H(Nt))},n.\u0275prov=X({token:n,factory:function(){return function PR(){return new J0(H(Nt))}()},providedIn:"platform"}),n})();function Z0(){return!!window.history.pushState}function nm(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ek(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function mi(n){return n&&"?"!==n[0]?"?"+n:n}let ta=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function AR(n){const t=H(Nt).location;return new tk(H(Rs),t&&t.origin||"")}()},providedIn:"root"}),n})();const rm=new de("appBaseHref");let tk=(()=>{class n extends ta{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nm(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(H(Rs),H(rm,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),OR=(()=>{class n extends ta{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=nm(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(H(Rs),H(rm,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n{constructor(e,r){this._subject=new Ke,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ek(nk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+mi(r))}normalize(e){return n.stripTrailingSlash(function RR(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,nk(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=mi,n.joinWithSlash=nm,n.stripTrailingSlash=ek,n.\u0275fac=function(e){return new(e||n)(H(ta),H(Rs))},n.\u0275prov=X({token:n,factory:function(){return function NR(){return new im(H(ta),H(Rs))}()},providedIn:"root"}),n})();function nk(n){return n.replace(/\/index.html$/,"")}var at=(()=>((at=at||{})[at.Format=0]="Format",at[at.Standalone=1]="Standalone",at))(),be=(()=>((be=be||{})[be.Narrow=0]="Narrow",be[be.Abbreviated=1]="Abbreviated",be[be.Wide=2]="Wide",be[be.Short=3]="Short",be))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),Z=(()=>((Z=Z||{})[Z.Decimal=0]="Decimal",Z[Z.Group=1]="Group",Z[Z.List=2]="List",Z[Z.PercentSign=3]="PercentSign",Z[Z.PlusSign=4]="PlusSign",Z[Z.MinusSign=5]="MinusSign",Z[Z.Exponential=6]="Exponential",Z[Z.SuperscriptingExponent=7]="SuperscriptingExponent",Z[Z.PerMille=8]="PerMille",Z[Z.Infinity=9]="Infinity",Z[Z.NaN=10]="NaN",Z[Z.TimeSeparator=11]="TimeSeparator",Z[Z.CurrencyDecimal=12]="CurrencyDecimal",Z[Z.CurrencyGroup=13]="CurrencyGroup",Z))();function Au(n,t){return Yn(dn(n)[U.DateFormat],t)}function Ou(n,t){return Yn(dn(n)[U.TimeFormat],t)}function Nu(n,t){return Yn(dn(n)[U.DateTimeFormat],t)}function Xn(n,t){const e=dn(n),r=e[U.NumberSymbols][t];if(void 0===r){if(t===Z.CurrencyDecimal)return e[U.NumberSymbols][Z.Decimal];if(t===Z.CurrencyGroup)return e[U.NumberSymbols][Z.Group]}return r}function ik(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function om(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const KR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ml={},QR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.ShortGMT=1]="ShortGMT",kt[kt.Long=2]="Long",kt[kt.Extended=3]="Extended",kt))(),ne=(()=>((ne=ne||{})[ne.FullYear=0]="FullYear",ne[ne.Month=1]="Month",ne[ne.Date=2]="Date",ne[ne.Hours=3]="Hours",ne[ne.Minutes=4]="Minutes",ne[ne.Seconds=5]="Seconds",ne[ne.FractionalSeconds=6]="FractionalSeconds",ne[ne.Day=7]="Day",ne))(),ge=(()=>((ge=ge||{})[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge))();function sk(n,t,e,r){let i=function iF(n){if(lk(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Ru(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(KR))return function sF(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,d),t}(r)}const t=new Date(n);if(!lk(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=gi(e,t)||t;let a,o=[];for(;t;){if(a=QR.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;t=f}}let l=i.getTimezoneOffset();r&&(l=ak(r,l),i=function rF(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function nF(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(ak(t,i)-i))}(i,r,!0));let d="";return o.forEach(f=>{const g=function tF(n){if(lm[n])return lm[n];let t;switch(n){case"G":case"GG":case"GGG":t=We(ge.Eras,be.Abbreviated);break;case"GGGG":t=We(ge.Eras,be.Wide);break;case"GGGGG":t=We(ge.Eras,be.Narrow);break;case"y":t=ht(ne.FullYear,1,0,!1,!0);break;case"yy":t=ht(ne.FullYear,2,0,!0,!0);break;case"yyy":t=ht(ne.FullYear,3,0,!1,!0);break;case"yyyy":t=ht(ne.FullYear,4,0,!1,!0);break;case"Y":t=Vu(1);break;case"YY":t=Vu(2,!0);break;case"YYY":t=Vu(3);break;case"YYYY":t=Vu(4);break;case"M":case"L":t=ht(ne.Month,1,1);break;case"MM":case"LL":t=ht(ne.Month,2,1);break;case"MMM":t=We(ge.Months,be.Abbreviated);break;case"MMMM":t=We(ge.Months,be.Wide);break;case"MMMMM":t=We(ge.Months,be.Narrow);break;case"LLL":t=We(ge.Months,be.Abbreviated,at.Standalone);break;case"LLLL":t=We(ge.Months,be.Wide,at.Standalone);break;case"LLLLL":t=We(ge.Months,be.Narrow,at.Standalone);break;case"w":t=am(1);break;case"ww":t=am(2);break;case"W":t=am(1,!0);break;case"d":t=ht(ne.Date,1);break;case"dd":t=ht(ne.Date,2);break;case"c":case"cc":t=ht(ne.Day,1);break;case"ccc":t=We(ge.Days,be.Abbreviated,at.Standalone);break;case"cccc":t=We(ge.Days,be.Wide,at.Standalone);break;case"ccccc":t=We(ge.Days,be.Narrow,at.Standalone);break;case"cccccc":t=We(ge.Days,be.Short,at.Standalone);break;case"E":case"EE":case"EEE":t=We(ge.Days,be.Abbreviated);break;case"EEEE":t=We(ge.Days,be.Wide);break;case"EEEEE":t=We(ge.Days,be.Narrow);break;case"EEEEEE":t=We(ge.Days,be.Short);break;case"a":case"aa":case"aaa":t=We(ge.DayPeriods,be.Abbreviated);break;case"aaaa":t=We(ge.DayPeriods,be.Wide);break;case"aaaaa":t=We(ge.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":t=We(ge.DayPeriods,be.Abbreviated,at.Standalone,!0);break;case"bbbb":t=We(ge.DayPeriods,be.Wide,at.Standalone,!0);break;case"bbbbb":t=We(ge.DayPeriods,be.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":t=We(ge.DayPeriods,be.Abbreviated,at.Format,!0);break;case"BBBB":t=We(ge.DayPeriods,be.Wide,at.Format,!0);break;case"BBBBB":t=We(ge.DayPeriods,be.Narrow,at.Format,!0);break;case"h":t=ht(ne.Hours,1,-12);break;case"hh":t=ht(ne.Hours,2,-12);break;case"H":t=ht(ne.Hours,1);break;case"HH":t=ht(ne.Hours,2);break;case"m":t=ht(ne.Minutes,1);break;case"mm":t=ht(ne.Minutes,2);break;case"s":t=ht(ne.Seconds,1);break;case"ss":t=ht(ne.Seconds,2);break;case"S":t=ht(ne.FractionalSeconds,1);break;case"SS":t=ht(ne.FractionalSeconds,2);break;case"SSS":t=ht(ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Lu(kt.Short);break;case"ZZZZZ":t=Lu(kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Lu(kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Lu(kt.Long);break;default:return null}return lm[n]=t,t}(f);d+=g?g(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Ru(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function gi(n,t){const e=function FR(n){return dn(n)[U.LocaleId]}(n);if(Ml[e]=Ml[e]||{},Ml[e][t])return Ml[e][t];let r="";switch(t){case"shortDate":r=Au(n,Ze.Short);break;case"mediumDate":r=Au(n,Ze.Medium);break;case"longDate":r=Au(n,Ze.Long);break;case"fullDate":r=Au(n,Ze.Full);break;case"shortTime":r=Ou(n,Ze.Short);break;case"mediumTime":r=Ou(n,Ze.Medium);break;case"longTime":r=Ou(n,Ze.Long);break;case"fullTime":r=Ou(n,Ze.Full);break;case"short":const i=gi(n,"shortTime"),s=gi(n,"shortDate");r=Fu(Nu(n,Ze.Short),[i,s]);break;case"medium":const o=gi(n,"mediumTime"),a=gi(n,"mediumDate");r=Fu(Nu(n,Ze.Medium),[o,a]);break;case"long":const l=gi(n,"longTime"),d=gi(n,"longDate");r=Fu(Nu(n,Ze.Long),[l,d]);break;case"full":const f=gi(n,"fullTime"),g=gi(n,"fullDate");r=Fu(Nu(n,Ze.Full),[f,g])}return r&&(Ml[e][t]=r),r}function Fu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Cr(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function ht(n,t,e=0,r=!1,i=!1){return function(s,o){let a=function YR(n,t){switch(n){case ne.FullYear:return t.getFullYear();case ne.Month:return t.getMonth();case ne.Date:return t.getDate();case ne.Hours:return t.getHours();case ne.Minutes:return t.getMinutes();case ne.Seconds:return t.getSeconds();case ne.FractionalSeconds:return t.getMilliseconds();case ne.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===ne.Hours)0===a&&-12===e&&(a=12);else if(n===ne.FractionalSeconds)return function XR(n,t){return Cr(n,3).substr(0,t)}(a,t);const l=Xn(o,Z.MinusSign);return Cr(a,t,l,r,i)}}function We(n,t,e=at.Format,r=!1){return function(i,s){return function JR(n,t,e,r,i,s){switch(e){case ge.Months:return function VR(n,t,e){const r=dn(n),s=Yn([r[U.MonthsFormat],r[U.MonthsStandalone]],t);return Yn(s,e)}(t,i,r)[n.getMonth()];case ge.Days:return function BR(n,t,e){const r=dn(n),s=Yn([r[U.DaysFormat],r[U.DaysStandalone]],t);return Yn(s,e)}(t,i,r)[n.getDay()];case ge.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const d=function UR(n){const t=dn(n);return ik(t),(t[U.ExtraData][2]||[]).map(r=>"string"==typeof r?om(r):[om(r[0]),om(r[1])])}(t),f=function jR(n,t,e){const r=dn(n);ik(r);const s=Yn([r[U.ExtraData][0],r[U.ExtraData][1]],t)||[];return Yn(s,e)||[]}(t,i,r),g=d.findIndex(_=>{if(Array.isArray(_)){const[C,b]=_,T=o>=C.hours&&a>=C.minutes,M=o<b.hours||o===b.hours&&a<b.minutes;if(C.hours<b.hours){if(T&&M)return!0}else if(T||M)return!0}else if(_.hours===o&&_.minutes===a)return!0;return!1});if(-1!==g)return f[g]}return function LR(n,t,e){const r=dn(n),s=Yn([r[U.DayPeriodsFormat],r[U.DayPeriodsStandalone]],t);return Yn(s,e)}(t,i,r)[o<12?0:1];case ge.Eras:return function HR(n,t){return Yn(dn(n)[U.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Lu(n){return function(t,e,r){const i=-1*r,s=Xn(e,Z.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case kt.Short:return(i>=0?"+":"")+Cr(o,2,s)+Cr(Math.abs(i%60),2,s);case kt.ShortGMT:return"GMT"+(i>=0?"+":"")+Cr(o,1,s);case kt.Long:return"GMT"+(i>=0?"+":"")+Cr(o,2,s)+":"+Cr(Math.abs(i%60),2,s);case kt.Extended:return 0===r?"Z":(i>=0?"+":"")+Cr(o,2,s)+":"+Cr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ok(n){return Ru(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function am(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=ok(e),o=function eF(n){const t=Ru(n,0,1).getDay();return Ru(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Cr(i,n,Xn(r,Z.MinusSign))}}function Vu(n,t=!1){return function(e,r){return Cr(ok(e).getFullYear(),n,Xn(r,Z.MinusSign),t)}}const lm={};function ak(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function lk(n){return n instanceof Date&&!isNaN(n.valueOf())}function pk(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let Pt=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ul(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Oe(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(w(Iu),w(wl),w(dt),w(Br))},n.\u0275dir=re({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class vF{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _e=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new vF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),hk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{hk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(vr),w(fi),w(Iu))},n.\u0275dir=re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function hk(n,t){n.context.$implicit=t.item}let ue=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new yF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fk("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fk("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(vr),w(fi))},n.\u0275dir=re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class yF{constructor(){this.$implicit=null,this.ngIf=null}}function fk(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(t)}'.`)}let gk=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(wl),w(Br))},n.\u0275dir=re({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),_k=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(w(vr))},n.\u0275dir=re({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Et]}),n})(),vk=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=yk}transform(e,r=yk){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const i=this.differ.diff(e),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function BF(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(w(wl,16))},n.\u0275pipe=an({name:"keyvalue",type:n,pure:!1}),n})();function yk(n,t){const e=n.key,r=t.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const i=String(e),s=String(r);return i==s?0:i<s?-1:1}let na=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({}),n})();let qF=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new GF(H(Nt),window)}),n})();class GF{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function KF(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=bk(this.window.history)||bk(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function bk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kk{}class vm extends class QF extends class xR{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MR(n){Pu||(Pu=n)}(new vm)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function XF(){return El=El||document.querySelector("base"),El?El.getAttribute("href"):null}();return null==e?null:function YF(n){zu=zu||document.createElement("a"),zu.setAttribute("href",n);const t=zu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){El=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pk(document.cookie,t)}}let zu,El=null;const Dk=new de("TRANSITION_ID"),ZF=[{provide:Uf,useFactory:function JF(n,t,e){return()=>{e.get(jf).donePromise.then(()=>{const r=Vr(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Dk,Nt,yt],multi:!0}];class ym{static init(){!function tR(n){Xf=n}(new ym)}addToWindow(t){Le.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>t.getAllTestabilities(),Le.getAllAngularRootElements=()=>t.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Vr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let e4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const $u=new de("EventManagerPlugins");let Uu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(H($u),H(bt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Tk{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Vr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Sk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Il=(()=>{class n extends Sk{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(wk),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(wk))}}return n.\u0275fac=function(e){return new(e||n)(H(Nt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function wk(n){Vr().remove(n)}const Cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bm=/%COMP%/g;function ju(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?ju(n,i,e):(i=i.replace(bm,n),e.push(i))}return e}function Ek(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wu=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new km(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new a4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case lr.ShadowDom:return new l4(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=ju(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(H(Uu),H(Il),H(Sl))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class km{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=Cm[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Cm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(On.DashCase|On.Important)?t.style.setProperty(e,r,i&On.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&On.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ek(r)):this.eventManager.addEventListener(t,e,Ek(r))}}class a4 extends km{constructor(t,e,r,i){super(t),this.component=r;const s=ju(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function r4(n){return"_ngcontent-%COMP%".replace(bm,n)}(i+"-"+r.id),this.hostAttr=function s4(n){return"_nghost-%COMP%".replace(bm,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class l4 extends km{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ju(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let c4=(()=>{class n extends Tk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(H(Nt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Pk=["alt","control","meta","shift"],d4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ak={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},p4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let h4=(()=>{class n extends Tk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Pk.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(e){let r="",i=function f4(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ak.hasOwnProperty(t)&&(t=Ak[t]))}return d4[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pk.forEach(s=>{s!=i&&p4[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(H(Nt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const v4=F0(TR,"browser",[{provide:Su,useValue:"browser"},{provide:M0,useValue:function m4(){vm.makeCurrent(),ym.init()},multi:!0},{provide:Nt,useFactory:function _4(){return function Bx(n){zp=n}(document),document},deps:[]}]),y4=[{provide:tf,useValue:"root"},{provide:rl,useFactory:function g4(){return new rl},deps:[]},{provide:$u,useClass:c4,multi:!0,deps:[Nt,bt,Su]},{provide:$u,useClass:h4,multi:!0,deps:[Nt]},{provide:Wu,useClass:Wu,deps:[Uu,Il,Sl]},{provide:vl,useExisting:Wu},{provide:Sk,useExisting:Il},{provide:Il,useClass:Il,deps:[Nt]},{provide:Qf,useClass:Qf,deps:[bt]},{provide:Uu,useClass:Uu,deps:[$u,bt]},{provide:kk,useClass:e4,deps:[]}];let Ok=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Sl,useValue:e.appId},{provide:Dk,useExisting:Sl},ZF]}}}return n.\u0275fac=function(e){return new(e||n)(H(n,12))},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:y4,imports:[na,SR]}),n})();"undefined"!=typeof window&&window;let Fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new(e||n):H(Lk),r},providedIn:"root"}),n})(),Lk=(()=>{class n extends Fk{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Ue.NONE:return r;case Ue.HTML:return Er(r,"HTML")?An(r):I1(this._doc,String(r)).toString();case Ue.STYLE:return Er(r,"Style")?An(r):r;case Ue.SCRIPT:if(Er(r,"Script"))return An(r);throw new Error("unsafe value used in a script context");case Ue.URL:return k1(r),Er(r,"URL")?An(r):Za(String(r));case Ue.RESOURCE_URL:if(Er(r,"ResourceURL"))return An(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function ZE(n){return new KE(n)}(e)}bypassSecurityTrustStyle(e){return function eI(n){return new QE(n)}(e)}bypassSecurityTrustScript(e){return function tI(n){return new XE(n)}(e)}bypassSecurityTrustUrl(e){return function nI(n){return new YE(n)}(e)}bypassSecurityTrustResourceUrl(e){return function rI(n){return new JE(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(H(Nt))},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new e:function E4(n){return new Lk(n.get(Nt))}(H(yt)),r},providedIn:"root"}),n})();function pe(...n){return Mt(n,Na(n))}function ra(n,t){return Fe(t)?wt(n,t,1):wt(n,1)}function Fs(n,t){return St((e,r)=>{let i=0;e.subscribe(mt(r,s=>n.call(t,s,i++)&&r.next(s)))})}class Bk{}class Vk{}class _i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class I4{encodeKey(t){return Hk(t)}encodeValue(t){return Hk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const A4=/%(\d[a-f0-9])/gi,O4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Hk(n){return encodeURIComponent(n).replace(A4,(t,e)=>{var r;return null!==(r=O4[e])&&void 0!==r?r:t})}function zk(n){return`${n}`}class Bi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new I4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function P4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Bi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(zk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(zk(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class N4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $k(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Uk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Pl{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function R4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _i),this.context||(this.context=new N4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Bi,this.urlWithParams=e}serializeBody(){return null===this.body?null:$k(this.body)||Uk(this.body)||jk(this.body)||function F4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jk(this.body)?null:Uk(this.body)?this.body.type||null:$k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,f=t.params||this.params;const g=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((_,C)=>_.set(C,t.setHeaders[C]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((_,C)=>_.set(C,t.setParams[C]),f)),new Pl(r,i,o,{params:f,headers:d,context:g,reportProgress:l,responseType:s,withCredentials:a})}}var ft=(()=>((ft=ft||{})[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft))();class Tm{constructor(t,e=200,r="OK"){this.headers=t.headers||new _i,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Sm extends Tm{constructor(t={}){super(t),this.type=ft.ResponseHeader}clone(t={}){return new Sm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qu extends Tm{constructor(t={}){super(t),this.type=ft.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wk extends Tm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gu=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Pl)s=e;else{let l,d;l=i.headers instanceof _i?i.headers:new _i(i.headers),i.params&&(d=i.params instanceof Bi?i.params:new Bi({fromObject:i.params})),s=new Pl(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=pe(s).pipe(ra(l=>this.handler.handle(l)));if(e instanceof Pl||"events"===i.observe)return o;const a=o.pipe(Fs(l=>l instanceof qu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Pe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Pe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Pe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Pe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Bi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,wm(i,r))}post(e,r,i={}){return this.request("POST",e,wm(i,r))}put(e,r,i={}){return this.request("PUT",e,wm(i,r))}}return n.\u0275fac=function(e){return new(e||n)(H(Bk))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class qk{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Mm=new de("HTTP_INTERCEPTORS");let L4=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const B4=/^\)\]\}',?\n/;let Gk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new st(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((C,b)=>i.setRequestHeader(C,b.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&i.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();i.responseType="json"!==C?C:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const C=i.statusText||"OK",b=new _i(i.getAllResponseHeaders()),T=function V4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new Sm({headers:b,status:i.status,statusText:C,url:T}),o},l=()=>{let{headers:C,status:b,statusText:T,url:M}=a(),P=null;204!==b&&(P=void 0===i.response?i.responseText:i.response),0===b&&(b=P?200:0);let E=b>=200&&b<300;if("json"===e.responseType&&"string"==typeof P){const R=P;P=P.replace(B4,"");try{P=""!==P?JSON.parse(P):null}catch(z){P=R,E&&(E=!1,P={error:z,text:P})}}E?(r.next(new qu({body:P,headers:C,status:b,statusText:T,url:M||void 0})),r.complete()):r.error(new Wk({error:P,headers:C,status:b,statusText:T,url:M||void 0}))},d=C=>{const{url:b}=a(),T=new Wk({error:C,status:i.status||0,statusText:i.statusText||"Unknown Error",url:b||void 0});r.error(T)};let f=!1;const g=C=>{f||(r.next(a()),f=!0);let b={type:ft.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(b.total=C.total),"text"===e.responseType&&!!i.responseText&&(b.partialText=i.responseText),r.next(b)},_=C=>{let b={type:ft.UploadProgress,loaded:C.loaded};C.lengthComputable&&(b.total=C.total),r.next(b)};return i.addEventListener("load",l),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),e.reportProgress&&(i.addEventListener("progress",g),null!==s&&i.upload&&i.upload.addEventListener("progress",_)),i.send(s),r.next({type:ft.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",l),i.removeEventListener("timeout",d),e.reportProgress&&(i.removeEventListener("progress",g),null!==s&&i.upload&&i.upload.removeEventListener("progress",_)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(H(kk))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const xm=new de("XSRF_COOKIE_NAME"),Em=new de("XSRF_HEADER_NAME");class Kk{}let H4=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pk(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(H(Nt),H(Su),H(xm))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Im=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(Kk),H(Em))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),z4=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Mm,[]);this.chain=r.reduceRight((i,s)=>new qk(i,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(H(Vk),H(yt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),$4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Im,useClass:L4}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:xm,useValue:e.cookieName}:[],e.headerName?{provide:Em,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:[Im,{provide:Mm,useExisting:Im,multi:!0},{provide:Kk,useClass:H4},{provide:xm,useValue:"XSRF-TOKEN"},{provide:Em,useValue:"X-XSRF-TOKEN"}]}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:[Gu,{provide:Bk,useClass:z4},Gk,{provide:Vk,useExisting:Gk}],imports:[[$4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class kr extends wn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:j4}=Array,{getPrototypeOf:W4,prototype:q4,keys:G4}=Object;function Qk(n){if(1===n.length){const t=n[0];if(j4(t))return{args:t,keys:null};if(function K4(n){return n&&"object"==typeof n&&W4(n)===q4}(t)){const e=G4(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:Q4}=Array;function Xk(n){return Pe(t=>function X4(n,t){return Q4(t)?n(...t):n(t)}(n,t))}function Yk(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Jk(n,t,e){n?ii(e,n,t):t()}function Ku(n,t){const e=Fe(n)?n:()=>n,r=i=>i.error(e());return new st(t?i=>t.schedule(r,0,i):r)}const Qu=fs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pm(...n){return function Z4(){return Oa(1)}()(Mt(n,Na(n)))}function Zk(n){return new st(t=>{or(n()).subscribe(t)})}function eD(){return St((n,t)=>{let e=null;n._refCount++;const r=mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class e5 extends st{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,rv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rn;const e=this.getSubject();t.add(this.source.subscribe(mt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rn.EMPTY)}return t}refCount(){return eD()(this)}}function Ls(n,t){return St((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(mt(r,l=>{null==i||i.unsubscribe();let d=0;const f=s++;or(n(l,f)).subscribe(i=mt(r,g=>r.next(t?t(l,g,f,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function n5(n,t,e,r,i){return(s,o)=>{let a=e,l=t,d=0;s.subscribe(mt(o,f=>{const g=d++;l=a?n(l,f,g):(a=!0,f),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function tD(n,t){return St(n5(n,t,arguments.length>=2,!0))}function Vi(n){return St((t,e)=>{let s,r=null,i=!1;r=t.subscribe(mt(e,void 0,void 0,o=>{s=or(n(o,Vi(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function Am(n){return n<=0?()=>si:St((t,e)=>{let r=[];t.subscribe(mt(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function nD(n=r5){return St((t,e)=>{let r=!1;t.subscribe(mt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function r5(){return new Qu}function rD(n){return St((t,e)=>{let r=!1;t.subscribe(mt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ia(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Fs((i,s)=>n(i,s,r)):_s,Tc(1),e?rD(t):nD(()=>new Qu))}function Rn(n,t,e){const r=Fe(n)||t||e?{next:n,error:t,complete:e}:n;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(mt(s,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),s.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):_s}class vi{constructor(t,e){this.id=t,this.url=e}}class Om extends vi{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends vi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iD extends vi{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a5 extends vi{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class l5 extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c5 extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u5 extends vi{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d5 extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p5 extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sD{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oD{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class h5{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f5{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m5{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g5{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aD{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ce="primary";class _5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sa(n){return new _5(n)}const lD="ngNavigationCancelingError";function Nm(n){const t=Error("NavigationCancelingError: "+n);return t[lD]=!0,t}function y5(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!cD(n[i],t[i]))return!1;return!0}function cD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function uD(n){return Array.prototype.concat.apply([],n)}function dD(n){return n.length>0?n[n.length-1]:null}function Rt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function zr(n){return gf(n)?n:pl(n)?Mt(Promise.resolve(n)):pe(n)}const k5={exact:function fD(n,t,e){if(!Vs(n.segments,t.segments)||!Xu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!fD(n.children[r],t.children[r],e))return!1;return!0},subset:mD},pD={exact:function D5(n,t){return Hr(n,t)},subset:function T5(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cD(n[e],t[e]))},ignored:()=>!0};function hD(n,t,e){return k5[e.paths](n.root,t.root,e.matrixParams)&&pD[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mD(n,t,e){return gD(n,t,t.segments,e)}function gD(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Vs(i,e)||t.hasChildren()||!Xu(i,e,r))}if(n.segments.length===e.length){if(!Vs(n.segments,e)||!Xu(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!mD(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Vs(n.segments,i)&&Xu(n.segments,i,r)&&n.children[Ce])&&gD(n.children[Ce],t,s,r)}}function Xu(n,t,e){return t.every((r,i)=>pD[e](n[i].parameters,r.parameters))}class Bs{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return M5.serialize(this)}}class ke{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rt(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yu(this)}}class Ol{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return bD(this)}}function Vs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class _D{}class vD{parse(t){const e=new F5(t);return new Bs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Nl(t.root,!0)}`,r=function I5(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Ju(e)}=${Ju(i)}`).join("&"):`${Ju(e)}=${Ju(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function x5(n){return encodeURI(n)}(t.fragment)}`:""}`}}const M5=new vD;function Yu(n){return n.segments.map(t=>bD(t)).join("/")}function Nl(n,t){if(!n.hasChildren())return Yu(n);if(t){const e=n.children[Ce]?Nl(n.children[Ce],!1):"",r=[];return Rt(n.children,(i,s)=>{s!==Ce&&r.push(`${s}:${Nl(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function w5(n,t){let e=[];return Rt(n.children,(r,i)=>{i===Ce&&(e=e.concat(t(r,i)))}),Rt(n.children,(r,i)=>{i!==Ce&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Ce?[Nl(n.children[Ce],!1)]:[`${i}:${Nl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ce]?`${Yu(n)}/${e[0]}`:`${Yu(n)}/(${e.join("//")})`}}function yD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(n){return yD(n).replace(/%3B/gi,";")}function Rm(n){return yD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(n){return decodeURIComponent(n)}function CD(n){return Zu(n.replace(/\+/g,"%20"))}function bD(n){return`${Rm(n.path)}${function E5(n){return Object.keys(n).map(t=>`;${Rm(t)}=${Rm(n[t])}`).join("")}(n.parameters)}`}const P5=/^[^\/()?;=#]+/;function ed(n){const t=n.match(P5);return t?t[0]:""}const A5=/^[^=?&#]+/,N5=/^[^&#]+/;class F5{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ce]=new ke(t,e)),r}parseSegment(){const t=ed(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ol(Zu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ed(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=ed(this.remaining);i&&(r=i,this.capture(r))}t[Zu(e)]=Zu(r)}parseQueryParam(t){const e=function O5(n){const t=n.match(A5);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function R5(n){const t=n.match(N5);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=CD(e),s=CD(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ed(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ce);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ce]:new ke([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Fm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Fm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Lm(t,this._root).map(e=>e.value)}}function Fm(n,t){if(n===t.value)return t;for(const e of t.children){const r=Fm(n,e);if(r)return r}return null}function Lm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Lm(n,e);if(r.length)return r.unshift(t),r}return[]}class yi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class DD extends kD{constructor(t,e){super(t),this.snapshot=e,Bm(this,t)}toString(){return this.snapshot.toString()}}function TD(n,t){const e=function L5(n,t){const o=new td([],{},{},"",{},Ce,t,null,n.root,-1,{});return new wD("",new yi(o,[]))}(n,t),r=new kr([new Ol("",{})]),i=new kr({}),s=new kr({}),o=new kr({}),a=new kr(""),l=new Ft(r,i,o,a,s,Ce,t,e.root);return l.snapshot=e.root,new DD(new yi(l,[]),e)}class Ft{constructor(t,e,r,i,s,o,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(t=>sa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(t=>sa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SD(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function B5(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class td{constructor(t,e,r,i,s,o,a,l,d,f,g){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wD extends kD{constructor(t,e){super(e),this.url=t,Bm(this,e)}toString(){return MD(this._root)}}function Bm(n,t){t.value._routerState=n,t.children.forEach(e=>Bm(n,e))}function MD(n){const t=n.children.length>0?` { ${n.children.map(MD).join(", ")} } `:"";return`${n.value}${t}`}function Vm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hr(t.params,e.params)||n.params.next(e.params),function C5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hm(n,t){const e=Hr(n.params,t.params)&&function S5(n,t){return Vs(n,t)&&n.every((e,r)=>Hr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hm(n.parent,t.parent))}function Rl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function H5(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Rl(n,r,i);return Rl(n,r)})}(n,t,e);return new yi(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Rl(n,a)),o}}const r=function z5(n){return new Ft(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>Rl(n,s));return new yi(r,i)}}function nd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fl(n){return"object"==typeof n&&null!=n&&n.outlets}function zm(n,t,e,r,i){let s={};return r&&Rt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Bs(e.root===n?t:xD(e.root,n,t),s,i)}function xD(n,t,e){const r={};return Rt(n.children,(i,s)=>{r[s]=i===t?e:xD(i,t,e)}),new ke(n.segments,r)}class ED{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&nd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Fl);if(i&&i!==dD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $m{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ID(n,t,e){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return rd(n,t,e);const r=function G5(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],a=e[r];if(Fl(a))break;const l=`${a}`,d=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!AD(l,d,o))return s;r+=2}else{if(!AD(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ke(n.segments.slice(0,r.pathIndex),{});return s.children[Ce]=new ke(n.segments.slice(r.pathIndex),n.children),rd(s,0,i)}return r.match&&0===i.length?new ke(n.segments,{}):r.match&&!n.hasChildren()?Um(n,t,e):r.match?rd(n,0,i):Um(n,t,e)}function rd(n,t,e){if(0===e.length)return new ke(n.segments,{});{const r=function q5(n){return Fl(n[0])?n[0].outlets:{[Ce]:n}}(e),i={};return Rt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ID(n.children[o],t,s))}),Rt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ke(n.segments,i)}}function Um(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(Fl(s)){const l=K5(s.outlets);return new ke(r,l)}if(0===i&&nd(e[0])){r.push(new Ol(n.segments[t].path,PD(e[0]))),i++;continue}const o=Fl(s)?s.outlets[Ce]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&nd(a)?(r.push(new Ol(o,PD(a))),i+=2):(r.push(new Ol(o,{})),i++)}return new ke(r,{})}function K5(n){const t={};return Rt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Um(new ke([],{}),0,e))}),t}function PD(n){const t={};return Rt(n,(e,r)=>t[r]=`${e}`),t}function AD(n,t,e){return n==e.path&&Hr(t,e.parameters)}class X5{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Vm(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=oa(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Rt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=oa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=oa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=oa(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new g5(s.value.snapshot))}),t.children.length&&this.forwardEvent(new f5(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(Vm(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function Y5(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class jm{constructor(t,e){this.routes=t,this.module=e}}function Hi(n){return"function"==typeof n}function Hs(n){return n instanceof Bs}const Ll=Symbol("INITIAL_VALUE");function Bl(){return Ls(n=>function Y4(...n){const t=Na(n),e=_v(n),{args:r,keys:i}=Qk(n);if(0===r.length)return Mt([],t);const s=new st(function J4(n,t,e=_s){return r=>{Jk(t,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Jk(t,()=>{const d=Mt(n[l],t);let f=!1;d.subscribe(mt(r,g=>{s[l]=g,f||(f=!0,a--),a||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>Yk(i,o):_s));return e?s.pipe(Xk(e)):s}(n.map(t=>t.pipe(Tc(1),function t5(...n){const t=Na(n);return St((e,r)=>{(t?Pm(n,e,t):Pm(n,e)).subscribe(r)})}(Ll)))).pipe(tD((t,e)=>{let r=!1;return e.reduce((i,s,o)=>i!==Ll?i:(s===Ll&&(r=!0),r||!1!==s&&o!==e.length-1&&!Hs(s)?i:s),t)},Ll),Fs(t=>t!==Ll),Pe(t=>Hs(t)?t:!0===t),Tc(1)))}class rL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vl,this.attachRef=null}}class Vl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new rL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Wm=(()=>{class n{constructor(e,r,i,s,o){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.name=s||Ce,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new iL(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(w(Vl),w(vr),w(Yo),ja("name"),w(Mu))},n.\u0275dir=re({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class iL{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ft?this.route:t===Vl?this.childContexts:this.parent.get(t,e)}}let OD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&D(0,"router-outlet")},directives:[Wm],encapsulation:2}),n})();function ND(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];sL(r,oL(t,r))}}function sL(n,t){n.children&&ND(n.children,t)}function oL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function qm(n){const t=n.children&&n.children.map(qm),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ce&&(e.component=OD),e}function Jn(n){return n.outlet||Ce}function RD(n,t){const e=n.filter(r=>Jn(r)===t);return e.push(...n.filter(r=>Jn(r)!==t)),e}const FD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function id(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},FD):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||y5)(e,n,t);if(!s)return Object.assign({},FD);const o={};Rt(s.posParams,(l,d)=>{o[d]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function sd(n,t,e,r,i="corrected"){if(e.length>0&&function cL(n,t,e){return e.some(r=>od(n,t,r)&&Jn(r)!==Ce)}(n,e,r)){const o=new ke(t,function lL(n,t,e,r){const i={};i[Ce]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Jn(s)!==Ce){const o=new ke([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,i[Jn(s)]=o}return i}(n,t,r,new ke(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function uL(n,t,e){return e.some(r=>od(n,t,r))}(n,e,r)){const o=new ke(n.segments,function aL(n,t,e,r,i,s){const o={};for(const a of r)if(od(n,e,a)&&!i[Jn(a)]){const l=new ke([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Jn(a)]=l}return Object.assign(Object.assign({},i),o)}(n,t,e,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new ke(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function od(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function LD(n,t,e,r){return!!(Jn(n)===r||r!==Ce&&od(t,e,n))&&("**"===n.path||id(t,n,e).matched)}function BD(n,t,e){return 0===t.length&&!n.children[e]}class Hl{constructor(t){this.segmentGroup=t||null}}class VD{constructor(t){this.urlTree=t}}function ad(n){return Ku(new Hl(n))}function HD(n){return Ku(new VD(n))}class fL{constructor(t,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(hi)}apply(){const t=sd(this.urlTree.root,[],[],this.config).segmentGroup,e=new ke(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ce).pipe(Pe(s=>this.createUrlTree(Gm(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vi(s=>{if(s instanceof VD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ce).pipe(Pe(i=>this.createUrlTree(Gm(i),t.queryParams,t.fragment))).pipe(Vi(i=>{throw i instanceof Hl?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new ke([],{[Ce]:t}):t;return new Bs(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Pe(s=>new ke([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Mt(i).pipe(ra(s=>{const o=r.children[s],a=RD(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Pe(l=>({segment:l,outlet:s})))}),tD((s,o)=>(s[o.outlet]=o.segment,s),{}),function s5(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Fs((i,s)=>n(i,s,r)):_s,Am(1),e?rD(t):nD(()=>new Qu))}())}expandSegment(t,e,r,i,s,o){return Mt(r).pipe(ra(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,s,o).pipe(Vi(d=>{if(d instanceof Hl)return pe(null);throw d}))),ia(a=>!!a),Vi((a,l)=>{if(a instanceof Qu||"EmptyError"===a.name){if(BD(e,i,s))return pe(new ke([],{}));throw new Hl(e)}throw a}))}expandSegmentAgainstRoute(t,e,r,i,s,o,a){return LD(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o):ad(e):ad(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HD(s):this.lineralizeSegments(r,s).pipe(wt(o=>{const a=new ke(o,{});return this.expandSegment(t,a,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:f}=id(e,i,s);if(!a)return ad(e);const g=this.applyRedirectCommands(l,i.redirectTo,f);return i.redirectTo.startsWith("/")?HD(g):this.lineralizeSegments(i,g).pipe(wt(_=>this.expandSegment(t,e,r,_.concat(d),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(Pe(g=>(r._loadedConfig=g,new ke(i,{})))):pe(new ke(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=id(e,r,i);return o?this.getChildConfig(t,r,i).pipe(wt(f=>{const g=f.module,_=f.routes,{segmentGroup:C,slicedSegments:b}=sd(e,a,l,_),T=new ke(C.segments,C.children);if(0===b.length&&T.hasChildren())return this.expandChildren(g,_,T).pipe(Pe(R=>new ke(a,R)));if(0===_.length&&0===b.length)return pe(new ke(a,{}));const M=Jn(r)===s;return this.expandSegment(g,T,_,b,M?Ce:s,!0).pipe(Pe(E=>new ke(a.concat(E.segments),E.children)))})):ad(e)}getChildConfig(t,e,r){return e.children?pe(new jm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(wt(i=>i?this.configLoader.load(t.injector,e).pipe(Pe(s=>(e._loadedConfig=s,s))):function pL(n){return Ku(Nm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):pe(new jm([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?pe(i.map(o=>{const a=t.get(o);let l;if(function Z5(n){return n&&Hi(n.canLoad)}(a))l=a.canLoad(e,r);else{if(!Hi(a))throw new Error("Invalid CanLoad guard");l=a(e,r)}return zr(l)})).pipe(Bl(),Rn(o=>{if(!Hs(o))return;const a=Nm(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Pe(o=>!0===o)):pe(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pe(r);if(i.numberOfChildren>1||!i.children[Ce])return Ku(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[Ce]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Bs(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Rt(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=e[a]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return Rt(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new ke(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function Gm(n){const t={};for(const r of Object.keys(n.children)){const s=Gm(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function mL(n){if(1===n.numberOfChildren&&n.children[Ce]){const t=n.children[Ce];return new ke(n.segments.concat(t.segments),t.children)}return n}(new ke(n.segments,t))}class zD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ld{constructor(t,e){this.component=t,this.route=e}}function _L(n,t,e){const r=n._root;return zl(r,t?t._root:null,e,[r.value])}function cd(n,t,e){const r=function yL(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function zl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=oa(t);return n.children.forEach(o=>{(function CL(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function bL(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vs(n.url,t.url)||!Hr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(n,t)||!Hr(n.queryParams,t.queryParams);default:return!Hm(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zD(r)):(s.data=o.data,s._resolvedData=o._resolvedData),zl(n,t,s.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ld(a.outlet.component,o))}else o&&$l(t,a,i),i.canActivateChecks.push(new zD(r)),zl(n,null,s.component?a?a.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Rt(s,(o,a)=>$l(o,e.getContext(a),i)),i}function $l(n,t,e){const r=oa(n),i=n.value;Rt(r,(s,o)=>{$l(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new ld(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class IL{}function $D(n){return new st(t=>t.error(n))}class AL{constructor(t,e,r,i,s,o){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=sd(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ce);if(null===e)return null;const r=new td([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yi(r,e),s=new wD(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,r=SD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=RD(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=UD(r);return function OL(n){n.sort((t,e)=>t.value.outlet===Ce?-1:e.value.outlet===Ce?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,r,i);if(null!==o)return o}return BD(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!LD(t,e,r,i))return null;let s,o=[],a=[];if("**"===t.path){const C=r.length>0?dD(r).parameters:{};s=new td(r,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qD(t),Jn(t),t.component,t,jD(e),WD(e)+r.length,GD(t))}else{const C=id(e,t,r);if(!C.matched)return null;o=C.consumedSegments,a=C.remainingSegments,s=new td(o,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qD(t),Jn(t),t.component,t,jD(e),WD(e)+o.length,GD(t))}const l=function NL(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:d,slicedSegments:f}=sd(e,o,a,l.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===f.length&&d.hasChildren()){const C=this.processChildren(l,d);return null===C?null:[new yi(s,C)]}if(0===l.length&&0===f.length)return[new yi(s,[])];const g=Jn(t)===i,_=this.processSegment(l,d,f,g?Ce:i);return null===_?null:[new yi(s,_)]}}function RL(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function UD(n){const t=[],e=new Set;for(const r of n){if(!RL(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=UD(r.children);t.push(new yi(r.value,i))}return t.filter(r=>!e.has(r))}function jD(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function WD(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function qD(n){return n.data||{}}function GD(n){return n.resolve||{}}function KD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Km(n){return Ls(t=>{const e=n(t);return e?Mt(e).pipe(Pe(()=>t)):pe(t)})}class UL extends class $L{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qm=new de("ROUTES");class QD{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new jm(uD(o.injector.get(Qm,void 0,ae.Self|ae.Optional)).map(qm),o)}),Vi(s=>{throw e._loader$=void 0,s}));return e._loader$=new e5(i,()=>new wn).pipe(eD()),e._loader$}loadModuleFactory(t){return zr(t()).pipe(wt(e=>e instanceof qb?pe(e):Mt(this.compiler.compileModuleAsync(e))))}}class WL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qL(n){throw n}function GL(n,t,e){return t.parse("/")}function XD(n,t){return pe(null)}const KL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Y=(()=>{class n{constructor(e,r,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wn,this.errorHandler=qL,this.malformedUriErrorHandler=GL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:XD,afterPreactivation:XD},this.urlHandlingStrategy=new WL,this.routeReuseStrategy=new UL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(hi),this.console=o.get(E0);const g=o.get(bt);this.isNgZoneEnabled=g instanceof bt&&bt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function b5(){return new Bs(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QD(o,a,_=>this.triggerEvent(new sD(_)),_=>this.triggerEvent(new oD(_))),this.routerState=TD(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Fs(i=>0!==i.id),Pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ls(i=>{let s=!1,o=!1;return pe(i).pipe(Rn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ls(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ud(a.source)&&(this.browserUrlTree=a.extractedUrl),pe(a).pipe(Ls(g=>{const _=this.transitions.getValue();return r.next(new Om(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions.getValue()?si:Promise.resolve(g)}),function gL(n,t,e,r){return Ls(i=>function hL(n,t,e,r,i){return new fL(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(Pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Rn(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function FL(n,t,e,r,i){return wt(s=>function PL(n,t,e,r,i="emptyOnly",s="legacy"){try{const o=new AL(n,t,e,r,i,s).recognize();return null===o?$D(new IL):pe(o)}catch(o){return $D(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(Pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),Rn(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(C,g)}this.browserUrlTree=g.urlAfterRedirects}const _=new l5(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(_)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:C,source:b,restoredState:T,extras:M}=a,P=new Om(_,this.serializeUrl(C),b,T);r.next(P);const E=TD(C,this.rootComponentType).snapshot;return pe(Object.assign(Object.assign({},a),{targetSnapshot:E,urlAfterRedirects:C,extras:Object.assign(Object.assign({},M),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),si}),Km(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:C}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!C})}),Rn(a=>{const l=new c5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Pe(a=>Object.assign(Object.assign({},a),{guards:_L(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function kL(n,t){return wt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?pe(Object.assign(Object.assign({},e),{guardsResult:!0})):function DL(n,t,e,r){return Mt(n).pipe(wt(i=>function EL(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?pe(s.map(a=>{const l=cd(a,t,i);let d;if(function nL(n){return n&&Hi(n.canDeactivate)}(l))d=zr(l.canDeactivate(n,t,e,r));else{if(!Hi(l))throw new Error("Invalid CanDeactivate guard");d=zr(l(n,t,e,r))}return d.pipe(ia())})).pipe(Bl()):pe(!0)}(i.component,i.route,e,t,r)),ia(i=>!0!==i,!0))}(o,r,i,n).pipe(wt(a=>a&&function J5(n){return"boolean"==typeof n}(a)?function TL(n,t,e,r){return Mt(t).pipe(ra(i=>Pm(function wL(n,t){return null!==n&&t&&t(new h5(n)),pe(!0)}(i.route.parent,r),function SL(n,t){return null!==n&&t&&t(new m5(n)),pe(!0)}(i.route,r),function xL(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function vL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Zk(()=>pe(o.guards.map(l=>{const d=cd(l,o.node,e);let f;if(function tL(n){return n&&Hi(n.canActivateChild)}(d))f=zr(d.canActivateChild(r,n));else{if(!Hi(d))throw new Error("Invalid CanActivateChild guard");f=zr(d(r,n))}return f.pipe(ia())})).pipe(Bl())));return pe(s).pipe(Bl())}(n,i.path,e),function ML(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return pe(!0);const i=r.map(s=>Zk(()=>{const o=cd(s,t,e);let a;if(function eL(n){return n&&Hi(n.canActivate)}(o))a=zr(o.canActivate(t,n));else{if(!Hi(o))throw new Error("Invalid CanActivate guard");a=zr(o(t,n))}return a.pipe(ia())}));return pe(i).pipe(Bl())}(n,i.route,e))),ia(i=>!0!==i,!0))}(r,s,n,t):pe(a)),Pe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Rn(a=>{if(Hs(a.guardsResult)){const d=Nm(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new u5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Fs(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Km(a=>{if(a.guards.canActivateChecks.length)return pe(a).pipe(Rn(l=>{const d=new d5(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),Ls(l=>{let d=!1;return pe(l).pipe(function LL(n,t){return wt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return pe(e);let s=0;return Mt(i).pipe(ra(o=>function BL(n,t,e,r){return function VL(n,t,e,r){const i=KD(n);if(0===i.length)return pe({});const s={};return Mt(i).pipe(wt(o=>function HL(n,t,e,r){const i=cd(n,t,r);return zr(i.resolve?i.resolve(t,e):i(t,e))}(n[o],t,e,r).pipe(Rn(a=>{s[o]=a}))),Am(1),wt(()=>KD(s).length===i.length?pe(s):si))}(n._resolve,n,t,r).pipe(Pe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),SD(n,e).resolve),null)))}(o.route,r,n,t)),Rn(()=>s++),Am(1),wt(o=>s===i.length?pe(e):si))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Rn({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Rn(l=>{const d=new p5(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),Km(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:C}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!C})}),Pe(a=>{const l=function V5(n,t,e){const r=Rl(n,t._root,e?e._root:void 0);return new DD(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Rn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Pe(r=>(new X5(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Rn({next(){s=!0},complete(){s=!0}}),function o5(n){return St((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Vi(a=>{if(o=!0,function v5(n){return n&&n[lD]}(a)){const l=Hs(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const d=new iD(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(d),l?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ud(i.source)};this.scheduleNavigation(f,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new a5(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return si}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ND(e),this.config=e.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,d=i||this.routerState.root,f=l?this.currentUrlTree.fragment:o;let g=null;switch(a){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function $5(n,t,e,r,i){if(0===e.length)return zm(t.root,t.root,t,r,i);const s=function U5(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ED(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Rt(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new ED(e,t,r)}(e);if(s.toRoot())return zm(t.root,new ke([],{}),t,r,i);const o=function j5(n,t,e){if(n.isAbsolute)return new $m(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new $m(s,s===t.root,0)}const r=nd(n.commands[0])?0:1;return function W5(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $m(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?rd(o.segmentGroup,o.index,s.commands):ID(o.segmentGroup,o.index,s.commands);return zm(o.segmentGroup,a,t,r,i)}(d,this.currentUrlTree,e,g,null!=f?f:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Hs(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function XL(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},KL):!1===r?Object.assign({},QL):r,Hs(e))return hD(this.currentUrlTree,e,i);const s=this.parseUrl(e);return hD(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Al(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,o){var a,l,d;if(this.disposed)return Promise.resolve(!1);const f=this.transitions.value,g=ud(r)&&f&&!ud(f.source),_=f.rawUrl.toString()===e.toString(),C=f.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(g&&_&&C)return Promise.resolve(!0);let T,M,P;o?(T=o.resolve,M=o.reject,P=o.promise):P=new Promise((z,K)=>{T=z,M=K});const E=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):R=0,this.setTransition({id:E,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:T,reject:M,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(z=>Promise.reject(z))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new iD(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){hf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function ud(n){return"imperative"!==n}let qt=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new wn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(Ft),ja("tabindex"),w(Br),w(dt))},n.\u0275dir=re({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&k("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Et]}),n})(),Gt=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new wn,this.subscription=e.events.subscribe(s=>{s instanceof Al&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,o){if(0!==e||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(Ft),w(ta))},n.\u0275dir=re({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&k("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Nr("target",r.target)("href",r.href,I)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Et]}),n})();function aa(n){return""===n||!!n}let Ul=(()=>{class n{constructor(e,r,i,s,o,a){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Al&&this.update()})}ngAfterContentInit(){pe(this.links.changes,this.linksWithHrefs.changes,pe(null)).pipe(Oa()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Mt(r).pipe(Oa()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function YL(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(dt),w(Br),w(Mu),w(qt,8),w(Gt,8))},n.\u0275dir=re({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(Lf(i,qt,5),Lf(i,Gt,5)),2&e){let s;As(s=Os())&&(r.links=s),As(s=Os())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Et]}),n})();class YD{}class JD{preload(t,e){return pe(null)}}let ZD=(()=>{class n{constructor(e,r,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new QD(i,r,l=>e.triggerEvent(new sD(l)),l=>e.triggerEvent(new oD(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fs(e=>e instanceof Al),ra(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(hi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return Mt(i).pipe(Oa(),Pe(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pe(r._loadedConfig):this.loader.load(e.injector,r)).pipe(wt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(H(Y),H(I0),H(yt),H(YD))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Xm=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Al&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof aD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new aD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){hf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const zs=new de("ROUTER_CONFIGURATION"),eT=new de("ROUTER_FORROOT_GUARD"),ZL=[im,{provide:_D,useClass:vD},{provide:Y,useFactory:function i8(n,t,e,r,i,s,o={},a,l){const d=new Y(null,n,t,e,r,i,uD(s));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),function s8(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),o.enableTracing&&d.events.subscribe(f=>{var g,_;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(_=console.groupEnd)||void 0===_||_.call(console)}),d},deps:[_D,Vl,im,yt,I0,Qm,zs,[class jL{},new Oi],[class zL{},new Oi]]},Vl,{provide:Ft,useFactory:function o8(n){return n.routerState.root},deps:[Y]},ZD,JD,class JL{preload(t,e){return e().pipe(Vi(()=>pe(null)))}},{provide:zs,useValue:{enableTracing:!1}}];function e8(){return new R0("Router",Y)}let dd=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[ZL,tT(e),{provide:eT,useFactory:r8,deps:[[Y,new Oi,new Ya]]},{provide:zs,useValue:r||{}},{provide:ta,useFactory:n8,deps:[Rs,[new Xc(rm),new Oi],zs]},{provide:Xm,useFactory:t8,deps:[Y,qF,zs]},{provide:YD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:JD},{provide:R0,multi:!0,useFactory:e8},[Ym,{provide:Uf,multi:!0,useFactory:a8,deps:[Ym]},{provide:nT,useFactory:l8,deps:[Ym]},{provide:x0,multi:!0,useExisting:nT}]]}}static forChild(e){return{ngModule:n,providers:[tT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(H(eT,8),H(Y,8))},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({}),n})();function t8(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Xm(n,t,e)}function n8(n,t,e={}){return e.useHash?new OR(n,t):new tk(n,t)}function r8(n){return"guarded"}function tT(n){return[{provide:CE,multi:!0,useValue:n},{provide:Qm,multi:!0,useValue:n}]}let Ym=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wn}appInitializer(){return this.injector.get(IR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Y),o=this.injector.get(zs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?pe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(zs),i=this.injector.get(ZD),s=this.injector.get(Xm),o=this.injector.get(Y),a=this.injector.get(wu);e===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(H(yt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function a8(n){return n.appInitializer.bind(n)}function l8(n){return n.bootstrapListener.bind(n)}const nT=new de("Router Initializer");let oe=(()=>{class n{constructor(e,r){this.http=e,this._router=r,this.draft="default",this.customDraft=!1,this.editDrafts=!1,this.pack="default",this.customPack=!1,this.editPacks=!1,this.processingDraftEdit=!1,this.processingPackEdit=!1,this.editDecklist=!1,this.processingDeckEdit=!1,this.sealedDraftMode=!1,this.mainDeck=[],this.sideDeck=[],this.extraDeck=[],this.packAmount=6,this.packSize="medium",this._carddataUrl="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards",this._cardMonsters="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/monsters",this._cardSpells="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spells",this._cardTraps="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/traps",this._cardST="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spellstraps",this.PackQueue=[]}setDraft(e,r){this.draft=e,this.customDraft=r}getDraftType(){return this.draft}getCustomEnabled(){return this.customDraft}editDraft(e){this.editDrafts=e}getEditDraft(){return this.editDrafts}setPack(e,r){this.pack=e,this.customPack=r}getPackType(){return this.pack}getCustomPackEnabled(){return this.customPack}editPack(e){this.editPacks=e}getEditPack(){return this.editPacks}setEditPackID(e){this.editPackID=e}getEditPackID(){return this.editPackID}setEditPackName(e){this.editPackName=e}getEditPackName(){return this.editPackName}editDeck(e){this.editDecklist=e}getEditDecklist(){return this.editDecklist}setEditDeckID(e){this.editDeckID=e}getEditDeckID(){return this.editDeckID}setEditDeckName(e){this.editDeckName=e}getEditDeckName(){return this.editDeckName}resetDeck(){this.editDeck(!1),this.setEditDeckID(-1),this.setEditDeckName(""),this.mainDeck=[],this.sideDeck=[],this.extraDeck=[]}uploadDecklist(e,r,i){this.mainDeck=e,this.sideDeck=r,this.extraDeck=i}getUploadedMain(){return this.mainDeck}getUploadedSide(){return this.sideDeck}getUploadedExtra(){return this.extraDeck}setEditDraftID(e){this.editDraftID=e}getEditDraftID(){return this.editDraftID}setEditDraftName(e){this.editDraftName=e}setEditDraftImage(e){this.editDraftImage=e}getEditDraftName(){return this.editDraftName}getEditDraftImage(){return this.editDraftImage}getSealedDraftMode(){return this.sealedDraftMode}setSealedDraftMode(e){this.sealedDraftMode=e}getProcessingPack(){return this.processingPackEdit}getProcessingDraft(){return this.processingDraftEdit}setProcessingDraft(e){this.processingDraftEdit=e}setProcessingPack(e){this.processingPackEdit=e}getProcessingDeck(){return this.processingDeckEdit}setProcessingDeck(e){this.processingDeckEdit=e}setPackQueue(e){this.PackQueue=e}getPackQueue(){return this.PackQueue}getCustomCards(){return this.http.get(this._carddataUrl)}getRecentCards(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/recentcards")}getCustomCardsIDs(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards-ids")}getDecklists(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists")}getDecklistsFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/creator/${e}`)}getMatchesFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches/duelist/${e}`)}getPlayers(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/players")}getMatches(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches")}getBanlist(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/banlist")}getDeckMasters(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deckmaster")}getDecklist(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/${e}`)}getStructureDeck(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/structure-decks/${e}`)}getDecklistInfo(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists-info/${e}`)}getCustomCard(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/card/${e}`)}getCustomCardsByDraft(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/${e}`)}getDrafts(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts")}getPacks(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs")}getStructureDecks(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/structure-decks")}getPackInfoByID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/${e}`)}getDraftsbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts/${e}`)}getPacksbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/owner/${e}`)}getDraftCardsbyID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/draft/${e}`)}deleteDecklists(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/delete-decklists",e)}getCustomMonsters(){return this.http.get(this._cardMonsters)}getCustomSpells(){return this.http.get(this._cardSpells)}getCustomTraps(){return this.http.get(this._cardTraps)}getCustomSpellsTraps(){return this.http.get(this._cardST)}getCustomCardsByCreator(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/creator/${e}`)}getCustomCardsByTag(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/tags/${e}`)}SetPackNo(e,r){this.packAmount=null==e?6:e}getCustomCardsByPack(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/pack/${e}`)}getPackAmount(){return this.packAmount}getFilteredCards(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}getFilteredCards2(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}submitDecklist(e){return console.log("help!"),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdeck",e)}submitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdraft",e)}resubmitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdraft",e)}submitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitpack",e)}submitStructure(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitstructure",e)}resubmitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editpack",e)}deletePack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/delete-pack",e)}uploadImage(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/uploadimage",e)}getBindersByOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/binders/${e}`)}submitBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitbinder",e)}addToBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtobinder",e)}addToCollection(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtocollection",e)}submitDuel(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submit-duel",e)}getCardsByBinderID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/binders/${e}`)}getCollectionCardsByCreatorID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/collections/${e}`)}getChecklist(e,r){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/checklist/${e}/${r}`)}getCardDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/cards/details/${e}`)}getUserPageDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/users/${e}`)}editProfileImages(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editprofile/images",e)}resubmitDecklist(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdeck",e)}deleteMatch(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deletematch",e)}submitCSVFile(e){const r=new FormData;return r.append("file",new Blob([e],{type:"text/csv"}),e.name),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitCSV",r)}deleteCard(e){const r=new FormData;return r.append("cardid",e.id),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deleteCard",r)}getSiteData(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/sitedata")}getLatestPack(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/latestpack")}updateCOTD(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/cotd")}submitArticle(e){return console.log(e),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitArticle",e)}getArticles(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/articles")}getArticle(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/articles/${e}`)}updateArticle(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/updateArticle",e)}deleteArticle(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deleteArticle",e)}}return n.\u0275fac=function(e){return new(e||n)(H(Gu),H(Y))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jl(...n){const t=_v(n),{args:e,keys:r}=Qk(n),i=new st(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let f=0;f<o;f++){let g=!1;or(e[f]).subscribe(mt(s,_=>{g||(g=!0,d--),a[f]=_},()=>l--,void 0,()=>{(!l||!g)&&(d||s.next(r?Yk(r,a):a),s.complete())}))}});return t?i.pipe(Xk(t)):i}let rT=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(dt))},n.\u0275dir=re({type:n}),n})(),$s=(()=>{class n extends rT{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,features:[Ne]}),n})();const Dr=new de("NgValueAccessor"),u8={provide:Dr,useExisting:He(()=>Jm),multi:!0};let Jm=(()=>{class n extends $s{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&k("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[je([u8]),Ne]}),n})();const d8={provide:Dr,useExisting:He(()=>et),multi:!0},h8=new de("CompositionEventMode");let et=(()=>{class n extends rT{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p8(){const n=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(dt),w(h8,8))},n.\u0275dir=re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&k("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[je([d8]),Ne]}),n})();function zi(n){return null==n||0===n.length}function iT(n){return null!=n&&"number"==typeof n.length}const Kt=new de("NgValidators"),$i=new de("NgAsyncValidators"),f8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class V{static min(t){return function sT(n){return t=>{if(zi(t.value)||zi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function oT(n){return t=>{if(zi(t.value)||zi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return aT(t)}static requiredTrue(t){return function lT(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function cT(n){return zi(n.value)||f8.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function uT(n){return t=>zi(t.value)||!iT(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function dT(n){return t=>iT(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function pT(n){if(!n)return pd;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(zi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return vT(t)}static composeAsync(t){return yT(t)}}function aT(n){return zi(n.value)?{required:!0}:null}function pd(n){return null}function hT(n){return null!=n}function fT(n){const t=pl(n)?Mt(n):n;return gf(t),t}function mT(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function gT(n,t){return t.map(e=>e(n))}function _T(n){return n.map(t=>function m8(n){return!n.validate}(t)?t:e=>t.validate(e))}function vT(n){if(!n)return null;const t=n.filter(hT);return 0==t.length?null:function(e){return mT(gT(e,t))}}function Zm(n){return null!=n?vT(_T(n)):null}function yT(n){if(!n)return null;const t=n.filter(hT);return 0==t.length?null:function(e){return jl(gT(e,t).map(fT)).pipe(Pe(mT))}}function eg(n){return null!=n?yT(_T(n)):null}function CT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function bT(n){return n._rawValidators}function kT(n){return n._rawAsyncValidators}function tg(n){return n?Array.isArray(n)?n:[n]:[]}function hd(n,t){return Array.isArray(n)?n.includes(t):n===t}function DT(n,t){const e=tg(t);return tg(n).forEach(i=>{hd(e,i)||e.push(i)}),e}function TT(n,t){return tg(t).filter(e=>!hd(n,e))}class ST{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ui extends ST{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn extends ST{get formDirective(){return null}get path(){return null}}class wT{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Qe=(()=>{class n extends wT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Ui,2))},n.\u0275dir=re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Rr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ne]}),n})(),Qt=(()=>{class n extends wT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(hn,10))},n.\u0275dir=re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Rr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ne]}),n})();function md(n,t){return[...t.path,n]}function Wl(n,t){ig(n,t),t.valueAccessor.writeValue(n.value),function D8(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xT(n,t)})}(n,t),function S8(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function T8(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function k8(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function gd(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),vd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _d(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ig(n,t){const e=bT(n);null!==t.validator?n.setValidators(CT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=kT(n);null!==t.asyncValidator?n.setAsyncValidators(CT(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();_d(t._rawValidators,i),_d(t._rawAsyncValidators,i)}function vd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=bT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=kT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return _d(t._rawValidators,r),_d(t._rawAsyncValidators,r),e}function xT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ET(n,t){ig(n,t)}function sg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function IT(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function og(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===et?e=s:function x8(n){return Object.getPrototypeOf(n.constructor)===$s}(s)?r=s:i=s}),i||r||e||null}function ag(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ql="VALID",yd="INVALID",la="PENDING",Gl="DISABLED";function cg(n){return(Cd(n)?n.validators:n)||null}function PT(n){return Array.isArray(n)?Zm(n):n||null}function ug(n,t){return(Cd(t)?t.asyncValidators:n)||null}function AT(n){return Array.isArray(n)?eg(n):n||null}function Cd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const OT=n=>n instanceof te,dg=n=>n instanceof lt;function NT(n){return OT(n)?n.value:n.getRawValue()}function RT(n,t){const e=dg(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function FT(n,t){dg(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new q(1002,"")})}class pg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PT(this._rawValidators),this._composedAsyncValidatorFn=AT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ql}get invalid(){return this.status===yd}get pending(){return this.status==la}get disabled(){return this.status===Gl}get enabled(){return this.status!==Gl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=AT(t)}addValidators(t){this.setValidators(DT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(DT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TT(t,this._rawAsyncValidators))}hasValidator(t){return hd(this._rawValidators,t)}hasAsyncValidator(t){return hd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=la,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ql,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ql||this.status===la)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gl:ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;const e=fT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function E8(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=dg(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof P8)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Gl:this.errors?yd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(yd)?yd:ql}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class te extends pg{constructor(t=null,e,r){super(cg(e),ug(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ag(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ag(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lt extends pg{constructor(t,e,r){super(cg(e),ug(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){FT(this,t),Object.keys(t).forEach(r=>{RT(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=NT(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class P8 extends pg{constructor(t,e,r){super(cg(e),ug(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){FT(this,t),t.forEach((r,i)=>{RT(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>NT(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const A8={provide:hn,useExisting:He(()=>bd)},Kl=(()=>Promise.resolve(null))();let bd=(()=>{class n extends hn{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ke,this.form=new lt({},Zm(e),eg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Kl.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Wl(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Kl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Kl.then(()=>{const r=this._findContainer(e.path),i=new lt({});ET(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Kl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Kl.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,IT(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(w(Kt,10),w($i,10))},n.\u0275dir=re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&k("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([A8]),Ne]}),n})();const N8={provide:Ui,useExisting:He(()=>At)},VT=(()=>Promise.resolve(null))();let At=(()=>{class n extends Ui{constructor(e,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new te,this._registered=!1,this.update=new Ke,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=og(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){VT.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;VT.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?md(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(w(hn,9),w(Kt,10),w($i,10),w(Dr,10),w(Mu,8))},n.\u0275dir=re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([N8]),Ne,Et]}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const R8={provide:Dr,useExisting:He(()=>Ci),multi:!0};let Ci=(()=>{class n extends $s{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&k("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[je([R8]),Ne]}),n})(),HT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({}),n})();const hg=new de("NgModelWithFormControlWarning"),H8={provide:hn,useExisting:He(()=>Lt)};let Lt=(()=>{class n extends hn{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Wl(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){gd(e.control||null,e,!1),ag(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,IT(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(gd(r||null,e),OT(i)&&(Wl(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);ET(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function w8(n,t){return vd(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ig(this.form,this),this._oldForm&&vd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(w(Kt,10),w($i,10))},n.\u0275dir=re({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&k("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([H8]),Ne,Et]}),n})();const U8={provide:Ui,useExisting:He(()=>Yt)};let Yt=(()=>{class n extends Ui{constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=og(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),sg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return md(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(w(hn,13),w(Kt,10),w($i,10),w(Dr,10),w(hg,8))},n.\u0275dir=re({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[je([U8]),Ne,Et]}),n})();const j8={provide:Dr,useExisting:He(()=>Jt),multi:!0};function WT(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Jt=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=WT(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function W8(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&k("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([j8]),Ne]}),n})(),Cn=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(WT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(Br),w(Jt,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const q8={provide:Dr,useExisting:He(()=>gg),multi:!0};function qT(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let gg=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const d=this._getOptionValue(o[a].value);i.push(d)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function G8(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&k("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([q8]),Ne]}),n})(),bn=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qT(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(Br),w(gg,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Us=(()=>{class n{constructor(){this._validator=pd}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,features:[Et]}),n})();const Y8={provide:Kt,useExisting:He(()=>ji),multi:!0};let ji=(()=>{class n extends Us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function K8(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>aT}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ut(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Nr("required",r._enabled?"":null)},inputs:{required:"required"},features:[je([Y8]),Ne]}),n})(),nS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[[HT]]}),n})(),kd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[nS]}),n})(),Ql=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:hg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[nS]}),n})();function r6(n,t){1&n&&D(0,"option",9)}function i6(n,t){1&n&&(c(0,"option",125),p(1,"Effect"),u())}function s6(n,t){1&n&&(c(0,"option",126),p(1,"Flip"),u())}function o6(n,t){1&n&&(c(0,"option",127),p(1,"Fusion"),u())}function a6(n,t){1&n&&(c(0,"option",128),p(1,"Ritual"),u())}function l6(n,t){1&n&&(c(0,"option",129),p(1,"Union"),u())}function c6(n,t){1&n&&(c(0,"option",130),p(1,"Xyz"),u())}function u6(n,t){1&n&&D(0,"option",9)}function d6(n,t){1&n&&(c(0,"option",131),p(1,"Normal"),u())}function p6(n,t){1&n&&(c(0,"option",132),p(1,"Continuous"),u())}function h6(n,t){1&n&&(c(0,"option",133),p(1,"Quick"),u())}function f6(n,t){1&n&&(c(0,"option",134),p(1,"Ritual"),u())}function m6(n,t){1&n&&(c(0,"option",135),p(1,"Equip"),u())}function g6(n,t){1&n&&(c(0,"option",136),p(1,"Field"),u())}function _6(n,t){1&n&&D(0,"option",9)}function v6(n,t){1&n&&(c(0,"option",137),p(1,"Normal"),u())}function y6(n,t){1&n&&(c(0,"option",138),p(1,"Continuous"),u())}function C6(n,t){1&n&&(c(0,"option",139),p(1,"Counter"),u())}function b6(n,t){1&n&&(c(0,"option",140),p(1,"Level ASC"),u())}function k6(n,t){1&n&&(c(0,"option",141),p(1,"Level DESC"),u())}function D6(n,t){1&n&&(c(0,"option",142),p(1,"ATK ASC"),u())}function T6(n,t){1&n&&(c(0,"option",143),p(1,"ATK DESC"),u())}function S6(n,t){1&n&&(c(0,"option",144),p(1,"DEF ASC"),u())}function w6(n,t){1&n&&(c(0,"option",145),p(1,"DEF DESC"),u())}function M6(n,t){if(1&n){const e=F();c(0,"span")(1,"button",119),k("click",function(){const s=S(e).$implicit;return v().showDetails(s.id)}),D(2,"img",146),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function x6(n,t){if(1&n&&(c(0,"p"),D(1,"img",147),p(2),D(3,"img",148),p(4),u()),2&n){const e=v();h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," "),h(2),x(" ",null==e.card?null:e.card.level," ")}}function E6(n,t){if(1&n&&(c(0,"p"),D(1,"img",147),p(2),u()),2&n){const e=v();h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," ")}}function I6(n,t){if(1&n&&(c(0,"h4"),D(1,"img",149),p(2),u()),2&n){const e=v();h(1),B("src",e.stType,I),h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function P6(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=v();h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function A6(n,t){if(1&n&&(c(0,"p"),D(1,"img",149),p(2),u()),2&n){const e=v();h(1),B("src",e.mType,I),h(1),x(" ",null==e.card?null:e.card.type,"")}}function O6(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v();h(1),we("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}let N6=(()=>{class n{constructor(e){this.customcardsService=e,this.currentPage=1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage)})}submitSearch(){console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None","Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),this.customcardsService.getFilteredCards(this.filters).subscribe(e=>{console.log(e),this.cards=e,this.currentPage=1,this.card=void 0,this.getCardNumbers(this.currentPage)},e=>{console.log(e)})}getCardNumbers(e){this.currentCards=[];const r=20*(e-1),i=20*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=this.cards.find(M=>M.id==e),console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-customcard-db"]],decls:284,vars:61,consts:[[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Attribute-Generic"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["value","Type-Generic"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col-lg-6"],[4,"ngFor","ngForOf"],[1,"col-lg-4","cardeffect"],[1,"bigcard",3,"src"],[4,"ngIf"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"smallcard",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"type",3,"src"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h2"),p(2,"Look at the card text and NOT the card image when reading effects, as custom cards are always changing."),u(),c(3,"div",1)(4,"div",2)(5,"label",3),p(6,"Name"),u(),c(7,"input",4),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(8,"div",2)(9,"label",5),p(10,"Desc"),u(),c(11,"input",4),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(12,"div",2)(13,"label",6),p(14,"Creator"),u(),c(15,"input",4),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(16,"div",2)(17,"label",7),p(18,"Tag"),u(),c(19,"select",8),k("ngModelChange",function(s){return r.filters.tag=s}),D(20,"option",9),c(21,"option",10),p(22,"Attack Directly"),u(),c(23,"option",11),p(24,"Attribute-Generic"),u(),c(25,"option",12),p(26,"Battle"),u(),c(27,"option",13),p(28,"Boost"),u(),c(29,"option",14),p(30,"Bounce"),u(),c(31,"option",15),p(32,"Burn"),u(),c(33,"option",16),p(34,"Counters"),u(),c(35,"option",17),p(36,"Cripple"),u(),c(37,"option",18),p(38,"Draw "),u(),c(39,"option",19),p(40,"Disrupt"),u(),c(41,"option",20),p(42,"Equip"),u(),c(43,"option",21),p(44,"Excavate"),u(),c(45,"option",22),p(46,"Flip"),u(),c(47,"option",23),p(48,"Fusion"),u(),c(49,"option",24),p(50,"Gain"),u(),c(51,"option",25),p(52,"Gamble"),u(),c(53,"option",26),p(54,"Generic"),u(),c(55,"option",27),p(56,"Hand Protection"),u(),c(57,"option",28),p(58,"Ignore"),u(),c(59,"option",29),p(60,"Lingering"),u(),c(61,"option",30),p(62,"Lockdown"),u(),c(63,"option",31),p(64,"Mill"),u(),c(65,"option",32),p(66,"Mimic"),u(),c(67,"option",33),p(68,"Non-Targeted Removal"),u(),c(69,"option",34),p(70,"Piercing"),u(),c(71,"option",35),p(72,"Position"),u(),c(73,"option",36),p(74,"Protection"),u(),c(75,"option",37),p(76,"Quick"),u(),c(77,"option",38),p(78,"Recycle"),u(),c(79,"option",39),p(80,"Restriction"),u(),c(81,"option",40),p(82,"Ritual"),u(),c(83,"option",41),p(84,"Searcher"),u(),c(85,"option",42),p(86,"Special Summon"),u(),c(87,"option",43),p(88,"Spin"),u(),c(89,"option",44),p(90,"Targeted Removal"),u(),c(91,"option",45),p(92,"Token"),u(),c(93,"option",46),p(94,"Tribute"),u(),c(95,"option",47),p(96,"Type-Generic"),u()()(),c(97,"div",2)(98,"label",48),p(99,"Card"),u(),c(100,"select",49),k("ngModelChange",function(s){return r.filters.initial=s}),D(101,"option",9),c(102,"option",50),p(103,"Monster"),u(),c(104,"option",51),p(105,"Spell"),u(),c(106,"option",52),p(107,"Trap"),u()()(),c(108,"div",2)(109,"label",48),p(110,"Card Type 2"),u(),c(111,"select",53),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(112,r6,1,0,"option",54),y(113,i6,2,0,"option",55),y(114,s6,2,0,"option",56),y(115,o6,2,0,"option",57),y(116,a6,2,0,"option",58),y(117,l6,2,0,"option",59),y(118,c6,2,0,"option",60),y(119,u6,1,0,"option",54),y(120,d6,2,0,"option",61),y(121,p6,2,0,"option",62),y(122,h6,2,0,"option",63),y(123,f6,2,0,"option",64),y(124,m6,2,0,"option",65),y(125,g6,2,0,"option",66),y(126,_6,1,0,"option",54),y(127,v6,2,0,"option",67),y(128,y6,2,0,"option",68),y(129,C6,2,0,"option",69),u()(),c(130,"div",2)(131,"label",70),p(132,"Monster Type"),u(),c(133,"select",71),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(134,"option",9),c(135,"option",72),p(136,"Aqua"),u(),c(137,"option",73),p(138,"Beast"),u(),c(139,"option",74),p(140,"Beast-Warrior"),u(),c(141,"option",75),p(142,"Dinosaur"),u(),c(143,"option",76),p(144,"Dragon"),u(),c(145,"option",77),p(146,"Fairy"),u(),c(147,"option",78),p(148,"Fiend"),u(),c(149,"option",79),p(150,"Fish"),u(),c(151,"option",80),p(152,"Insect"),u(),c(153,"option",81),p(154,"Machine"),u(),c(155,"option",82),p(156,"Plant"),u(),c(157,"option",83),p(158,"Psychic"),u(),c(159,"option",84),p(160,"Pyro"),u(),c(161,"option",85),p(162,"Reptile"),u(),c(163,"option",86),p(164,"Rock"),u(),c(165,"option",87),p(166,"Sea Serpent"),u(),c(167,"option",88),p(168,"Spellcaster"),u(),c(169,"option",89),p(170,"Thunder"),u(),c(171,"option",90),p(172,"Warrior"),u(),c(173,"option",91),p(174,"Winged-Beast"),u(),c(175,"option",92),p(176,"Zombie"),u()()(),c(177,"div",2)(178,"label",7),p(179,"Attribute"),u(),c(180,"select",93),k("ngModelChange",function(s){return r.filters.attribute=s}),D(181,"option",9),c(182,"option",94),p(183,"DARK"),u(),c(184,"option",95),p(185,"DIVINE"),u(),c(186,"option",96),p(187,"EARTH"),u(),c(188,"option",97),p(189,"FIRE"),u(),c(190,"option",98),p(191,"LIGHT"),u(),c(192,"option",99),p(193,"WATER"),u(),c(194,"option",100),p(195,"WIND"),u()()()(),c(196,"div",1)(197,"div",2)(198,"label",7),p(199,"Attribute"),u(),c(200,"select",93),k("ngModelChange",function(s){return r.filters.attribute=s}),D(201,"option",9),c(202,"option",94),p(203,"DARK"),u(),c(204,"option",95),p(205,"DIVINE"),u(),c(206,"option",96),p(207,"EARTH"),u(),c(208,"option",97),p(209,"FIRE"),u(),c(210,"option",98),p(211,"LIGHT"),u(),c(212,"option",99),p(213,"WATER"),u(),c(214,"option",100),p(215,"WIND"),u()()(),c(216,"div",2)(217,"label",101),p(218,"Level <= "),u(),c(219,"input",102),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(220,"div",2)(221,"label",103),p(222," Level "),u(),c(223,"input",102),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(224,"div",2)(225,"label",104),p(226,"Atk <="),u(),c(227,"input",102),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(228,"div",2)(229,"label",105),p(230,"Atk"),u(),c(231,"input",102),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(232,"div",2)(233,"label",106),p(234,"Def <="),u(),c(235,"input",102),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(236,"div",2)(237,"label",107),p(238,"Def"),u(),c(239,"input",102),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(240,"div",2)(241,"label",108),p(242,"Sort By"),u(),c(243,"select",49),k("ngModelChange",function(s){return r.filters.sort=s}),c(244,"option",109),p(245,"Release Date ASC"),u(),c(246,"option",110),p(247,"Release Date DESC"),u(),c(248,"option",111),p(249,"Alphabetical ASC"),u(),c(250,"option",112),p(251,"Alphabetical DESC"),u(),y(252,b6,2,0,"option",113),y(253,k6,2,0,"option",114),y(254,D6,2,0,"option",115),y(255,T6,2,0,"option",116),y(256,S6,2,0,"option",117),y(257,w6,2,0,"option",118),u()(),c(258,"button",119),k("click",function(){return r.submitSearch()}),p(259,"Search"),u()(),c(260,"div",1)(261,"div",120),y(262,M6,3,1,"span",121),c(263,"div",1)(264,"button",119),k("click",function(){return r.nextPage()}),p(265,"Next"),u(),c(266,"button",119),k("click",function(){return r.prevPage()}),p(267,"Previous"),u()()(),c(268,"div",122),D(269,"img",123),c(270,"b"),y(271,x6,5,3,"p",124),u(),y(272,E6,3,2,"p",124),c(273,"h3"),p(274),u(),y(275,I6,3,2,"h4",124),y(276,P6,2,1,"h4",124),c(277,"b"),y(278,A6,3,2,"p",124),y(279,O6,2,2,"p",124),c(280,"p"),p(281),u(),c(282,"p"),p(283),u()()()()()),2&e&&(h(7),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.tag),h(81),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(47),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(20),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(5),m("ngForOf",r.currentCards),h(7),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",I),h(2),m("ngIf","True"==r.monster),h(1),m("ngIf","False"==r.monster),h(2),O(null==r.card?null:r.card.name),h(1),m("ngIf","False"==r.monster),h(1),m("ngIf","True"==r.monster),h(2),m("ngIf","True"==r.monster),h(1),m("ngIf","True"==r.monster),h(2),x(" ",null==r.card?null:r.card.effect,""),h(2),O(null==r.card?null:r.card.id))},directives:[et,Qe,At,Jt,Cn,bn,ue,Ci,_e],styles:[".bigcard[_ngcontent-%COMP%]{width:60%}.smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:3px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}"]}),n})(),R6=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-download-db"]],decls:2,vars:0,template:function(e,r){1&e&&(c(0,"p"),p(1,"download-db works!"),u())},styles:[""]}),n})(),he=(()=>{class n{constructor(e,r){this.http=e,this.router=r,this._registerUrl="https://mm8bitdm-ygo.herokuapp.com/api/register-yugioh",this._loginUrl="https://mm8bitdm-ygo.herokuapp.com/api/loginyugioh",this._userUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata",this._addUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/addcurrency",this._subtractUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/subtractcurrency",this._changeinfoUrl="https://mm8bitdm-ygo.herokuapp.com/api/changeaccountinfo"}getID(){return this.id}registerUser(e){return this.http.post(this._registerUrl,e)}loginUser(e){return this.http.post(this._loginUrl,e)}changeInfo(e){return this.http.post(this._changeinfoUrl,e)}getToken(){return localStorage.getItem("token")}getUser(){const e={token:localStorage.getItem("token")};return this.http.post(this._userUrl,e).subscribe(r=>{this.username=r.username,this.id=r.id,this.currency=r.currency,this.role=r.role},r=>{console.log(r),this.router.navigate(["/login"])}),this.http.post(this._userUrl,e)}subtractCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._subtractUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}addCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._addUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}loggedIn(){return!!localStorage.getItem("token")}logoutUser(){localStorage.removeItem("token"),location.reload(),this.router.navigate(["/home"]),this.username=void 0,this.id=void 0,this.currency=void 0,this.role=void 0}getUserData(){return this.role}adminRole(){return"admin"==this.role}}return n.\u0275fac=function(e){return new(e||n)(H(Gu),H(Y))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F6(n,t){if(1&n){const e=F();c(0,"div",3)(1,"div",4),k("click",function(){const s=S(e).$implicit;return v().setCustomDraft(s.title)}),c(2,"div",5),D(3,"div",6)(4,"img",7),u(),c(5,"div",8)(6,"h5",9),p(7),u()()()()}if(2&n){const e=t.$implicit;h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",I),h(3),x("",e.title," ")}}let L6=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this._router=r,this._authService=i,this.draftData=new lt({draftTitle:new te(void 0,[V.required,V.minLength(1)]),totalPlayers:new te(1,[V.required])}),this.players={},this.playernames=[],this.totalPlayers=4,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.draft={},this.drafts=[]}ngOnInit(){this.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.getDrafts().subscribe(e=>{this.drafts=e,console.log(this.drafts)})}get f(){return this.draftData.controls}onSubmit(){if(this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.draft={}}editDraft(e){this.customcardsService.editDraft(e)}setDraft(e){this.customcardsService.setDraft(e,!1)}setCustomDraft(e){this.customcardsService.setDraft(e,!0)}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(Y),w(he))},n.\u0275cmp=G({type:n,selectors:[["app-drafts"]],decls:3,vars:1,consts:[[1,"container","justify-content-center"],[1,"row"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],["routerLink","/draft-form",1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div","rounded"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),y(2,F6,8,2,"div",2),u()()),2&e&&(h(2),m("ngForOf",r.drafts))},directives:[_e,qt],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:200px;height:100px;opacity:.85;transition:.5s}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px;background-color:#000}.card-title[_ngcontent-%COMP%]{color:#fff}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();function B6(n,t){if(1&n&&(c(0,"div",40),D(1,"img",26),c(2,"div",27)(3,"h5"),p(4),c(5,"a",41),p(6),u()(),c(7,"p"),p(8),u()()()),2&n){const e=t.$implicit;A("routerLink","/articles/",e.id,""),h(1),B("src",e.header_img,I),h(3),x("",e.title," by "),h(1),A("routerLink","users/",e.author,""),h(1),O(e.username),h(2),O(e.header)}}function V6(n,t){if(1&n&&D(0,"img",42),2&n){const e=v();A("routerLink","/packs/",e.latestpack.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e.latestpack?null:e.latestpack.pack,"",I)}}function H6(n,t){if(1&n&&(c(0,"div",43),D(1,"input",44),u()),2&n){const e=t.$implicit;h(1),A("routerLink","/cards/",e.id,"")("src","https://drive.google.com/uc?export=view&id=",e.drive_id,"",I)}}let z6=(()=>{class n{constructor(e,r){this._router=e,this._customCardsService=r}ngOnInit(){this._customCardsService.getArticles().subscribe(e=>{this.articles=e,this.article=this.articles[this.articles.length-1],this.articles.pop()},e=>{}),this._customCardsService.getRecentCards().subscribe(e=>{this.cards=e},e=>{}),this._customCardsService.getSiteData().subscribe(e=>{this.sitedata=e,this._customCardsService.getCustomCard(this.sitedata.cotd).subscribe(r=>{this.cotd=r,console.log(this.cotd)},r=>{}),console.log(this.sitedata)},e=>{}),this._customCardsService.getLatestPack().subscribe(e=>{this.latestpack=e,console.log(this.latestpack)},e=>{})}goToSealedDraft(){this._customCardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-home"]],decls:95,vars:11,consts:[[1,"container2","center"],["src","assets/images/Attic2.png",1,"center"],["role","alert",1,"alert","alert-success"],[1,""],[1,"row"],[1,"col"],["routerLink","/packs",1,"card","rounded","center"],[1,"crop","rounded"],[1,"overlay-div","rounded"],["src","https://drive.google.com/uc?export=view&id=19VB5LayxB2aVaDaIcMiayyJPdgaErxY_"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"],["routerLink","/deck-editor",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1Mm-cHxvBBwRu2ADvgVFzYhu-PfKvheEa"],["routerLink","/decklists",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=11ik2eREdiLg6df2qHSU7uXgzdOAA7c7V"],["routerLink","/draft-maker",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1BnruNoN42c-l6iuJMt-G0tNdQLsYqp6k"],["routerLink","/packs",1,"center","card","rounded",3,"click"],["src","https://drive.google.com/uc?export=view&id=1FZ1bL7NpcZNq_hpnvz084O_R2je0FOrC"],["routerLink","/articles",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1YDqy4PUS8ICjV-w9MVOAG_hKO3xAwsLJ"],[1,"text-center"],["id","carouselExample",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active",3,"routerLink"],["alt","...",1,"d-block",3,"src"],[1,"carousel-caption","d-none","d-md-block"],["class","carousel-item",3,"routerLink",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-6","col-6"],["type","image",1,"center","smaller",3,"src","click"],["routerLinkActive","active","class","center pack",3,"routerLink","src",4,"ngIf"],[1,"container2"],[1,"row","justify-content-center"],["class","col-md-4 col-lg-2 col-4 ",4,"ngFor","ngForOf"],[1,"carousel-item",3,"routerLink"],[3,"routerLink"],["routerLinkActive","active",1,"center","pack",3,"routerLink","src"],[1,"col-md-4","col-lg-2","col-4"],["type","image",1,"center","cotd",3,"routerLink","src"]],template:function(e,r){1&e&&(c(0,"div",0),D(1,"img",1),c(2,"div",2)(3,"h4",3),p(4),u()(),c(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),D(9,"div",8)(10,"img",9),u(),c(11,"div",10)(12,"p",11),p(13,"Pack Opener "),u()()()(),c(14,"div",5)(15,"div",12)(16,"div",7),D(17,"div",8)(18,"img",13),u(),c(19,"div",10)(20,"p",11),p(21,"Deck Editor "),u()()()(),c(22,"div",5)(23,"div",14)(24,"div",7),D(25,"div",8)(26,"img",15),u(),c(27,"div",10)(28,"p",11),p(29,"Decklists "),u()()()(),c(30,"div",5)(31,"div",16)(32,"div",7),D(33,"div",8)(34,"img",17),u(),c(35,"div",10)(36,"p",11),p(37,"Draft Creator "),u()()()(),c(38,"div",5)(39,"div",18),k("click",function(){return r.goToSealedDraft()}),c(40,"div",7),D(41,"div",8)(42,"img",19),u(),c(43,"div",10)(44,"p",11),p(45,"Sealed Draft "),u()()()(),c(46,"div",5)(47,"div",20)(48,"div",7),D(49,"div",8)(50,"img",21),u(),c(51,"div",10)(52,"p",11),p(53,"Articles "),u()()()()(),c(54,"div",4)(55,"div",5)(56,"h1",22),p(57,"Latest Articles"),u(),c(58,"div",4)(59,"div",23)(60,"div",24)(61,"div",25),D(62,"img",26),c(63,"div",27)(64,"h5"),p(65),u(),c(66,"p"),p(67),u()()(),y(68,B6,9,6,"div",28),u(),c(69,"button",29),D(70,"span",30),c(71,"span",31),p(72,"Previous"),u()(),c(73,"button",32),D(74,"span",33),c(75,"span",31),p(76,"Next"),u()()()()()(),c(77,"div",4)(78,"div",34)(79,"h1",22),p(80,"Card of the Day!"),u(),c(81,"input",35),k("click",function(){return r.goToLink(r.cotd.id)}),u()(),c(82,"div",34)(83,"h1",22),p(84,"Latest Pack!"),u(),y(85,V6,1,2,"img",36),u()(),c(86,"div",4)(87,"div",5)(88,"h1",22),p(89,"Featured Decklists"),u()()()(),c(90,"div",37)(91,"div",38)(92,"h1",22),p(93,"Newest Cards"),u(),y(94,H6,2,2,"div",39),u()()),2&e&&(h(4),we("",null==r.sitedata?null:r.sitedata.packs_opened," packs opened! ",null==r.sitedata?null:r.sitedata.dosh_spent," dosh spent!"),h(57),A("routerLink","/articles/",r.article.id,""),h(1),B("src",r.article.header_img,I),h(3),we("",r.article.title," by ",r.article.username,""),h(2),O(r.article.header),h(1),m("ngForOf",r.articles),h(13),A("src","https://drive.google.com/uc?export=view&id=",r.cotd.drive_id,"",I),h(4),m("ngIf","placeholder"!=r.latestpack.pack),h(9),m("ngForOf",r.cards))},directives:[qt,_e,Gt,ue,Ul],styles:[".center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:70%}.alert[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{padding:0;margin:0}.pack[_ngcontent-%COMP%]{width:225px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:325px;height:75px;opacity:.85;transition:.5s}.row-small[_ngcontent-%COMP%]{width:90%;align-items:center;text-align:center;align-content:center}.crop[_ngcontent-%COMP%]{width:325px;height:75px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-170px 6000px 0 -52px;background-color:#000}.smaller[_ngcontent-%COMP%]{width:250px}.cotd[_ngcontent-%COMP%]{width:175px}.card-title[_ngcontent-%COMP%]{color:#fff}.carousel-item[_ngcontent-%COMP%]{cursor:pointer}.carousel-caption[_ngcontent-%COMP%]{background:rgba(0,0,0,.7)}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif;font-size:2.5em;padding:0}p[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{width:325px;height:75px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}.row[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class rS{}const bi="*";function Dd(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wi(n,t=null){return{type:4,styles:t,timings:n}}function iS(n,t=null){return{type:2,steps:n,options:t}}function $r(n){return{type:6,styles:n,offset:null}}function qi(n,t,e){return{type:0,name:n,styles:t,options:e}}function Gi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sS(n){Promise.resolve(null).then(n)}class Xl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class oS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?sS(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function U6(n,t){if(1&n){const e=F();c(0,"span")(1,"div",2),k("click",function(){const s=S(e).$implicit;return v().editDraft(s.id,s.title,s.draftimage)}),c(2,"div",3),D(3,"div",4)(4,"img",5),u(),c(5,"div",6)(6,"h5",7),p(7),u()()()()}if(2&n){const e=t.$implicit;h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",I),h(3),x("",e.title," ")}}let j6=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.customcardsService.editDraft(!1),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getDraftsbyOwner(this.id).subscribe(r=>{r&&(this.drafts=r,console.log(this.drafts),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}editDraft(e,r,i){this.customcardsService.editDraft(!0),this.customcardsService.setEditDraftID(e),this.customcardsService.setEditDraftName(r),this.customcardsService.setEditDraftImage(i),this._router.navigate(["/draft-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-draftmode"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,U6,8,2,"span",1),u()),2&e&&(h(1),m("ngForOf",r.drafts))},directives:[_e],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]{width:200px;height:100px}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.card-title[_ngcontent-%COMP%], .card-img-overlay[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.7}"],data:{animation:[Dd("rotatedState",[qi("default",$r({transform:"rotate(0)"})),qi("rotated",$r({transform:"rotate(-180deg)"})),Gi("rotated => default",Wi("400ms ease-out")),Gi("default => rotated",Wi("400ms ease-in"))])]}}),n})();const De=!1;function aS(n){return new q(3e3,De)}function TB(){return"undefined"!=typeof window&&void 0!==window.document}function vg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ki(n){switch(n.length){case 0:return new Xl;case 1:return n[0];default:return new oS(n)}}function lS(n,t,e,r,i={},s={}){const o=[],a=[];let l=-1,d=null;if(r.forEach(f=>{const g=f.offset,_=g==l,C=_&&d||{};Object.keys(f).forEach(b=>{let T=b,M=f[b];if("offset"!==b)switch(T=t.normalizePropertyName(T,o),M){case"!":M=i[b];break;case bi:M=s[b];break;default:M=t.normalizeStyleValue(b,T,M,o)}C[T]=M}),_||a.push(C),d=C,l=g}),o.length)throw function hB(n){return new q(3502,De)}();return a}function yg(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Cg(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Cg(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Cg(e,"destroy",n)))}}function Cg(n,t,e){const r=e.totalTime,s=bg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function bg(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Fn(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function cS(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let kg=(n,t)=>!1,uS=(n,t,e)=>[],dS=null;function Dg(n){const t=n.parentNode||n.host;return t===dS?null:t}(vg()||"undefined"!=typeof Element)&&(TB()?(dS=(()=>document.documentElement)(),kg=(n,t)=>{for(;t;){if(t===n)return!0;t=Dg(t)}return!1}):kg=(n,t)=>n.contains(t),uS=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let js=null,pS=!1;function hS(n){js||(js=function wB(){return"undefined"!=typeof document?document.body:null}()||{},pS=!!js.style&&"WebkitAppearance"in js.style);let t=!0;return js.style&&!function SB(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in js.style,!t&&pS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in js.style)),t}const fS=kg,mS=uS;let gS=(()=>{class n{validateStyleProperty(e){return hS(e)}matchesElement(e,r){return!1}containsElement(e,r){return fS(e,r)}getParentElement(e){return Dg(e)}query(e,r,i){return mS(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,a=[],l){return new Xl(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Tg=(()=>{class n{}return n.NOOP=new gS,n})();const Sg="ng-enter",Sd="ng-leave",wd="ng-trigger",Md=".ng-trigger",vS="ng-animating",wg=".ng-animating";function Ws(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Mg(parseFloat(t[1]),t[2])}function Mg(n,t){return"s"===t?1e3*n:n}function xd(n,t,e){return n.hasOwnProperty("duration")?n:function EB(n,t,e){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(aS()),{duration:0,delay:0,easing:""};i=Mg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Mg(parseFloat(l),a[4]));const d=a[5];d&&(o=d)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function W6(){return new q(3100,De)}()),a=!0),s<0&&(t.push(function q6(){return new q(3101,De)}()),a=!0),a&&t.splice(l,0,aS())}return{duration:i,delay:s,easing:o}}(n,t,e)}function ca(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Qi(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else ca(n,e);return e}function CS(n,t,e){return e?t+":"+e+";":""}function bS(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=CS(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=CS(0,AB(e),n.style[e]));n.setAttribute("style",t)}function Ur(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=Eg(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),vg()&&bS(n))}function qs(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Eg(e);n.style[r]=""}),vg()&&bS(n))}function Yl(n){return Array.isArray(n)?1==n.length?n[0]:iS(n):n}const xg=new RegExp("{{\\s*(.+?)\\s*}}","g");function kS(n){let t=[];if("string"==typeof n){let e;for(;e=xg.exec(n);)t.push(e[1]);xg.lastIndex=0}return t}function Ed(n,t,e){const r=n.toString(),i=r.replace(xg,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(function K6(n){return new q(3003,De)}()),a=""),a.toString()});return i==r?n:i}function Id(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const PB=/-+([a-z0-9])/g;function Eg(n){return n.replace(PB,(...t)=>t[1].toUpperCase())}function AB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ln(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Q6(n){return new q(3004,De)}()}}function DS(n,t){return window.getComputedStyle(n)[t]}function BB(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function VB(n,t,e){if(":"==n[0]){const l=function HB(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function cB(n){return new q(3016,De)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function lB(n){return new q(3015,De)}()),t;const i=r[1],s=r[2],o=r[3];t.push(TS(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(TS(o,i))}(r,e,t)):e.push(n),e}const Nd=new Set(["true","1"]),Rd=new Set(["false","0"]);function TS(n,t){const e=Nd.has(n)||Rd.has(n),r=Nd.has(t)||Rd.has(t);return(i,s)=>{let o="*"==n||n==i,a="*"==t||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?Nd.has(n):Rd.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Nd.has(t):Rd.has(t)),o&&a}}const zB=new RegExp("s*:selfs*,?","g");function Ig(n,t,e,r){return new $B(n).build(t,e,r)}class $B{constructor(t){this._driver=t}build(t,e,r){const i=new WB(e);this._resetContextStyleTimingState(i);const s=Ln(this,Yl(t),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Y6(){return new q(3006,De)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,s.push(this.visitState(l,e))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(function J6(){return new q(3007,De)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(Fd(a)){const l=a;Object.keys(l).forEach(d=>{kS(l[d]).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(Id(s.values()),e.errors.push(function Z6(n,t){return new q(3008,De)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ln(this,Yl(t.animation),e);return{type:1,matchers:BB(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Gs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ln(this,r,e)),options:Gs(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const a=Ln(this,o,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:s,options:Gs(t.options)}}visitAnimate(t,e){const r=function GB(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Pg(xd(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Pg(0,0,"");return s.dynamic=!0,s.strValue=r,s}return e=e||xd(r,t),Pg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:$r({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=$r(d)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==bi?r.push(o):e.errors.push(function eB(n){return new q(3002,De)}()):r.push(o)}):r.push(t.styles);let i=!1,s=null;return r.forEach(o=>{if(Fd(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let d in a)if(a[d].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],d=l[a];let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(e.errors.push(function tB(n,t,e,r,i){return new q(3010,De)}()),f=!1),s=d.startTime),f&&(l[a]={startTime:s,endTime:i}),e.options&&function IB(n,t,e){const r=t.params||{},i=kS(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function G6(n){return new q(3001,De)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function nB(){return new q(3011,De)}()),r;let s=0;const o=[];let a=!1,l=!1,d=0;const f=t.steps.map(P=>{const E=this._makeStyleAst(P,e);let R=null!=E.offset?E.offset:function qB(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Fd(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Fd(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(E.styles),z=0;return null!=R&&(s++,z=E.offset=R),l=l||z<0||z>1,a=a||z<d,d=z,o.push(z),E});l&&e.errors.push(function rB(){return new q(3012,De)}()),a&&e.errors.push(function iB(){return new q(3200,De)}());const g=t.steps.length;let _=0;s>0&&s<g?e.errors.push(function sB(){return new q(3202,De)}()):0==s&&(_=1/(g-1));const C=g-1,b=e.currentTime,T=e.currentAnimateTimings,M=T.duration;return f.forEach((P,E)=>{const R=_>0?E==C?1:_*E:o[E],z=R*M;e.currentTime=b+T.delay+z,T.duration=z,this._validateStyleAst(P,e),P.offset=R,r.styles.push(P)}),r}visitReference(t,e){return{type:8,animation:Ln(this,Yl(t.animation),e),options:Gs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gs(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function UB(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zB,"")),n=n.replace(/@\*/g,Md).replace(/@\w+/g,e=>Md+"-"+e.substr(1)).replace(/:animating/g,wg),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,Fn(e.collectedStyles,e.currentQuerySelector,{});const a=Ln(this,Yl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Gs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function oB(){return new q(3013,De)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:xd(t.timings,e.errors,!0);return{type:12,animation:Ln(this,Yl(t.animation),e),timings:r,options:null}}}class WB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fd(n){return!Array.isArray(n)&&"object"==typeof n}function Gs(n){return n?(n=ca(n)).params&&(n.params=function jB(n){return n?ca(n):null}(n.params)):n={},n}function Pg(n,t,e){return{duration:n,delay:t,easing:e}}function Ag(n,t,e,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ld{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const XB=new RegExp(":enter","g"),JB=new RegExp(":leave","g");function Og(n,t,e,r,i,s={},o={},a,l,d=[]){return(new ZB).buildKeyframes(n,t,e,r,i,s,o,a,l,d)}class ZB{buildKeyframes(t,e,r,i,s,o,a,l,d,f=[]){d=d||new Ld;const g=new Ng(t,e,d,i,s,f,[]);g.options=l,g.currentTimeline.setStyles([o],null,g.errors,l),Ln(this,r,g);const _=g.timelines.filter(C=>C.containsAnimation());if(Object.keys(a).length){let C;for(let b=_.length-1;b>=0;b--){const T=_[b];if(T.element===e){C=T;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,g.errors,l)}return _.length?_.map(C=>C.buildKeyframes()):[Ag(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?Ws(r.duration):null,a=null!=r.delay?Ws(r.delay):null;return 0!==o&&t.forEach(l=>{const d=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ln(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bd);const o=Ws(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ln(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ws(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Ln(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return xd(e.params?Ed(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?Ws(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Bd);let o=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((d,f)=>{e.currentQueryIndex=f;const g=e.createSubContext(t.options,d);s&&g.delayNextStep(s),d===e.element&&(l=g.currentTimeline),Ln(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const g=f.currentTime;Ln(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const Bd={};class Ng{constructor(t,e,r,i,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Vd(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ws(r.duration)),null!=r.delay&&(i.delay=Ws(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Ed(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new Ng(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Bd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new e7(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(XB,"."+this._enterClassName)).replace(JB,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(function aB(n){return new q(3014,De)}()),a}}class Vd{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||bi,this._currentKeyframe[e]=bi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},o=function t7(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{e[s]=bi})):Qi(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Ed(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:bi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const d=Qi(a,!0);Object.keys(d).forEach(f=>{const g=d[f];"!"==g?t.add(f):g==bi&&e.add(f)}),r||(d.offset=l/this.duration),i.push(d)});const s=t.size?Id(t.values()):[],o=e.size?Id(e.values()):[];if(r){const a=i[0],l=ca(a);a.offset=0,l.offset=1,i=[a,l]}return Ag(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class e7 extends Vd{constructor(t,e,r,i,s,o,a=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,a=e/o,l=Qi(t[0],!1);l.offset=0,s.push(l);const d=Qi(t[0],!1);d.offset=MS(a),s.push(d);const f=t.length-1;for(let g=1;g<=f;g++){let _=Qi(t[g],!1);_.offset=MS((e+_.offset*r)/o),s.push(_)}r=o,e=0,i="",t=s}return Ag(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function MS(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Rg{}class n7 extends Rg{normalizePropertyName(t,e){return Eg(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(r7[e]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function X6(n,t){return new q(3005,De)}())}return o+s}}const r7=(()=>function i7(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xS(n,t,e,r,i,s,o,a,l,d,f,g,_){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:f,totalTime:g,errors:_}}const Fg={};class ES{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function s7(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],s=this._stateStyles[t],o=i?i.buildStyles(e,r):{};return s?s.buildStyles(e,r):o}build(t,e,r,i,s,o,a,l,d,f){const g=[],_=this.ast.options&&this.ast.options.params||Fg,b=this.buildStyles(r,a&&a.params||Fg,g),T=l&&l.params||Fg,M=this.buildStyles(i,T,g),P=new Set,E=new Map,R=new Map,z="void"===i,K={params:Object.assign(Object.assign({},_),T)},Ee=f?[]:Og(t,e,this.ast.animation,s,o,b,M,K,d,g);let Ie=0;if(Ee.forEach(Je=>{Ie=Math.max(Je.duration+Je.delay,Ie)}),g.length)return xS(e,this._triggerName,r,i,z,b,M,[],[],E,R,Ie,g);Ee.forEach(Je=>{const Tt=Je.element,ei=Fn(E,Tt,{});Je.preStyleProps.forEach(nn=>ei[nn]=!0);const zn=Fn(R,Tt,{});Je.postStyleProps.forEach(nn=>zn[nn]=!0),Tt!==e&&P.add(Tt)});const J=Id(P.values());return xS(e,this._triggerName,r,i,z,b,M,Ee,J,E,R,Ie)}}class o7{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=ca(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Ed(l,i,e));const d=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,d,l,e),r[d]=l})}}),r}}class l7{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new o7(i.style,i.options&&i.options.params||{},r)}),IS(this.states,"true","1"),IS(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new ES(t,i,this.states))}),this.fallbackTransition=function c7(n,t,e){return new ES(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function IS(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const u7=new Ld;class d7{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],s=Ig(this._driver,e,r,[]);if(r.length)throw function fB(n){return new q(3503,De)}();this._animations[t]=s}_buildPlayer(t,e,r){const i=t.element,s=lS(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations[t];let o;const a=new Map;if(s?(o=Og(this._driver,e,s,Sg,Sd,{},{},r,u7,i),o.forEach(f=>{const g=Fn(a,f.element,{});f.postStyleProps.forEach(_=>g[_]=null)})):(i.push(function mB(){return new q(3300,De)}()),o=[]),i.length)throw function gB(n){return new q(3504,De)}();a.forEach((f,g)=>{Object.keys(f).forEach(_=>{f[_]=this._driver.computeStyle(g,_,bi)})});const d=Ki(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function _B(n){return new q(3301,De)}();return e}listen(t,e,r,i){const s=bg(e,"","","");return yg(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const PS="ng-animate-queued",Lg="ng-animate-disabled",g7=[],AS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed";class Bg{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function b7(n){return null!=n?n:null}(r?t.value:t),r){const s=ca(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Jl="void",Vg=new Bg(Jl);class v7{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,er(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw function vB(n,t){return new q(3302,De)}();if(null==r||0==r.length)throw function yB(n){return new q(3303,De)}();if(!function k7(n){return"start"==n||"done"==n}(r))throw function CB(n,t){return new q(3400,De)}();const s=Fn(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const a=Fn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(er(t,wd),er(t,wd+"-"+e),a[e]=Vg),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function bB(n){return new q(3401,De)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new Hg(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(er(t,wd),er(t,wd+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const d=new Bg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a[e]=d,l||(l=Vg),d.value!==Jl&&l.value===d.value){if(!function S7(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,d.params)){const T=[],M=s.matchStyles(l.value,l.params,T),P=s.matchStyles(d.value,d.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{qs(t,M),Ur(t,P)})}return}const _=Fn(this._engine.playersByElement,t,[]);_.forEach(T=>{T.namespaceId==this.id&&T.triggerName==e&&T.queued&&T.destroy()});let C=s.matchTransition(l.value,d.value,t,d.params),b=!1;if(!C){if(!i)return;C=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:l,toState:d,player:o,isFallbackTransition:b}),b||(er(t,PS),o.onStart(()=>{ua(t,PS)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const M=this._engine.playersByElement.get(t);if(M){let P=M.indexOf(o);P>=0&&M.splice(P,1)}}),this.players.push(o),_.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Md,!0);r.forEach(i=>{if(i[Zn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const d=this.trigger(t,l,Jl,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&Ki(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,d=r[o]||Vg,f=new Bg(Jl),g=new Hg(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Zn];(!s||s===AS)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){er(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=bg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,yg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class y7{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new v7(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const d=r.indexOf(l);r.splice(d+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,e)){r.splice(a+1,0,t),o=!0;break}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,r,i){if(Hd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Hd(e))return;const s=e[Zn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),er(t,Lg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ua(t,Lg))}removeNode(t,e,r,i){if(Hd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[Zn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return Hd(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Md,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wg,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ki(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Zn];if(r&&r.setForRemoval){if(t[Zn]=AS,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Lg))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ki(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function kB(n){return new q(3402,De)}()}_flushAnimations(t,e){const r=new Ld,i=[],s=new Map,o=[],a=new Map,l=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(W=>{f.add(W);const Q=this.driver.query(W,".ng-animate-queued",!0);for(let ee=0;ee<Q.length;ee++)f.add(Q[ee])});const g=this.bodyNode,_=Array.from(this.statesByElement.keys()),C=RS(_,this.collectedEnterElements),b=new Map;let T=0;C.forEach((W,Q)=>{const ee=Sg+T++;b.set(Q,ee),W.forEach(ve=>er(ve,ee))});const M=[],P=new Set,E=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const Q=this.collectedLeaveElements[W],ee=Q[Zn];ee&&ee.setForRemoval&&(M.push(Q),P.add(Q),ee.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(ve=>P.add(ve)):E.add(Q))}const R=new Map,z=RS(_,Array.from(P));z.forEach((W,Q)=>{const ee=Sd+T++;R.set(Q,ee),W.forEach(ve=>er(ve,ee))}),t.push(()=>{C.forEach((W,Q)=>{const ee=b.get(Q);W.forEach(ve=>ua(ve,ee))}),z.forEach((W,Q)=>{const ee=R.get(Q);W.forEach(ve=>ua(ve,ee))}),M.forEach(W=>{this.processLeaveNode(W)})});const K=[],Ee=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(ee=>{const ve=ee.player,Xe=ee.element;if(K.push(ve),this.collectedEnterElements.length){const gn=Xe[Zn];if(gn&&gn.setForMove){if(gn.previousTriggersValues&&gn.previousTriggersValues.has(ee.triggerName)){const ao=gn.previousTriggersValues.get(ee.triggerName),ps=this.statesByElement.get(ee.element);ps&&ps[ee.triggerName]&&(ps[ee.triggerName].value=ao)}return void ve.destroy()}}const ti=!g||!this.driver.containsElement(g,Xe),$n=R.get(Xe),ds=b.get(Xe),tt=this._buildInstruction(ee,r,ds,$n,ti);if(tt.errors&&tt.errors.length)return void Ee.push(tt);if(ti)return ve.onStart(()=>qs(Xe,tt.fromStyles)),ve.onDestroy(()=>Ur(Xe,tt.toStyles)),void i.push(ve);if(ee.isFallbackTransition)return ve.onStart(()=>qs(Xe,tt.fromStyles)),ve.onDestroy(()=>Ur(Xe,tt.toStyles)),void i.push(ve);const IM=[];tt.timelines.forEach(gn=>{gn.stretchStartingKeyframe=!0,this.disabledNodes.has(gn.element)||IM.push(gn)}),tt.timelines=IM,r.append(Xe,tt.timelines),o.push({instruction:tt,player:ve,element:Xe}),tt.queriedElements.forEach(gn=>Fn(a,gn,[]).push(ve)),tt.preStyleProps.forEach((gn,ao)=>{const ps=Object.keys(gn);if(ps.length){let lo=l.get(ao);lo||l.set(ao,lo=new Set),ps.forEach(Z_=>lo.add(Z_))}}),tt.postStyleProps.forEach((gn,ao)=>{const ps=Object.keys(gn);let lo=d.get(ao);lo||d.set(ao,lo=new Set),ps.forEach(Z_=>lo.add(Z_))})});if(Ee.length){const W=[];Ee.forEach(Q=>{W.push(function DB(n,t){return new q(3505,De)}())}),K.forEach(Q=>Q.destroy()),this.reportError(W)}const Ie=new Map,J=new Map;o.forEach(W=>{const Q=W.element;r.has(Q)&&(J.set(Q,Q),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,Ie))}),i.forEach(W=>{const Q=W.element;this._getPreviousPlayers(Q,!1,W.namespaceId,W.triggerName,null).forEach(ve=>{Fn(Ie,Q,[]).push(ve),ve.destroy()})});const Je=M.filter(W=>LS(W,l,d)),Tt=new Map;NS(Tt,this.driver,E,d,bi).forEach(W=>{LS(W,l,d)&&Je.push(W)});const zn=new Map;C.forEach((W,Q)=>{NS(zn,this.driver,new Set(W),l,"!")}),Je.forEach(W=>{const Q=Tt.get(W),ee=zn.get(W);Tt.set(W,Object.assign(Object.assign({},Q),ee))});const nn=[],wi=[],us={};o.forEach(W=>{const{element:Q,player:ee,instruction:ve}=W;if(r.has(Q)){if(f.has(Q))return ee.onDestroy(()=>Ur(Q,ve.toStyles)),ee.disabled=!0,ee.overrideTotalTime(ve.totalTime),void i.push(ee);let Xe=us;if(J.size>1){let $n=Q;const ds=[];for(;$n=$n.parentNode;){const tt=J.get($n);if(tt){Xe=tt;break}ds.push($n)}ds.forEach(tt=>J.set(tt,Xe))}const ti=this._buildAnimation(ee.namespaceId,ve,Ie,s,zn,Tt);if(ee.setRealPlayer(ti),Xe===us)nn.push(ee);else{const $n=this.playersByElement.get(Xe);$n&&$n.length&&(ee.parentPlayer=Ki($n)),i.push(ee)}}else qs(Q,ve.fromStyles),ee.onDestroy(()=>Ur(Q,ve.toStyles)),wi.push(ee),f.has(Q)&&i.push(ee)}),wi.forEach(W=>{const Q=s.get(W.element);if(Q&&Q.length){const ee=Ki(Q);W.setRealPlayer(ee)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<M.length;W++){const Q=M[W],ee=Q[Zn];if(ua(Q,Sd),ee&&ee.hasAnimation)continue;let ve=[];if(a.size){let ti=a.get(Q);ti&&ti.length&&ve.push(...ti);let $n=this.driver.query(Q,wg,!0);for(let ds=0;ds<$n.length;ds++){let tt=a.get($n[ds]);tt&&tt.length&&ve.push(...tt)}}const Xe=ve.filter(ti=>!ti.destroyed);Xe.length?D7(this,Q,Xe):this.processLeaveNode(Q)}return M.length=0,nn.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const Q=this.players.indexOf(W);this.players.splice(Q,1)}),W.play()}),nn}elementContainsData(t,e){let r=!1;const i=e[Zn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Jl;a.forEach(d=>{d.queued||!l&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const d=l.element,f=d!==s,g=Fn(r,d,[]);this._getPreviousPlayers(d,f,o,a,e.toState).forEach(C=>{const b=C.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),C.destroy(),g.push(C)})}qs(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const a=e.triggerName,l=e.element,d=[],f=new Set,g=new Set,_=e.timelines.map(b=>{const T=b.element;f.add(T);const M=T[Zn];if(M&&M.removedBeforeQueried)return new Xl(b.duration,b.delay);const P=T!==l,E=function T7(n){const t=[];return FS(n,t),t}((r.get(T)||g7).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===T),R=s.get(T),z=o.get(T),K=lS(0,this._normalizer,0,b.keyframes,R,z),Ee=this._buildPlayer(b,K,E);if(b.subTimeline&&i&&g.add(T),P){const Ie=new Hg(t,a,T);Ie.setRealPlayer(Ee),d.push(Ie)}return Ee});d.forEach(b=>{Fn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function C7(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>er(b,vS));const C=Ki(_);return C.onDestroy(()=>{f.forEach(b=>ua(b,vS)),Ur(l,e.toStyles)}),g.forEach(b=>{Fn(i,b,[]).push(C)}),C}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Xl(t.duration,t.delay)}}class Hg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Xl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>yg(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Hd(n){return n&&1===n.nodeType}function OS(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function NS(n,t,e,r,i){const s=[];e.forEach(l=>s.push(OS(l)));const o=[];r.forEach((l,d)=>{const f={};l.forEach(g=>{const _=f[g]=t.computeStyle(d,g,i);(!_||0==_.length)&&(d[Zn]=_7,o.push(d))}),n.set(d,f)});let a=0;return e.forEach(l=>OS(l,s[a++])),o}function RS(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const d=a.parentNode;return l=e.has(d)?d:i.has(d)?1:o(d),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function er(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ua(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function D7(n,t,e){Ki(e).onDone(()=>n.processLeaveNode(t))}function FS(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof oS?FS(r.players,t):t.push(r)}}function LS(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class zd{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new y7(t,e,r),this._timelineEngine=new d7(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],f=Ig(this._driver,s,l,[]);if(l.length)throw function pB(n,t){return new q(3404,De)}();a=function a7(n,t,e){return new l7(n,t,e)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=cS(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,a]=cS(r);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let M7=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qs(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zg(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];x7(i)&&(t=t||{},t[i]=n[i])}return t}function x7(n){return"display"===n||"position"===n}class BS{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:DS(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class E7{validateStyleProperty(t){return hS(t)}matchesElement(t,e){return!1}containsElement(t,e){return fS(t,e)}getParentElement(t){return Dg(t)}query(t,e,r){return mS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const d={},f=o.filter(_=>_ instanceof BS);(function OB(n,t){return 0===n||0===t})(r,i)&&f.forEach(_=>{let C=_.currentSnapshot;Object.keys(C).forEach(b=>d[b]=C[b])}),e=function NB(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var i=1;i<t.length;i++){let a=t[i];o.forEach(function(l){a[l]=DS(n,l)})}}return t}(t,e=e.map(_=>Qi(_,!1)),d);const g=function w7(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=zg(t[0]),t.length>1&&(r=zg(t[t.length-1]))):t&&(e=zg(t)),e||r?new M7(n,e,r):null}(t,e);return new BS(t,e,l,g)}}let I7=(()=>{class n extends rS{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:lr.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?iS(e):e;return VS(this._renderer,null,r,"register",[i]),new P7(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(H(vl),H(Nt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class P7 extends class $6{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new A7(this._id,t,e||{},this._renderer)}}class A7{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return VS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function VS(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const HS="@.disabled";let O7=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new zS("",s,this.engine),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return r.data.animation.forEach(l),new N7(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(H(vl),H(zd),H(bt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class zS{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==HS?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class N7 extends zS{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HS?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function R7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function F7(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}let L7=(()=>{class n extends zd{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(H(Nt),H(Tg),H(Rg))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const $S=new de("AnimationModuleType"),US=[{provide:rS,useClass:I7},{provide:Rg,useFactory:function B7(){return new n7}},{provide:zd,useClass:L7},{provide:vl,useFactory:function V7(n,t,e){return new O7(n,t,e)},deps:[Wu,zd,bt]}],jS=[{provide:Tg,useFactory:()=>new E7},{provide:$S,useValue:"BrowserAnimations"},...US],H7=[{provide:Tg,useClass:gS},{provide:$S,useValue:"NoopAnimations"},...US];let z7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?H7:jS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:jS,imports:[Ok]}),n})();function $7(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function U7(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const WS=function(n){return{"is-invalid":n}};function W7(n,t){1&n&&(c(0,"div",15),p(1," peepee "),u())}function q7(n,t){1&n&&(c(0,"div",15),p(1," peepee "),u())}function G7(n,t){1&n&&(c(0,"div",15),p(1," poopoo "),u())}const $g=function(n){return{"is-invalid":n}},K7=[{path:"login",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.loginInfo=new lt({email:new te(void 0,[V.required,V.minLength(5)]),password:new te(void 0,[V.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.loginInfo.controls}ngOnInit(){}loginUser(){this.submitted=!0,this.loginInfo.invalid?this.submitfail=!0:this._auth.loginUser({email:this.loginInfo.controls.email.value,password:this.loginInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-login"]],decls:19,vars:9,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"body",0)(1,"div",1)(2,"form",2),k("ngSubmit",function(){return r.loginUser()}),D(3,"img",3),c(4,"h1",4),p(5,"Input information below."),u(),c(6,"label",5),p(7,"Username/Email address"),u(),D(8,"input",6),y(9,$7,2,0,"div",7),c(10,"label",8),p(11,"Password"),u(),D(12,"input",9),y(13,U7,2,0,"div",7),c(14,"button",10),p(15,"Login"),u(),c(16,"p",11),p(17,"Faris Al-khatahtbeh \xa9 2017-2018"),u()()(),D(18,"div",12),u()),2&e&&(h(2),m("formGroup",r.loginInfo),h(6),m("ngClass",Me(5,WS,r.submitted&&r.f.email.errors)),h(1),m("ngIf",r.submitted&&r.f.email.errors),h(3),m("ngClass",Me(7,WS,r.submitted&&r.f.password.errors)),h(1),m("ngIf",r.submitted&&r.f.password.errors))},directives:[Xt,Qt,Lt,et,Qe,Yt,ji,Pt,ue],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"register",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.registerInfo=new lt({email:new te(void 0,[V.required,V.minLength(5)]),username:new te(void 0,[V.required,V.minLength(5)]),password:new te(void 0,[V.required,V.minLength(8)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.registerInfo.controls}ngOnInit(){}registerUser(){this.submitted=!0,this.registerInfo.invalid?this.submitfail=!0:this._auth.registerUser({username:this.registerInfo.controls.username.value,email:this.registerInfo.controls.email.value,password:this.registerInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-register"]],decls:23,vars:13,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputUser",1,"sr-only"],["formControlName","username","name","username","type","username","id","inputUsername","placeholder","Username","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"body",0)(1,"div",1)(2,"form",2),k("ngSubmit",function(){return r.registerUser()}),D(3,"img",3),c(4,"h1",4),p(5,"Input information below."),u(),c(6,"label",5),p(7,"Username"),u(),D(8,"input",6),y(9,W7,2,0,"div",7),c(10,"label",8),p(11,"Email address"),u(),D(12,"input",9),y(13,q7,2,0,"div",7),c(14,"label",10),p(15,"Password"),u(),D(16,"input",11),y(17,G7,2,0,"div",7),c(18,"button",12),p(19,"Register"),u(),c(20,"p",13),p(21,"Faris Al-khatahtbeh \xa9 2017-2018"),u()()(),D(22,"div",14),u()),2&e&&(h(2),m("formGroup",r.registerInfo),h(6),m("ngClass",Me(7,$g,r.submitted&&r.f.username.errors)),h(1),m("ngIf",r.submitted&&r.f.username.errors),h(3),m("ngClass",Me(9,$g,r.submitted&&r.f.email.errors)),h(1),m("ngIf",r.submitted&&r.f.email.errors),h(3),m("ngClass",Me(11,$g,r.submitted&&r.f.password.errors)),h(1),m("ngIf",r.submitted&&r.f.password.errors))},directives:[Xt,Qt,Lt,et,Qe,Yt,ji,Pt,ue],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"reset-password",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-reset-password"]],decls:2,vars:0,template:function(e,r){1&e&&(c(0,"p"),p(1,"reset-password works!"),u())},styles:[""]}),n})()}];let Q7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[[dd.forChild(K7)],dd]}),n})(),X7=(()=>{class n{constructor(e){this.injector=e}intercept(e,r){let i=this.injector.get(he),s=e.clone({setHeaders:{Authorization:`Bearer ${i.getToken()}`}});return r.handle(s)}}return n.\u0275fac=function(e){return new(e||n)(H(yt))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:[he,{provide:Mm,useClass:X7,multi:!0}],imports:[[na,Q7,kd,Ql]]}),n})();function J7(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",138),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Z7(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function eV(n,t){if(1&n&&(c(0,"p"),D(1,"img",139),p(2),D(3,"img",140),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function tV(n,t){if(1&n&&(c(0,"span"),D(1,"img",139),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function nV(n,t){if(1&n&&(c(0,"p"),D(1,"img",138),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function rV(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function iV(n,t){if(1&n&&(c(0,"div",136)(1,"p")(2,"b"),p(3),y(4,J7,4,2,"span",137),y(5,Z7,2,1,"span",137),u()(),c(6,"b"),y(7,eV,5,3,"p",137),u(),y(8,tV,3,2,"span",137),c(9,"b"),y(10,nV,3,2,"p",137),y(11,rV,2,2,"p",137),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function sV(n,t){1&n&&(c(0,"div")(1,"p",144),p(2,"Umm Draft Title required idiot."),u()())}function oV(n,t){if(1&n&&(c(0,"div",143),y(1,sV,3,0,"div",137),u()),2&n){const e=v(2);h(1),m("ngIf",e.f.draftTitle.errors.required)}}const aV=function(n){return{"is-invalid":n}};function lV(n,t){if(1&n){const e=F();c(0,"div",6)(1,"label",7),p(2,"Draft Name"),u(),c(3,"input",141),k("ngModelChange",function(i){return S(e),v().draftName=i}),u(),y(4,oV,2,1,"div",142),u()}if(2&n){const e=v();h(3),m("ngClass",Me(3,aV,e.submitted&&e.f.draftTitle.errors))("ngModel",e.draftName),h(1),m("ngIf",e.submitted&&e.f.draftTitle.errors)}}function cV(n,t){1&n&&D(0,"option",13)}function uV(n,t){1&n&&(c(0,"option",145),p(1,"Effect"),u())}function dV(n,t){1&n&&(c(0,"option",146),p(1,"Flip"),u())}function pV(n,t){1&n&&(c(0,"option",147),p(1,"Tuner"),u())}function hV(n,t){1&n&&(c(0,"option",148),p(1,"Gemini"),u())}function fV(n,t){1&n&&(c(0,"option",149),p(1,"Fusion"),u())}function mV(n,t){1&n&&(c(0,"option",150),p(1,"Ritual"),u())}function gV(n,t){1&n&&(c(0,"option",151),p(1,"Union"),u())}function _V(n,t){1&n&&(c(0,"option",152),p(1,"Xyz"),u())}function vV(n,t){1&n&&(c(0,"option",153),p(1,"Synchro Monster"),u())}function yV(n,t){1&n&&D(0,"option",13)}function CV(n,t){1&n&&(c(0,"option",154),p(1,"Normal"),u())}function bV(n,t){1&n&&(c(0,"option",155),p(1,"Continuous"),u())}function kV(n,t){1&n&&(c(0,"option",156),p(1,"Quick"),u())}function DV(n,t){1&n&&(c(0,"option",157),p(1,"Ritual"),u())}function TV(n,t){1&n&&(c(0,"option",158),p(1,"Equip"),u())}function SV(n,t){1&n&&(c(0,"option",159),p(1,"Field"),u())}function wV(n,t){1&n&&D(0,"option",13)}function MV(n,t){1&n&&(c(0,"option",160),p(1,"Normal"),u())}function xV(n,t){1&n&&(c(0,"option",161),p(1,"Continuous"),u())}function EV(n,t){1&n&&(c(0,"option",162),p(1,"Counter"),u())}function IV(n,t){1&n&&(c(0,"option",163),p(1,"Level ASC"),u())}function PV(n,t){1&n&&(c(0,"option",164),p(1,"Level DESC"),u())}function AV(n,t){1&n&&(c(0,"option",165),p(1,"ATK ASC"),u())}function OV(n,t){1&n&&(c(0,"option",166),p(1,"ATK DESC"),u())}function NV(n,t){1&n&&(c(0,"option",167),p(1,"DEF ASC"),u())}function RV(n,t){1&n&&(c(0,"option",168),p(1,"DEF DESC"),u())}function FV(n,t){if(1&n){const e=F();c(0,"span")(1,"button",169),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightAddDraftCard(i,o.id)})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",170),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function LV(n,t){if(1&n){const e=F();c(0,"button",172),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function BV(n,t){if(1&n&&(c(0,"span"),y(1,LV,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Monster"))}}function VV(n,t){if(1&n){const e=F();c(0,"button",172),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function HV(n,t){if(1&n&&(c(0,"span"),y(1,VV,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Spell"))}}function zV(n,t){if(1&n){const e=F();c(0,"button",172),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function $V(n,t){if(1&n&&(c(0,"span"),y(1,zV,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Trap"))}}function UV(n,t){if(1&n){const e=F();c(0,"button",172),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function jV(n,t){if(1&n&&(c(0,"span"),y(1,UV,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Fusion"))}}function WV(n,t){if(1&n){const e=F();c(0,"button",173),k("click",function(){return S(e),v().saveDraft()}),p(1,"Save Draft"),u()}2&n&&m("disabled",1==v().done)}function qV(n,t){1&n&&(c(0,"div",174),p(1," Submission failed! Fix errors above. "),u())}function GV(n,t){if(1&n){const e=F();c(0,"button",131),k("click",function(){return S(e),v().deleteDraftCard()}),p(1,"Delete Card"),u()}}const KV=function(){return[]};let QV=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.currentPage=1,this.currentDraft=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.draftMode=!0,this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}get f(){return this.draftData.controls}SetDraftMode(e){this.draftMode=e}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingDraft()?this.customcardsService.getEditDraft()&&-1!=this.customcardsService.getEditDraftID()&&this.customcardsService.getDraftCardsbyID(this.customcardsService.getEditDraftID()).subscribe(r=>{r&&(this.currentDraft=r,this.customcardsService.setProcessingDraft(!0),this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDraftName()))}):(this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{e&&(this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader())})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}addSearchResults(){for(const e in this.currentCards)this.addCardfromDraft(this.currentCards[e])}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}selectDraftImage(e){this.draftImage=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(){if(null!=this.card){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.card)||void 0===i?void 0:i.id)});if(console.log(e),e>-1)return;this.currentDraft.push(this.card)}}addCardfromDraft(e){if(null!=e){const r=this.currentDraft.findIndex(i=>i.id===(null==e?void 0:e.id));if(console.log(r),r>-1)return;this.currentDraft.push(e)}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(){if(null!=this.draftCard){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.draftCard)||void 0===i?void 0:i.id)});e>-1&&this.currentDraft.splice(e,1),this.draftCard=void 0}}saveDraft(){this.submitted=!0;var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.draftData.invalid||this.currentDraft.length<100)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0;const r={};if(r.ownerid=this.id,null!=this.draftImage)r.draftimage=this.draftImage.drive_id;else if(this.customcardsService.getEditDraft())r.draftimage=this.customcardsService.getEditDraftImage();else{const s=this.randomIntFromInterval(0,this.currentDraft.length-1);r.draftimage=this.currentDraft[s].drive_id}this.customcardsService.getEditDraft()?(r.title=this.draftData.controls.draftTitle.value,r.id=this.customcardsService.getEditDraftID()):r.title=this.draftData.controls.draftTitle.value;const i=[];for(let s=0;s<=this.currentDraft.length-1;s++)i.push(this.currentDraft[s].id);r.cardIDs=i,console.log("this is finaldata id:"+r.id),console.log("this is final data"),console.log(r),this.customcardsService.getEditDraft()?(this.customcardsService.resubmitDraft(r).subscribe(s=>{this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1):(this.customcardsService.submitDraft(r).subscribe(s=>{console.log("JOBS DONE"),console.log(s),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1)}}rightAddDraftCard(e,r){this.draftMode?(this.selectCard(r),e.preventDefault(),this.addCard()):(this.selectDraftImage(r),e.preventDefault())}rightDeleteDraftCard(e,r){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard()}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-draft-maker"]],decls:290,vars:64,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],["class","col-auto",4,"ngIf"],[1,"row",3,"keydown.enter"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col","btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","addcard",3,"click"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],["type","button","class","btn btn-success addcard",3,"click",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(y(0,iV,16,13,"div",0),c(1,"div",1)(2,"h2"),p(3,"Drafts require "),c(4,"i"),p(5,"at least 100 cards."),u(),p(6," Submission will not work otherwise."),u(),c(7,"form",2),k("ngSubmit",function(){return r.saveDraft()}),c(8,"div",3),y(9,lV,5,5,"div",4),u()(),c(10,"div",5),k("keydown.enter",function(){return r.submitSearch()}),c(11,"div",6)(12,"label",7),p(13,"Name"),u(),c(14,"input",8),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(15,"div",6)(16,"label",9),p(17,"Desc"),u(),c(18,"input",8),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(19,"div",6)(20,"label",10),p(21,"Creator"),u(),c(22,"input",8),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(23,"div",6)(24,"label",11),p(25,"Tag"),u(),c(26,"select",12),k("ngModelChange",function(s){return r.filters.tag=s}),D(27,"option",13),c(28,"option",14),p(29,"Attack Directly"),u(),c(30,"option",15),p(31,"Battle"),u(),c(32,"option",16),p(33,"Boost"),u(),c(34,"option",17),p(35,"Bounce"),u(),c(36,"option",18),p(37,"Burn"),u(),c(38,"option",19),p(39,"Counters"),u(),c(40,"option",20),p(41,"Cripple"),u(),c(42,"option",21),p(43,"Draw "),u(),c(44,"option",22),p(45,"Disrupt"),u(),c(46,"option",23),p(47,"Equip"),u(),c(48,"option",24),p(49,"Excavate"),u(),c(50,"option",25),p(51,"Flip"),u(),c(52,"option",26),p(53,"Fusion"),u(),c(54,"option",27),p(55,"Gain"),u(),c(56,"option",28),p(57,"Gamble"),u(),c(58,"option",29),p(59,"Generic"),u(),c(60,"option",30),p(61,"Hand Protection"),u(),c(62,"option",31),p(63,"Ignore"),u(),c(64,"option",32),p(65,"Lingering"),u(),c(66,"option",33),p(67,"Lockdown"),u(),c(68,"option",34),p(69,"Mill"),u(),c(70,"option",35),p(71,"Mimic"),u(),c(72,"option",36),p(73,"Non-Targeted Removal"),u(),c(74,"option",37),p(75,"Piercing"),u(),c(76,"option",38),p(77,"Position"),u(),c(78,"option",39),p(79,"Protection"),u(),c(80,"option",40),p(81,"Quick"),u(),c(82,"option",41),p(83,"Recycle"),u(),c(84,"option",42),p(85,"Restriction"),u(),c(86,"option",43),p(87,"Ritual"),u(),c(88,"option",44),p(89,"Searcher"),u(),c(90,"option",45),p(91,"Special Summon"),u(),c(92,"option",46),p(93,"Spin"),u(),c(94,"option",47),p(95,"Targeted Removal"),u(),c(96,"option",48),p(97,"Token"),u(),c(98,"option",49),p(99,"Tribute"),u()()(),c(100,"div",6)(101,"label",50),p(102,"Card"),u(),c(103,"select",51),k("ngModelChange",function(s){return r.filters.initial=s}),D(104,"option",13),c(105,"option",52),p(106,"Monster"),u(),c(107,"option",53),p(108,"Spell"),u(),c(109,"option",54),p(110,"Trap"),u()()(),c(111,"div",6)(112,"label",50),p(113,"Card Type 2"),u(),c(114,"select",55),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(115,cV,1,0,"option",56),y(116,uV,2,0,"option",57),y(117,dV,2,0,"option",58),y(118,pV,2,0,"option",59),y(119,hV,2,0,"option",60),y(120,fV,2,0,"option",61),y(121,mV,2,0,"option",62),y(122,gV,2,0,"option",63),y(123,_V,2,0,"option",64),y(124,vV,2,0,"option",65),y(125,yV,1,0,"option",56),y(126,CV,2,0,"option",66),y(127,bV,2,0,"option",67),y(128,kV,2,0,"option",68),y(129,DV,2,0,"option",69),y(130,TV,2,0,"option",70),y(131,SV,2,0,"option",71),y(132,wV,1,0,"option",56),y(133,MV,2,0,"option",72),y(134,xV,2,0,"option",73),y(135,EV,2,0,"option",74),u()(),c(136,"div",6)(137,"label",75),p(138,"Monster Type"),u(),c(139,"select",76),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(140,"option",13),c(141,"option",77),p(142,"Aqua"),u(),c(143,"option",78),p(144,"Beast"),u(),c(145,"option",79),p(146,"Beast-Warrior"),u(),c(147,"option",80),p(148,"Dinosaur"),u(),c(149,"option",81),p(150,"Dragon"),u(),c(151,"option",82),p(152,"Fairy"),u(),c(153,"option",83),p(154,"Fiend"),u(),c(155,"option",84),p(156,"Fish"),u(),c(157,"option",85),p(158,"Insect"),u(),c(159,"option",86),p(160,"Machine"),u(),c(161,"option",87),p(162,"Plant"),u(),c(163,"option",88),p(164,"Psychic"),u(),c(165,"option",89),p(166,"Pyro"),u(),c(167,"option",90),p(168,"Reptile"),u(),c(169,"option",91),p(170,"Rock"),u(),c(171,"option",92),p(172,"Sea Serpent"),u(),c(173,"option",93),p(174,"Spellcaster"),u(),c(175,"option",94),p(176,"Thunder"),u(),c(177,"option",95),p(178,"Warrior"),u(),c(179,"option",96),p(180,"Winged-Beast"),u(),c(181,"option",97),p(182,"Zombie"),u()()()(),c(183,"div",5),k("keydown.enter",function(){return r.submitSearch()}),c(184,"div",6)(185,"label",11),p(186,"Attribute"),u(),c(187,"select",98),k("ngModelChange",function(s){return r.filters.attribute=s}),D(188,"option",13),c(189,"option",99),p(190,"DARK"),u(),c(191,"option",100),p(192,"DIVINE"),u(),c(193,"option",101),p(194,"EARTH"),u(),c(195,"option",102),p(196,"FIRE"),u(),c(197,"option",103),p(198,"LIGHT"),u(),c(199,"option",104),p(200,"WATER"),u(),c(201,"option",105),p(202,"WIND"),u()()(),c(203,"div",6)(204,"label",106),p(205,"Level <= "),u(),c(206,"input",107),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(207,"div",6)(208,"label",108),p(209," Level "),u(),c(210,"input",107),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(211,"div",6)(212,"label",109),p(213,"Atk <="),u(),c(214,"input",107),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(215,"div",6)(216,"label",110),p(217,"Atk"),u(),c(218,"input",107),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(219,"div",6)(220,"label",111),p(221,"Def <="),u(),c(222,"input",107),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(223,"div",6)(224,"label",112),p(225,"Def"),u(),c(226,"input",107),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(227,"div",6)(228,"label",113),p(229,"Sort By"),u(),c(230,"select",51),k("ngModelChange",function(s){return r.filters.sort=s}),c(231,"option",114),p(232,"Release Date ASC"),u(),c(233,"option",115),p(234,"Release Date DESC"),u(),c(235,"option",116),p(236,"Alphabetical ASC"),u(),c(237,"option",117),p(238,"Alphabetical DESC"),u(),y(239,IV,2,0,"option",118),y(240,PV,2,0,"option",119),y(241,AV,2,0,"option",120),y(242,OV,2,0,"option",121),y(243,NV,2,0,"option",122),y(244,RV,2,0,"option",123),u()(),c(245,"button",124),k("click",function(){return r.submitSearch()}),p(246,"Search"),u(),c(247,"div",3)(248,"button",125),k("click",function(){return r.SetDraftMode(!1)}),p(249,"Select Draft Image"),u(),c(250,"button",125),k("click",function(){return r.SetDraftMode(!0)}),p(251,"Select Draft Cards"),u()()(),c(252,"div",126)(253,"div",6)(254,"div",6)(255,"div",127)(256,"div",128),D(257,"span",129),u()()(),y(258,FV,3,1,"span",130),c(259,"div",3)(260,"button",124),k("click",function(){return r.nextPage()}),p(261,"Next"),u(),c(262,"button",124),k("click",function(){return r.prevPage()}),p(263,"Previous"),u()()()(),c(264,"div",3)(265,"h1")(266,"b"),p(267),u(),c(268,"button",131),k("click",function(){return r.addSearchResults()}),p(269,"Add Search Results"),u()(),c(270,"div",132)(271,"h2"),p(272,"Monsters"),u(),y(273,BV,2,1,"span",130),u(),c(274,"div",132)(275,"h2"),p(276,"Spells"),u(),y(277,HV,2,1,"span",130),u(),c(278,"div",132)(279,"h2"),p(280,"Traps"),u(),y(281,$V,2,1,"span",130),u(),c(282,"div",132)(283,"h2"),p(284,"Extra"),u(),y(285,jV,2,1,"span",130),u()(),c(286,"div",3),y(287,WV,2,1,"button",133),y(288,qV,2,0,"div",134),y(289,GV,2,0,"button",135),u()()),2&e&&(m("ngIf",!0===r.isHovering),h(7),m("formGroup",r.draftData),h(2),m("ngIf",!r.customcardsService.getEditDraft()),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.tag),h(77),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(14),m("ngForOf",r.currentCards),h(9),x("Current Draft (",r.currentDraft.length,")"),h(6),m("ngForOf",r.currentDraft),h(4),m("ngForOf",r.currentDraft),h(4),m("ngForOf",r.currentDraft),h(4),m("ngForOf",r.currentDraft),h(2),m("ngIf",r.currentDraft!=xf(63,KV)),h(1),m("ngIf",r.submitfail&&r.submitted),h(1),m("ngIf",null!=r.draftCard))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt,Pt,At,Jt,Cn,bn,Ci,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}"]}),n})();var da=hs(327);function XV(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",12),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function YV(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function JV(n,t){if(1&n&&(c(0,"p"),D(1,"img",13),p(2),D(3,"img",14),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function ZV(n,t){if(1&n&&(c(0,"span"),D(1,"img",13),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function e9(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function t9(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function n9(n,t){if(1&n&&(c(0,"div",10)(1,"p")(2,"b"),p(3),y(4,XV,4,2,"span",11),y(5,YV,2,1,"span",11),u()(),c(6,"b"),y(7,JV,5,3,"p",11),u(),y(8,ZV,3,2,"span",11),c(9,"b"),y(10,e9,3,2,"p",11),y(11,t9,2,2,"p",11),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.cardid,"")}}function r9(n,t){if(1&n){const e=F();c(0,"span")(1,"button",15),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.cardid)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightAddDraftCard(i,o)}),c(2,"div",16)(3,"div",17),D(4,"img",18),u(),c(5,"div",19),D(6,"img",20),u()()()()}if(2&n){const e=t.$implicit,r=v();h(2),m("@cardFlip",r.state),h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function i9(n,t){if(1&n){const e=F();c(0,"span")(1,"button",21),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.cardid)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHoverDrafted(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()}),D(2,"img",22),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function s9(n,t){if(1&n&&(c(0,"ul")(1,"li")(2,"b"),p(3),u(),p(4),c(5,"b"),p(6),u()()()),2&n){const e=t.$implicit;h(3),O(null==e?null:e.name),h(1),x(", ",null==e?null:e.cardtype,", "),h(2),O(null==e?null:e.creator)}}let o9=(()=>{class n{constructor(e,r){this.router=e,this.customcardsService=r,this.xml_file="",this.draftMode="generic",this.customEnabled=!1,this.customDraft=[],this.shuffleStyle="nothing",this.customButton1="nothing",this.customButton2="nothing",this.round=0,this.cardsRemaining=15,this.currentDraft=[],this.sortedList=[],this.state="default",this.cardsSelected=0,this.draftCardSelected=!1,this.firstTime=!0,this.draftArray=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}rotate(){this.state="default"===this.state?"flipped":"default"}rightAddDraftCard(e,r){"default"!=this.state&&(this.card=r,e.preventDefault(),this.addCard())}addCard(){this.card&&(this.currentDraft.push(this.card),this.sortedList.push(this.card),this.sortedList.sort((e,r)=>e.name.localeCompare(r.name)),this.sortedList.sort((e,r)=>e.creator.localeCompare(r.creator)),this.card=void 0,this.cardsRemaining--,this.cardsSelected++,this.draftCardSelected=!1,this.cardsRemaining<=0?(this.round++,this.round>=5?this.clearCards():(this.cardsRemaining=15,this.shuffleCards())):this.shuffleCards())}clearCards(){this.randomCards=void 0}ngOnInit(){this.draftMode=this.customcardsService.getDraftType(),this.customEnabled=this.customcardsService.getCustomEnabled(),console.log(this.draftMode),console.log(this.customEnabled),this.customcardsService.getCustomCardsByDraft(this.draftMode).subscribe(e=>{this.customDraft=e,this.cards=e,console.log(this.customDraft),this.shuffleCards()})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}shuffleUnique(e){this.shuffleStyle=e,this.customButton1="nothing",this.customButton2="nothing",this.shuffleCards()}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;switch(console.log(this.shuffleStyle),this.shuffleStyle){case"nothing":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.firstTime?this.firstTime=!1:(this.randomizeButtons(),this.shuffleStyle="nothing");break;case"afres":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.afres.length-1);this.randomCards.push(this.afres[r]),e++}this.shuffleStyle="nothing";break;case"gergoos":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.gergoos.length-1);this.randomCards.push(this.gergoos[r]),e++}this.shuffleStyle="nothing";break;case"swampus":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.swampus.length-1);this.randomCards.push(this.swampus[r]),e++}this.shuffleStyle="nothing";break;case"richie":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.richie.length-1);this.randomCards.push(this.richie[r]),e++}this.shuffleStyle="nothing";break;case"spells":for(console.log("IN CASE SPELLS");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.spells.length-1);this.randomCards.push(this.spells[r]),e++}this.shuffleStyle="nothing";break;case"traps":for(console.log("IN CASE traps");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.traps.length-1);this.randomCards.push(this.traps[r]),e++}this.shuffleStyle="nothing";break;case"monsters":for(console.log("IN CASE monsters");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.monsters.length-1);this.randomCards.push(this.monsters[r]),e++}this.shuffleStyle="nothing";break;default:for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.shuffleStyle="nothing",this.randomizeButtons()}console.log(this.randomCards)}randomizeButtons(){let e=this.randomIntFromInterval(0,12),r=this.randomIntFromInterval(0,12);for(;r==e;)r=this.randomIntFromInterval(0,12);this.findButton(1,e),this.findButton(2,r)}findButton(e,r){switch(r){case 0:1==e?this.customButton1="nothing":this.customButton2="nothing";break;case 1:1==e?this.customButton1="afres":this.customButton2="afres";break;case 2:1==e?this.customButton1="gergoos":this.customButton2="gergoos";break;case 3:1==e?this.customButton1="swampus":this.customButton2="swampus";break;case 4:1==e?this.customButton1="spells":this.customButton2="spells";break;case 5:1==e?this.customButton1="traps":this.customButton2="traps";break;case 6:1==e?this.customButton1="monsters":this.customButton2="monsters";break;case 7:1==e?this.customButton1="richie":this.customButton2="richie";break;default:this.customButton1="nothing"}}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.customButton1="nothing",this.customButton2="nothing",this.rotate()}openNextPack(){this.shuffleCards(),this.rotate()}showDetails2(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.draftCardSelected=!1,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if("default"!=this.state)if(this.draftCardSelected=!0,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.currentDraft)"Fusion Monster"!=r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side></side><extra>";for(const r of this.currentDraft)"Fusion Monster"==r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-draft-form"]],decls:23,vars:5,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"text-center"],[1,"container-fluid"],[1,"row"],[1,"btn","btn-success",3,"click"],[1,"col-md-8","text-center","colRand"],[4,"ngFor","ngForOf"],[1,"colDraft","col"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave","contextmenu"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(y(0,n9,16,13,"div",0),c(1,"div",1)(2,"h1",2),p(3,"This is a Pseudo Draft. You open a pack of 15 from the entire database, select 1, then open a pack with one less card, and you repeat the process until you have 60 cards. "),u()(),c(4,"div",3)(5,"div",4)(6,"div",1)(7,"button",5),k("click",function(){return r.revealCards()}),p(8,"Reveal Cards"),u()()(),c(9,"div",4)(10,"div",6)(11,"div"),y(12,r9,7,2,"span",7),u()(),c(13,"div",8)(14,"h2"),p(15),u(),y(16,i9,3,1,"span",7),u()(),c(17,"div",9)(18,"button",5),k("click",function(){return r.exportList()}),p(19,"Export XML"),u(),c(20,"h2"),p(21,"Card List"),u(),y(22,s9,7,3,"ul",7),u()()),2&e&&(m("ngIf",!0===r.isHovering),h(12),m("ngForOf",r.randomCards),h(3),x("Current Cards ( ",r.cardsSelected,"/60)"),h(1),m("ngForOf",r.currentDraft),h(6),m("ngForOf",r.sortedList))},directives:[ue,_e],styles:[".bigcard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:1px;width:150px;height:225px;cursor:pointer;position:relative;transform-style:preserve-3d}.colRand[_ngcontent-%COMP%]{width:1000px}.colDraft[_ngcontent-%COMP%]{width:500px}.colCardInfo[_ngcontent-%COMP%]{width:400px}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.btncard[_ngcontent-%COMP%]{padding:0;margin:0}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}"],data:{animation:[Dd("cardFlip",[qi("default",$r({transform:"none"})),qi("flipped",$r({transform:"rotateY(180deg)"})),Gi("default => flipped",[Wi("400ms")]),Gi("flipped => default",[Wi("0ms")])])]}}),n})();function a9(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),p(4),u()(),c(5,"td")(6,"a",5),p(7),u()(),c(8,"td"),p(9),u()()()),2&n){const e=t.$implicit;h(2),A("routerLink","/players/",null==e?null:e.creatorid,""),h(2),O(null==e?null:e.creator),h(2),A("routerLink","/decklist/",e.id,""),h(1),O(null==e?null:e.name),h(2),O(null==e?null:e.description)}}let l9=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getDecklists().subscribe(e=>{this.decklists=e,console.log(this.decklists)})}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Public Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Creator"),u(),c(8,"th",3),p(9,"Decklist"),u(),c(10,"th",3),p(11,"Description"),u()()(),y(12,a9,10,5,"tbody",4),u()()),2&e&&(h(12),m("ngForOf",r.decklists))},directives:[_e,Gt],styles:[""]}),n})();function c9(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",5),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function u9(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function d9(n,t){if(1&n&&(c(0,"p"),D(1,"img",6),p(2),D(3,"img",7),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function p9(n,t){if(1&n&&(c(0,"span"),D(1,"img",6),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function h9(n,t){if(1&n&&(c(0,"p"),D(1,"img",5),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function f9(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function m9(n,t){if(1&n&&(c(0,"div",3)(1,"p")(2,"b"),p(3),y(4,c9,4,2,"span",4),y(5,u9,2,1,"span",4),u()(),c(6,"b"),y(7,d9,5,3,"p",4),u(),y(8,p9,3,2,"span",4),c(9,"b"),y(10,h9,3,2,"p",4),y(11,f9,2,2,"p",4),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function g9(n,t){if(1&n){const e=F();c(0,"button",9),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),D(1,"img",10),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function _9(n,t){if(1&n&&(c(0,"span"),y(1,g9,2,1,"button",8),u()),2&n){const e=t.$implicit;h(1),m("ngIf","Limited"==e.tag)}}function v9(n,t){if(1&n){const e=F();c(0,"button",9),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),D(1,"img",10),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function y9(n,t){if(1&n&&(c(0,"span"),y(1,v9,2,1,"button",8),u()),2&n){const e=t.$implicit;h(1),m("ngIf","Semi-Limited"==e.tag)}}let C9=(()=>{class n{constructor(e,r){this.customcardsService=e,this._router=r,this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.customcardsService.getBanlist().subscribe(e=>{this.cards=e})}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-banlist"]],decls:12,vars:3,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["class","btn btn-default",3,"mouseenter","mouseleave","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","click"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(y(0,m9,16,13,"div",0),c(1,"div",1)(2,"h1"),p(3,"Banlist"),u(),c(4,"h2"),p(5,"Banned"),u(),c(6,"h2"),p(7,"Limited"),u(),y(8,_9,2,1,"span",2),c(9,"h2"),p(10,"Semi-Limited"),u(),y(11,y9,2,1,"span",2),u()),2&e&&(m("ngIf",!0===r.isHovering),h(8),m("ngForOf",r.cards),h(3),m("ngForOf",r.cards))},directives:[ue,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}"]}),n})();function b9(n,t){if(1&n&&(c(0,"div",3)(1,"div",4),D(2,"img",5),c(3,"div",6)(4,"h5",7),p(5),u(),c(6,"p",8),p(7),u(),c(8,"p",8),p(9),u()()()()),2&n){const e=t.$implicit;h(1),A("routerLink","/articles/",null==e?null:e.id,""),h(1),B("src",e.header_img,I),h(3),O(e.title),h(2),O(e.header),h(2),x("By ",e.username,"")}}let k9=(()=>{class n{constructor(e){this._customCardsService=e}ngOnInit(){this._customCardsService.getArticles().subscribe(e=>{this.articles=e,console.log(this.articles)},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-articles"]],decls:5,vars:1,consts:[[1,"container","center"],[1,"row"],["class","col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4"],[1,"card",2,"width","302px",3,"routerLink"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Recent Articles"),u(),c(3,"div",1),y(4,b9,10,5,"div",2),u()()),2&e&&(h(4),m("ngForOf",r.articles))},directives:[_e,qt],styles:[".card-img-top[_ngcontent-%COMP%]{width:300px;height:150px;object-fit:cover}.card[_ngcontent-%COMP%]{margin:5px;padding:auto;cursor:pointer}"]}),n})();function D9(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",12),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function T9(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function S9(n,t){if(1&n&&(c(0,"p"),D(1,"img",13),p(2),D(3,"img",14),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function w9(n,t){if(1&n&&(c(0,"span"),D(1,"img",13),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function M9(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function x9(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function E9(n,t){if(1&n&&(c(0,"div",10)(1,"p")(2,"b"),p(3),y(4,D9,4,2,"span",11),y(5,T9,2,1,"span",11),u()(),c(6,"b"),y(7,S9,5,3,"p",11),u(),y(8,w9,3,2,"span",11),c(9,"b"),y(10,M9,3,2,"p",11),y(11,x9,2,2,"p",11),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function I9(n,t){if(1&n&&(c(0,"option",15),p(1),u()),2&n){const e=t.$implicit;B("value",e.id),h(1),O(e.title)}}function P9(n,t){if(1&n&&(c(0,"div",19),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function A9(n,t){1&n&&D(0,"img",26)}function O9(n,t){1&n&&D(0,"img",27)}function N9(n,t){1&n&&D(0,"img",28)}function R9(n,t){if(1&n&&(c(0,"div",22),y(1,A9,1,0,"img",23),y(2,O9,1,0,"img",24),y(3,N9,1,0,"img",25),D(4,"img",20),c(5,"div",21),p(6),u()()),2&n){const e=v().$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function F9(n,t){if(1&n){const e=F();c(0,"span")(1,"button",16),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()}),y(2,P9,4,2,"div",17),y(3,R9,7,5,"div",18),u()()}if(2&n){const e=t.$implicit;h(2),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity)}}let L9=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.binders=[],this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getBindersByOwner(this.creatorid).subscribe(r=>{r&&(this.binders=r,console.log(this.binders))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}selectBinder(){this.customcardsService.getCardsByBinderID(this.binderID).subscribe(e=>{e&&(this.cards=e,console.log(this.cards))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-binders"]],decls:15,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[1,"row"],[1,"col","justify-content-between"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(y(0,E9,16,13,"div",0),c(1,"h1",1),p(2,"Card Binder Management"),u(),c(3,"h2",1),p(4,"Your Binders"),u(),c(5,"div",2)(6,"span",3),p(7,"Binder: "),u(),c(8,"select",4),k("ngModelChange",function(s){return r.binderID=s}),y(9,I9,2,2,"option",5),u(),c(10,"button",6),k("click",function(){return r.selectBinder()}),p(11,"Select Binder"),u()(),c(12,"div",7)(13,"div",8),y(14,F9,4,2,"span",9),u()()),2&e&&(m("ngIf",!0===r.isHovering),h(8),m("ngModel",r.binderID),h(1),m("ngForOf",r.binders),h(5),m("ngForOf",r.cards))},directives:[ue,Jt,Qe,At,_e,Cn,bn],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-100%)}to{transform:translate(80%)}}']}),n})();function B9(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",16),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function V9(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function H9(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),D(3,"img",18),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function z9(n,t){if(1&n&&(c(0,"span"),D(1,"img",17),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function $9(n,t){if(1&n&&(c(0,"p"),D(1,"img",16),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function U9(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function j9(n,t){if(1&n&&(c(0,"div",14)(1,"p")(2,"b"),p(3),y(4,B9,4,2,"span",15),y(5,V9,2,1,"span",15),u()(),c(6,"b"),y(7,H9,5,3,"p",15),u(),y(8,z9,3,2,"span",15),c(9,"b"),y(10,$9,3,2,"p",15),y(11,U9,2,2,"p",15),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function W9(n,t){if(1&n&&(c(0,"div",29),D(1,"img",30),u()),2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function q9(n,t){1&n&&D(0,"img",35)}function G9(n,t){1&n&&D(0,"img",36)}function K9(n,t){1&n&&D(0,"img",37)}function Q9(n,t){if(1&n&&(c(0,"div",31),y(1,q9,1,0,"img",32),y(2,G9,1,0,"img",33),y(3,K9,1,0,"img",34),D(4,"img",30),u()),2&n){const e=v().$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function X9(n,t){if(1&n&&(c(0,"span")(1,"b"),p(2),u()()),2&n){const e=v().$implicit;h(2),O(null==e?null:e.rarity)}}function Y9(n,t){if(1&n&&(c(0,"span",38)(1,"b"),p(2),u()()),2&n){const e=v().$implicit;h(2),O(null==e?null:e.rarity)}}function J9(n,t){if(1&n&&(c(0,"span",39)(1,"b"),p(2),u()()),2&n){const e=v().$implicit;h(2),O(null==e?null:e.rarity)}}function Z9(n,t){if(1&n&&(c(0,"span",40)(1,"b"),p(2),u()()),2&n){const e=v().$implicit;h(2),O(null==e?null:e.rarity)}}function eH(n,t){if(1&n&&(c(0,"span",41)(1,"b"),p(2),u()()),2&n){const e=v().$implicit;h(2),O(null==e?null:e.rarity)}}function tH(n,t){if(1&n){const e=F();c(0,"span")(1,"button",19),k("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),c(2,"div",20),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()}),c(3,"div",21),D(4,"img",22),u(),y(5,W9,2,1,"div",23),y(6,Q9,5,4,"div",24),u(),y(7,X9,3,1,"span",15),y(8,Y9,3,1,"span",25),y(9,J9,3,1,"span",26),y(10,Z9,3,1,"span",27),y(11,eH,3,1,"span",28),u()()}if(2&n){const e=t.$implicit,r=v();h(2),m("@cardFlip",r.state),h(3),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity),h(1),m("ngIf",1==r.revealed&&"common"==e.rarity),h(1),m("ngIf",1==r.revealed&&"rare"==e.rarity),h(1),m("ngIf",1==r.revealed&&"super"==e.rarity),h(1),m("ngIf",1==r.revealed&&"ultra"==e.rarity),h(1),m("ngIf",1==r.revealed&&"secret"==e.rarity)}}function nH(n,t){if(1&n){const e=F();c(0,"button",9),k("click",function(){return S(e),v().revealCards()}),p(1),u()}if(2&n){const e=v();m("disabled",1==e.finishedPacks||1==e.revealed),h(1),we("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function rH(n,t){if(1&n){const e=F();c(0,"button",9),k("click",function(){return S(e),v().revealDraftCards()}),p(1),u()}if(2&n){const e=v();m("disabled",1==e.finishedPacks||1==e.revealed),h(1),we("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function iH(n,t){if(1&n&&(c(0,"option",44),p(1),u()),2&n){const e=t.$implicit;B("value",e.id),h(1),O(e.title)}}function sH(n,t){if(1&n){const e=F();c(0,"select",42),k("ngModelChange",function(i){return S(e),v().binderID=i}),y(1,iH,2,2,"option",43),u()}if(2&n){const e=v();m("ngModel",e.binderID),h(1),m("ngForOf",e.binders)}}function oH(n,t){if(1&n){const e=F();c(0,"button",9),k("click",function(){return S(e),v().addToBinder()}),p(1,"Save to binder"),u()}if(2&n){const e=v();m("disabled",0==e.finishedPacks||0==e.revealed)}}function aH(n,t){1&n&&(c(0,"div")(1,"p",52),p(2,"Give Binder name"),u()())}function lH(n,t){if(1&n&&(c(0,"div",51),y(1,aH,3,0,"div",15),u()),2&n){const e=v(2);h(1),m("ngIf",e.f.binderName.errors.required)}}const cH=function(n){return{"is-invalid":n}};function uH(n,t){if(1&n){const e=F();c(0,"form",45),k("ngSubmit",function(){return S(e),v().submitBinder()}),c(1,"div",2)(2,"div",46)(3,"label",47),p(4,"Binder Name"),u(),c(5,"input",48),k("ngModelChange",function(i){return S(e),v().binderName=i}),u(),y(6,lH,2,1,"div",49),u()(),c(7,"button",50),p(8,"Save new binder"),u()()}if(2&n){const e=v();m("formGroup",e.binderData),h(5),m("ngClass",Me(5,cH,e.submitted&&e.f.binderName.errors))("ngModel",e.binderName),h(1),m("ngIf",e.submitted&&e.f.binderName.errors),h(1),m("disabled",0==e.finishedPacks||0==e.revealed)}}function dH(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),D(3,"img",18),p(4),u()),2&n){const e=v(2);h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," "),h(2),x(" ",null==e.card?null:e.card.level," ")}}function pH(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),u()),2&n){const e=v(2);h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," ")}}function hH(n,t){if(1&n&&(c(0,"h4"),D(1,"img",16),p(2),u()),2&n){const e=v(2);h(1),B("src",e.stType,I),h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function fH(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=v(2);h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function mH(n,t){if(1&n&&(c(0,"p"),D(1,"img",16),p(2),u()),2&n){const e=v(2);h(1),B("src",e.mType,I),h(1),x(" ",null==e.card?null:e.card.type,"")}}function gH(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function _H(n,t){if(1&n&&(c(0,"div",4)(1,"div",53),D(2,"img",54),u(),c(3,"div",55)(4,"b"),y(5,dH,5,3,"p",15),u(),y(6,pH,3,2,"p",15),c(7,"h3"),p(8),u(),y(9,hH,3,2,"h4",15),y(10,fH,2,1,"h4",15),c(11,"b"),y(12,mH,3,2,"p",15),y(13,gH,2,2,"p",15),c(14,"p"),p(15),u()()()()),2&n){const e=v();h(2),A("routerLink","/cards/",e.card.id,"")("src","https://drive.google.com/uc?export=view&id=",null==e.card?null:e.card.drive_id,"",I),h(3),m("ngIf","True"==e.monster),h(1),m("ngIf","False"==e.monster),h(2),O(null==e.card?null:e.card.name),h(1),m("ngIf","False"==e.monster),h(1),m("ngIf","True"==e.monster),h(2),m("ngIf","True"==e.monster),h(1),m("ngIf","True"==e.monster),h(2),x(" ",null==e.card?null:e.card.effect,"")}}function vH(n,t){if(1&n){const e=F();c(0,"span")(1,"img",56),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)}),u()()}if(2&n){const e=t.$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function yH(n,t){if(1&n&&(c(0,"ul")(1,"li")(2,"b"),p(3),u(),p(4),c(5,"b"),p(6),u()()()),2&n){const e=t.$implicit;h(3),O(null==e?null:e.name),h(1),x(", ",null==e?null:e.cardtype,", "),h(2),O(null==e?null:e.creator)}}let CH=(()=>{class n{constructor(e,r,i,s){this.authService=e,this.customcardsService=r,this.route=i,this.router=s,this.randomCards=[],this.commonCards=[],this.rareCards=[],this.superCards=[],this.ultraCards=[],this.secretCards=[],this.packsOpened=0,this.packAmount=0,this.cardsRemaining=9,this.currentOpened=[],this.openedPack=[],this.revealed=!1,this.state="default",this.submitted=!1,this.submitfail=!1,this.sealedmode=!1,this.binders=[],this.binderData=new lt({binderName:new te(" ",[V.required,V.minLength(5),V.maxLength(100)])}),this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.finishedPacks=!1}ngOnChanges(e){console.log(e),this.queueNextPack()}get f(){return this.binderData.controls}rotate(){this.state="default"===this.state?"flipped":"default"}queueNextPack(){var e;this.currentPack=this.packQueue[0],this.packQueue=this.packQueue.slice(1),console.log(this.packQueue);let r=null===(e=this.currentPack)||void 0===e?void 0:e.packid;this.packID=r,jl(this.customcardsService.getPackInfoByID(this.packID),this.customcardsService.getCustomCardsByPack(this.packID)).subscribe(([i,s])=>{if(this.packInfo=i,this.cards=s,this.secretCards=[],this.ultraCards=[],this.superCards=[],this.rareCards=[],this.commonCards=[],"small"==this.packInfo.packsize){this.cardsRemaining=3;let o=0;for(;2!=o;o++)this.ultraCards.push(this.cards[o]);for(;6!=o;o++)this.superCards.push(this.cards[o]);for(;7!=o;o++)this.secretCards.push(this.cards[o]);for(;16!=o;o++)this.rareCards.push(this.cards[o]);for(;31!=o;o++)this.commonCards.push(this.cards[o])}if("medium"==this.packInfo.packsize){this.cardsRemaining=9;let o=0;for(;10!=o;o++)this.ultraCards.push(this.cards[o]);for(;25!=o;o++)this.superCards.push(this.cards[o]);for(;27!=o;o++)this.secretCards.push(this.cards[o]);for(;52!=o;o++)this.rareCards.push(this.cards[o]);for(;100!=o;o++)this.commonCards.push(this.cards[o])}if("large"==this.packInfo.packsize){this.cardsRemaining=13;let o=0;for(;14!=o;o++)this.ultraCards.push(this.cards[o]);for(;34!=o;o++)this.superCards.push(this.cards[o]);for(;40!=o;o++)this.secretCards.push(this.cards[o]);for(;100!=o;o++)this.rareCards.push(this.cards[o]);for(;200!=o;o++)this.commonCards.push(this.cards[o])}this.shuffleCards()}),this.packAmount=this.currentPack.amount}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.sealedmode=this.customcardsService.getSealedDraftMode(),0==this.sealedmode&&this.customcardsService.getBindersByOwner(this.id).subscribe(r=>{this.binders=r})}),console.log(this.cards)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;for(;e<this.cardsRemaining;){if(e<this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.commonCards.length-1);let i=this.commonCards[r];for(;this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.commonCards.length-1);i=this.commonCards[s]}this.randomCards.push(i)}if(e==this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.rareCards.length-1);this.randomCards.push(this.rareCards[r])}if(e==this.cardsRemaining-1){const r=this.randomIntFromInterval(0,5),i=this.randomIntFromInterval(0,11),s=this.randomIntFromInterval(0,30),o=this.randomIntFromInterval(0,this.commonCards.length-1);let a=this.commonCards[o];for(;this.randomCards.findIndex(l=>l.id===(null==a?void 0:a.id))>-1;){const l=this.randomIntFromInterval(0,this.commonCards.length-1);a=this.commonCards[l]}if(console.log(r,i,s),0==r){const l=this.randomIntFromInterval(0,this.superCards.length-1);a=this.superCards[l]}if(0==i){const l=this.randomIntFromInterval(0,this.ultraCards.length-1);a=this.ultraCards[l]}if(0==s){const l=this.randomIntFromInterval(0,this.secretCards.length-1);a=this.secretCards[l]}this.randomCards.push(a)}e++}this.packsOpened++,console.log(this.randomCards)}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.authService.subtractCurrency(this.currentPack.cost),this.addPackToCollection(),this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}openNextPack(){this.revealed=!1,this.openedPack=[],this.packsOpened==this.packAmount?(this.packsOpened=0,this.queueNextPack()):(this.rotate(),this.shuffleCards(),this.card=void 0)}revealDraftCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if("default"!=this.state)if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}submitBinder(){if(this.submitted=!0,this.binderData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");const e={};e.title=this.binderData.controls.binderName.value,e.creatorid=this.id,e.cards=this.currentOpened,e.packid=this.packID,this.customcardsService.submitBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}addPackToCollection(){const e={};e.cards=this.openedPack,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToCollection(e).subscribe(r=>{console.log(r)},r=>{console.log(r)})}addToBinder(){const e={};e.cards=this.currentOpened,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Ft),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-pack-opener"]],inputs:{packQueue:"packQueue"},features:[Et],decls:27,vars:12,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"text-center"],[1,"row","justify-content-center"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],[1,"container"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],["aria-label","Default select example",3,"ngModel","ngModelChange",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click"],[1,"card",3,"click","mouseenter","mouseleave"],[1,"face","back"],["src","assets/cardimages/Default.png"],["class","face front",4,"ngIf"],["class","face front rare-card",4,"ngIf"],["style","color:blue;",4,"ngIf"],["style","color:orangered;",4,"ngIf"],["style","color:red;",4,"ngIf"],["style","color:purple;",4,"ngIf"],[1,"face","front"],[3,"src"],[1,"face","front","rare-card"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"sparkle"],[2,"color","blue"],[2,"color","orangered"],[2,"color","red"],[2,"color","purple"],["aria-label","Default select example",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","binderName","formControlName","binderName","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-success",3,"disabled"],[1,"invalid-feedback"],[1,"red"],[1,"col-sm-2"],["href","",1,"bigcard",3,"routerLink","src"],[1,"col-md-4","cardeffect"],["href","",1,"smallcard",3,"src","click"]],template:function(e,r){1&e&&(y(0,j9,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"h1",3),p(4),u()(),c(5,"div",4)(6,"div",5)(7,"div"),y(8,tH,12,8,"span",6),u()()(),c(9,"div",7),y(10,nH,2,3,"button",8),y(11,rH,2,3,"button",8),c(12,"button",9),k("click",function(){return r.openNextPack()}),p(13,"Open Next Pack"),u(),y(14,sH,2,2,"select",10),y(15,oH,2,1,"button",8),u(),c(16,"div",7),y(17,uH,9,7,"form",11),u(),y(18,_H,16,10,"div",12),c(19,"div",13)(20,"h2"),p(21,"Current Cards"),u(),y(22,vH,2,1,"span",6),u(),c(23,"div",13)(24,"h2"),p(25,"Card List"),u(),y(26,yH,7,3,"ul",6),u()()),2&e&&(m("ngIf",!0===r.isHovering),h(4),O(r.currentPack.title),h(4),m("ngForOf",r.randomCards),h(2),m("ngIf",0==r.sealedmode),h(1),m("ngIf",1==r.sealedmode),h(1),m("disabled",1==r.finishedPacks||0==r.revealed),h(2),m("ngIf",r.binders.length>0&&0==r.sealedmode),h(1),m("ngIf",r.binders.length>0&&0==r.sealedmode),h(2),m("ngIf",0==r.sealedmode),h(1),m("ngIf",null!=r.card),h(4),m("ngForOf",r.currentOpened),h(4),m("ngForOf",r.currentOpened))},directives:[ue,_e,Jt,Qe,At,Cn,bn,Xt,Qt,Lt,et,Yt,Pt,qt],styles:['.bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.sparkle[_ngcontent-%COMP%]{position:absolute}.rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;width:75%;height:100%;position:absolute;z-index:1;animation:slide 1.5s infinite 1s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-170%)}to{transform:translate(-20%)}}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:200px}'],data:{animation:[Dd("cardFlip",[qi("default",$r({transform:"none"})),qi("flipped",$r({transform:"rotateY(180deg)"})),Gi("default => flipped",[Wi("400ms")]),Gi("flipped => default",[Wi("0ms")])])]}}),n})();const bH=["packtracker"];function kH(n,t){if(1&n&&D(0,"img",11),2&n){const e=v().$implicit;A("routerLink","/packs/",e.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",I)}}function DH(n,t){1&n&&D(0,"img",12),2&n&&A("routerLink","/packs/",v().$implicit.packid,"")}function TH(n,t){if(1&n){const e=F();c(0,"p"),p(1),c(2,"select",13),k("ngModelChange",function(i){S(e);const s=v().$implicit;return v(2).queuePack(s,i)}),c(3,"option",14),p(4,"0"),u(),c(5,"option",15),p(6,"1"),u(),c(7,"option",16),p(8,"2"),u(),c(9,"option",17),p(10,"3"),u(),c(11,"option",18),p(12,"4"),u(),c(13,"option",19),p(14,"5"),u(),c(15,"option",20),p(16,"6"),u(),c(17,"option",21),p(18,"7"),u(),c(19,"option",22),p(20,"8"),u(),c(21,"option",23),p(22,"9"),u(),c(23,"option",24),p(24,"10"),u(),c(25,"option",25),p(26,"12"),u(),c(27,"option",26),p(28,"15"),u(),c(29,"option",27),p(30,"24"),u(),c(31,"option",28),p(32,"30"),u()()()}if(2&n){const e=v().$implicit,r=v(2);h(1),x("Cost: ",e.cost,""),h(1),m("ngModel",r.chosenPack)}}function SH(n,t){if(1&n){const e=F();c(0,"p"),p(1,"Amount:"),c(2,"select",13),k("ngModelChange",function(i){S(e);const s=v().$implicit;return v(2).queuePack(s,i)}),c(3,"option",14),p(4,"0"),u(),c(5,"option",15),p(6,"1"),u(),c(7,"option",16),p(8,"2"),u(),c(9,"option",17),p(10,"3"),u(),c(11,"option",18),p(12,"4"),u(),c(13,"option",19),p(14,"5"),u(),c(15,"option",20),p(16,"6"),u(),c(17,"option",21),p(18,"7"),u(),c(19,"option",22),p(20,"8"),u(),c(21,"option",23),p(22,"9"),u(),c(23,"option",24),p(24,"10"),u(),c(25,"option",25),p(26,"12"),u(),c(27,"option",26),p(28,"15"),u(),c(29,"option",27),p(30,"24"),u(),c(31,"option",28),p(32,"30"),u()()()}if(2&n){const e=v(3);h(2),m("ngModel",e.chosenPack)}}function wH(n,t){if(1&n&&(c(0,"div",7),y(1,kH,1,2,"img",8),y(2,DH,1,1,"img",9),y(3,TH,33,2,"p",10),y(4,SH,33,1,"p",10),u()),2&n){const e=t.$implicit,r=v(2);h(1),m("ngIf","placeholder"!=e.pack),h(1),m("ngIf","placeholder"==e.pack),h(1),m("ngIf",0==r.sealedmode),h(1),m("ngIf",1==r.sealedmode)}}function MH(n,t){1&n&&(c(0,"span"),p(1,">>"),u())}function xH(n,t){1&n&&(c(0,"span"),p(1," << "),u())}function EH(n,t){if(1&n&&(c(0,"p",36),p(1),u()),2&n){const e=v().$implicit;h(1),we("",e.title," x",e.amount,"")}}function IH(n,t){if(1&n&&(c(0,"div"),y(1,EH,2,2,"p",35),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function PH(n,t){if(1&n){const e=F();c(0,"div",29,30)(2,"button",31),k("click",function(){return S(e),v(2).minimizePackTracker()}),y(3,MH,2,0,"span",10),y(4,xH,2,0,"span",10),u(),c(5,"p"),p(6,"Packs Selected"),u(),y(7,IH,2,1,"div",32),c(8,"p",33),p(9),u(),c(10,"button",34),k("click",function(){return S(e),v(2).openPack()}),p(11,"Open Packs"),u()()}if(2&n){const e=v(2);m("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),h(3),m("ngIf",e.maximized),h(1),m("ngIf",!e.maximized),h(3),m("ngForOf",e.packTrackerArray),h(2),x("Total Cost: ",e.totalCost,""),h(1),m("disabled",0==e.packLength||e.totalCost>e.currency||0==e.totalCost)}}function AH(n,t){1&n&&(c(0,"span"),p(1,">>"),u())}function OH(n,t){1&n&&(c(0,"span"),p(1," << "),u())}function NH(n,t){if(1&n&&(c(0,"p",36),p(1),u()),2&n){const e=v().$implicit;h(1),we("",e.title," x",e.amount,"")}}function RH(n,t){if(1&n&&(c(0,"div"),y(1,NH,2,2,"p",35),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function FH(n,t){if(1&n){const e=F();c(0,"div",29,30)(2,"button",31),k("click",function(){return S(e),v(2).minimizePackTracker()}),y(3,AH,2,0,"span",10),y(4,OH,2,0,"span",10),u(),c(5,"p"),p(6,"Packs Selected"),u(),y(7,RH,2,1,"div",32),c(8,"button",34),k("click",function(){return S(e),v(2).openPack()}),p(9,"Open Packs"),u()()}if(2&n){const e=v(2);m("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),h(3),m("ngIf",e.maximized),h(1),m("ngIf",!e.maximized),h(3),m("ngForOf",e.packTrackerArray),h(1),m("disabled",0==e.packLength)}}function LH(n,t){if(1&n&&(c(0,"div",3)(1,"div",4),y(2,wH,5,4,"div",5),u(),y(3,PH,12,6,"div",6),y(4,FH,10,5,"div",6),u()),2&n){const e=v();h(2),m("ngForOf",e.packs),h(1),m("ngIf",0==e.sealedmode),h(1),m("ngIf",1==e.sealedmode)}}function BH(n,t){1&n&&D(0,"app-pack-opener",37),2&n&&m("packQueue",v().packTrackerArray)}let VH=(()=>{class n{constructor(e,r,i){this.router=e,this._authService=r,this.customcardsService=i,this.openingPacks=!1,this.packLength=0,this.maximized=!0,this.packs=[],this.packSelected=!1,this.packAmount=0,this.packsSelected=new Map,this.packTrackerArray=[],this.totalCost=0,this.sealedmode=!1}queuePack(e,r){let i={packid:e.packid,title:e.title,cost:e.cost,amount:r};const s=this.packTrackerArray.findIndex(o=>o.packid===(null==i?void 0:i.packid));if(s>-1)console.log("im in index "+s),0==i.amount?(this.packTrackerArray.splice(s,1),this.packLength--):this.packTrackerArray[s].amount=i.amount;else{if(0==i.amount)return;console.log("im in else"),this.packTrackerArray.push(i)}this.packLength++,this.totalCost=0;for(let o in this.packTrackerArray)this.totalCost+=this.packTrackerArray[o].cost*this.packTrackerArray[o].amount}ngOnInit(){this.sealedmode=this.customcardsService.getSealedDraftMode(),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}SetPackNo(e,r){this.packSelected=!0,this.packAmount=e,this.customcardsService.SetPackNo(e,r)}openPack(){this.customcardsService.setPackQueue(this.packTrackerArray),this.openingPacks=!0}minimizePackTracker(){this.maximized=!this.maximized}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-packs"]],viewQuery:function(e,r){if(1&e&&Dl(bH,5,dt),2&e){let i;As(i=Os())&&(r.packtracker=i.first)}},decls:4,vars:2,consts:[[1,"selectedPacks"],["class","container justify-content-center",4,"ngIf"],[3,"packQueue",4,"ngIf"],[1,"container","justify-content-center"],[1,"row","align-items-center"],["class","col",4,"ngFor","ngForOf"],["class","packtracker ",3,"ngClass",4,"ngIf"],[1,"col"],["routerLinkActive","active","class","pack",3,"routerLink","src",4,"ngIf"],["routerLinkActive","active","class","pack","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",3,"routerLink",4,"ngIf"],[4,"ngIf"],["routerLinkActive","active",1,"pack",3,"routerLink","src"],["routerLinkActive","active","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack",3,"routerLink"],["id","attribute",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","12"],["value","15"],["value","24"],["value","30"],[1,"packtracker",3,"ngClass"],["packtracker",""],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"tinytext","bottom-1"],[1,"btn","position-fixed","bottom-0",3,"disabled","click"],["class","tinytext",4,"ngIf"],[1,"tinytext"],[3,"packQueue"]],template:function(e,r){1&e&&(c(0,"div",0),p(1,"Test"),u(),y(2,LH,5,3,"div",1),y(3,BH,1,1,"app-pack-opener",2)),2&e&&(h(2),m("ngIf",0==r.openingPacks),h(1),m("ngIf",1==r.openingPacks))},directives:[ue,_e,Ul,qt,Jt,Qe,At,Cn,bn,Pt,CH],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.sidepush[_ngcontent-%COMP%]{left:95%}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:#04713fe6;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();const qS=n=>{const t=(n=>{const t={};return Object.keys(n).forEach(e=>{n[e]&&(t[e]=n[e])}),t})(n);return Object.entries(t).map(([e,r])=>`${(n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(e)}:${r}`).join(";")};class Ug extends Error{constructor(t){super(t),this.name=this.constructor.name}}function Zt(n){this.content=n}Zt.prototype={constructor:Zt,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return-1==t?void 0:this.content[t+1]},update:function(n,t,e){var r=e&&e!=n?this.remove(e):this,i=r.find(n),s=r.content.slice();return-1==i?s.push(e||n,t):(s[i+1]=t,e&&(s[i]=e)),new Zt(s)},remove:function(n){var t=this.find(n);if(-1==t)return this;var e=this.content.slice();return e.splice(t,2),new Zt(e)},addToStart:function(n,t){return new Zt([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new Zt(e)},addBefore:function(n,t,e){var r=this.remove(t),i=r.content.slice(),s=r.find(n);return i.splice(-1==s?i.length:s,0,t,e),new Zt(i)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return(n=Zt.from(n)).size?new Zt(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=Zt.from(n)).size?new Zt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=Zt.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},get size(){return this.content.length>>1}},Zt.from=function(n){if(n instanceof Zt)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new Zt(t)};const GS=Zt;function KS(n,t,e){for(let r=0;;r++){if(r==n.childCount||r==t.childCount)return n.childCount==t.childCount?null:e;let i=n.child(r),s=t.child(r);if(i!=s){if(!i.sameMarkup(s))return e;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)e++;return e}if(i.content.size||s.content.size){let o=KS(i.content,s.content,e+1);if(null!=o)return o}e+=i.nodeSize}else e+=i.nodeSize}}function QS(n,t,e,r){for(let i=n.childCount,s=t.childCount;;){if(0==i||0==s)return i==s?null:{a:e,b:r};let o=n.child(--i),a=t.child(--s),l=o.nodeSize;if(o!=a){if(!o.sameMarkup(a))return{a:e,b:r};if(o.isText&&o.text!=a.text){let d=0,f=Math.min(o.text.length,a.text.length);for(;d<f&&o.text[o.text.length-d-1]==a.text[a.text.length-d-1];)d++,e--,r--;return{a:e,b:r}}if(o.content.size||a.content.size){let d=QS(o.content,a.content,e-1,r-1);if(d)return d}e-=l,r-=l}else e-=l,r-=l}}class L{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,e,r,i=0,s){for(let o=0,a=0;a<e;o++){let l=this.content[o],d=a+l.nodeSize;if(d>t&&!1!==r(l,i+a,s||null,o)&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,t-f),Math.min(l.content.size,e-f),r,i+f)}a=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,i){let s="",o=!0;return this.nodesBetween(t,e,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(t,l)-l,e-l),o=!r):a.isLeaf&&i?(s+="function"==typeof i?i(a):i,o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(r)&&(i[i.length-1]=e.withText(e.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new L(i,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],i=0;if(e>t)for(let s=0,o=0;o<e;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),r.push(a),i+=a.nodeSize),o=l}return new L(r,i)}cutByIndex(t,e){return t==e?L.empty:0==t&&e==this.content.length?this:new L(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let i=this.content.slice(),s=this.size+e.nodeSize-r.nodeSize;return i[t]=e,new L(i,s)}addToStart(t){return new L([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new L(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let i=this.content[e];t(i,r,e),r+=i.nodeSize}}findDiffStart(t,e=0){return KS(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return QS(this,t,e,r)}findIndex(t,e=-1){if(0==t)return Ud(0,t);if(t==this.size)return Ud(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t)return o==t||e>0?Ud(r+1,o):Ud(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return L.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new L(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return L.empty;let e,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(e||(e=t.slice(0,i)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new L(e||t,r)}static from(t){if(!t)return L.empty;if(t instanceof L)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new L([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}L.empty=new L([],0);const jg={index:0,offset:0};function Ud(n,t){return jg.index=n,jg.offset=t,jg}function jd(n,t){if(n===t)return!0;if(!n||"object"!=typeof n||!t||"object"!=typeof t)return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!jd(n[r],t[r]))return!1}else{for(let r in n)if(!(r in t)||!jd(n[r],t[r]))return!1;for(let r in t)if(!(r in n))return!1}return!0}let qe=(()=>{class n{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),i=!0),r&&r.push(o)}}return r||(r=e.slice()),i||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(r[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return n.none;if(e instanceof n)return[e];let r=e.slice();return r.sort((i,s)=>i.type.rank-s.type.rank),r}}return n.none=[],n})();class Zl extends Error{}class j{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=YS(this.content,t+this.openStart,e);return r&&new j(r,this.openStart,this.openEnd)}removeBetween(t,e){return new j(XS(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return j.empty;let r=e.openStart||0,i=e.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new j(L.fromJSON(t,e.content),r,i)}static maxOpen(t,e=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)i++;return new j(t,r,i)}}function XS(n,t,e){let{index:r,offset:i}=n.findIndex(t),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(e);if(i==t||s.isText){if(a!=e&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(XS(s.content,t-i-1,e-i-1)))}function YS(n,t,e,r){let{index:i,offset:s}=n.findIndex(t),o=n.maybeChild(i);if(s==t||o.isText)return r&&!r.canReplace(i,i,e)?null:n.cut(0,t).append(e).append(n.cut(t));let a=YS(o.content,t-s-1,e);return a&&n.replaceChild(i,o.copy(a))}function jH(n,t,e){if(e.openStart>n.depth)throw new Zl("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new Zl("Inconsistent open depths");return JS(n,t,e,0)}function JS(n,t,e,r){let i=n.index(r),s=n.node(r);if(i==t.index(r)&&r<n.depth-e.openStart){let o=JS(n,t,e,r+1);return s.copy(s.content.replaceChild(i,o))}if(e.content.size){if(e.openStart||e.openEnd||n.depth!=r||t.depth!=r){let{start:o,end:a}=function WH(n,t){let e=t.depth-n.openStart,i=t.node(e).copy(n.content);for(let s=e-1;s>=0;s--)i=t.node(s).copy(L.from(i));return{start:i.resolveNoCache(n.openStart+e),end:i.resolveNoCache(i.content.size-n.openEnd-e)}}(e,n);return Qs(s,e2(n,o,a,t,r))}{let o=n.parent,a=o.content;return Qs(o,a.cut(0,n.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}}return Qs(s,Wd(n,t,r))}function ZS(n,t){if(!t.type.compatibleContent(n.type))throw new Zl("Cannot join "+t.type.name+" onto "+n.type.name)}function Wg(n,t,e){let r=n.node(e);return ZS(r,t.node(e)),r}function Ks(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function ec(n,t,e,r){let i=(t||n).node(e),s=0,o=t?t.index(e):i.childCount;n&&(s=n.index(e),n.depth>e?s++:n.textOffset&&(Ks(n.nodeAfter,r),s++));for(let a=s;a<o;a++)Ks(i.child(a),r);t&&t.depth==e&&t.textOffset&&Ks(t.nodeBefore,r)}function Qs(n,t){if(!n.type.validContent(t))throw new Zl("Invalid content for node "+n.type.name);return n.copy(t)}function e2(n,t,e,r,i){let s=n.depth>i&&Wg(n,t,i+1),o=r.depth>i&&Wg(e,r,i+1),a=[];return ec(null,n,i,a),s&&o&&t.index(i)==e.index(i)?(ZS(s,o),Ks(Qs(s,e2(n,t,e,r,i+1)),a)):(s&&Ks(Qs(s,Wd(n,t,i+1)),a),ec(t,e,i,a),o&&Ks(Qs(o,Wd(e,r,i+1)),a)),ec(r,null,i,a),new L(a)}function Wd(n,t,e){let r=[];return ec(null,n,e,r),n.depth>e&&Ks(Qs(Wg(n,t,e+1),Wd(n,t,e+1)),r),ec(t,null,e,r),new L(r)}j.empty=new j(L.empty,0,0);class tc{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(e);return r?t.child(e).cut(r):i}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],i=0==e?0:this.path[3*e-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return qe.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),i=t.maybeChild(e);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)!1===s[o].type.spec.inclusive&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)!1===r[s].type.spec.inclusive&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new qd(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],i=0,s=e;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),d=s-l;if(r.push(o,a,i+l),!d||(o=o.child(a),o.isText))break;s=d-1,i+=l+1}return new tc(e,r,s)}static resolveCached(t,e){for(let i=0;i<qg.length;i++){let s=qg[i];if(s.pos==e&&s.doc==t)return s}let r=qg[Gg]=tc.resolve(t,e);return Gg=(Gg+1)%qH,r}}let qg=[],Gg=0,qH=12;class qd{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const GH=Object.create(null);class jr{constructor(t,e,r,i=qe.none){this.type=t,this.attrs=e,this.marks=i,this.content=r||L.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,i=0){this.content.nodesBetween(t,e,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.textBetween(0,this.content.size,"")}textBetween(t,e,r,i){return this.content.textBetween(t,e,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&jd(this.attrs,e||t.defaultAttrs||GH)&&qe.sameSet(this.marks,r||qe.none)}copy(t=null){return t==this.content?this:new jr(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new jr(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return j.empty;let i=this.resolve(t),s=this.resolve(e),o=r?0:i.sharedDepth(e),a=i.start(o),d=i.node(o).content.cut(i.pos-a,s.pos-a);return new j(d,i.depth-o,s.depth-o)}replace(t,e,r){return jH(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:i}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(i==t||e.isText)return e;t-=i+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let i=this.content.child(e-1);return{node:i,index:e-1,offset:r-i.nodeSize}}resolve(t){return tc.resolveCached(this,t)}resolveNoCache(t){return tc.resolve(this,t)}rangeHasMark(t,e,r){let i=!1;return e>t&&this.nodesBetween(t,e,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),t2(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=L.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,e,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=qe.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!qe.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let i=L.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,r)}}jr.prototype.text=void 0;class Gd extends jr{constructor(t,e,r,i){if(super(t,e,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):t2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Gd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Gd(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function t2(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}class Xs{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new KH(t,e);if(null==r.next)return Xs.empty;let i=n2(r);r.next&&r.err("Unexpected trailing text");let s=function tz(n){let t=Object.create(null);return function e(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let d;for(let f=0;f<i.length;f++)i[f][0]==a&&(d=i[f][1]);s2(n,l).forEach(f=>{d||i.push([a,d=[]]),-1==d.indexOf(f)&&d.push(f)})})});let s=t[r.join(",")]=new Xs(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(i2);s.next.push({type:i[o][0],next:t[a.join(",")]||e(a)})}return s}(s2(n,0))}(function ez(n){let t=[[]];return i(function s(o,a){if("choice"==o.type)return o.exprs.reduce((l,d)=>l.concat(s(d,a)),[]);if("seq"!=o.type){if("star"==o.type){let l=e();return r(a,l),i(s(o.expr,l),l),[r(l)]}if("plus"==o.type){let l=e();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}if("opt"==o.type)return[r(a)].concat(s(o.expr,a));if("range"==o.type){let l=a;for(let d=0;d<o.min;d++){let f=e();i(s(o.expr,l),f),l=f}if(-1==o.max)i(s(o.expr,l),l);else for(let d=o.min;d<o.max;d++){let f=e();r(l,f),i(s(o.expr,l),f),l=f}return[r(l)]}if("name"==o.type)return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let d=s(o.exprs[l],a);if(l==o.exprs.length-1)return d;i(d,a=e())}}(n,0),e()),t;function e(){return t.push([])-1}function r(o,a,l){let d={term:l,to:a};return t[o].push(d),d}function i(o,a){o.forEach(l=>l.to=a)}}(i));return function nz(n,t){for(let e=0,r=[n];e<r.length;e++){let i=r[e],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:d}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),-1==r.indexOf(d)&&r.push(d)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,r),s}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let i=this;for(let s=e;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let i=[this];return function s(o,a){let l=o.matchFragment(t,r);if(l&&(!e||l.validEnd))return L.from(a.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:g}=o.next[d];if(!f.isText&&!f.hasRequiredAttrs()&&-1==i.indexOf(g)){i.push(g);let _=s(g,a.concat(f));if(_)return _}}return null}(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&e(r.next[i].next)}(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join("\n")}}Xs.empty=new Xs(!0);class KH{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function n2(n){let t=[];do{t.push(QH(n))}while(n.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function QH(n){let t=[];do{t.push(XH(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function XH(n){let t=function ZH(n){if(n.eat("(")){let t=n2(n);return n.eat(")")||n.err("Missing closing paren"),t}if(!/\W/.test(n.next)){let t=function JH(n,t){let e=n.nodeTypes,r=e[t];if(r)return[r];let i=[];for(let s in e){let o=e[s];o.groups.indexOf(t)>-1&&i.push(o)}return 0==i.length&&n.err("No node type or group '"+t+"' found"),i}(n,n.next).map(e=>(null==n.inline?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}n.err("Unexpected token '"+n.next+"'")}(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else{if(!n.eat("{"))break;t=YH(n,t)}return t}function r2(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function YH(n,t){let e=r2(n),r=e;return n.eat(",")&&(r="}"!=n.next?r2(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:r,expr:t}}function i2(n,t){return t-n}function s2(n,t){let e=[];return function r(i){let s=n[i];if(1==s.length&&!s[0].term)return r(s[0].to);e.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&-1==e.indexOf(l)&&r(l)}}(t),e.sort(i2)}function o2(n){let t=Object.create(null);for(let e in n){let r=n[e];if(!r.hasDefault)return null;t[e]=r.default}return t}function a2(n,t){let e=Object.create(null);for(let r in n){let i=t&&t[r];if(void 0===i){let s=n[r];if(!s.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=s.default}e[r]=i}return e}function l2(n){let t=Object.create(null);if(n)for(let e in n)t[e]=new rz(n[e]);return t}class Kd{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=l2(r.attrs),this.defaultAttrs=o2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:a2(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jr(this,this.computeAttrs(t),L.from(e),qe.setFrom(r))}createChecked(t=null,e,r){if(e=L.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new jr(this,this.computeAttrs(t),e,qe.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),(e=L.from(e)).size){let o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}let i=this.contentMatch.matchFragment(e),s=i&&i.fillBefore(L.empty,!0);return s?new jr(this,t,e.append(s),qe.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:qe.none:t}static compile(t,e){let r=Object.create(null);t.forEach((s,o)=>r[s]=new Kd(s,e,o));let i=e.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class rz{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class Qd{constructor(t,e,r,i){this.name=t,this.rank=e,this.schema=r,this.spec=i,this.attrs=l2(i.attrs),this.excluded=null;let s=o2(this.attrs);this.instance=s?new qe(this,s):null}create(t=null){return!t&&this.instance?this.instance:new qe(this,a2(this.attrs,t))}static compile(t,e){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Qd(s,i++,e,o)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}function c2(n,t){let e=[];for(let r=0;r<t.length;r++){let i=t[r],s=n.marks[i],o=s;if(s)e.push(s);else for(let a in n.marks){let l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&e.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return e}class Ys{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,e={}){let r=new h2(this,e,!1);return r.addAll(t,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new h2(this,e,!0);return r.addAll(t,e.from,e.to),j.maxOpen(r.finish())}matchTag(t,e,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(az(t,s.tag)&&(void 0===s.namespace||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(!1===o)continue;s.attrs=o||void 0}return s}}}matchStyle(t,e,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(0!=a.indexOf(t)||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(61!=a.charCodeAt(t.length)||a.slice(t.length+1)!=e))){if(o.getAttrs){let l=o.getAttrs(e);if(!1===l)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let e=[];function r(i){let s=null==i.priority?50:i.priority,o=0;for(;o<e.length;o++){let a=e[o];if((null==a.priority?50:a.priority)<s)break}e.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=f2(o)),o.mark=i})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=f2(o)),o.node=i})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Ys(t,Ys.schemaRules(t)))}}const u2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},sz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},d2={ol:!0,ul:!0};function p2(n,t,e){return null!=t?(t?1:0)|("full"===t?2:0):n&&"pre"==n.whitespace?3:-5&e}class Jd{constructor(t,e,r,i,s,o,a){this.type=t,this.attrs=e,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=qe.none,this.stashMarks=[],this.match=o||(4&a?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(L.from(t));if(!e){let i,r=this.type.contentMatch;return(i=r.findWrapping(t.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let i,r=this.content[this.content.length-1];if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let e=L.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,r=this.pendingMarks;e<r.length;e++){let i=r[e];(this.type?this.type.allowsMarkType(i.type):cz(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!u2.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class h2{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let s,i=e.topNode,o=p2(null,e.preserveWhitespace,0)|(r?4:0);s=i?new Jd(i.type,i.attrs,qe.none,qe.none,!0,e.topMatch||i.type.contentMatch,o):new Jd(r?null:t.schema.topNodeType,null,qe.none,qe.none,!0,null,o),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),r=e?this.readStyles(function lz(n){let e,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=t.exec(n);)r.push(e[1],e[2].trim());return r}(e)):null,i=this.top;if(null!=r)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(t),null!=r)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(t){let e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&"BR"==s.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let i,r=t.nodeName.toLowerCase();d2.hasOwnProperty(r)&&this.parser.normalizeLists&&function oz(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&d2.hasOwnProperty(r)&&e?(e.appendChild(t),t=e):"li"==r?e=t:r&&(e=null)}}(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,e));if(s?s.ignore:sz.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(u2.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(t,s,!1===s.consuming?i:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=qe.none;e:for(let r=0;r<t.length;r+=2)for(let i;;){let s=this.parser.matchStyle(t[r],t[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(e=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(e),!1!==s.consuming)break;i=s}return e}addElementByRule(t,e,r){let i,s,o;e.node?(s=this.parser.schema.nodes[e.node],s.isLeaf?this.insertNode(s.create(e.attrs))||this.leafFallback(t):i=this.enter(s,e.attrs||null,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;"string"==typeof e.contentElement?l=t.querySelector(e.contentElement):"function"==typeof e.contentElement?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,r){let i=e||0;for(let s=e?t.childNodes[e]:t.firstChild,o=null==r?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let e,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,r=s,!o.length)||s.solid)break}if(!e)return!1;this.sync(r);for(let i=0;i<e.length;i++)this.enterInner(e[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let r=e.activeMarks;for(let i=0;i<t.marks.length;i++)(!e.type||e.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return e.content.push(t.mark(r)),!0}return!1}enter(t,e,r){let i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,r),i}enterInner(t,e=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=p2(t,i,s.options);4&s.options&&0==s.content.length&&(o|=4),this.nodes.push(new Jd(t,e,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&e.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),s=(i?0:1)-(r?r.depth+1:0),o=(a,l)=>{for(;a>=0;a--){let d=e[a];if(""==d){if(a==e.length-1||0==a)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}{let f=l>0||0==l&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=d&&-1==f.groups.indexOf(d))return!1;l--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let e in this.parser.schema.nodes){let r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let e=function uz(n,t){for(let e=0;e<t.length;e++)if(n.eq(t[e]))return t[e]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==e)break}}}function az(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function f2(n){let t={};for(let e in n)t[e]=n[e];return t}function cz(n,t){let e=t.schema.nodes;for(let r in e){let i=e[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:d,next:f}=a.edge(l);if(d==t||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class Wr{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=Kg(e).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let d=o.marks[l];if(this.marks[d.type.name]){if(!d.eq(s[a][0])||!1===d.type.spec.spanning)break;a++,l++}else l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let d=o.marks[l++],f=this.serializeMark(d,o.isInline,e);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,e))}),r}serializeNodeInner(t,e){let{dom:r,contentDOM:i}=Wr.renderSpec(Kg(e),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,i)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,e,r={}){let i=this.marks[t.type.name];return i&&Wr.renderSpec(Kg(r),i(t,e))}static renderSpec(t,e,r=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let i=e[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?t.createElementNS(r,i):t.createElement(i),l=e[1],d=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){d=2;for(let f in l)if(null!=l[f]){let g=f.indexOf(" ");g>0?a.setAttributeNS(f.slice(0,g),f.slice(g+1),l[f]):a.setAttribute(f,l[f])}}for(let f=d;f<e.length;f++){let g=e[f];if(0===g){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:_,contentDOM:C}=Wr.renderSpec(t,g,r);if(a.appendChild(_),C){if(o)throw new RangeError("Multiple content holes");o=C}}}return{dom:a,contentDOM:o}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Wr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=m2(t.nodes);return e.text||(e.text=r=>r.text),e}static marksFromSchema(t){return m2(t.marks)}}function m2(n){let t={};for(let e in n){let r=n[e].spec.toDOM;r&&(t[e]=r)}return t}function Kg(n){return n.document||window.document}const _2=Math.pow(2,16);function dz(n,t){return n+t*_2}function v2(n){return 65535&n}class Qg{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class tr{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&tr.empty)return tr.empty}recover(t){let e=0,r=v2(t);if(!this.inverted)for(let i=0;i<r;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+e+function pz(n){return(n-(65535&n))/_2}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let d=this.ranges[a+s],f=this.ranges[a+o],g=l+d;if(t<=g){let C=l+i+((d?t==l?-1:t==g?1:e:e)<0?0:f);if(r)return C;let b=t==(e<0?l:g)?null:dz(a/3,t-l),T=t==l?2:t==g?1:4;return(e<0?t!=l:t!=g)&&(T|=8),new Qg(C,T,b)}i+=f-d}return r?t+i:new Qg(t+i,0,null)}touches(t,e){let r=0,i=v2(e),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let d=this.ranges[a+s];if(t<=l+d&&a==3*i)return!0;r+=this.ranges[a+o]-d}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),d=this.ranges[i+e],f=this.ranges[i+r];t(a,a+d,l,l+f),s+=f-d}}invert(){return new tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?tr.empty:new tr(t<0?[0,-t,0]:[0,0,t])}}tr.empty=new tr([]);class pa{constructor(t=[],e,r=0,i=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=i}slice(t=0,e=this.maps.length){return new pa(this.maps,this.mirror,t,e)}copy(){return new pa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?r+i:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?r-i-1:void 0)}}invert(){let t=new pa;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s].mapResult(t,e);if(null!=a.recover){let l=this.getMirror(s);if(null!=l&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new Qg(t,i,null)}}const Xg=Object.create(null);class kn{getMap(){return tr.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Xg[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Xg)throw new RangeError("Duplicate use of step JSON ID "+t);return Xg[t]=e,e.prototype.jsonID=t,e}}class Dt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Dt(t,null)}static fail(t){return new Dt(null,t)}static fromReplace(t,e,r,i){try{return Dt.ok(t.replace(e,r,i))}catch(s){if(s instanceof Zl)return Dt.fail(s.message);throw s}}}function Yg(n,t,e){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Yg(s.content,t,s))),s.isInline&&(s=t(s,e,i)),r.push(s)}return L.fromArray(r)}class Xi extends kn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new j(Yg(e.content,(o,a)=>o.isAtom&&a.type.allowsMarkType(this.mark.type)?o.mark(this.mark.addToSet(o.marks)):o,i),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,s)}invert(){return new qr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Xi(e.pos,r.pos,this.mark)}merge(t){return t instanceof Xi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Xi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xi(e.from,e.to,t.markFromJSON(e.mark))}}kn.jsonID("addMark",Xi);class qr extends kn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new j(Yg(e.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,r)}invert(){return new Xi(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new qr(e.pos,r.pos,this.mark)}merge(t){return t instanceof qr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new qr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qr(e.from,e.to,t.markFromJSON(e.mark))}}kn.jsonID("removeMark",qr);class Yi extends kn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new j(L.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let r=this.mark.addToSet(e.marks);if(r.length==e.marks.length){for(let i=0;i<e.marks.length;i++)if(!e.marks[i].isInSet(r))return new Yi(this.pos,e.marks[i]);return new Yi(this.pos,this.mark)}}return new ha(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Yi(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yi(e.pos,t.markFromJSON(e.mark))}}kn.jsonID("addNodeMark",Yi);class ha extends kn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new j(L.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Yi(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ha(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ha(e.pos,t.markFromJSON(e.mark))}}kn.jsonID("removeNodeMark",ha);class en extends kn{constructor(t,e,r,i=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=i}apply(t){return this.structure&&Jg(t,this.from,this.to)?Dt.fail("Structure replace would overwrite content"):Dt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new tr([this.from,this.to-this.from,this.slice.size])}invert(t){return new en(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new en(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof en)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?j.empty:new j(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new en(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?j.empty:new j(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new en(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new en(e.from,e.to,j.fromJSON(t,e.slice),!!e.structure)}}kn.jsonID("replace",en);class Bt extends kn{constructor(t,e,r,i,s,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Jg(t,this.from,this.gapFrom)||Jg(t,this.gapTo,this.to)))return Dt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?Dt.fromReplace(t,this.from,this.to,r):Dt.fail("Content does not fit in gap")}getMap(){return new tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Bt(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||i<e.pos||s>r.pos?null:new Bt(e.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bt(e.from,e.to,e.gapFrom,e.gapTo,j.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Jg(n,t,e){let r=n.resolve(t),i=e-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function gz(n,t,e){return(0==t||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function rc(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,e))return r;if(0==r||i.type.spec.isolating||!gz(i,s,o))break}return null}function Zg(n,t,e=null,r=n){let i=function vz(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.contentMatchAt(r).findWrapping(t);return s&&e.canReplaceWith(r,i,s.length?s[0]:t)?s:null}(n,t),s=i&&function yz(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let d=r;l&&d<i;d++)l=l.matchType(e.child(d).type);return l&&l.validEnd?o:null}(r,t);return s?i.map(k2).concat({type:t,attrs:e}).concat(s.map(k2)):null}function k2(n){return{type:n,attrs:null}}function fa(n,t,e=1,r){let i=n.resolve(t),s=i.depth-e,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=e-2;d>s;d--,f--){let g=i.node(d),_=i.index(d);if(g.type.spec.isolating)return!1;let C=g.content.cutByIndex(_,g.childCount),b=r&&r[f+1];b&&(C=C.replaceChild(0,b.type.create(b.attrs)));let T=r&&r[f]||g;if(!g.canReplace(_+1,g.childCount)||!T.type.validContent(C))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function e_(n,t){let e=n.resolve(t),r=e.index();return function D2(n,t){return!(!n||!t||n.isLeaf||!n.canAppend(t))}(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(r,r+1)}function t_(n,t,e=t,r=j.empty){if(t==e&&!r.size)return null;let i=n.resolve(t),s=n.resolve(e);return T2(i,s,r)?new en(t,e,r):new xz(i,s,r).fit()}function T2(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}kn.jsonID("replaceAround",Bt);class xz{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=L.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=L.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&1==s.childCount;)s=s.firstChild.content,o--,a--;let l=new j(s,o,a);return t>-1?new Bt(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new en(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=e.firstChild;if(e.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}e=s.content}for(let e=1;e<=2;e++)for(let r=1==e?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=n_(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let f,{type:l,match:d}=this.frontier[a],g=null;if(1==e&&(o?d.matchType(o.type)||(g=d.fillBefore(L.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:g};if(2==e&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=n_(t,e);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new j(t,e+1,Math.max(r,i.size+e>=t.size-r?e+1:0)),0))}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=n_(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new j(ic(t,e-1,1),e-1,s?e-1:r)}else this.unplaced=new j(ic(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let T=0;T<s.length;T++)this.openFrontierNode(s[T]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,d=0,f=[],{match:g,type:_}=this.frontier[e];if(i){for(let T=0;T<i.childCount;T++)f.push(i.child(T));g=g.matchFragment(i)}let C=a.size+t-(o.content.size-o.openEnd);for(;d<a.childCount;){let T=a.child(d),M=g.matchType(T.type);if(!M)break;d++,(d>1||0==l||T.content.size)&&(g=M,f.push(S2(T.mark(_.allowedMarks(T.marks)),1==d?l:0,d==a.childCount?C:-1)))}let b=d==a.childCount;b||(C=-1),this.placed=sc(this.placed,e,L.from(f)),this.frontier[e].match=g,b&&C<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,M=a;T<C;T++){let P=M.lastChild;this.frontier.push({type:P.type,match:P.contentMatchAt(P.childCount)}),M=P.content}this.unplaced=b?0==t?j.empty:new j(ic(o.content,t-1,1),t-1,C<0?o.openEnd:t-1):new j(ic(o.content,t,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!r_(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:i}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=r_(t,e,i,r,s);if(o){for(let a=e-1;a>=0;a--){let{match:l,type:d}=this.frontier[a],f=r_(t,a,d,l,!0);if(!f||f.childCount)continue e}return{depth:e,fit:o,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=sc(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,e=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=sc(this.placed,this.depth,L.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(L.empty,!0);e.childCount&&(this.placed=sc(this.placed,this.frontier.length,e))}}function ic(n,t,e){return 0==t?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(ic(n.firstChild.content,t-1,e)))}function sc(n,t,e){return 0==t?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(sc(n.lastChild.content,t-1,e)))}function n_(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function S2(n,t,e){if(t<=0)return n;let r=n.content;return t>1&&(r=r.replaceChild(0,S2(r.firstChild,t-1,1==r.childCount?e-1:0))),t>0&&(r=n.type.contentMatch.fillBefore(r).append(r),e<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(L.empty,!0)))),n.copy(r)}function r_(n,t,e,r,i){let s=n.node(t),o=i?n.indexAfter(t):n.index(t);if(o==s.childCount&&!e.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!function Ez(n,t,e){for(let r=e;r<t.childCount;r++)if(!n.allowsMarks(t.child(r).marks))return!0;return!1}(e,s.content,o)?a:null}function Iz(n){return n.spec.defining||n.spec.definingForContent}function w2(n,t,e,r,i){if(t<e){let s=n.firstChild;n=n.replaceChild(0,s.copy(w2(s.content,t+1,e,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(L.empty,!0))}return n}function M2(n,t){let e=[];for(let i=Math.min(n.depth,t.depth);i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||t.end(i)>t.pos+(t.depth-i)||n.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==n.depth&&i==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&e.push(i)}return e}class ma extends kn{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let i=e.type.create(r,null,e.marks);return Dt.fromReplace(t,this.pos,this.pos+1,new j(L.from(i),0,e.isLeaf?0:1))}getMap(){return tr.empty}invert(t){return new ma(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ma(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ma(e.pos,e.attr,e.value)}}kn.jsonID("attr",ma);let ga=class extends Error{};ga=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e},(ga.prototype=Object.create(Error.prototype)).constructor=ga,ga.prototype.name="TransformError";const i_=Object.create(null);class Ae{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new Rz(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=j.empty){let r=e.content.lastChild,i=null;for(let a=0;a<e.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:d}=o[a],f=t.mapping.slice(s);t.replaceRange(f.map(l.pos),f.map(d.pos),a?j.empty:e),0==a&&I2(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),d=l.map(o.pos),f=l.map(a.pos);s?t.deleteRange(d,f):(t.replaceRangeWith(d,f,e),I2(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let i=t.parent.inlineContent?new Re(t):_a(t.node(0),t.parent,t.pos,t.index(),e,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=e<0?_a(t.node(0),t.node(s),t.before(s+1),t.index(s),e,r):_a(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,r);if(o)return o}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Bn(t.node(0))}static atStart(t){return _a(t,t,0,0,1)||new Bn(t)}static atEnd(t){return _a(t,t,t.content.size,t.childCount,-1)||new Bn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=i_[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in i_)throw new RangeError("Duplicate use of selection JSON ID "+t);return i_[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Re.between(this.$anchor,this.$head).getBookmark()}}Ae.prototype.visible=!0;class Rz{constructor(t,e){this.$from=t,this.$to=e}}let x2=!1;function E2(n){!x2&&!n.parent.inlineContent&&(x2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Re extends Ae{constructor(t,e=t){E2(t),E2(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return Ae.near(r);let i=t.resolve(e.map(this.anchor));return new Re(i.parent.inlineContent?i:r,r)}replace(t,e=j.empty){if(super.replace(t,e),e==j.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Re&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ep(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Re(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let i=t.resolve(e);return new this(i,r==e?i:t.resolve(r))}static between(t,e,r){let i=t.pos-e.pos;if((!r||i)&&(r=i>=0?1:-1),!e.parent.inlineContent){let s=Ae.findFrom(e,r,!0)||Ae.findFrom(e,-r,!0);if(!s)return Ae.near(e,r);e=s.$head}return t.parent.inlineContent||(0==i||(t=(Ae.findFrom(t,-r,!0)||Ae.findFrom(t,r,!0)).$anchor).pos<e.pos!=i<0)&&(t=e),new Re(t,e)}}Ae.jsonID("text",Re);class ep{constructor(t,e){this.anchor=t,this.head=e}map(t){return new ep(t.map(this.anchor),t.map(this.head))}resolve(t){return Re.between(t.resolve(this.anchor),t.resolve(this.head))}}class ie extends Ae{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:i}=e.mapResult(this.anchor),s=t.resolve(i);return r?Ae.near(s):new ie(s)}content(){return new j(L.from(this.node),0,0)}eq(t){return t instanceof ie&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new s_(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ie(t.resolve(e.anchor))}static create(t,e){return new ie(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}ie.prototype.visible=!1,Ae.jsonID("node",ie);class s_{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new ep(r,r):new s_(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&ie.isSelectable(r)?new ie(e):Ae.near(e)}}class Bn extends Ae{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=j.empty){if(e==j.empty){t.delete(0,t.doc.content.size);let r=Ae.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new Bn(t)}map(t){return new Bn(t)}eq(t){return t instanceof Bn}getBookmark(){return Fz}}Ae.jsonID("all",Bn);const Fz={map(){return this},resolve:n=>new Bn(n)};function _a(n,t,e,r,i,s=!1){if(t.inlineContent)return Re.create(n,e);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&ie.isSelectable(a))return ie.create(n,e-(i<0?a.nodeSize:0))}else{let l=_a(n,a,e+i,i<0?a.childCount:0,i,s);if(l)return l}e+=a.nodeSize*i}return null}function I2(n,t,e){let r=n.steps.length-1;if(r<t)return;let o,i=n.steps[r];(i instanceof en||i instanceof Bt)&&(n.mapping.maps[r].forEach((a,l,d,f)=>{null==o&&(o=f)}),n.setSelection(Ae.near(n.doc.resolve(o),e)))}class Lz extends class Nz{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new pa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new ga(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=j.empty){let i=t_(this.doc,t,e,r);return i&&this.step(i),this}replaceWith(t,e,r){return this.replace(t,e,new j(L.from(r),0,0))}delete(t,e){return this.replace(t,e,j.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return function Pz(n,t,e,r){if(!r.size)return n.deleteRange(t,e);let i=n.doc.resolve(t),s=n.doc.resolve(e);if(T2(i,s,r))return n.step(new en(t,e,r));let o=M2(i,n.doc.resolve(e));0==o[o.length-1]&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let _=i.depth,C=i.pos-1;_>0;_--,C--){let b=i.node(_).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(_)>-1?a=_:i.before(_)==C&&o.splice(1,0,-_)}let l=o.indexOf(a),d=[],f=r.openStart;for(let _=r.content,C=0;;C++){let b=_.firstChild;if(d.push(b),C==r.openStart)break;_=b.content}for(let _=f-1;_>=0;_--){let C=d[_],b=Iz(C.type);if(b&&!C.sameMarkup(i.node(Math.abs(a)-1)))f=_;else if(b||!C.type.isTextblock)break}for(let _=r.openStart;_>=0;_--){let C=(_+f+1)%(r.openStart+1),b=d[C];if(b)for(let T=0;T<o.length;T++){let M=o[(T+l)%o.length],P=!0;M<0&&(P=!1,M=-M);let E=i.node(M-1),R=i.index(M-1);if(E.canReplaceWith(R,R,b.type,b.marks))return n.replace(i.before(M),P?s.after(M):e,new j(w2(r.content,0,r.openStart,C),C,r.openEnd))}}let g=n.steps.length;for(let _=o.length-1;_>=0&&(n.replace(t,e,r),!(n.steps.length>g));_--){let C=o[_];C<0||(t=i.before(C),e=s.after(C))}}(this,t,e,r),this}replaceRangeWith(t,e,r){return function Az(n,t,e,r){if(!r.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let i=function wz(n,t,e){let r=n.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),e))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,e))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,e))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}(n.doc,t,r.type);null!=i&&(t=e=i)}n.replaceRange(t,e,new j(L.from(r),0,0))}(this,t,e,r),this}deleteRange(t,e){return function Oz(n,t,e){let r=n.doc.resolve(t),i=n.doc.resolve(e),s=M2(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&e>r.end(o)&&i.end(o)-e!=i.depth-o)return n.delete(r.before(o),e);n.delete(t,e)}(this,t,e),this}lift(t,e){return function _z(n,t,e){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,d=a,f=L.empty,g=0;for(let b=s,T=!1;b>e;b--)T||r.index(b)>0?(T=!0,f=L.from(r.node(b).copy(f)),g++):l--;let _=L.empty,C=0;for(let b=s,T=!1;b>e;b--)T||i.after(b+1)<i.end(b)?(T=!0,_=L.from(i.node(b).copy(_)),C++):d++;n.step(new Bt(l,d,o,a,new j(f.append(_),g,C),f.size-g,!0))}(this,t,e),this}join(t,e=1){return function Sz(n,t,e){let r=new en(t-e,t+e,j.empty,!0);n.step(r)}(this,t,e),this}wrap(t,e){return function Cz(n,t,e){let r=L.empty;for(let o=e.length-1;o>=0;o--){if(r.size){let a=e[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=L.from(e[o].type.create(e[o].attrs,r))}let i=t.start,s=t.end;n.step(new Bt(i,s,i,s,new j(r,0,0),e.length,!0))}(this,t,e),this}setBlockType(t,e=t,r,i=null){return function bz(n,t,e,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(t,e,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&function kz(n,t,e){let r=n.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,e)}(n.doc,n.mapping.slice(s).map(a),r)){n.clearIncompatible(n.mapping.slice(s).map(a,1),r);let l=n.mapping.slice(s),d=l.map(a,1),f=l.map(a+o.nodeSize,1);return n.step(new Bt(d,f,d+1,f-1,new j(L.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}(this,t,e,r,i),this}setNodeMarkup(t,e,r=null,i){return function Dz(n,t,e,r,i){let s=n.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");e||(e=s.type);let o=e.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(t,t+s.nodeSize,o);if(!e.validContent(s.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new Bt(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new j(L.from(o),0,0),1,!0))}(this,t,e,r,i),this}setNodeAttribute(t,e,r){return this.step(new ma(t,e,r)),this}addNodeMark(t,e){return this.step(new Yi(t,e)),this}removeNodeMark(t,e){if(!(e instanceof qe)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(r.marks)))return this}return this.step(new ha(t,e)),this}split(t,e=1,r){return function Tz(n,t,e=1,r){let i=n.doc.resolve(t),s=L.empty,o=L.empty;for(let a=i.depth,l=i.depth-e,d=e-1;a>l;a--,d--){s=L.from(i.node(a).copy(s));let f=r&&r[d];o=L.from(f?f.type.create(f.attrs,o):i.node(a).copy(o))}n.step(new en(t,t,new j(s.append(o),e,e),!0))}(this,t,e,r),this}addMark(t,e,r){return function hz(n,t,e,r){let o,a,i=[],s=[];n.doc.nodesBetween(t,e,(l,d,f)=>{if(!l.isInline)return;let g=l.marks;if(!r.isInSet(g)&&f.type.allowsMarkType(r.type)){let _=Math.max(d,t),C=Math.min(d+l.nodeSize,e),b=r.addToSet(g);for(let T=0;T<g.length;T++)g[T].isInSet(b)||(o&&o.to==_&&o.mark.eq(g[T])?o.to=C:i.push(o=new qr(_,C,g[T])));a&&a.to==_?a.to=C:s.push(a=new Xi(_,C,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}(this,t,e,r),this}removeMark(t,e,r){return function fz(n,t,e,r){let i=[],s=0;n.doc.nodesBetween(t,e,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Qd){let f,d=o.marks;for(;f=r.isInSet(d);)(l||(l=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let d=Math.min(a+o.nodeSize,e);for(let f=0;f<l.length;f++){let _,g=l[f];for(let C=0;C<i.length;C++){let b=i[C];b.step==s-1&&g.eq(i[C].style)&&(_=b)}_?(_.to=d,_.step=s):i.push({style:g,from:Math.max(a,t),to:d,step:s})}}}),i.forEach(o=>n.step(new qr(o.from,o.to,o.style)))}(this,t,e,r),this}clearIncompatible(t,e,r){return function mz(n,t,e,r=e.contentMatch){let i=n.doc.nodeAt(t),s=[],o=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),d=o+l.nodeSize,f=r.matchType(l.type);if(f){r=f;for(let g=0;g<l.marks.length;g++)e.allowsMarkType(l.marks[g].type)||n.step(new qr(o,d,l.marks[g]));if(l.isText&&!e.spec.code){let g,C,_=/\r?\n|\r/g;for(;g=_.exec(l.text);)C||(C=new j(L.from(e.schema.text(" ",e.allowedMarks(l.marks))),0,0)),s.push(new en(o+g.index,o+g.index+g[0].length,C))}}else s.push(new en(o,d,j.empty));o=d}if(!r.validEnd){let a=r.fillBefore(L.empty,!0);n.replace(o,o,new j(a,0,0))}for(let a=s.length-1;a>=0;a--)n.step(s[a])}(this,t,e,r),this}}{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return qe.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||qe.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=e),r=null==r?e:r,!t)return this.deleteRange(e,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(e);s=r==e?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,i.text(t,s)),this.selection.empty||this.setSelection(Ae.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function O2(n,t){return t&&n?n.bind(t):n}class oc{constructor(t,e,r){this.name=t,this.init=O2(e.init,r),this.apply=O2(e.apply,r)}}const Bz=[new oc("doc",{init:n=>n.doc||n.schema.topNodeType.createAndFill(),apply:n=>n.doc}),new oc("selection",{init:(n,t)=>n.selection||Ae.atStart(t.doc),apply:n=>n.selection}),new oc("storedMarks",{init:n=>n.storedMarks||null,apply:(n,t,e,r)=>r.selection.$cursor?n.storedMarks:null}),new oc("scrollToSelection",{init:()=>0,apply:(n,t)=>n.scrolledIntoView?t+1:t})];class o_{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Bz.slice(),e&&e.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new oc(r.key,r.spec.state,r))})}}class va{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,d=i?i[o].state:this,f=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,d,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<o?{state:r,n:e.length}:{state:this,n:0})}e.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:e.length})}}if(!s)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new va(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];e[s.name]=s.apply(t,this[s.name],this,e)}return e}get tr(){return new Lz(this)}static create(t){let e=new o_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new va(e);for(let i=0;i<e.fields.length;i++)r[e.fields[i].name]=e.fields[i].init(t,r);return r}reconfigure(t){let e=new o_(this.schema,t.plugins),r=e.fields,i=new va(e);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(e[r]=s.toJSON.call(i,this[i.key]))}return e}static fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new o_(t.schema,t.plugins),s=new va(i);return i.fields.forEach(o=>{if("doc"==o.name)s.doc=jr.fromJSON(t.schema,e.doc);else if("selection"==o.name)s.selection=Ae.fromJSON(s.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],d=l.spec.state;if(l.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(s[o.name]=d.fromJSON.call(l,t,e[a],s))}s[o.name]=o.init(t,s)}}),s}}function N2(n,t,e){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=N2(i,t,{})),e[r]=i}return e}class Gr{constructor(t){this.spec=t,this.props={},t.props&&N2(t.props,this,this.props),this.key=t.key?t.key.key:R2("plugin")}getState(t){return t[this.key]}}const a_=Object.create(null);function R2(n){return n in a_?n+"$"+ ++a_[n]:(a_[n]=0,n+"$")}class ki{constructor(t="key"){this.key=R2(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Ji="undefined"!=typeof navigator?navigator:null,F2="undefined"!=typeof document?document:null,Zi=Ji&&Ji.userAgent||"",l_=/Edge\/(\d+)/.exec(Zi),L2=/MSIE \d/.exec(Zi),c_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zi),Vn=!!(L2||c_||l_),es=L2?document.documentMode:c_?+c_[1]:l_?+l_[1]:0,Kr=!Vn&&/gecko\/(\d+)/i.test(Zi);Kr&&/Firefox\/(\d+)/.exec(Zi);const u_=!Vn&&/Chrome\/(\d+)/.exec(Zi),fn=!!u_,Vz=u_?+u_[1]:0,Dn=!Vn&&!!Ji&&/Apple Computer/.test(Ji.vendor),ya=Dn&&(/Mobile\/\w+/.test(Zi)||!!Ji&&Ji.maxTouchPoints>2),nr=ya||!!Ji&&/Mac/.test(Ji.platform),Qr=/Android \d/.test(Zi),np=!!F2&&"webkitFontSmoothing"in F2.documentElement.style,Hz=np?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Hn=function(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t},d_=function(n){let t=n.assignedSlot||n.parentNode;return t&&11==t.nodeType?t.host:t};let B2=null;const Di=function(n,t,e){let r=B2||(B2=document.createRange());return r.setEnd(n,null==e?n.nodeValue.length:e),r.setStart(n,t||0),r},ac=function(n,t,e,r){return e&&(V2(n,t,e,r,-1)||V2(n,t,e,r,1))},zz=/^(img|br|input|textarea|hr)$/i;function V2(n,t,e,r,i){for(;;){if(n==e&&t==r)return!0;if(t==(i<0?0:Xr(n))){let s=n.parentNode;if(!s||1!=s.nodeType||Uz(n)||zz.test(n.nodeName)||"false"==n.contentEditable)return!1;t=Hn(n)+(i<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if("false"==(n=n.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?Xr(n):0}}}function Xr(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function Uz(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const p_=function(n){let t=n.isCollapsed;return t&&fn&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(t=!1),t};function Ca(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function jz(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ts(n,t){return"number"==typeof n?n:n[t]}function Wz(n){let t=n.getBoundingClientRect();return{left:t.left,right:t.left+n.clientWidth*(t.width/n.offsetWidth||1),top:t.top,bottom:t.top+n.clientHeight*(t.height/n.offsetHeight||1)}}function H2(n,t,e){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=e||n.dom;o;o=d_(o)){if(1!=o.nodeType)continue;let a=o,l=a==s.body,d=l?jz(s):Wz(a),f=0,g=0;if(t.top<d.top+ts(r,"top")?g=-(d.top-t.top+ts(i,"top")):t.bottom>d.bottom-ts(r,"bottom")&&(g=t.bottom-d.bottom+ts(i,"bottom")),t.left<d.left+ts(r,"left")?f=-(d.left-t.left+ts(i,"left")):t.right>d.right-ts(r,"right")&&(f=t.right-d.right+ts(i,"right")),f||g)if(l)s.defaultView.scrollBy(f,g);else{let _=a.scrollLeft,C=a.scrollTop;g&&(a.scrollTop+=g),f&&(a.scrollLeft+=f);let b=a.scrollLeft-_,T=a.scrollTop-C;t={left:t.left-b,top:t.top-T,right:t.right-b,bottom:t.bottom-T}}if(l)break}}function z2(n){let t=[],e=n.ownerDocument;for(let r=n;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=e);r=d_(r));return t}function $2(n,t){for(let e=0;e<n.length;e++){let{dom:r,top:i,left:s}=n[e];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ba=null;function U2(n,t){let e,i,r=2e8,s=0,o=t.top,a=t.top;for(let l=n.firstChild,d=0;l;l=l.nextSibling,d++){let f;if(1==l.nodeType)f=l.getClientRects();else{if(3!=l.nodeType)continue;f=Di(l).getClientRects()}for(let g=0;g<f.length;g++){let _=f[g];if(_.top<=o&&_.bottom>=a){o=Math.max(_.bottom,o),a=Math.min(_.top,a);let C=_.left>t.left?_.left-t.left:_.right<t.left?t.left-_.right:0;if(C<r){e=l,r=C,i=C&&3==e.nodeType?{left:_.right<t.left?_.right:_.left,top:t.top}:t,1==l.nodeType&&C&&(s=d+(t.left>=(_.left+_.right)/2?1:0));continue}}!e&&(t.left>=_.right&&t.top>=_.top||t.left>=_.left&&t.top>=_.bottom)&&(s=d+1)}}return e&&3==e.nodeType?function Qz(n,t){let e=n.nodeValue.length,r=document.createRange();for(let i=0;i<e;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=ns(r,1);if(s.top!=s.bottom&&h_(t,s))return{node:n,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}(e,i):!e||r&&1==e.nodeType?{node:n,offset:s}:U2(e,i)}function h_(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function j2(n,t,e){let r=n.childNodes.length;if(r&&e.top<e.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-e.top)/(e.bottom-e.top))-2)),s=i;;){let o=n.childNodes[s];if(1==o.nodeType){let a=o.getClientRects();for(let l=0;l<a.length;l++){let d=a[l];if(h_(t,d))return j2(o,t,d)}}if((s=(s+1)%r)==i)break}return n}function Zz(n,t){let r,e=n.dom.ownerDocument,i=0;if(e.caretPositionFromPoint)try{let l=e.caretPositionFromPoint(t.left,t.top);l&&({offsetNode:r,offset:i}=l)}catch(l){}if(!r&&e.caretRangeFromPoint){let l=e.caretRangeFromPoint(t.left,t.top);l&&({startContainer:r,startOffset:i}=l)}let o,s=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top+1);if(!s||!n.dom.contains(1!=s.nodeType?s.parentNode:s)){let l=n.dom.getBoundingClientRect();if(!h_(t,l)||(s=j2(n.dom,t,l),!s))return null}if(Dn)for(let l=s;r&&l;l=d_(l))l.draggable&&(r=void 0);if(s=function Xz(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}(s,t),r){if(Kr&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d,l=r.childNodes[i];"IMG"==l.nodeName&&(d=l.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}r==n.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?o=n.state.doc.content.size:(0==i||1!=r.nodeType||"BR"!=r.childNodes[i-1].nodeName)&&(o=function Jz(n,t,e,r){let i=-1;for(let s=t;s!=n.dom;){let o=n.docView.nearestDesc(s,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let a=o.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=o.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=o.posAfter}}s=o.dom.parentNode}return i>-1?i:n.docView.posFromDOM(t,e,1)}(n,r,i,t))}null==o&&(o=function Yz(n,t,e){let{node:r,offset:i}=U2(t,e),s=-1;if(1==r.nodeType&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&e.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}(n,s,t));let a=n.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function ns(n,t){let e=n.getClientRects();return e.length?e[t<0?0:e.length-1]:n.getBoundingClientRect()}const e$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function W2(n,t,e){let{node:r,offset:i}=n.docView.domFromPos(t,e<0?-1:1),s=np||Kr;if(3==r.nodeType){if(!s||!e$.test(r.nodeValue)&&(e<0?i:i!=r.nodeValue.length)){let o=i,a=i,l=e<0?1:-1;return e<0&&!i?(a++,l=-1):e>=0&&i==r.nodeValue.length?(o--,l=1):e<0?o--:a++,lc(ns(Di(r,o,a),l),l<0)}{let o=ns(Di(r,i,i),e);if(Kr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=ns(Di(r,i-1,i-1),-1);if(a.top==o.top){let l=ns(Di(r,i,i+1),-1);if(l.top!=o.top)return lc(l,l.left<a.left)}}return o}}if(!n.state.doc.resolve(t).parent.inlineContent){if(i&&(e<0||i==Xr(r))){let o=r.childNodes[i-1];if(1==o.nodeType)return f_(o.getBoundingClientRect(),!1)}if(i<Xr(r)){let o=r.childNodes[i];if(1==o.nodeType)return f_(o.getBoundingClientRect(),!0)}return f_(r.getBoundingClientRect(),e>=0)}if(i&&(e<0||i==Xr(r))){let o=r.childNodes[i-1],a=3==o.nodeType?Di(o,Xr(o)-(s?0:1)):1!=o.nodeType||"BR"==o.nodeName&&o.nextSibling?null:o;if(a)return lc(ns(a,1),!1)}if(i<Xr(r)){let o=r.childNodes[i];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let a=o?3==o.nodeType?Di(o,0,s?0:1):1==o.nodeType?o:null:null;if(a)return lc(ns(a,-1),!0)}return lc(ns(3==r.nodeType?Di(r):r,-e),e>=0)}function lc(n,t){if(0==n.width)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function f_(n,t){if(0==n.height)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function q2(n,t,e){let r=n.state,i=n.root.activeElement;r!=t&&n.updateState(t),i!=n.dom&&n.focus();try{return e()}finally{r!=t&&n.updateState(r),i!=n.dom&&i&&i.focus()}}const n$=/[\u0590-\u08ac]/;let G2=null,K2=null,Q2=!1;class cc{constructor(t,e,r,i){this.parent=t,this.children=e,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let i=this.children[e];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}{let s,o;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}}let i;if(t==this.dom&&this.contentDOM)i=e>Hn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(null==i&&e==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(null==i?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,i=t;i;i=i.parentNode){let o,s=this.getDesc(i);if(s&&(!e||s.node)){if(!r||!(o=s.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return s;r=!1}}}getDesc(t){let e=t.pmViewDesc;for(let r=e;r;r=r.parent)if(r==this)return e}posFromDOM(t,e,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let i=this.children[e],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};let s,r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof Z2){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(s=this.children[r-1]).size&&s instanceof Y2&&s.side>=0;r--);if(e<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,s&&s.dom.parentNode!=this.contentDOM;r--,o=!1);return s&&e&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,e):{node:this.contentDOM,offset:s?Hn(s.dom)+1:0}}{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,s&&s.dom.parentNode!=this.contentDOM;r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,e):{node:this.contentDOM,offset:s?Hn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],d=o+l.size;if(-1==i&&t<=d){let f=o+l.border;if(t>=f&&e<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,f);t=o;for(let g=a;g>0;g--){let _=this.children[g-1];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(1)){i=Hn(_.dom)+1;break}t-=_.size}-1==i&&(i=0)}if(i>-1&&(d>e||a==this.children.length-1)){e=d;for(let f=a+1;f<this.children.length;f++){let g=this.children[f];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=Hn(g.dom);break}e+=g.size}-1==s&&(s=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(1!=e.nodeType||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,i=!1){let s=Math.min(t,e),o=Math.max(t,e);for(let _=0,C=0;_<this.children.length;_++){let b=this.children[_],T=C+b.size;if(s>C&&o<T)return b.setSelection(t-C-b.border,e-C-b.border,r,i);C=T}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),d=r.getSelection(),f=!1;if((Kr||Dn)&&t==e){let{node:_,offset:C}=a;if(3==_.nodeType){if(f=!(!C||"\n"!=_.nodeValue[C-1]),f&&C==_.nodeValue.length)for(let T,b=_;b;b=b.parentNode){if(T=b.nextSibling){"BR"==T.nodeName&&(a=l={node:T.parentNode,offset:Hn(T)+1});break}let M=b.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let b=_.childNodes[C-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Kr&&d.focusNode&&d.focusNode!=l.node&&1==d.focusNode.nodeType){let _=d.focusNode.childNodes[d.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(!(i||f&&Dn)&&ac(a.node,a.offset,d.anchorNode,d.anchorOffset)&&ac(l.node,l.offset,d.focusNode,d.focusOffset))return;let g=!1;if((d.extend||t==e)&&!f){d.collapse(a.node,a.offset);try{t!=e&&d.extend(l.node,l.offset),g=!0}catch(_){if(!(_ instanceof DOMException))throw _}}if(!g){if(t>e){let C=a;a=l,l=C}let _=document.createRange();_.setEnd(l.node,l.offset),_.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(_)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&e>=r:t<o&&e>r){let a=r+s.border,l=o-s.border;if(t>=a&&e<=l)return this.dirty=t==r||e==o?2:1,void(t!=a||e!=l||!s.contentLost&&s.dom.parentNode==this.contentDOM?s.markDirty(t-a,e-a):s.dirty=3);s.dirty=s.dom!=s.contentDOM||s.dom.parentNode!=this.contentDOM||s.children.length?3:2}r=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=1==t?2:1;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Y2 extends cc{constructor(t,e,r,i){let s,o=e.type.toDOM;if("function"==typeof o&&(o=o(r,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i)),!e.type.spec.raw){if(1!=o.nodeType){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,s=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class s$ extends cc{constructor(t,e,r,i){super(t,[],e,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class Js extends cc{constructor(t,e,r,i){super(t,[],r,i),this.mark=e}static create(t,e,r,i){let s=i.nodeViews[e.type.name],o=s&&s(e,i,r);return(!o||!o.dom)&&(o=Wr.renderSpec(document,e.type.spec.toDOM(e,r))),new Js(t,e,o.dom,o.contentDOM||o.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(t,e,r){let i=Js.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;e<o&&(s=__(s,e,o,r)),t>0&&(s=__(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Zs extends cc{constructor(t,e,r,i,s,o,a,l,d){super(t,[],s,o),this.node=e,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,d)}static create(t,e,r,i,s,o){let l,a=s.nodeViews[e.type.name],d=a&&a(e,s,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:o,r,i),f=d&&d.dom,g=d&&d.contentDOM;if(e.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(e.text);else f||({dom:f,contentDOM:g}=Wr.renderSpec(document,e.type.spec.toDOM(e)));!g&&!e.isText&&"BR"!=f.nodeName&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),e.type.spec.draggable&&(f.draggable=!0));let _=f;return f=nw(f,r,e),d?l=new o$(t,e,r,i,f,g||null,_,d,s,o+1):e.isText?new rp(t,e,r,i,f,_,s):new Zs(t,e,r,i,f,g||null,_,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>L.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,r){return 0==this.dirty&&t.eq(this.node)&&g_(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,i=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new l$(this,o&&o.node);(function d$(n,t,e,r){let i=t.locals(n),s=0;if(0==i.length){for(let d=0;d<n.childCount;d++){let f=n.child(d);r(f,i,t.forChild(s,f),d),s+=f.nodeSize}return}let o=0,a=[],l=null;for(let d=0;;){if(o<i.length&&i[o].to==s){let T,b=i[o++];for(;o<i.length&&i[o].to==s;)(T||(T=[b])).push(i[o++]);if(T){T.sort(u$);for(let M=0;M<T.length;M++)e(T[M],d,!!l)}else e(b,d,!!l)}let f,g;if(l)g=-1,f=l,l=null;else{if(!(d<n.childCount))break;g=d,f=n.child(d++)}for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let _=s+f.nodeSize;if(f.isText){let b=_;o<i.length&&i[o].from<b&&(b=i[o].from);for(let T=0;T<a.length;T++)a[T].to<b&&(b=a[T].to);b<_&&(l=f.cut(b-s),f=f.cut(0,b-s),_=b,g=-1)}r(f,f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice(),t.forChild(s,f),g),s=_}})(this.node,this.innerDeco,(d,f,g)=>{d.spec.marks?l.syncToMarks(d.spec.marks,r,t):d.type.side>=0&&!g&&l.syncToMarks(f==this.node.childCount?qe.none:this.node.child(f).marks,r,t),l.placeWidget(d,t,i)},(d,f,g,_)=>{let C;l.syncToMarks(d.marks,r,t),l.findNodeMatch(d,f,g,_)||a&&t.state.selection.from>i&&t.state.selection.to<i+d.nodeSize&&(C=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(d,f,g,C,t)||l.updateNextNode(d,f,g,t,_)||l.addNode(d,f,g,t,i),i+=d.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),ew(this.contentDOM,this.children,t),ya&&function p$(n){if("UL"==n.nodeName||"OL"==n.nodeName){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n),n.style.cssText=t}}(this.dom))}localCompositionInfo(t,e){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Re)||r<e||i>e+this.node.content.size)return null;let s=t.domSelection(),o=function h$(n,t){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&t>0){if(n.childNodes.length>t&&3==n.childNodes[t].nodeType)return n.childNodes[t];t=Xr(n=n.childNodes[t-1])}else{if(!(1==n.nodeType&&t<n.childNodes.length))return null;n=n.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=function f$(n,t,e,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;l+=d.text}if(s>=e){let d=a<r?l.lastIndexOf(t,r-a-1):-1;if(d>=0&&d+t.length+a>=e)return a+d;if(e==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,a,r-e,i-e);return l<0?null:{node:o,pos:l,text:a}}return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:i}){if(this.getDesc(e))return;let s=e;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new s$(this,s,e,i);t.input.compositionNodes.push(o),this.children=__(this.children,r,r+i.length,t,o)}update(t,e,r,i){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,r,i),0))}updateInner(t,e,r,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(g_(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=tw(this.dom,this.nodeDOM,m_(this.outerDeco,this.node,e),m_(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function J2(n,t,e,r,i){return nw(r,t,n),new Zs(void 0,n,t,e,r,r,r,i,0)}class rp extends Zs{constructor(t,e,r,i,s,o,a){super(t,e,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,r){let i=this.node.cut(t,e),s=document.createTextNode(i.text);return new rp(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(0==t||e==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class Z2 extends cc{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class o$ extends Zs{constructor(t,e,r,i,s,o,a,l,d,f){super(t,e,r,i,s,o,a,d,f),this.spec=l}update(t,e,r,i){if(3==this.dirty)return!1;if(this.spec.update){let s=this.spec.update(t,e,r);return s&&this.updateInner(t,e,r,i),s}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,i){this.spec.setSelection?this.spec.setSelection(t,e,r):super.setSelection(t,e,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ew(n,t,e){let r=n.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=rw(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Js){let l=r?r.previousSibling:n.lastChild;ew(o.contentDOM,o.children,e),r=l?l.nextSibling:n.firstChild}}for(;r;)r=rw(r),i=!0;i&&e.trackWrites==n&&(e.trackWrites=null)}const uc=function(n){n&&(this.nodeName=n)};uc.prototype=Object.create(null);const eo=[new uc];function m_(n,t,e){if(0==n.length)return eo;let r=e?eo[0]:new uc,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new uc(o.nodeName));for(let a in o){let l=o[a];null!=l&&(e&&1==i.length&&i.push(r=new uc(t.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return i}function tw(n,t,e,r){if(e==eo&&r==eo)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=e[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=eo[0]),i=l}a$(i,a||eo[0],o)}return i}function a$(n,t,e){for(let r in t)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in e)&&n.removeAttribute(r);for(let r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&e[r]!=t[r]&&n.setAttribute(r,e[r]);if(t.class!=e.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=e.class?e.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)-1==i.indexOf(r[s])&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)-1==r.indexOf(i[s])&&n.classList.add(i[s]);0==n.classList.length&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;i=r.exec(t.style);)n.style.removeProperty(i[1])}e.style&&(n.style.cssText+=e.style)}}function nw(n,t,e){return tw(n,n,eo,m_(t,e,1!=n.nodeType))}function g_(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function rw(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class l${constructor(t,e){this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function c$(n,t){let e=t,r=e.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let d=e.children[r-1];if(!(d instanceof Js)){a=d,r--;break}e=d,r=d.children.length}else{if(e==t)break e;r=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(t[s])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Js.create(this.top,t[s],e,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,e,r,i){let o,s=-1;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let d=this.top.children[a];if(d.matchesNode(t,e,r)&&!this.preMatch.matched.has(d)){s=a;break}}return!(s<0||(this.destroyBetween(this.index,s),this.index++,0))}updateNodeAt(t,e,r,i,s){let o=this.top.children[i];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,r,s)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let r=t.pmViewDesc;if(r)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}t=e}}updateNextNode(t,e,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof Zs){let l=this.preMatch.matched.get(a);if(null!=l&&l!=s)return!1;let d=a.dom;if((!this.lock||!(d==this.lock||1==d.nodeType&&d.contains(this.lock.parentNode))||t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&g_(e,a.outerDeco))&&a.update(t,e,r,i))return this.destroyBetween(this.index,o),a.dom!=d&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,r,i,s){this.top.children.splice(this.index++,0,Zs.create(this.top,t,e,r,i,s)),this.changed=!0}placeWidget(t,e,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){let s=new Y2(this.top,t,e,r);this.top.children.splice(this.index++,0,s),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Js;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof rp)||/\n$/.test(t.node.text))&&((Dn||fn)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let i=new Z2(this.top,[],r,null);e!=this.top?e.children.push(i):e.children.splice(this.index++,0,i),this.changed=!0}}}function u$(n,t){return n.type.side-t.type.side}function __(n,t,e,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],d=a,f=a+=l.size;d>=e||f<=t?s.push(l):(d<t&&s.push(l.slice(0,t-d,r)),i&&(s.push(i),i=void 0),f>e&&s.push(l.slice(e-d,l.size,r)))}return s}function iw(n,t=null){let e=n.domSelection(),r=n.state.doc;if(!e.focusNode)return null;let i=n.docView.nearestDesc(e.focusNode),s=i&&0==i.size,o=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(o<0)return null;let l,d,a=r.resolve(o);if(p_(e)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ie.isSelectable(f)&&i.parent&&(!f.isInline||!function $z(n,t,e){for(let r=0==t,i=t==Xr(n);r||i;){if(n==e)return!0;let s=Hn(n);if(!(n=n.parentNode))return!1;r=r&&0==s,i=i&&s==Xr(n)}}(e.focusNode,e.focusOffset,i.dom))){let g=i.posBefore;d=new ie(o==g?a:r.resolve(g))}}else{let f=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(f<0)return null;l=r.resolve(f)}return d||(d=y_(n,l,a,"pointer"==t||n.state.selection.head<a.pos&&!s?1:-1)),d}function sw(n){return n.editable?n.hasFocus():pw(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function rs(n,t=!1){let e=n.state.selection;if(cw(n,e),sw(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&fn){let r=n.domSelection(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ac(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return n.input.mouseDown.delayedSelectionSync=!0,void n.domObserver.setCurSelection()}if(n.domObserver.disconnectSelection(),n.cursorWrapper)!function g$(n){let t=n.domSelection(),e=document.createRange(),r=n.cursorWrapper.dom,i="IMG"==r.nodeName;i?e.setEnd(r.parentNode,Hn(r)+1):e.setEnd(r,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!i&&!n.state.selection.visible&&Vn&&es<=11&&(r.disabled=!0,r.disabled=!1)}(n);else{let s,o,{anchor:r,head:i}=e;ow&&!(e instanceof Re)&&(e.$from.parent.inlineContent||(s=aw(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(o=aw(n,e.to))),n.docView.setSelection(r,i,n.root,t),ow&&(s&&lw(s),o&&lw(o)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function m$(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelection(),r=e.anchorNode,i=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=r||e.anchorOffset!=i)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!sw(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const ow=Dn||fn&&Vz<63;function aw(n,t){let{node:e,offset:r}=n.docView.domFromPos(t,0),i=r<e.childNodes.length?e.childNodes[r]:null,s=r?e.childNodes[r-1]:null;if(Dn&&i&&"false"==i.contentEditable)return v_(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return v_(i);if(s)return v_(s)}}function v_(n){return n.contentEditable="true",Dn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function lw(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function cw(n,t){if(t instanceof ie){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(uw(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else uw(n)}function uw(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function y_(n,t,e,r){return n.someProp("createSelectionBetween",i=>i(n,t,e))||Re.between(t,e,r)}function dw(n){return(!n.editable||n.root.activeElement==n.dom)&&pw(n)}function pw(n){let t=n.domSelection();if(!t.anchorNode)return!1;try{return n.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function C_(n,t){let{$anchor:e,$head:r}=n.selection,i=t>0?e.max(r):e.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Ae.findFrom(s,t)}function to(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function hw(n,t,e){let r=n.state.selection;if(!(r instanceof Re)){if(r instanceof ie&&r.node.isInline)return to(n,new Re(t>0?r.$to:r.$from));{let i=C_(n.state,t);return!!i&&to(n,i)}}if(!r.empty||e.indexOf("s")>-1)return!1;if(n.endOfTextblock(t>0?"right":"left")){let i=C_(n.state,t);return!!(i&&i instanceof ie)&&to(n,i)}if(!(nr&&e.indexOf("m")>-1)){let o,i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM)&&(ie.isSelectable(s)?to(n,new ie(t<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):!!np&&to(n,new Re(n.state.doc.resolve(t<0?a:a+s.nodeSize))))}}function ip(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function dc(n){let t=n.pmViewDesc;return t&&0==t.size&&(n.nextSibling||"BR"!=n.nodeName)}function b_(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let i,s,o=!1;for(Kr&&1==e.nodeType&&r<ip(e)&&dc(e.childNodes[r])&&(o=!0);;)if(r>0){if(1!=e.nodeType)break;{let a=e.childNodes[r-1];if(dc(a))i=e,s=--r;else{if(3!=a.nodeType)break;e=a,r=e.nodeValue.length}}}else{if(fw(e))break;{let a=e.previousSibling;for(;a&&dc(a);)i=e.parentNode,s=Hn(a),a=a.previousSibling;if(a)e=a,r=ip(e);else{if(e=e.parentNode,e==n.dom)break;r=0}}}o?D_(n,t,e,r):i&&D_(n,t,i,s)}function k_(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let s,o,i=ip(e);for(;;)if(r<i){if(1!=e.nodeType)break;if(!dc(e.childNodes[r]))break;s=e,o=++r}else{if(fw(e))break;{let a=e.nextSibling;for(;a&&dc(a);)s=a.parentNode,o=Hn(a)+1,a=a.nextSibling;if(a)e=a,r=0,i=ip(e);else{if(e=e.parentNode,e==n.dom)break;r=i=0}}}s&&D_(n,t,s,o)}function fw(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function D_(n,t,e,r){if(p_(t)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),t.removeAllRanges(),t.addRange(s)}else t.extend&&t.extend(e,r);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&rs(n)},50)}function mw(n,t,e){let r=n.state.selection;if(r instanceof Re&&!r.empty||e.indexOf("s")>-1||nr&&e.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let o=C_(n.state,t);if(o&&o instanceof ie)return to(n,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Bn?Ae.near(o,t):Ae.findFrom(o,t);return!!a&&to(n,a)}return!1}function gw(n,t){if(!(n.state.selection instanceof Re))return!0;let{$head:e,$anchor:r,empty:i}=n.state.selection;if(!e.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return t<0?o.delete(e.pos-s.nodeSize,e.pos):o.delete(e.pos,e.pos+s.nodeSize),n.dispatch(o),!0}return!1}function _w(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function vw(n,t){let e=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,s--;let C=r.firstChild;e.push(C.type.name,C.attrs!=C.type.defaultAttrs?C.attrs:null),r=C.content}let o=n.someProp("clipboardSerializer")||Wr.fromSchema(n.state.schema),a=ww(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let f,d=l.firstChild,g=0;for(;d&&1==d.nodeType&&(f=Tw[d.nodeName.toLowerCase()]);){for(let C=f.length-1;C>=0;C--){let b=a.createElement(f[C]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),g++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${i} ${s}${g?` -${g}`:""} ${JSON.stringify(e)}`),{dom:l,text:n.someProp("clipboardTextSerializer",C=>C(t))||t.content.textBetween(0,t.content.size,"\n\n")}}function yw(n,t,e,r,i){let o,a,s=i.parent.type.spec.code;if(!e&&!t)return null;let l=t&&(r||s||!e);if(l){if(n.someProp("transformPastedText",_=>{t=_(t,s||r)}),s)return t?new j(L.from(n.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):j.empty;let g=n.someProp("clipboardTextParser",_=>_(t,i,r));if(g)a=g;else{let _=i.marks(),{schema:C}=n.state,b=Wr.fromSchema(C);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(T=>{let M=o.appendChild(document.createElement("p"));T&&M.appendChild(b.serializeNode(C.text(T,_)))})}}else n.someProp("transformPastedHTML",g=>{e=g(e)}),o=function D$(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let i,e=ww().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n);if((i=r&&Tw[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=n,i)for(let s=0;s<i.length;s++)e=e.querySelector(i[s])||e;return e}(e),np&&function T$(n){let t=n.querySelectorAll(fn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let r=t[e];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let g=+f[3];g>0&&o.firstChild;g--)o=o.firstChild;if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Ys.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!(!l&&!f),context:i,ruleFromNode:_=>"BR"!=_.nodeName||_.nextSibling||!_.parentNode||b$.test(_.parentNode.nodeName)?null:{ignore:!0}})),f)a=function S$(n,t){if(!n.size)return n;let r,e=n.content.firstChild.type.schema;try{r=JSON.parse(t)}catch(a){return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=e.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=L.from(l.create(r[a+1],i)),s++,o++}return new j(i,s,o)}(Dw(a,+f[1],+f[2]),f[4]);else if(a=j.maxOpen(function k$(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let s,i=t.node(e).contentMatchAt(t.index(e)),o=[];if(n.forEach(a=>{if(!o)return;let d,l=i.findWrapping(a.type);if(!l)return o=null;if(d=o.length&&s.length&&bw(l,s,a,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=kw(o[o.length-1],s.length));let f=Cw(a,l);o.push(f),i=i.matchType(f.type),s=l}}),o)return L.from(o)}return n}(a.content,i),!0),a.openStart||a.openEnd){let g=0,_=0;for(let C=a.content.firstChild;g<a.openStart&&!C.type.spec.isolating;g++,C=C.firstChild);for(let C=a.content.lastChild;_<a.openEnd&&!C.type.spec.isolating;_++,C=C.lastChild);a=Dw(a,g,_)}return n.someProp("transformPasted",g=>{a=g(a)}),a}const b$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Cw(n,t,e=0){for(let r=t.length-1;r>=e;r--)n=t[r].create(null,L.from(n));return n}function bw(n,t,e,r,i){if(i<n.length&&i<t.length&&n[i]==t[i]){let s=bw(n,t,e,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?e.type:n[i+1]))return r.copy(r.content.append(L.from(Cw(e,n,i+1))))}}function kw(n,t){if(0==t)return n;let e=n.content.replaceChild(n.childCount-1,kw(n.lastChild,t-1)),r=n.contentMatchAt(n.childCount).fillBefore(L.empty,!0);return n.copy(e.append(r))}function T_(n,t,e,r,i,s){let o=t<0?n.firstChild:n.lastChild,a=o.content;return i<r-1&&(a=T_(a,t,e,r,i+1,s)),i>=e&&(a=t<0?o.contentMatchAt(0).fillBefore(a,n.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(L.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,o.copy(a))}function Dw(n,t,e){return t<n.openStart&&(n=new j(T_(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new j(T_(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const Tw={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Sw=null;function ww(){return Sw||(Sw=document.implementation.createHTMLDocument("title"))}const Tn={};let mn={};class w${constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function no(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function S_(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>w_(n,r))})}function w_(n,t){return n.someProp("handleDOMEvents",e=>{let r=e[t.type];return!!r&&(r(n,t)||t.defaultPrevented)})}function E$(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function sp(n){return{left:n.clientX,top:n.clientY}}function M_(n,t,e,r,i){if(-1==r)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(t,a=>o>s.depth?a(n,e,s.nodeAfter,s.before(o),i,!0):a(n,e,s.node(o),s.before(o),i,!1)))return!0;return!1}function Da(n,t,e){n.focused||n.focus();let r=n.state.tr.setSelection(t);"pointer"==e&&r.setMeta("pointer",!0),n.dispatch(r)}function R$(n,t,e,r){return M_(n,"handleDoubleClickOn",t,e,r)||n.someProp("handleDoubleClick",i=>i(n,t,r))}function F$(n,t,e,r){return M_(n,"handleTripleClickOn",t,e,r)||n.someProp("handleTripleClick",i=>i(n,t,r))||function L$(n,t,e){if(0!=e.button)return!1;let r=n.state.doc;if(-1==t)return!!r.inlineContent&&(Da(n,Re.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Da(n,Re.create(r,a+1,a+1+o.content.size),"pointer");else{if(!ie.isSelectable(o))continue;Da(n,ie.create(r,a),"pointer")}return!0}}(n,e,r)}function x_(n){return op(n)}mn.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=16==e.keyCode||e.shiftKey,!xw(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!Qr||!fn||13!=e.keyCode))if(229!=e.keyCode&&n.domObserver.forceFlush(),!ya||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)n.someProp("handleKeyDown",r=>r(n,e))||function C$(n,t){let e=t.keyCode,r=function y$(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}(t);return 8==e||nr&&72==e&&"c"==r?gw(n,-1)||b_(n):46==e||nr&&68==e&&"c"==r?gw(n,1)||k_(n):13==e||27==e||(37==e||nr&&66==e&&"c"==r?hw(n,-1,r)||b_(n):39==e||nr&&70==e&&"c"==r?hw(n,1,r)||k_(n):38==e||nr&&80==e&&"c"==r?mw(n,-1,r)||b_(n):40==e||nr&&78==e&&"c"==r?function v$(n){if(!Dn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelection();if(t&&1==t.nodeType&&0==e&&t.firstChild&&"false"==t.firstChild.contentEditable){let r=t.firstChild;_w(n,r,"true"),setTimeout(()=>_w(n,r,"false"),20)}return!1}(n)||mw(n,1,r)||k_(n):r==(nr?"m":"c")&&(66==e||73==e||89==e||90==e))}(n,e)?e.preventDefault():no(n,"key");else{let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ca(13,"Enter"))),n.input.lastIOSEnter=0)},200)}},mn.keyup=(n,t)=>{16==t.keyCode&&(n.input.shiftKey=!1)},mn.keypress=(n,t)=>{let e=t;if(xw(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||nr&&e.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,e)))return void e.preventDefault();let r=n.state.selection;if(!(r instanceof Re&&r.$from.sameParent(r.$to))){let i=String.fromCharCode(e.charCode);n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}};const Mw=nr?"metaKey":"ctrlKey";Tn.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let r=x_(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&function P$(n,t){let e=t.x-n.clientX,r=t.y-n.clientY;return e*e+r*r<100}(e,n.input.lastClick)&&!e[Mw]&&("singleClick"==n.input.lastClick.type?s="doubleClick":"doubleClick"==n.input.lastClick.type&&(s="tripleClick")),n.input.lastClick={time:i,x:e.clientX,y:e.clientY,type:s};let o=n.posAtCoords(sp(e));!o||("singleClick"==s?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new B$(n,o,e,!!r)):("doubleClick"==s?R$:F$)(n,o.pos,o.inside,e)?e.preventDefault():no(n,"pointer"))};class B${constructor(t,e,r,i){let s,o;if(this.view=t,this.pos=e,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Mw],this.allowDefault=r.shiftKey,e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside;else{let f=t.state.doc.resolve(e.pos);s=f.parent,o=f.depth?f.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:d}=t.state;(0==r.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||d instanceof ie&&d.from<=o&&d.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Kr||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),no(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>rs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(sp(t))),this.allowDefault||!e?no(this.view,"pointer"):function N$(n,t,e,r,i){return M_(n,"handleClickOn",t,e,r)||n.someProp("handleClick",s=>s(n,t,r))||(i?function O$(n,t){if(-1==t)return!1;let r,i,e=n.state.selection;e instanceof ie&&(r=e.node);let s=n.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ie.isSelectable(a)){i=r&&e.$from.depth>0&&o>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?s.before(e.$from.depth):s.before(o);break}}return null!=i&&(Da(n,ie.create(n.state.doc,i),"pointer"),!0)}(n,e):function A$(n,t){if(-1==t)return!1;let e=n.state.doc.resolve(t),r=e.nodeAfter;return!!(r&&r.isAtom&&ie.isSelectable(r))&&(Da(n,new ie(e),"pointer"),!0)}(n,e))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||Dn&&this.mightDrag&&!this.mightDrag.node.isAtom||fn&&!(this.view.state.selection instanceof Re)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Da(this.view,Ae.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):no(this.view,"pointer")}move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),no(this.view,"pointer"),0==t.buttons&&this.done()}}function xw(n,t){return!!n.composing||!!(Dn&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500)&&(n.input.compositionEndedAt=-2e8,!0)}Tn.touchdown=n=>{x_(n),no(n,"pointer")},Tn.contextmenu=n=>x_(n);const V$=Qr?5e3:-1;function Ew(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>op(n),t))}function Iw(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=function H$(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function op(n,t=!1){if(!(Qr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Iw(n),t||n.docView&&n.docView.dirty){let e=iw(n);return e&&!e.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(e)):n.updateState(n.state),!0}return!1}}mn.compositionstart=mn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(r=>!1===r.type.spec.inclusive)))n.markCursor=n.state.storedMarks||e.marks(),op(n,!0),n.markCursor=null;else if(op(n),Kr&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let r=n.domSelection();for(let i=r.focusNode,s=r.focusOffset;i&&1==i.nodeType&&0!=s;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(3==o.nodeType){r.collapse(o,o.nodeValue.length);break}i=o,s=-1}}n.input.composing=!0}Ew(n,V$)},mn.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,Ew(n,20))};const Ta=Vn&&es<15||ya&&Hz<604;function E_(n,t,e,r){let i=yw(n,t,e,n.input.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,r,i||j.empty)))return!0;if(!i)return!1;let s=function $$(n){return 0==n.openStart&&0==n.openEnd&&1==n.content.childCount?n.content.firstChild:null}(i),o=s?n.state.tr.replaceSelectionWith(s,n.input.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Tn.copy=mn.cut=(n,t)=>{let e=t,r=n.state.selection,i="cut"==e.type;if(r.empty)return;let s=Ta?null:e.clipboardData,o=r.content(),{dom:a,text:l}=vw(n,o);s?(e.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):function z$(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},mn.paste=(n,t)=>{let e=t;if(n.composing&&!Qr)return;let r=Ta?null:e.clipboardData;r&&E_(n,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function U$(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),e?E_(n,r.value,null,t):E_(n,r.textContent,r.innerHTML,t)},50)}(n,e)};class j${constructor(t,e){this.slice=t,this.move=e}}const Pw=nr?"altKey":"ctrlKey";Tn.dragstart=(n,t)=>{let e=t,r=n.input.mouseDown;if(r&&r.done(),!e.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(sp(e));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ie?i.to-1:i.to)))if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(ie.create(n.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){let d=n.docView.nearestDesc(e.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&n.dispatch(n.state.tr.setSelection(ie.create(n.state.doc,d.posBefore)))}let o=n.state.selection.content(),{dom:a,text:l}=vw(n,o);e.dataTransfer.clearData(),e.dataTransfer.setData(Ta?"Text":"text/html",a.innerHTML),e.dataTransfer.effectAllowed="copyMove",Ta||e.dataTransfer.setData("text/plain",l),n.dragging=new j$(o,!e[Pw])},Tn.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)},mn.dragover=mn.dragenter=(n,t)=>t.preventDefault(),mn.drop=(n,t)=>{let e=t,r=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let i=n.posAtCoords(sp(e));if(!i)return;let s=n.state.doc.resolve(i.pos);if(!s)return;let o=r&&r.slice;o?n.someProp("transformPasted",b=>{o=b(o)}):o=yw(n,e.dataTransfer.getData(Ta?"Text":"text/plain"),Ta?null:e.dataTransfer.getData("text/html"),!1,s);let a=!(!r||e[Pw]);if(n.someProp("handleDrop",b=>b(n,e,o||j.empty,a)))return void e.preventDefault();if(!o)return;e.preventDefault();let l=o?function Mz(n,t,e){let r=n.resolve(t);if(!e.content.size)return t;let i=e.content;for(let s=0;s<e.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(0==e.openStart&&e.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),d=r.node(o),f=!1;if(1==s)f=d.canReplace(l,l,i);else{let g=d.contentMatchAt(l).findWrapping(i.firstChild.type);f=g&&d.canReplaceWith(l,l,g[0])}if(f)return 0==a?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}(n.state.doc,s.pos,o):s.pos;null==l&&(l=s.pos);let d=n.state.tr;a&&d.deleteSelection();let f=d.mapping.map(l),g=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,_=d.doc;if(g?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(_))return;let C=d.doc.resolve(f);if(g&&ie.isSelectable(o.content.firstChild)&&C.nodeAfter&&C.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new ie(C));else{let b=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((T,M,P,E)=>b=E),d.setSelection(y_(n,C,d.doc.resolve(b)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))},Tn.focus=n=>{n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelection())&&rs(n)},20))},Tn.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)},Tn.beforeinput=(n,t)=>{if(fn&&Qr&&"deleteContentBackward"==t.inputType){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Ca(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in mn)Tn[n]=mn[n];function pc(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class I_{constructor(t,e){this.toDOM=t,this.spec=e||ro,this.side=this.spec.side||0}map(t,e,r,i){let{pos:s,deleted:o}=t.mapResult(e.from+i,this.side<0?-1:1);return o?null:new rr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof I_&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&pc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class is{constructor(t,e){this.attrs=t,this.spec=e||ro}map(t,e,r,i){let s=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new rr(s,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof is&&pc(this.attrs,t.attrs)&&pc(this.spec,t.spec)}static is(t){return t.type instanceof is}destroy(){}}class P_{constructor(t,e){this.attrs=t,this.spec=e||ro}map(t,e,r,i){let s=t.mapResult(e.from+i,1);if(s.deleted)return null;let o=t.mapResult(e.to+i,-1);return o.deleted||o.pos<=s.pos?null:new rr(s.pos-r,o.pos-r,this)}valid(t,e){let s,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(s=t.child(r)).isText&&i+s.nodeSize==e.to}eq(t){return this==t||t instanceof P_&&pc(this.attrs,t.attrs)&&pc(this.spec,t.spec)}destroy(){}}class rr{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new rr(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new rr(t,t,new I_(e,r))}static inline(t,e,r,i){return new rr(t,e,new is(r,i))}static node(t,e,r,i){return new rr(t,e,new P_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof is}}const Sa=[],ro={};class Ot{constructor(t,e){this.local=t.length?t:Sa,this.children=e.length?e:Sa}static create(t,e){return e.length?ap(e,t,0,ro):tn}find(t,e,r){let i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,r),i}findInner(t,e,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,r,i+a,s)}}map(t,e,r){return this==tn||0==t.maps.length?this:this.mapInner(t,e,0,0,r||ro)}mapInner(t,e,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(e,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?function W$(n,t,e,r,i,s,o){let a=n.slice(),l=(f,g,_,C)=>{for(let b=0;b<a.length;b+=3){let M,T=a[b+1];if(T<0||f>T+s)continue;let P=a[b]+s;g>=P?a[b+1]=f<=P?-2:-1:_>=i&&(M=C-_-(g-f))&&(a[b]+=M,a[b+1]+=M)}};for(let f=0;f<e.maps.length;f++)e.maps[f].forEach(l);let d=!1;for(let f=0;f<a.length;f+=3)if(a[f+1]<0){if(-2==a[f+1]){d=!0,a[f+1]=-1;continue}let g=e.map(n[f]+s),_=g-i;if(_<0||_>=r.content.size){d=!0;continue}let b=e.map(n[f+1]+s,-1)-i,{index:T,offset:M}=r.content.findIndex(_),P=r.maybeChild(T);if(P&&M==_&&M+P.nodeSize==b){let E=a[f+2].mapInner(e,P,g+1,n[f]+s+1,o);E!=tn?(a[f]=_,a[f+1]=b,a[f+2]=E):(a[f+1]=-2,d=!0)}else d=!0}if(d){let f=function q$(n,t,e,r,i,s,o){function a(l,d){for(let f=0;f<l.local.length;f++){let g=l.local[f].map(r,i,d);g?e.push(g):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+d+1)}for(let l=0;l<n.length;l+=3)-1==n[l+1]&&a(n[l+2],t[l]+s+1);return e}(a,n,t,e,i,s,o),g=ap(f,r,0,o);t=g.local;for(let _=0;_<a.length;_+=3)a[_+1]<0&&(a.splice(_,3),_-=3);for(let _=0,C=0;_<g.children.length;_+=3){let b=g.children[_];for(;C<a.length&&a[C]<b;)C+=3;a.splice(C,0,g.children[_],g.children[_+1],g.children[_+2])}}return new Ot(t.sort(io),a)}(this.children,o||[],t,e,r,i,s):o?new Ot(o.sort(io),Sa):tn}add(t,e){return e.length?this==tn?Ot.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let i,s=0;t.forEach((a,l)=>{let f,d=l+r;if(f=Ow(e,a,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,f,d+1):i.splice(s,0,l,l+a.nodeSize,ap(f,a,d+1,ro)),s+=3}});let o=Aw(s?Nw(e):e,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Ot(o.length?this.local.concat(o).sort(io):this.local,i||this.children)}remove(t){return 0==t.length||this==tn?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+e,l=r[s+1]+e;for(let g,f=0;f<t.length;f++)(g=t[f])&&g.from>a&&g.to<l&&(t[f]=null,(o||(o=[])).push(g));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(o,a+1);d!=tn?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length)for(let o,s=0;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,e)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1));return r==this.children&&i==this.local?this:i.length||r.length?new Ot(i,r):tn}forChild(t,e){if(this==tn)return this;if(e.isLeaf)return Ot.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof is){let d=Math.max(s,l.from)-s,f=Math.min(o,l.to)-s;d<f&&(i||(i=[])).push(l.copy(d,f))}}if(i){let a=new Ot(i.sort(io),Sa);return r?new ss([a,r]):a}return r||tn}eq(t){if(this==t)return!0;if(!(t instanceof Ot)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return A_(this.localsInner(t))}localsInner(t){if(this==tn)return Sa;if(t.inlineContent||!this.local.some(is.is))return this.local;let e=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof is||e.push(this.local[r]);return e}}Ot.empty=new Ot([],[]),Ot.removeOverlap=A_;const tn=Ot.empty;class ss{constructor(t){this.members=t}map(t,e){const r=this.members.map(i=>i.map(t,e,ro));return ss.from(r)}forChild(t,e){if(e.isLeaf)return Ot.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,e);s!=tn&&(s instanceof ss?r=r.concat(s.members):r.push(s))}return ss.from(r)}eq(t){if(!(t instanceof ss)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(e){r&&(e=e.slice(),r=!1);for(let o=0;o<s.length;o++)e.push(s[o])}else e=s}return e?A_(r?e:e.sort(io)):Sa}static from(t){switch(t.length){case 0:return tn;case 1:return t[0];default:return new ss(t)}}}function Aw(n,t){if(!t||!n.length)return n;let e=[];for(let r=0;r<n.length;r++){let i=n[r];e.push(new rr(i.from+t,i.to+t,i.type))}return e}function Ow(n,t,e){if(t.isLeaf)return null;let r=e+t.nodeSize,i=null;for(let o,s=0;s<n.length;s++)(o=n[s])&&o.from>e&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function Nw(n){let t=[];for(let e=0;e<n.length;e++)null!=n[e]&&t.push(n[e]);return t}function ap(n,t,e,r){let i=[],s=!1;t.forEach((a,l)=>{let d=Ow(n,a,l+e);if(d){s=!0;let f=ap(d,a,e+l+1,r);f!=tn&&i.push(l,l+a.nodeSize,f)}});let o=Aw(s?Nw(n):n,-e).sort(io);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Ot(o,i):tn}function io(n,t){return n.from-t.from||n.to-t.to}function A_(n){let t=n;for(let e=0;e<t.length-1;e++){let r=t[e];if(r.from!=r.to)for(let i=e+1;i<t.length;i++){let s=t[i];if(s.from!=r.from){s.from<r.to&&(t==n&&(t=n.slice()),t[e]=r.copy(r.from,s.from),Rw(t,i,r.copy(s.from,r.to)));break}s.to!=r.to&&(t==n&&(t=n.slice()),t[i]=s.copy(s.from,r.to),Rw(t,i+1,s.copy(r.to,s.to)))}}return t}function Rw(n,t,e){for(;t<n.length&&io(e,n[t])>0;)t++;n.splice(t,0,e)}function O_(n){let t=[];return n.someProp("decorations",e=>{let r=e(n.state);r&&r!=tn&&t.push(r)}),n.cursorWrapper&&t.push(Ot.create(n.state.doc,[n.cursorWrapper.deco])),ss.from(t)}const G$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},K$=Vn&&es<=11;class Q${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class X${constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Q$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Vn&&es<=11&&r.some(i=>"childList"==i.type&&i.removedNodes.length||"characterData"==i.type&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),K$&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,G$),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dw(this.view)){if(this.suppressingSelectionUpdates)return rs(this.view);if(Vn&&es<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&ac(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(0==t.rangeCount)return!0;let e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let e=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&dw(this.view)&&!this.ignoreSelectionChange(e),i=-1,s=-1,o=!1,a=[];if(this.view.editable)for(let l=0;l<t.length;l++){let d=this.registerMutation(t[l],a);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(o=!0))}if(Kr&&a.length>1){let l=a.filter(d=>"BR"==d.nodeName);if(2==l.length){let d=l[0],f=l[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,s),function Y$(n){Fw||(Fw=!0,"normal"==getComputedStyle(n.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(i,s,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||rs(this.view),this.currentSelection.set(e))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(let f=0;f<t.addedNodes.length;f++)e.push(t.addedNodes[f]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Vn&&es<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:g,nextSibling:_}=t.addedNodes[f];(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(i=g),(!_||Array.prototype.indexOf.call(t.addedNodes,_)<0)&&(s=_)}let o=i&&i.parentNode==t.target?Hn(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?Hn(s):t.target.childNodes.length;return{from:a,to:r.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Fw=!1;function Z$(n){let t=n.pmViewDesc;if(t)return t.parseRule();if("BR"==n.nodeName&&n.parentNode){if(Dn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(n.parentNode.lastChild==n||Dn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Lw(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:y_(n,t.resolve(e.anchor),t.resolve(e.head))}function N_(n,t,e){let r=n.depth,i=t?n.end():n.pos;for(;r>0&&(t||n.indexAfter(r)==n.node(r).childCount);)r--,i++,t=!1;if(e){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}class iU{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new w$,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach($w),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Hw(this),Vw(this),this.nodeViews=zw(this),this.docView=J2(this.state.doc,Bw(this),O_(this),this.dom,this),this.domObserver=new X$(this,(r,i,s,o)=>function eU(n,t,e,r,i){if(t<0){let J=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Je=iw(n,J);if(Je&&!n.state.selection.eq(Je)){let Tt=n.state.tr.setSelection(Je);"pointer"==J?Tt.setMeta("pointer",!0):"key"==J&&Tt.scrollIntoView(),n.dispatch(Tt)}return}let s=n.state.doc.resolve(t),o=s.sharedDepth(e);t=s.before(o+1),e=n.state.doc.resolve(e).after(o+1);let a=n.state.selection,l=function J$(n,t,e){let d,{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(t,e),l=n.domSelection(),f=l.anchorNode;if(f&&n.dom.contains(1==f.nodeType?f:f.parentNode)&&(d=[{node:f,offset:l.anchorOffset}],p_(l)||d.push({node:l.focusNode,offset:l.focusOffset})),fn&&8===n.input.lastKeyCode)for(let M=s;M>i;M--){let P=r.childNodes[M-1],E=P.pmViewDesc;if("BR"==P.nodeName&&!E){s=M;break}if(!E||E.size)break}let g=n.state.doc,_=n.someProp("domParser")||Ys.fromSchema(n.state.schema),C=g.resolve(o),b=null,T=_.parse(r,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=C.parent.type.whitespace||"full",findPositions:d,ruleFromNode:Z$,context:C});if(d&&null!=d[0].pos){let M=d[0].pos,P=d[1]&&d[1].pos;null==P&&(P=M),b={anchor:M+o,head:P+o}}return{doc:T,sel:b,from:o,to:a}}(n,t,e);if(fn&&n.cursorWrapper&&l.sel&&l.sel.anchor==n.cursorWrapper.deco.from){let J=n.cursorWrapper.deco.type.toDOM.nextSibling,Je=J&&J.nodeValue?J.nodeValue.length:1;l.sel={anchor:l.sel.anchor+Je,head:l.sel.anchor+Je}}let g,_,d=n.state.doc,f=d.slice(l.from,l.to);8===n.input.lastKeyCode&&Date.now()-100<n.input.lastKeyCodeTime?(g=n.state.selection.to,_="end"):(g=n.state.selection.from,_="start"),n.input.lastKeyCode=null;let C=function rU(n,t,e,r,i){let s=n.findDiffStart(t,e);if(null==s)return null;let{a:o,b:a}=n.findDiffEnd(t,e+n.size,e+t.size);return"end"==i&&(r-=o+Math.max(0,s-Math.min(o,a))-s),o<s&&n.size<t.size?(s-=r<=s&&r>=o?s-r:0,a=s+(a-o),o=s):a<s&&(s-=r<=s&&r>=a?s-r:0,o=s+(o-a),a=s),{start:s,endA:o,endB:a}}(f.content,l.doc.content,l.from,g,_);if((ya&&n.input.lastIOSEnter>Date.now()-225||Qr)&&i.some(J=>"DIV"==J.nodeName||"P"==J.nodeName)&&(!C||C.endA>=C.endB)&&n.someProp("handleKeyDown",J=>J(n,Ca(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(!C){if(!(r&&a instanceof Re&&!a.empty&&a.$head.sameParent(a.$anchor))||n.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let J=Lw(n,n.state.doc,l.sel);J&&!J.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(J))}return}C={start:a.from,endA:a.to,endB:a.to}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&C.start==C.endB&&n.state.selection instanceof Re&&(C.start>n.state.selection.from&&C.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?C.start=n.state.selection.from:C.endA<n.state.selection.to&&C.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(C.endB+=n.state.selection.to-C.endA,C.endA=n.state.selection.to)),Vn&&es<=11&&C.endB==C.start+1&&C.endA==C.start&&C.start>l.from&&" \xa0"==l.doc.textBetween(C.start-l.from-1,C.start-l.from+1)&&(C.start--,C.endA--,C.endB--);let E,b=l.doc.resolveNoCache(C.start-l.from),T=l.doc.resolveNoCache(C.endB-l.from),M=d.resolve(C.start),P=b.sameParent(T)&&b.parent.inlineContent&&M.end()>=C.endA;if((ya&&n.input.lastIOSEnter>Date.now()-225&&(!P||i.some(J=>"DIV"==J.nodeName||"P"==J.nodeName))||!P&&b.pos<l.doc.content.size&&(E=Ae.findFrom(l.doc.resolve(b.pos+1),1,!0))&&E.head==T.pos)&&n.someProp("handleKeyDown",J=>J(n,Ca(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(n.state.selection.anchor>C.start&&function nU(n,t,e,r,i){if(!r.parent.isTextblock||e-t<=i.pos-r.pos||N_(r,!0,!1)<i.pos)return!1;let s=n.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(N_(s,!0,!0));return!(!o.parent.isTextblock||o.pos>e||N_(o,!0,!1)<e)&&r.parent.content.cut(r.parentOffset).eq(o.parent.content)}(d,C.start,C.endA,b,T)&&n.someProp("handleKeyDown",J=>J(n,Ca(8,"Backspace"))))return void(Qr&&fn&&n.domObserver.suppressSelectionUpdates());fn&&Qr&&C.endB==C.start&&(n.input.lastAndroidDelete=Date.now()),Qr&&!P&&b.start()!=T.start()&&0==T.parentOffset&&b.depth==T.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==C.endA&&(C.endB-=2,T=l.doc.resolveNoCache(C.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(J){return J(n,Ca(13,"Enter"))})},20));let K,Ee,Ie,R=C.start,z=C.endA;if(P)if(b.pos==T.pos)Vn&&es<=11&&0==b.parentOffset&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>rs(n),20)),K=n.state.tr.delete(R,z),Ee=d.resolve(C.start).marksAcross(d.resolve(C.endA));else if(C.endA==C.endB&&(Ie=function tU(n,t){let o,a,l,e=n.firstChild.marks,r=t.firstChild.marks,i=e,s=r;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<e.length;f++)s=e[f].removeFromSet(s);if(1==i.length&&0==s.length)a=i[0],o="add",l=f=>f.mark(a.addToSet(f.marks));else{if(0!=i.length||1!=s.length)return null;a=s[0],o="remove",l=f=>f.mark(a.removeFromSet(f.marks))}let d=[];for(let f=0;f<t.childCount;f++)d.push(l(t.child(f)));if(L.from(d).eq(n))return{mark:a,type:o}}(b.parent.content.cut(b.parentOffset,T.parentOffset),M.parent.content.cut(M.parentOffset,C.endA-M.start()))))K=n.state.tr,"add"==Ie.type?K.addMark(R,z,Ie.mark):K.removeMark(R,z,Ie.mark);else if(b.parent.child(b.index()).isText&&b.index()==T.index()-(T.textOffset?0:1)){let J=b.parent.textBetween(b.parentOffset,T.parentOffset);if(n.someProp("handleTextInput",Je=>Je(n,R,z,J)))return;K=n.state.tr.insertText(J,R,z)}if(K||(K=n.state.tr.replace(R,z,l.doc.slice(C.start-l.from,C.endB-l.from))),l.sel){let J=Lw(n,K.doc,l.sel);J&&!(fn&&Qr&&n.composing&&J.empty&&(C.start!=C.endB||n.input.lastAndroidDelete<Date.now()-100)&&(J.head==R||J.head==K.mapping.map(z)-1)||Vn&&J.empty&&J.head==R)&&K.setSelection(J)}Ee&&K.ensureMarks(Ee),n.dispatch(K.scrollIntoView())}(this,r,i,s,o)),this.domObserver.start(),function M$(n){for(let t in Tn){let e=Tn[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>{E$(n,r)&&!w_(n,r)&&(n.editable||!(r.type in mn))&&e(n,r)})}Dn&&n.dom.addEventListener("input",()=>null),S_(n)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&S_(this),this._props=t,t.plugins&&(t.plugins.forEach($w),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}setProps(t){let e={};for(let r in this._props)e[r]=this._props[r];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}updateStateInner(t,e){let r=this.state,i=!1,s=!1;if(t.storedMarks&&this.composing&&(Iw(this),s=!0),this.state=t,e){let g=zw(this);(function oU(n,t){let e=0,r=0;for(let i in n){if(n[i]!=t[i])return!0;e++}for(let i in t)r++;return e!=r})(g,this.nodeViews)&&(this.nodeViews=g,i=!0),S_(this)}this.editable=Hw(this),Vw(this);let o=O_(this),a=Bw(this),l=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,a,o);(d||!t.selection.eq(r.selection))&&(s=!0);let f="preserve"==l&&s&&null==this.dom.style.overflowAnchor&&function qz(n){let r,i,t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top);for(let s=(t.left+t.right)/2,o=e+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:z2(n.dom)}}(this);if(s){this.domObserver.stop();let g=d&&(Vn||fn)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&function sU(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}(r.selection,t.selection);if(d){let _=fn?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(t.doc,a,o,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=J2(t.doc,a,o,this.dom,this)),_&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function _$(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelection();return ac(t.node,t.offset,e.anchorNode,e.anchorOffset)}(this))?rs(this,g):(cw(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){let g=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",_=>_(this)))if(t.selection instanceof ie){let _=this.docView.domAfterPos(t.selection.from);1==_.nodeType&&H2(this,_.getBoundingClientRect(),g)}else H2(this,this.coordsAtPos(t.selection.head,1),g)}else f&&function Gz({refDOM:n,refTop:t,stack:e}){let r=n?n.getBoundingClientRect().top:0;$2(e,0==r?0:r-t)}(f)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let r=this.state.plugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}}someProp(t,e){let i,r=this._props&&this._props[t];if(null!=r&&(i=e?e(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(null!=a&&(i=e?e(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(null!=a&&(i=e?e(a):a))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function Kz(n){if(n.setActive)return n.setActive();if(ba)return n.focus(ba);let t=z2(n);n.focus(null==ba?{get preventScroll(){return ba={preventScroll:!0},!0}}:void 0),ba||(ba=!1,$2(t,0))}(this.dom),rs(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}posAtCoords(t){return Zz(this,t)}coordsAtPos(t,e=1){return W2(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let i=this.docView.posFromDOM(t,e,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,e){return function i$(n,t,e){return G2==t&&K2==e?Q2:(G2=t,K2=e,Q2="up"==e||"down"==e?function t$(n,t,e){let r=t.selection,i="up"==e?r.$from:r.$to;return q2(n,t,()=>{let{node:s}=n.docView.domFromPos(i.pos,"up"==e?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}let o=W2(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=Di(a,0,a.nodeValue.length).getClientRects()}for(let d=0;d<l.length;d++){let f=l[d];if(f.bottom>f.top+1&&("up"==e?o.top-f.top>2*(f.bottom-o.top):f.bottom-o.bottom>2*(o.bottom-f.top)))return!1}}return!0})}(n,t,e):function r$(n,t,e){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return n$.test(r.parent.textContent)&&a.modify?q2(n,t,()=>{let l=a.getRangeAt(0),d=a.focusNode,f=a.focusOffset,g=a.caretBidiLevel;a.modify("move",e,"character");let C=!(r.depth?n.docView.domAfterPos(r.before()):n.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||d==a.focusNode&&f==a.focusOffset;return a.removeAllRanges(),a.addRange(l),null!=g&&(a.caretBidiLevel=g),C}):"left"==e||"backward"==e?s:o}(n,t,e))}(this,e||this.state,t)}destroy(){!this.docView||(function x$(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],O_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function I$(n,t){!w_(n,t)&&Tn[t.type]&&(n.editable||!(t.type in mn))&&Tn[t.type](n,t)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function Bw(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),t.translate="no",n.someProp("attributes",e=>{if("function"==typeof e&&(e=e(n.state)),e)for(let r in e)"class"==r&&(t.class+=" "+e[r]),"style"==r?t.style=(t.style?t.style+";":"")+e[r]:!t[r]&&"contenteditable"!=r&&"nodeName"!=r&&(t[r]=String(e[r]))}),[rr.node(0,n.state.doc.content.size,t)]}function Vw(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:rr.widget(n.state.selection.head,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Hw(n){return!n.someProp("editable",t=>!1===t(n.state))}function zw(n){let t=Object.create(null);return n.someProp("nodeViews",e=>{for(let r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r])}),t}function $w(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const aU=["ol",0],lU=["ul",0],cU=["li",0],Uw={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:n=>({order:n.hasAttribute("start")?+n.getAttribute("start"):1})}],toDOM:n=>1==n.attrs.order?aU:["ol",{start:n.attrs.order},0]},jw={parseDOM:[{tag:"ul"}],toDOM:()=>lU};function pU(n){return function(t,e){let{$from:r,$to:i,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(i))return!1;let o=r.node(-1);if(o.type!=n)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){let f=L.empty,g=r.index(-1)?1:r.index(-2)?2:3;for(let M=r.depth-g;M>=r.depth-3;M--)f=L.from(r.node(M).copy(f));let _=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;f=f.append(L.from(n.createAndFill()));let C=r.before(r.depth-(g-1)),b=t.tr.replace(C,r.after(-_),new j(f,4-g,0)),T=-1;b.doc.nodesBetween(C,b.doc.content.size,(M,P)=>{if(T>-1)return!1;M.isTextblock&&0==M.content.size&&(T=P+1)}),T>-1&&b.setSelection(Ae.near(b.doc.resolve(T))),e(b.scrollIntoView())}return!0}let a=i.pos==r.end()?o.contentMatchAt(0).defaultType:null,l=t.tr.delete(r.pos,i.pos),d=a?[null,{type:a}]:void 0;return!!fa(l.doc,r.pos,2,d)&&(e&&e(l.split(r.pos,2,d).scrollIntoView()),!0)}}function qw(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return!!s&&(!e||(r.node(s.depth-1).type==n?function hU(n,t,e,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);return s<o&&(i.step(new Bt(s-1,o,s,o,new j(L.from(e.create(null,r.parent.copy())),1,0),1,!0)),r=new qd(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth)),t(i.lift(r,rc(r)).scrollIntoView()),!0}(t,e,n,s):function fU(n,t,e){let r=n.tr,i=e.parent;for(let C=e.end,b=e.endIndex-1,T=e.startIndex;b>T;b--)C-=i.child(b).nodeSize,r.delete(C-1,C+1);let s=r.doc.resolve(e.start),o=s.nodeAfter;if(r.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let a=0==e.startIndex,l=e.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(a?0:1),f+1,o.content.append(l?L.empty:L.from(i))))return!1;let g=s.pos,_=g+o.nodeSize;return r.step(new Bt(g-(a?1:0),_+(l?1:0),g+1,_-1,new j((a?L.empty:L.from(i.copy(L.empty))).append(l?L.empty:L.from(i.copy(L.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,e,s)))}}function Gw(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(0==o)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(e){let d=l.lastChild&&l.lastChild.type==a.type,f=L.from(d?n.create():null),g=new j(L.from(n.create(null,L.from(a.type.create(null,f)))),d?3:1,0),_=s.start,C=s.end;e(t.tr.step(new Bt(_-(d?3:1),C,_,C,g,1,!0)).scrollIntoView())}return!0}}const mU={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:n=>({href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")})}],toDOM(n){const{href:t,title:e,target:r}=n.attrs;return["a",{href:t,title:e,target:r},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>"normal"!==n.style.fontWeight&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){const{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){const{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}}},xU={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(n){const{textAlign:t}=n.style;return{align:n.getAttribute("align")||t||null}}}],toDOM(n){const{align:t}=n.attrs;return["p",{style:qS({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){const{textAlign:t}=n.style;return{level:1,align:n.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(n){const{textAlign:t}=n.style;return{level:2,align:n.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(n){const{textAlign:t}=n.style;return{level:3,align:n.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(n){const{textAlign:t}=n.style;return{level:4,align:n.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(n){const{textAlign:t}=n.style;return{level:5,align:n.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(n){const{textAlign:t}=n.style;return{level:6,align:n.getAttribute("align")||t||null}}}],toDOM(n){const{level:t,align:e}=n.attrs;return[`h${t}`,{style:qS({textAlign:"left"!==e?e:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:n=>({src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")})}],toDOM(n){const{src:t,alt:e,title:r,width:i}=n.attrs;return["img",{src:t,alt:e,title:r,width:i}]}},list_item:Object.assign(Object.assign({},{parseDOM:[{tag:"li"}],toDOM:()=>cU,defining:!0}),{content:"paragraph block*"}),ordered_list:Object.assign(Object.assign({},Uw),{content:"list_item+",group:"block"}),bullet_list:Object.assign(Object.assign({},jw),{content:"list_item+",group:"block"})},lp=new class iz{constructor(t){this.cached=Object.create(null),this.spec={nodes:GS.from(t.nodes),marks:GS.from(t.marks||{}),topNode:t.topNode},this.nodes=Kd.compile(this.spec.nodes,this),this.marks=Qd.compile(this.spec.marks,this);let e=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",o=i.spec.marks;i.contentMatch=e[s]||(e[s]=Xs.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==o?null:o?c2(this,o.split(" ")):""!=o&&i.inlineContent?null:[]}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=null==s?[i]:""==s?[]:c2(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Kd))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,i)}text(t,e){let r=this.nodes.text;return new Gd(r,r.defaultAttrs,t,qe.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return jr.fromJSON(this,t)}markFromJSON(t){return qe.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}({marks:mU,nodes:xU}),Kw=(n,t)=>!n.selection.empty&&(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function wa(n,t,e=!1){for(let r=n;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&1!=r.childCount)return!1}return!1}function Qw(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function Xw(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const Yw=(n,t)=>{let{$head:e,$anchor:r}=n.selection;return!(!e.parent.type.spec.code||!e.sameParent(r)||(t&&t(n.tr.insertText("\n").scrollIntoView()),0))};function F_(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const Jw=(n,t)=>{let{$head:e,$anchor:r}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(r))return!1;let i=e.node(-1),s=e.indexAfter(-1),o=F_(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=e.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ae.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},Zw=(n,t)=>{let e=n.selection,{$from:r,$to:i}=e;if(e instanceof Bn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=F_(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Re.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},eM=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(fa(n.doc,s))return t&&t(n.tr.split(s).scrollIntoView()),!0}let r=e.blockRange(),i=r&&rc(r);return null!=i&&(t&&t(n.tr.lift(r,i).scrollIntoView()),!0)},L_=(n,t)=>{let{$from:e,$to:r}=n.selection;if(n.selection instanceof ie&&n.selection.node.isBlock)return!(!e.parentOffset||!fa(n.doc,e.pos)||(t&&t(n.tr.split(e.pos).scrollIntoView()),0));if(!e.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,s=n.tr;(n.selection instanceof Re||n.selection instanceof Bn)&&s.deleteSelection();let o=0==e.depth?null:F_(e.node(-1).contentMatchAt(e.indexAfter(-1))),a=i&&o?[{type:o}]:void 0,l=fa(s.doc,s.mapping.map(e.pos),1,a);if(!a&&!l&&fa(s.doc,s.mapping.map(e.pos),1,o?[{type:o}]:void 0)&&(o&&(a=[{type:o}]),l=!0),l&&(s.split(s.mapping.map(e.pos),1,a),!i&&!e.parentOffset&&e.parent.type!=o)){let d=s.mapping.map(e.before()),f=s.doc.resolve(d);o&&e.node(-1).canReplaceWith(f.index(),f.index()+1,o)&&s.setNodeMarkup(s.mapping.map(e.before()),o)}t(s.scrollIntoView())}return!0};function tM(n,t,e){let s,o,r=t.nodeBefore,i=t.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function RU(n,t,e){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(s-1,s)?(e&&e(n.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!e_(n.doc,t.pos)||(e&&e(n.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(n,t,e))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(e){let g=t.pos+i.nodeSize,_=L.empty;for(let T=s.length-1;T>=0;T--)_=L.from(s[T].create(null,_));_=L.from(r.copy(_));let C=n.tr.step(new Bt(t.pos-1,g,t.pos,g,new j(_,1,0),s.length,!0)),b=g+2*s.length;e_(C.doc,b)&&C.join(b),e(C.scrollIntoView())}return!0}let l=Ae.findFrom(t,1),d=l&&l.$from.blockRange(l.$to),f=d&&rc(d);if(null!=f&&f>=t.depth)return e&&e(n.tr.lift(d,f).scrollIntoView()),!0;if(a&&wa(i,"start",!0)&&wa(r,"end")){let g=r,_=[];for(;_.push(g),!g.isTextblock;)g=g.lastChild;let C=i,b=1;for(;!C.isTextblock;C=C.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,C.content)){if(e){let T=L.empty;for(let P=_.length-1;P>=0;P--)T=L.from(_[P].copy(T));e(n.tr.step(new Bt(t.pos-_.length,t.pos+i.nodeSize,t.pos+b,t.pos+i.nodeSize-b,new j(T,_.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function nM(n){return function(t,e){let r=t.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(e&&e(t.tr.setSelection(Re.create(t.doc,n<0?i.start(s):i.end(s)))),!0)}}const FU=nM(-1),LU=nM(1);function B_(n,t=null){return function(e,r){let{from:i,to:s}=e.selection,o=!1;return e.doc.nodesBetween(i,s,(a,l)=>{if(o)return!1;if(a.isTextblock&&!a.hasMarkup(n,t))if(a.type==n)o=!0;else{let d=e.doc.resolve(l),f=d.index();o=d.parent.canReplaceWith(f,f+1,n)}}),!!o&&(r&&r(e.tr.setBlockType(i,s,n,t).scrollIntoView()),!0)}}function Ma(n,t=null){return function(e,r){let{empty:i,$cursor:s,ranges:o}=e.selection;if(i&&!s||!function VU(n,t,e){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=0==i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(e)}),o)return!0}return!1}(e.doc,o,n))return!1;if(r)if(s)n.isInSet(e.storedMarks||s.marks())?r(e.tr.removeStoredMark(n)):r(e.tr.addStoredMark(n.create(t)));else{let a=!1,l=e.tr;for(let d=0;!a&&d<o.length;d++){let{$from:f,$to:g}=o[d];a=e.doc.rangeHasMark(f.pos,g.pos,n)}for(let d=0;d<o.length;d++){let{$from:f,$to:g}=o[d];if(a)l.removeMark(f.pos,g.pos,n);else{let _=f.pos,C=g.pos,b=f.nodeAfter,T=g.nodeBefore,M=b&&b.isText?/^\s*/.exec(b.text)[0].length:0,P=T&&T.isText?/\s*$/.exec(T.text)[0].length:0;_+M<C&&(_+=M,C-=P),l.addMark(_,C,n.create(t))}}r(l.scrollIntoView())}return!0}}function hc(...n){return function(t,e,r){for(let i=0;i<n.length;i++)if(n[i](t,e,r))return!0;return!1}}let V_=hc(Kw,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("backward",n):r.parentOffset>0))return!1;let i=Qw(r);if(!i){let o=r.blockRange(),a=o&&rc(o);return null!=a&&(t&&t(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&tM(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"end")||ie.isSelectable(s))){let o=t_(n.doc,r.before(),r.after(),j.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"end")?Ae.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ie.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Qw(r)}let o=s&&s.nodeBefore;return!(!o||!ie.isSelectable(o)||(t&&t(n.tr.setSelection(ie.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),0))}),rM=hc(Kw,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size))return!1;let i=Xw(r);if(!i)return!1;let s=i.nodeAfter;if(tM(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"start")||ie.isSelectable(s))){let o=t_(n.doc,r.before(),r.after(),j.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"start")?Ae.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ie.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Xw(r)}let o=s&&s.nodeAfter;return!(!o||!ie.isSelectable(o)||(t&&t(n.tr.setSelection(ie.create(n.doc,s.pos)).scrollIntoView()),0))});const Ti={Enter:hc(Yw,Zw,eM,L_),"Mod-Enter":Jw,Backspace:V_,"Mod-Backspace":V_,"Shift-Backspace":V_,Delete:rM,"Mod-Delete":rM,"Mod-a":(n,t)=>(t&&t(n.tr.setSelection(new Bn(n.doc))),!0)},iM={"Ctrl-h":Ti.Backspace,"Alt-Backspace":Ti["Mod-Backspace"],"Ctrl-d":Ti.Delete,"Ctrl-Alt-Backspace":Ti["Mod-Delete"],"Alt-Delete":Ti["Mod-Delete"],"Alt-d":Ti["Mod-Delete"],"Ctrl-a":FU,"Ctrl-e":LU};for(let n in Ti)iM[n]=Ti[n];const zU=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?iM:Ti;class Si{constructor(t,e){this.match=t,this.match=t,this.handler="string"==typeof e?function $U(n){return function(t,e,r,i){let s=n;if(e[1]){let o=e[0].lastIndexOf(e[1]);s+=e[0].slice(o+e[1].length);let a=(r+=o)-i;a>0&&(s=e[0].slice(o-a,o)+s,r=i)}return t.tr.insertText(s,r,i)}}(e):e}}function sM(n,t,e,r,i,s){if(n.composing)return!1;let o=n.state,a=o.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r;for(let d=0;d<i.length;d++){let f=i[d].match.exec(l),g=f&&i[d].handler(o,f,t-(f[0].length-r.length),e);if(g)return n.dispatch(g.setMeta(s,{transform:g,from:t,to:e,text:r})),!0}return!1}const WU=new Si(/--$/,"\u2014"),qU=new Si(/\.\.\.$/,"\u2026"),YU=[new Si(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Si(/"$/,"\u201d"),new Si(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Si(/'$/,"\u2019")];function H_(n,t,e=null,r){return new Si(n,(i,s,o,a)=>{let l=e instanceof Function?e(s):e,d=i.tr.delete(o,a),g=d.doc.resolve(o).blockRange(),_=g&&Zg(g,t,l);if(!_)return null;d.wrap(g,_);let C=d.doc.resolve(o-1).nodeBefore;return C&&C.type==t&&e_(d.doc,o-1)&&(!r||r(s,C))&&d.join(o-1),d})}function oM(n,t,e=null){return new Si(n,(r,i,s,o)=>{let a=r.doc.resolve(s),l=e instanceof Function?e(i):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(s,o).setBlockType(s,s,t,l):null})}const z_=(n,t)=>{const{from:e,$from:r,to:i,empty:s}=n.selection;return s?Boolean(t.isInSet(n.storedMarks||r.marks())):n.doc.rangeHasMark(e,i,t)},aM=(n,t,e={})=>{const{selection:r}=n,{$from:i,to:s}=r,o=((n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null})(t,i);return Object.entries(e).length&&o?s<=i.end()&&i.parent.hasMarkup(t,e):Boolean(o)},lM=n=>{const t=[],{selection:{from:e,to:r}}=n;return n.doc.nodesBetween(e,r,i=>{t.push(i)}),t},cM=(n,t,e)=>{for(const r of t){const{$from:i,$to:s}=r;let o=0===i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>!o&&(o=a.inlineContent&&a.type.allowsMarkType(e),!0)),o)return!0}return!1},uM=(n,t,e)=>new Si(n,(r,i,s,o)=>{const{tr:a}=r,l=s;let d=o;if(i[2]){const f=s+i[0].indexOf(i[2]),g=f+i[2].length;g<o&&a.delete(g,o),f>s&&a.delete(s,f),d=s+i[2].length}return a.addMark(l,d,t.create(e))}),dM=(n,t={})=>(e,r)=>{const{tr:i,selection:s}=e,{empty:o,ranges:a,$from:l,$to:d}=s;if(o&&s instanceof Re){const{$cursor:f}=s;if(!f||!cM(e.doc,a,n)||(i.addStoredMark(n.create(t)),!i.storedMarksSet))return!1;null==r||r(i)}else{if(i.addMark(l.pos,d.pos,n.create(t)),!i.docChanged)return!1;null==r||r(i.scrollIntoView())}return!0};for(var as={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},cp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rj="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ij="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Vt=0;Vt<10;Vt++)as[48+Vt]=as[96+Vt]=String(Vt);for(Vt=1;Vt<=24;Vt++)as[Vt+111]="F"+Vt;for(Vt=65;Vt<=90;Vt++)as[Vt]=String.fromCharCode(Vt+32),cp[Vt]=String.fromCharCode(Vt);for(var $_ in as)cp.hasOwnProperty($_)||(cp[$_]=as[$_]);const oj="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function aj(n){let r,i,s,o,t=n.split(/-(?!$)/),e=t[t.length-1];"Space"==e&&(e=" ");for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);oj?o=!0:i=!0}}return r&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function U_(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),!1!==e&&t.shiftKey&&(n="Shift-"+n),n}function up(n){return new Gr({props:{handleKeyDown:cj(n)}})}function cj(n){let t=function lj(n){let t=Object.create(null);for(let e in n)t[aj(e)]=n[e];return t}(n);return function(e,r){let o,i=function sj(n){var e=!(rj&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ij&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?cp:as)[n.keyCode]||n.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),s=1==i.length&&" "!=i,a=t[U_(i,r,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=as[r.keyCode])&&o!=i){let l=t[U_(o,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(s&&r.shiftKey){let l=t[U_(i,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Ht=function(){};Ht.prototype.append=function(t){return t.length?(t=Ht.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Ht.prototype.prepend=function(t){return t.length?Ht.from(t).append(this):this},Ht.prototype.appendInner=function(t){return new uj(this,t)},Ht.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Ht.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Ht.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Ht.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},Ht.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},e,r),i},Ht.from=function(t){return t instanceof Ht?t:t&&t.length?new pM(t):Ht.empty};var pM=function(n){function t(r){n.call(this),this.values=r}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return 0==i&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(!1===i(this.values[l],a+l))return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(!1===i(this.values[l],a+l))return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new t(i.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Ht);Ht.empty=new pM([]);var uj=function(n){function t(e,r){n.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(s,a),o)||s>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a))return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)||s<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),s,o))return!1},t.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Ht);const hM=Ht;class Sr{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let i,s,r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}e&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a,l,o=t.tr,d=[],f=[];return this.items.forEach((g,_)=>{if(!g.step)return i||(i=this.remapping(r,_+1),s=i.maps.length),s--,void f.push(g);if(i){f.push(new Jr(g.map));let b,C=g.step.map(i.slice(s));C&&o.maybeStep(C).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new Jr(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else o.maybeStep(g.step);return g.selection?(a=i?g.selection.map(i.slice(s)):g.selection,l=new Sr(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,e,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<t.steps.length;f++){let C,g=t.steps[f].invert(t.docs[f]),_=new Jr(t.mapping.maps[f],g,e);(C=l&&l.merge(_))&&(_=C,f?s.pop():a=a.slice(0,a.length-1)),s.push(_),e&&(o++,e=void 0),i||(l=_)}let d=o-r.depth;return d>hj&&(a=function pj(n,t){let e;return n.forEach((r,i)=>{if(r.selection&&0==t--)return e=i,!1}),n.slice(e)}(a,d),o-=d),new Sr(a.append(s),o)}remapping(t,e){let r=new pa;return this.items.forEach((i,s)=>{r.appendMap(i.map,null!=i.mirrorOffset&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0)},t,e),r}addMaps(t){return 0==this.eventCount?this:new Sr(this.items.append(t.map(e=>new Jr(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(_=>{_.selection&&a--},i);let l=e;this.items.forEach(_=>{let C=s.getMirror(--l);if(null==C)return;o=Math.min(o,C);let b=s.maps[C];if(_.step){let T=t.steps[C].invert(t.docs[C]),M=_.selection&&_.selection.map(s.slice(l+1,C));M&&a++,r.push(new Jr(b,T,M))}else r.push(new Jr(b))},i);let d=[];for(let _=e;_<o;_++)d.push(new Jr(s.maps[_]));let f=this.items.slice(0,i).append(d).append(r),g=new Sr(f,a);return g.emptyItemCount()>500&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(e.slice(r)),d=l&&l.getMap();if(r--,d&&e.appendMap(d,r),l){let f=o.selection&&o.selection.map(e.slice(r));f&&s++;let _,g=new Jr(d.invert(),l,f),C=i.length-1;(_=i.length&&i[C].merge(g))?i[C]=_:i.push(g)}}else o.map&&r--},this.items.length,0),new Sr(hM.from(i.reverse()),s)}}Sr.empty=new Sr(hM.empty,0);class Jr{constructor(t,e,r,i){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Jr(e.getMap().invert(),e,this.selection)}}}class ls{constructor(t,e,r,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=i}}const hj=20;function fM(n){let t=[];return n.forEach((e,r,i,s)=>t.push(i,s)),t}function j_(n,t){if(!n)return null;let e=[];for(let r=0;r<n.length;r+=2){let i=t.map(n[r],1),s=t.map(n[r+1],-1);i<=s&&e.push(i,s)}return e}function mM(n,t,e,r){let i=pp(t),s=Zr.get(t).spec.config,o=(r?n.undone:n.done).popEvent(t,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),s,i),d=new ls(r?l:o.remaining,r?o.remaining:l,null,0);e(o.transform.setSelection(a).setMeta(Zr,{redo:r,historyState:d}).scrollIntoView())}let W_=!1,gM=null;function pp(n){let t=n.plugins;if(gM!=t){W_=!1,gM=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){W_=!0;break}}return W_}const Zr=new ki("history"),_M=new ki("closeHistory");const vM=(n,t)=>{let e=Zr.getState(n);return!(!e||0==e.done.eventCount||(t&&mM(e,n,t,!1),0))},q_=(n,t)=>{let e=Zr.getState(n);return!(!e||0==e.undone.eventCount||(t&&mM(e,n,t,!0),0))},_j=["imgEl"];function vj(n,t){if(1&n){const e=F();c(0,"span",4)(1,"span",5),k("mousedown",function(i){return S(e),v().startResizing(i,"left")}),u(),c(2,"span",6),k("mousedown",function(i){return S(e),v().startResizing(i,"right")}),u(),c(3,"span",7),k("mousedown",function(i){return S(e),v().startResizing(i,"left")}),u(),c(4,"span",8),k("mousedown",function(i){return S(e),v().startResizing(i,"right")}),u()()}}const yj=function(n){return{"NgxEditor__Resizer--Active":n}},Cj=["ngxEditor"],bj=["*"];function kj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=v(2);h(1),x(" ",(null==e.href.errors?null:e.href.errors.pattern)&&"Please enter valid url."," ")}}function Dj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=v(2);h(1),x(" ",(null==e.text.errors?null:e.text.errors.required)&&"This is required"," ")}}function Tj(n,t){if(1&n){const e=F();c(0,"div",2)(1,"form",3),k("ngSubmit",function(i){return S(e),v().insertLink(i)}),c(2,"div",4)(3,"div",5)(4,"label",6),p(5),u(),D(6,"input",7),y(7,kj,2,1,"div",8),u()(),c(8,"div",4)(9,"div",5)(10,"label",6),p(11),u(),D(12,"input",9),y(13,Dj,2,1,"div",8),u()(),c(14,"div",4)(15,"div",5)(16,"label"),D(17,"input",10),p(18),u()()(),c(19,"button",11),p(20),u()()()}if(2&n){const e=v();h(1),m("formGroup",e.form),h(4),O(e.getLabel("url")),h(2),m("ngIf",e.href.touched&&e.href.invalid),h(4),O(e.getLabel("text")),h(2),m("ngIf",e.text.touched&&e.text.invalid),h(5),x(" ",e.getLabel("openInNewTab")," "),h(1),m("disabled",!e.form.valid),h(1),O(e.getLabel("insert"))}}function Sj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=v(2);h(1),x(" ",(null==e.src.errors?null:e.src.errors.pattern)&&"Please enter valid url."," ")}}function wj(n,t){if(1&n){const e=F();c(0,"div",2)(1,"form",3),k("ngSubmit",function(i){return S(e),v().insertLink(i)}),c(2,"div",4)(3,"div",5)(4,"label",6),p(5),u(),D(6,"input",7),y(7,Sj,2,1,"div",8),u()(),c(8,"div",4)(9,"div",5)(10,"label",6),p(11),u(),D(12,"input",9),u()(),c(13,"div",4)(14,"div",5)(15,"label",6),p(16),u(),D(17,"input",10),u()(),c(18,"button",11),p(19),u()()()}if(2&n){const e=v();h(1),m("formGroup",e.form),h(4),O(e.getLabel("url")),h(2),m("ngIf",e.src.touched&&e.src.invalid),h(4),O(e.getLabel("altText")),h(5),O(e.getLabel("title")),h(2),m("disabled",!e.form.valid||!e.form.dirty),h(1),O(e.getLabel("insert"))}}const Mj=function(n,t){return{"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t}};function xj(n,t){if(1&n){const e=F();c(0,"div",4),k("mousedown",function(i){const o=S(e).$implicit;return v(2).onClick(i,o)}),p(1),u()}if(2&n){const e=t.$implicit,r=v(2);m("ngClass",Cu(2,Mj,e===r.activeItem,r.disabledItems.includes(e))),h(1),x(" ",r.getName(e)," ")}}function Ej(n,t){if(1&n&&(c(0,"div",2),y(1,xj,2,5,"div",3),u()),2&n){const e=v();h(1),m("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}const Ij=function(n,t){return{backgroundColor:n,color:t}},Pj=function(n){return{"NgxEditor__Color--Active":n}};function Aj(n,t){if(1&n){const e=F();c(0,"button",7),k("mousedown",function(i){const o=S(e).$implicit;return v(3).onColorSelect(i,o)}),u()}if(2&n){const e=t.$implicit,r=v(3);m("ngStyle",Cu(3,Ij,e,r.getContrastYIQ(e)))("title",e)("ngClass",Me(6,Pj,r.activeColors.includes(e)))}}function Oj(n,t){if(1&n&&(c(0,"div",5),y(1,Aj,1,8,"button",6),u()),2&n){const e=t.$implicit,r=v(2);h(1),m("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function Nj(n,t){if(1&n){const e=F();c(0,"div",2),y(1,Oj,2,2,"div",3),c(2,"button",4),k("mousedown",function(i){return S(e),v().remove(i)}),p(3),u()()}if(2&n){const e=v();h(1),m("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),h(1),m("disabled",!e.isActive),h(1),x(" ",e.getLabel("remove")," ")}}function Rj(n,t){if(1&n&&D(0,"ngx-toggle-command",7),2&n){const e=v().$implicit;pi(v(2).iconContainerClass),m("toolbarItem",e)}}function Fj(n,t){if(1&n&&D(0,"ngx-insert-command",7),2&n){const e=v().$implicit;pi(v(2).iconContainerClass),m("toolbarItem",e)}}function Lj(n,t){1&n&&D(0,"ngx-link"),2&n&&pi(v(3).iconContainerClass)}function Bj(n,t){1&n&&D(0,"ngx-image"),2&n&&pi(v(3).iconContainerClass)}function Vj(n,t){if(1&n&&D(0,"ngx-dropdown",9),2&n){const e=t.$implicit;pi(v(4).dropdownContainerClass),m("group",e.key)("items",e.value)}}function Hj(n,t){if(1&n&&(Ms(0),y(1,Vj,1,4,"ngx-dropdown",8),Is(2,"keyvalue"),xs()),2&n){const e=v().$implicit,r=v(2);h(1),m("ngForOf",Ps(2,2,r.getDropdownItems(e)))("ngForTrackBy",r.trackByIndex)}}function zj(n,t){if(1&n&&D(0,"ngx-color-picker",10),2&n){const e=v(3);pi(e.iconContainerClass),m("presets",e.presets)}}function $j(n,t){if(1&n&&D(0,"ngx-color-picker",11),2&n){const e=v(3);pi(e.iconContainerClass),m("presets",e.presets)}}function Uj(n,t){1&n&&D(0,"div"),2&n&&pi(v(3).seperatorClass)}function jj(n,t){if(1&n&&(Ms(0),y(1,Rj,1,3,"ngx-toggle-command",3),y(2,Fj,1,3,"ngx-insert-command",3),y(3,Lj,1,2,"ngx-link",4),y(4,Bj,1,2,"ngx-image",4),y(5,Hj,3,4,"ng-container",2),y(6,zj,1,3,"ngx-color-picker",5),y(7,$j,1,3,"ngx-color-picker",6),y(8,Uj,1,2,"div",4),xs()),2&n){const e=t.$implicit,r=t.last,i=v().last,s=v();h(1),m("ngIf",s.toggleCommands.includes(e)),h(1),m("ngIf",s.insertCommands.includes(e)),h(1),m("ngIf","link"===e),h(1),m("ngIf","image"===e),h(1),m("ngIf",s.isDropDown(e)),h(1),m("ngIf","text_color"===e),h(1),m("ngIf","background_color"===e),h(1),m("ngIf",r&&!i)}}function Wj(n,t){if(1&n&&(Ms(0),y(1,jj,9,8,"ng-container",1),xs()),2&n){const e=t.$implicit,r=v();h(1),m("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function qj(n,t){if(1&n&&(Ms(0),mf(1,12),xs()),2&n){const e=v();h(1),m("ngTemplateOutlet",e.customMenuRef)}}const Gj=function(n,t){return{"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t}},Jj=(n=!0)=>new Gr({key:new ki("editable"),state:{init:()=>n,apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_EDITABLE"))&&void 0!==r?r:e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),eW=n=>new Gr({key:new ki("placeholder"),state:{init:()=>null!=n?n:"",apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_PLACEHOLDER"))&&void 0!==r?r:e}},props:{decorations(t){const{doc:e}=t,{textContent:r,childCount:i}=e,s=this.getState(t);if(!s||i>1)return Ot.empty;const o=[];return e.descendants((l,d)=>{var f;if(l.type.isBlock&&0===l.childCount&&0===r.length){const C=rr.node(d,d+l.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":s,"data-align":null!==(f=l.attrs.align)&&void 0!==f?f:null});o.push(C)}return!1}),Ot.create(e,o)}}});let iW=(()=>{class n{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new Ke}startResizing(e,r){e.preventDefault(),this.resizeImage(e,r)}resizeImage(e,r){const i=e.pageX,s=this.imgEl.nativeElement.clientWidth,o="left"===r,{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),d=g=>{const C=g.pageX-i,b=o?s-C:s+C;b>l||b<20||(this.outerWidth=`${b}px`)},f=g=>{g.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),this.imageResize.emit()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ngx-image-view"]],viewQuery:function(e,r){if(1&e&&Dl(_j,7),2&e){let i;As(i=Os())&&(r.imgEl=i.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(e,r){1&e&&(c(0,"span",0),y(1,vj,5,0,"span",1),D(2,"img",2,3),u()),2&e&&(It("width",r.outerWidth),m("ngClass",Me(7,yj,r.selected)),h(1),m("ngIf",r.selected),h(1),m("src",r.src,I)("alt",r.alt)("title",r.title))},directives:[Pt,ue],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),n})();class sW{constructor(t,e,r,i){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:a,dispatch:l}=this.view,{tr:d}=a,f=d.setNodeMarkup(this.getPos(),void 0,Object.assign(Object.assign({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),g=f.doc.resolve(this.getPos()),_=new ie(g);f.setSelection(_),l(f)};const s=i.get(Yo);this.applicationRef=i.get(wu);const o=s.resolveComponentFactory(iW);this.imageComponentRef=o.create(i,[]),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const aW=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,yM=n=>{const t=[];return n.forEach(e=>{if(e.isText){const r=e.text;let i=0;const s=aW.exec(r);if(s){const o=s.index,a=o+s[0].length,{link:l}=e.type.schema.marks;o>0&&t.push(e.cut(i,o));const d=r.slice(o,a);t.push(e.cut(o,a).mark(l.create({href:d}).addToSet(e.marks))),i=a}i<r.length&&t.push(e.cut(i))}else t.push(e.copy(yM(e.content)))}),L.fromArray(t)},cW={type:"doc",content:[{type:"paragraph"}]},hp=(n,t)=>{const e=null!=t?t:lp,r=e.nodeFromJSON(n),i=Wr.fromSchema(e).serializeFragment(r.content),s=document.createElement("div");return s.appendChild(i),s.innerHTML},fc=(n,t)=>{if(!n)return t.nodeFromJSON(cW);if("string"!=typeof n)return t.nodeFromJSON(n);const e=((n,t)=>{const e=null!=t?t:lp,r=document.createElement("div");return r.innerHTML=n,Ys.fromSchema(e).parse(r).toJSON()})(n,t);return t.nodeFromJSON(e)};let mc=(()=>{class n{constructor(e,r,i){this.renderer=e,this.injector=r,this.elementRef=i,this.placeholder="Type Here...",this.focusOut=new Ke,this.focusIn=new Ke,this.unsubscribe=new wn,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){!this.outputFormat&&"string"==typeof e&&(this.outputFormat="html"),this.editor.setContent(null!=e?e:"")}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if("html"!==this.outputFormat)this.onChange(e);else{const r=hp(e,this.editor.schema);this.onChange(r)}}setMeta(e,r){const{dispatch:i,state:{tr:s}}=this.editor.view;i(s.setMeta(e,r))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(Jj()),this.editor.registerPlugin(eW(this.placeholder)),this.editor.registerPlugin(((n={})=>new Gr({key:new ki("attributes"),props:{attributes:n}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((n=>new Gr({key:new ki("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((n=>new Gr({key:new ki("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((n=>new Gr({key:new ki("image-resize"),props:{nodeViews:{image:(t,e,r)=>new sW(t,e,r,n)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new Gr({key:new ki("linkify"),props:{transformPasted:n=>new j(yM(n.content),n.openStart,n.openEnd)}}))}ngOnInit(){if(!this.editor)throw new Ug("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(function HH(n){return St((t,e)=>{or(n).subscribe(mt(e,()=>e.complete(),_n)),!e.closed&&t.subscribe(e)})}(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(yt),w(dt))},n.\u0275cmp=G({type:n,selectors:[["ngx-editor"]],viewQuery:function(e,r){if(1&e&&Dl(Cj,7),2&e){let i;As(i=Os())&&(r.ngxEditor=i.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[je([{provide:Dr,useExisting:He(()=>n),multi:!0}]),Et],ngContentSelectors:bj,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(e,r){1&e&&(function xC(n){const t=N()[16][6];if(!t.projection){const r=t.projection=Ga(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=n?e3(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),c(0,"div",0,1),function EC(n,t=0,e){const r=N(),i=Se(),s=Ao(i,20+n,16,null,e||null);null===s.projection&&(s.projection=t),Gp(),64!=(64&s.flags)&&function eP(n,t,e){ny(t[11],0,t,e,q1(n,e,t),X1(e.parent||t[6],e,t))}(i,r,s)}(2),u())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),n})(),cs=(()=>{class n{constructor(){this.customMenuRefChange=new wn}setCustomMenuRef(e){this.customMenuRefChange.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AW={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n'};class gc{static get(t,e="currentColor"){return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill=${e}\n        height=20\n        width=20\n      >\n        ${AW[t]||"<path></path>"}\n      </svg>\n    `}}class xa{constructor(t){this.name=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&dM(i)(t,e)}}toggle(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&Ma(i)(t,e)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&z_(t,r)}canExecute(t){return this.toggle()(t)}}class fp{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{const{schema:r}=t,i=this.getType(r);return!!i&&(this.isActive(t)?qw(r.nodes.list_item)(t,e):function uU(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(n)&&0==o.startIndex){if(0==i.index(o.depth-1))return!1;let f=e.doc.resolve(o.start-2);l=new qd(f,f,o.depth),o.endIndex<o.parent.childCount&&(o=new qd(i,e.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let d=Zg(l,n,t,o);return!!d&&(r&&r(function dU(n,t,e,r,i){let s=L.empty;for(let f=e.length-1;f>=0;f--)s=L.from(e[f].type.create(e[f].attrs,s));n.step(new Bt(t.start-(r?2:0),t.end,t.start,t.end,new j(s,0,0),e.length,!0));let o=0;for(let f=0;f<e.length;f++)e[f].type==i&&(o=f+1);let a=e.length-o,l=t.start+e.length-(r?2:0),d=t.parent;for(let f=t.startIndex,g=t.endIndex,_=!0;f<g;f++,_=!1)!_&&fa(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=d.child(f).nodeSize;return n}(e.tr,o,d,a,n).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=this.getType(e);return!!r&&aM(t,r)}canExecute(t){return this.toggle()(t)}}class so{constructor(t){this.level=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.nodes.heading;return!!i&&B_(i)(t,e)}}toggle(){return(t,e)=>{var r;const{schema:i,selection:s,doc:o}=t,a=i.nodes.heading;if(!a)return!1;const l=s.$from.before(1),d=o.nodeAt(l),f=null!==(r=null==d?void 0:d.attrs)&&void 0!==r?r:{};return this.isActive(t)?B_(i.nodes.paragraph,f)(t,e):B_(a,Object.assign(Object.assign({},f),{level:this.level}))(t,e)}}isActive(t){const{schema:e}=t,r=lM(t),i=e.nodes.heading;if(!i)return!1;const s=[i,e.nodes.text,e.nodes.blockquote],a=r.filter(l=>s.includes(l.type)).find(l=>l.attrs.level===this.level);return Boolean(a)}canExecute(t){return this.toggle()(t)}}class _c{constructor(t){this.align=t}toggle(){return(t,e)=>{const{doc:r,selection:i,tr:s,schema:o}=t,{from:a,to:l}=i;let d=!1;return r.nodesBetween(a,l,(f,g)=>{const _=f.type;return[o.nodes.paragraph,o.nodes.heading].includes(_)&&(d=!0,s.setNodeMarkup(g,_,Object.assign(Object.assign({},f.attrs),{align:this.align}))),!0}),!!d&&(s.docChanged&&(null==e||e(s)),!0)}}isActive(t){const r=lM(t).find(i=>i.attrs.align===this.align);return Boolean(r)}canExecute(t){return this.toggle()(t)}}const RW={strict:!0};class G_{update(t){return(e,r)=>{const{schema:i,selection:s}=e,o=i.marks.link;return!(!o||s.empty)&&Ma(o,t)(e,r)}}insert(t,e){return(r,i)=>{var s,o;const{schema:a,tr:l}=r;if(!a.marks.link)return!1;const f={href:e.href,title:null!==(s=e.title)&&void 0!==s?s:t,target:null!==(o=e.target)&&void 0!==o?o:"_blank"},g=a.text(t,[a.marks.link.create(f)]);return l.replaceSelectionWith(g,!1).scrollIntoView(),!!l.docChanged&&(null==i||i(l),!0)}}isActive(t,e=RW){if(e.strict)return!0;const{schema:r}=t,i=r.marks.link;return!!i&&z_(t,i)}remove(t,e){return((n,t)=>{const{doc:e,selection:r,tr:i}=n,{$head:{pos:s},from:o,to:a}=r;if(o===a){const l=e.resolve(s),d=s-l.textOffset,f=d+l.parent.child(l.index()).nodeSize;i.removeMark(d,f)}else i.removeMark(o,a);return!!i.docChanged&&(null==t||t(i),!0)})(t,e)}canExecute(t){const e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}}class CM{insert(t,e){return(r,i)=>{const{schema:s,tr:o,selection:a}=r,l=s.nodes.image;if(!l)return!1;const d=Object.assign({width:null,src:t},e);!d.width&&a instanceof ie&&a.node.type===l&&(d.width=a.node.attrs.width),o.replaceSelectionWith(l.createAndFill(d));const f=o.doc.resolve(o.selection.anchor-o.selection.$anchor.nodeBefore.nodeSize);return o.setSelection(new ie(f)).scrollIntoView(),!!o.docChanged&&(null==i||i(o),!0)}}isActive(t){const{selection:e}=t;return e instanceof ie&&"image"===e.node.type.name}}class Ea{constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,r)=>{const{schema:i,selection:s,doc:o}=e,a=i.marks[this.name];if(!a)return!1;const{from:l,to:d,empty:f}=s;if(!f&&l+1===d){const g=o.nodeAt(l);if((null==g?void 0:g.isAtom)&&!g.isText&&g.isLeaf)return!1}return dM(a,t)(e,r)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&z_(t,r)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:e}=t;return(n=>{let t=[];const{selection:e,storedMarks:r}=n,{from:i,to:s,empty:o,$from:a}=e;return o?t=r||a.marks():n.doc.nodesBetween(i,s,l=>{t=[...t,...l.marks]}),t})(t).filter(s=>s.type===e.marks[this.name]).map(s=>s.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&(n=i,(t,e)=>{const{tr:r,selection:i,storedMarks:s,doc:o}=t,{empty:a,ranges:l}=i;if(a&&i instanceof Re){const{$cursor:d}=i;if(!d||!cM(t.doc,l,n))return!1;if(n.isInSet(s||d.marks()))return r.removeStoredMark(n),null==e||e(r),!0}else{for(const d of l){const{$from:f,$to:g}=d;o.rangeHasMark(f.pos,g.pos,n)&&r.removeMark(f.pos,g.pos,n)}if(!r.docChanged)return!1;null==e||e(r.scrollIntoView())}return!1})(t,e);var n}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}}const FW=new xa("strong"),LW=new xa("em"),BW=new xa("code"),VW=new xa("u"),HW=new xa("s"),zW=new class OW{toggle(){return(t,e)=>{const{schema:r}=t,i=r.nodes.blockquote;return!!i&&(this.isActive(t)?((n,t)=>{let{$from:e,$to:r}=n.selection,i=e.blockRange(r),s=i&&rc(i);return null!=s&&(t&&t(n.tr.lift(i,s).scrollIntoView()),!0)})(t,e):function BU(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=o&&Zg(o,n,t);return!!a&&(r&&r(e.tr.wrap(o,a).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=e.nodes.blockquote;return!!r&&aM(t,r)}canExecute(t){return this.toggle()(t)}},$W=new class NW{insert(){return(t,e)=>{const{schema:r,tr:i}=t,s=r.nodes.horizontal_rule;return!!s&&(e(i.replaceSelectionWith(s.create()).scrollIntoView()),!0)}}canExecute(t){return((n,t)=>{const{$from:e}=n.selection;for(let r=e.depth;r>=0;r-=1){const i=e.index(r);if(e.node(r).canReplaceWith(i,i,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},UW=new fp(!0),jW=new fp(!1),WW=new so(1),qW=new so(2),GW=new so(3),KW=new so(4),QW=new so(5),XW=new so(6),YW=new _c("left"),JW=new _c("center"),ZW=new _c("right"),eq=new _c("justify"),tq=new G_,nq=new CM,rq=new Ea("text_color","color"),iq=new Ea("text_background_color","backgroundColor"),mp={bold:FW,italic:LW,code:BW,underline:VW,strike:HW,blockquote:zW,bullet_list:UW,ordered_list:jW,h1:WW,h2:qW,h3:GW,h4:KW,h5:QW,h6:XW,align_left:YW,align_center:JW,align_right:ZW,align_justify:eq},bM={horizontal_rule:$W},vc=tq,kM=nq,sq=rq,oq=iq,K_={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class aq{constructor(t={}){this.locals=K_,this.get=e=>{var r;return null!==(r=this.locals[e])&&void 0!==r?r:""},this.locals=Object.assign(Object.assign({},K_),t)}}let Q_=(()=>{class n{constructor(){this.locals={}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oo=(()=>{class n{constructor(e){this.config=e}get locals(){return new aq(this.config.locals)}}return n.\u0275fac=function(e){return new(e||n)(H(Q_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DM=n=>{var t;return{locals:null!==(t=n.locals)&&void 0!==t?t:{}}};let Ia=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Fk,16))},n.\u0275pipe=an({name:"sanitizeHtml",type:n,pure:!0}),n})(),lq=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.isActive=!1,this.disabled=!1,this.update=i=>{const{state:s}=i,o=mp[this.name];this.isActive=o.isActive(s),this.disabled=!o.canExecute(s)}}get name(){return this.toolbarItem}toggle(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;mp[this.name].toggle()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=gc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(oo),w(cs))},n.\u0275cmp=G({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.toggle(s)}),Is(1,"sanitizeHtml"),u()),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),m("innerHTML",Ps(1,6,r.html),pr)("title",r.getTitle(r.name)))},pipes:[Ia],styles:[""]}),n})(),cq=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.disabled=!1,this.update=i=>{const{state:s}=i;this.disabled=!bM[this.name].canExecute(s)}}get name(){return this.toolbarItem}insert(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;bM[this.name].insert()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=gc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(oo),w(cs))},n.\u0275cmp=G({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:6,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.insert(s)}),Is(1,"sanitizeHtml"),u()),2&e&&(Rr("NgxEditor--Disabled",r.disabled),m("innerHTML",Ps(1,4,r.html),pr)("title",r.getTitle(r.name)))},pipes:[Ia],styles:[""]}),n})(),uq=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new lt({href:new te("",[V.required,V.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),text:new te("",[V.required]),openInNewTab:new te(!0)}),this.setText=()=>{const{state:{selection:s,doc:o}}=this.editorView,{empty:a,from:l,to:d}=s,f=a?"":o.textBetween(l,d);f&&(this.text.patchValue(f),this.text.disable())},this.update=s=>{const{state:o}=s;this.isActive=vc.isActive(o,{strict:!1}),this.canExecute=vc.canExecute(o)}}get icon(){return gc.get(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(e){if(0!==e.button)return;const{state:r,dispatch:i}=this.editorView;this.isActive?vc.remove(r,i):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(e){e.preventDefault();const{text:r,href:i,openInNewTab:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView,{selection:l}=a,d={title:i,href:i,target:s?"_blank":"_self"};l.empty?(vc.insert(r,d)(a,o),this.editorView.focus()):vc.update(d)(a,o),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(oo),w(cs))},n.\u0275cmp=G({type:n,selectors:[["ngx-link"]],hostBindings:function(e,r){1&e&&k("mousedown",function(s){return r.onDocumentClick(s)},!1,il)},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.onMouseDown(s)}),Is(1,"sanitizeHtml"),u(),y(2,Tj,21,8,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),m("innerHTML",Ps(1,7,r.icon),pr)("title",r.title),h(2),m("ngIf",r.showPopup))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt,Jm],pipes:[Ia],styles:[""]}),n})(),dq=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.form=new lt({src:new te("",[V.required,V.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new te(""),title:new te("")}),this.update=s=>{const{state:o}=s;this.isActive=kM.isActive(o)}}get icon(){return gc.get("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(e){0===e.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:e}=this.editorView,{selection:r}=e;if(r instanceof ie&&this.isActive){const{src:i,alt:s="",title:o=""}=r.node.attrs;this.form.setValue({src:i,alt:s,title:o})}}insertLink(e){e.preventDefault();const{src:r,alt:i,title:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView;kM.insert(r,{alt:i,title:s})(a,o),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(oo),w(cs))},n.\u0275cmp=G({type:n,selectors:[["ngx-image"]],hostBindings:function(e,r){1&e&&k("mousedown",function(s){return r.onDocumentClick(s)},!1,il)},decls:3,vars:7,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.onMouseDown(s)}),Is(1,"sanitizeHtml"),u(),y(2,wj,20,7,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),m("innerHTML",Ps(1,5,r.icon),pr)("title",r.getLabel("insertImage")),h(2),m("ngIf",r.showPopup))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt],pipes:[Ia],styles:[""]}),n})(),pq=(()=>{class n{constructor(e,r,i){this.ngxeService=e,this.menuService=r,this.el=i,this.isDropdownOpen=!1,this.disabledItems=[],this.update=s=>{const{state:o}=s;this.disabledItems=[];const a=[];this.items.forEach(l=>{const d=mp[l];d.isActive(o)&&a.push(l),d.canExecute(o)||this.disabledItems.push(l)}),1===a.length?[this.activeItem]=a:this.activeItem=null}}get isSelected(){return Boolean(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}toggleDropdown(e){e.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(e){return e}onClick(e,r){if(e.preventDefault(),0!==e.button)return;const i=mp[r],{state:s,dispatch:o}=this.editorView;i.toggle()(s,o),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(oo),w(cs),w(dt))},n.\u0275cmp=G({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(e,r){1&e&&k("mousedown",function(s){return r.onDocumentClick(s.target)},!1,il)},inputs:{group:"group",items:"items"},decls:3,vars:6,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.toggleDropdown(s)}),p(1),u(),y(2,Ej,2,2,"div",1)),2&e&&(Rr("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),h(1),x(" ",r.getName(r.activeItem||r.group),"\n"),h(1),m("ngIf",r.isDropdownOpen))},directives:[ue,_e,Pt],styles:[""]}),n})(),hq=(()=>{class n{constructor(e,r,i){this.el=e,this.menuService=r,this.ngxeService=i,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=s=>{const{state:o}=s;this.canExecute=this.command.canExecute(o),this.isActive=this.command.isActive(o),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(o))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return gc.get("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?sq:oq}getContrastYIQ(e){const r=e.replace("#","");return(299*parseInt(r.substring(0,2),16)+587*parseInt(r.substring(2,4),16)+114*parseInt(r.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup)}remove(e){e.preventDefault();const{state:r,dispatch:i}=this.editorView;this.command.remove()(r,i),this.hidePopup()}trackByIndex(e){return e}onColorSelect(e,r){if(e.preventDefault(),0!==e.button)return;const{state:i,dispatch:s}=this.editorView;"text_color"===this.type?this.command.apply({color:r})(i,s):this.command.apply({backgroundColor:r})(i,s),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(cs),w(oo))},n.\u0275cmp=G({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(e,r){1&e&&k("mousedown",function(s){return r.onDocumentClick(s)},!1,il)},inputs:{presets:"presets",type:"type"},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),k("mousedown",function(s){return r.togglePopup(s)}),Is(1,"sanitizeHtml"),u(),y(2,Nj,4,4,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),m("innerHTML",Ps(1,7,r.icon),pr)("title",r.title),h(2),m("ngIf",r.showPopup))},directives:[ue,_e,gk,Pt],pipes:[Ia],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),n})();const fq=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],mq=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let yc=(()=>{class n{constructor(e){this.menuService=e,this.toolbar=fq,this.colorPresets=mq,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const r=[];return this.colorPresets.forEach((i,s)=>{const o=Math.floor(s/8);r[o]||r.push([]),r[o].push(i)}),r}trackByIndex(e){return e}isDropDown(e){return!!(null==e?void 0:e.heading)}getDropdownItems(e){return e}ngOnInit(){if(!this.editor)throw new Ug("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return n.\u0275fac=function(e){return new(e||n)(w(cs))},n.\u0275cmp=G({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[je([cs])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,Wj,2,2,"ng-container",1),y(2,qj,2,1,"ng-container",2),u()),2&e&&(m("ngClass",Cu(4,Gj,r.disabled,"top"===r.dropdownPlacement)),h(1),m("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),h(1),m("ngIf",r.customMenuRef))},directives:[lq,cq,uq,dq,pq,hq,Pt,_e,ue,_k],pipes:[vk],styles:[""]}),n})(),gq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:[Ia],imports:[[na,Ql]]}),n})();const gp=new de("NgxEditorConfig"),TM={locals:K_};let _q=(()=>{class n{static forRoot(e=TM){return{ngModule:n,providers:[{provide:gp,useValue:e},{provide:Q_,useFactory:DM,deps:[gp]}]}}static forChild(e=TM){return{ngModule:n,providers:[{provide:gp,useValue:e},{provide:Q_,useFactory:DM,deps:[gp]},oo]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({providers:[],imports:[[na,gq]]}),n})();const ir=(n,t=!1)=>(e,r)=>{const i=new xa(n);return t?i.toggle()(e,r):i.apply()(e,r)};class Cq{constructor(t){if(this.applyTrx=e=>{this.state=this.state.apply(null!=e?e:this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=e=>{this.applyTrx(e)},!t)throw new Ug("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(){return this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return hc(Yw,Zw,eM,L_)(this.state,this.dispatch),this}applyMark(t){return ir(t,!1)(this.state,this.dispatch),this}toggleMark(t){return ir(t,!0)(this.state,this.dispatch),this}bold(){return ir("strong")(this.state,this.dispatch),this}toggleBold(){return ir("strong",!0)(this.state,this.dispatch),this}italics(){return ir("em")(this.state,this.dispatch),this}toggleItalics(){return ir("em",!0)(this.state,this.dispatch),this}underline(){return ir("u")(this.state,this.dispatch),this}toggleUnderline(){return ir("u",!0)(this.state,this.dispatch),this}strike(){return ir("s")(this.state,this.dispatch),this}toggleStrike(){return ir("s",!0)(this.state,this.dispatch),this}code(){return ir("code")(this.state,this.dispatch),this}toggleCode(){return ir("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new fp(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new fp(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new so(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return(new G_).insert(t,e)(this.state,this.dispatch),this}updateLink(t){return(new G_).update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return(new CM).insert(t,e)(this.state,this.dispatch),this}textColor(t){return new Ea("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new Ea("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new Ea("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Ea("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new _c(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:e,schema:r,tr:i}=this.state,{from:s,to:o}=e,a=document.createElement("div");a.innerHTML=t.trim();const l=Ys.fromSchema(r).parseSlice(a),d=i.replaceRange(s,o,l);return this.applyTrx(d),this}}const bq="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Eq=n=>{const t=YU.concat(qU,WU);return t.push((n=>uM(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,n))(n.marks.strong)),t.push((n=>uM(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,n))(n.marks.em)),t.push((n=>H_(/^\s*>\s$/,n))(n.nodes.blockquote)),t.push((n=>H_(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])))(n.nodes.ordered_list)),t.push((n=>H_(/^\s*(?:[-+*])\s$/,n))(n.nodes.bullet_list)),t.push((n=>oM(/^```$/,n))(n.nodes.code_block)),t.push(((n,t)=>oM(new RegExp("^(#{1,6})\\s$"),n,e=>({level:e[1].length})))(n.nodes.heading)),function jU({rules:n}){let t=new Gr({state:{init:()=>null,apply(e,r){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:r)}},props:{handleTextInput:(e,r,i,s)=>sM(e,r,i,s,n,t),handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:r}=e.state.selection;r&&sM(e,r.pos,r.pos,"",n,t)})}}},isInputRules:!0});return t}({rules:t})},Pq=(n,t)=>{const e=[];return t.keyboardShortcuts&&e.push(...((n,t)=>{const e={};e["Mod-z"]=vM,bq?e["Shift-Mod-z"]=q_:e["Mod-y"]=q_;const r=[up({"Mod-b":Ma(n.marks.strong),"Mod-i":Ma(n.marks.em),"Mod-u":Ma(n.marks.u),"Mod-`":Ma(n.marks.code)}),up({Enter:pU(n.nodes.list_item),"Shift-Enter":hc(Jw,(i,s)=>{const{tr:o}=i;return s(o.replaceSelectionWith(n.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":qw(n.nodes.list_item),"Mod-]":Gw(n.nodes.list_item),Tab:Gw(n.nodes.list_item)}),up(zU)];return t.history&&r.push(up(e)),r})(n,{history:t.history})),t.history&&e.push(function gj(n={}){return new Gr({key:Zr,state:{init:()=>new ls(Sr.empty,Sr.empty,null,0),apply:(t,e,r)=>function fj(n,t,e,r){let s,i=e.getMeta(Zr);if(i)return i.historyState;e.getMeta(_M)&&(n=new ls(n.done,n.undone,null,0));let o=e.getMeta("appendedTransaction");if(0==e.steps.length)return n;if(o&&o.getMeta(Zr))return o.getMeta(Zr).redo?new ls(n.done.addTransform(e,void 0,r,pp(t)),n.undone,fM(e.mapping.maps[e.steps.length-1]),n.prevTime):new ls(n.done,n.undone.addTransform(e,void 0,r,pp(t)),null,n.prevTime);if(!1===e.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))return(s=e.getMeta("rebased"))?new ls(n.done.rebased(e,s),n.undone.rebased(e,s),j_(n.prevRanges,e.mapping),n.prevTime):new ls(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),j_(n.prevRanges,e.mapping),n.prevTime);{let a=0==n.prevTime||!o&&(n.prevTime<(e.time||0)-r.newGroupDelay||!function mj(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(e=!0)}),e}(e,n.prevRanges)),l=o?j_(n.prevRanges,e.mapping):fM(e.mapping.maps[e.steps.length-1]);return new ls(n.done.addTransform(e,a?t.selection.getBookmark():void 0,r,pp(t)),Sr.empty,l,e.time)}}(e,r,t,n)},config:n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,i="historyUndo"==r?vM:"historyRedo"==r?q_:null;return!!i&&(e.preventDefault(),i(t.state,t.dispatch))}}}})}()),t.inputRules&&e.push(Eq(n)),e},wM={linkOnPaste:!0,resizeImage:!0},MM={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:lp,plugins:[],nodeViews:{},attributes:{},features:wM,handleScrollToSelection:null};class Cc{constructor(t=MM){this.valueChangesSubject=new wn,this.updateSubject=new wn,this.options=Object.assign(Object.assign({},MM),t),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||lp}get commands(){return new Cq(this.view)}get features(){return Object.assign(Object.assign({},wM),this.options.features)}handleTransactions(t){const e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const r=e.doc.toJSON();this.valueChangesSubject.next(r)}createEditor(){var t,e;const{options:r,schema:i}=this,{content:s=null,nodeViews:o}=r,{history:a=!0,keyboardShortcuts:l=!0,inputRules:d=!0}=r,f=fc(s,i),g=null!==(t=r.plugins)&&void 0!==t?t:[],_=null!==(e=r.attributes)&&void 0!==e?e:{},C=Pq(i,{history:a,keyboardShortcuts:l,inputRules:d});this.view=new iU(null,{state:va.create({doc:f,schema:i,plugins:[...C,...g]}),nodeViews:o,dispatchTransaction:this.handleTransactions.bind(this),attributes:_,handleScrollToSelection:r.handleScrollToSelection})}setContent(t){if(null==t)return;const{state:e}=this.view,{tr:r,doc:i}=e,s=fc(t,this.schema);r.replaceWith(0,e.doc.content.size,s),!i.eq(r.doc)&&(!r.docChanged||this.view.dispatch(r))}registerPlugin(t){const{state:e}=this.view,r=[...e.plugins,t],i=e.reconfigure({plugins:r});this.view.updateState(i)}destroy(){this.view.destroy()}}function Aq(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",145),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Oq(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Nq(n,t){if(1&n&&(c(0,"p"),D(1,"img",146),p(2),D(3,"img",147),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function Rq(n,t){if(1&n&&(c(0,"span"),D(1,"img",146),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function Fq(n,t){if(1&n&&(c(0,"p"),D(1,"img",145),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function Lq(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function Bq(n,t){if(1&n&&(c(0,"div",143)(1,"p")(2,"b"),p(3),y(4,Aq,4,2,"span",144),y(5,Oq,2,1,"span",144),u()(),c(6,"b"),y(7,Nq,5,3,"p",144),u(),y(8,Rq,3,2,"span",144),c(9,"b"),y(10,Fq,3,2,"p",144),y(11,Lq,2,2,"p",144),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function Vq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"Umm Draft Title required idiot."),u()())}function Hq(n,t){if(1&n&&(c(0,"div",148),y(1,Vq,3,0,"div",144),u()),2&n){const e=v();h(1),m("ngIf",e.f.draftTitle.errors.required)}}function zq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"Umm Discord Tag required idiot."),u()())}function $q(n,t){if(1&n&&(c(0,"div",148),y(1,zq,3,0,"div",144),u()),2&n){const e=v();h(1),m("ngIf",e.f.discordname.errors.required)}}function Uq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"You need to input a value of at LEAST 100"),u()())}function jq(n,t){if(1&n&&(c(0,"div",148),y(1,Uq,3,0,"div",144),u()),2&n){const e=v();h(1),m("ngIf",e.f.cost.errors.cost)}}function Wq(n,t){1&n&&D(0,"option",23)}function qq(n,t){1&n&&(c(0,"option",150),p(1,"Effect"),u())}function Gq(n,t){1&n&&(c(0,"option",151),p(1,"Flip"),u())}function Kq(n,t){1&n&&(c(0,"option",152),p(1,"Tuner"),u())}function Qq(n,t){1&n&&(c(0,"option",153),p(1,"Gemini"),u())}function Xq(n,t){1&n&&(c(0,"option",154),p(1,"Fusion"),u())}function Yq(n,t){1&n&&(c(0,"option",155),p(1,"Ritual"),u())}function Jq(n,t){1&n&&(c(0,"option",156),p(1,"Union"),u())}function Zq(n,t){1&n&&(c(0,"option",157),p(1,"Xyz"),u())}function eG(n,t){1&n&&(c(0,"option",158),p(1,"Synchro Monster"),u())}function tG(n,t){1&n&&D(0,"option",23)}function nG(n,t){1&n&&(c(0,"option",159),p(1,"Normal"),u())}function rG(n,t){1&n&&(c(0,"option",160),p(1,"Continuous"),u())}function iG(n,t){1&n&&(c(0,"option",161),p(1,"Quick"),u())}function sG(n,t){1&n&&(c(0,"option",162),p(1,"Ritual"),u())}function oG(n,t){1&n&&(c(0,"option",163),p(1,"Equip"),u())}function aG(n,t){1&n&&(c(0,"option",164),p(1,"Field"),u())}function lG(n,t){1&n&&D(0,"option",23)}function cG(n,t){1&n&&(c(0,"option",165),p(1,"Normal"),u())}function uG(n,t){1&n&&(c(0,"option",166),p(1,"Continuous"),u())}function dG(n,t){1&n&&(c(0,"option",167),p(1,"Counter"),u())}function pG(n,t){1&n&&(c(0,"option",168),p(1,"Level ASC"),u())}function hG(n,t){1&n&&(c(0,"option",169),p(1,"Level DESC"),u())}function fG(n,t){1&n&&(c(0,"option",170),p(1,"ATK ASC"),u())}function mG(n,t){1&n&&(c(0,"option",171),p(1,"ATK DESC"),u())}function gG(n,t){1&n&&(c(0,"option",172),p(1,"DEF ASC"),u())}function _G(n,t){1&n&&(c(0,"option",173),p(1,"DEF DESC"),u())}function vG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",174),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightAddPackCard(i,o)})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function yG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",176),k("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o,"common")})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function CG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",176),k("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o,"rare")})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function bG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",176),k("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o,"super")})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function kG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",176),k("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o,"ultra")})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function DG(n,t){if(1&n){const e=F();c(0,"span")(1,"button",176),k("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o,"secret")})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function TG(n,t){if(1&n){const e=F();c(0,"button",177),k("click",function(){return S(e),v().saveDraft()}),p(1,"Save Pack"),u()}2&n&&m("disabled",1==v().done)}function SG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=v(2);h(1),x("Not enough commons!(",e.currentCommons.length,"/48)")}}function wG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=v(2);h(1),x("Not enough rares!(",e.currentRare.length,"/25)")}}function MG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=v(2);h(1),x("Not enough supers!(",e.currentSuper.length,"/15)")}}function xG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=v(2);h(1),x("Not enough ultras!(",e.currentUltra.length,"/10)")}}function EG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=v(2);h(1),x("Not enough secrets!(",e.currentSecret.length,"/2)")}}function IG(n,t){if(1&n&&(c(0,"div",178),p(1," Submission failed! Fix the following errors: "),c(2,"ul"),y(3,SG,2,1,"li",144),y(4,wG,2,1,"li",144),y(5,MG,2,1,"li",144),y(6,xG,2,1,"li",144),y(7,EG,2,1,"li",144),u()()),2&n){const e=v();h(3),m("ngIf",48!=e.currentCommons.length),h(1),m("ngIf",25!=e.currentRare.length),h(1),m("ngIf",15!=e.currentSuper.length),h(1),m("ngIf",10!=e.currentUltra.length),h(1),m("ngIf",2!=e.currentSecret.length)}}const _p=function(n){return{"is-invalid":n}},PG=function(){return[]};let AG=(()=>{class n{constructor(e,r,i,s){this.http=e,this._authService=r,this.customcardsService=i,this._router=s,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.currentPage=1,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.packSize="medium",this.cost=50,this.rarity="common",this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),discordname:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),cost:new te(50,[V.required,V.min(50)]),packImage:new te(File),packdescription:new te(null,[V.required,V.min(1)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.fileChanged=!1}get f(){return this.draftData.controls}ngOnDestroy(){this.editor.destroy()}ngOnInit(){this.editor=new Cc,this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingPack()?this.customcardsService.getEditPack()&&-1!=this.customcardsService.getEditPackID()&&(jl(this.customcardsService.getPackInfoByID(this.customcardsService.getEditPackID()),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID())).subscribe(([r,i])=>{if(this.packInfo=r,this.cards=i,this.packSize=this.packInfo.packsize,console.log(this.packInfo),this.draftData.controls.draftTitle.setValue(this.packInfo.title),this.draftData.controls.discordname.setValue(this.packInfo.discordname),this.draftData.controls.cost.setValue(this.packInfo.cost),null!=this.packInfo.packdescription&&this.draftData.controls.packdescription.setValue(this.packInfo.packdescription),this.customcardsService.setProcessingPack(!0),"small"==this.packInfo.packsize){this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1,this.common=15,this.rare=9,this.super=4,this.ultra=2,this.secret=1;let s=0;for(;2!=s;s++)this.currentUltra.push(this.cards[s]);for(;6!=s;s++)this.currentSuper.push(this.cards[s]);for(;7!=s;s++)this.currentSecret.push(this.cards[s]);for(;16!=s;s++)this.currentRare.push(this.cards[s]);for(;31!=s;s++)this.currentCommons.push(this.cards[s])}if("medium"==this.packInfo.packsize){this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.common=48,this.rare=25,this.super=15,this.ultra=10,this.secret=2;let s=0;for(;10!=s;s++)this.currentUltra.push(this.cards[s]);for(;25!=s;s++)this.currentSuper.push(this.cards[s]);for(;27!=s;s++)this.currentSecret.push(this.cards[s]);for(;52!=s;s++)this.currentRare.push(this.cards[s]);for(;100!=s;s++)this.currentCommons.push(this.cards[s])}if("large"==this.packInfo.packsize){this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6,this.common=100,this.rare=60,this.super=20,this.ultra=14,this.secret=6;let s=0;for(;14!=s;s++)this.currentUltra.push(this.cards[s]);for(;34!=s;s++)this.currentSuper.push(this.cards[s]);for(;40!=s;s++)this.currentSecret.push(this.cards[s]);for(;100!=s;s++)this.currentRare.push(this.cards[s]);for(;200!=s;s++)this.currentCommons.push(this.cards[s])}}),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID()).subscribe(r=>{r&&(this.currentDraft=r)}),this.customcardsService.setProcessingPack(!0)):(this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&(this.filters.monstertype="","Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype="")),"Trap"==this.filters.initial&&(this.filters.monstertype="","Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype="")),this.produceSearchRes()}produceSearchRes(){console.log(this.filters);let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>null!=r.attribute),e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.cardtype.toLowerCase().includes("monster")),e=e.filter(r=>null!=r.type),e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}resetPack(e){console.log("Ah!"),this.packSize=e,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,"small"==e&&(console.log("smallfry"),this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1),"medium"==e&&(this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2),"large"==e&&(this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6)}addCard(e){const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.card)||void 0===s?void 0:s.id)});if(console.log(r),!(r>-1)&&null!=this.card)if("common"==e){if(this.common==this.maxCommon)return;this.currentCommons.push(this.card),this.currentDraft.push(this.card),this.common++}else if("rare"==e){if(this.rare==this.maxRare)return;this.currentRare.push(this.card),this.currentDraft.push(this.card),this.rare++}else if("super"==e){if(this.super==this.maxSuper)return;this.currentSuper.push(this.card),this.currentDraft.push(this.card),this.super++}else if("ultra"==e){if(this.ultra==this.maxUltra)return;this.currentUltra.push(this.card),this.currentDraft.push(this.card),this.ultra++}else if("secret"==e){if(this.secret==this.maxSecret)return;this.currentSecret.push(this.card),this.currentDraft.push(this.card),this.secret++}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(e){if(null!=this.draftCard){if(console.log(this.draftCard),console.log(e),"common"==e){const i=this.currentCommons.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentCommons.splice(i,1),this.common--)}else if("rare"==e){const i=this.currentRare.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentRare.splice(i,1),this.rare--)}else if("super"==e){const i=this.currentSuper.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSuper.splice(i,1),this.super--)}else if("ultra"==e){const i=this.currentUltra.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentUltra.splice(i,1),this.ultra--)}else if("secret"==e){const i=this.currentSecret.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSecret.splice(i,1),this.secret--)}const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.draftCard)||void 0===s?void 0:s.id)});r>-1&&this.currentDraft.splice(r,1),this.draftCard=void 0}}rightAddPackCard(e,r){e.preventDefault(),this.card=r,console.log(r.name),this.addCard(this.rarity)}autoSelect(e){this.rarity=e}saveDraft(){var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");if(this.currentCommons.length==this.maxCommon&&this.currentRare.length==this.maxRare&&this.currentSuper.length==this.maxSuper&&this.currentUltra.length==this.maxUltra&&this.currentSecret.length==this.maxSecret){if(this.done=!0,this.packInfo){const r={};r.packID=this.packInfo.id,r.title=this.draftData.controls.draftTitle.value,r.discordname=this.draftData.controls.discordname.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.packurl=this.packInfo.pack,r.packdescription=this.draftData.controls.packdescription.value;const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.resubmitPack(r).subscribe(g=>{console.log(g),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},g=>{console.log(g)})},f=>{console.log(f)})}else this.customcardsService.resubmitPack(r).subscribe(d=>{console.log(d),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},d=>{console.log(d)})}else{const r={};r.title=this.draftData.controls.draftTitle.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.discordname=this.draftData.controls.discordname.value,r.packdescription=hp(this.draftData.controls.packdescription.value);const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,r.packurl="placeholder",this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.submitPack(r).subscribe(g=>{console.log(g),this._router.navigate(["/packs"])},g=>{console.log(g)})},f=>{console.log(f)})}else this.customcardsService.submitPack(r).subscribe(d=>{console.log(d),this._router.navigate(["/packs"])},d=>{console.log(d)})}this.submitfail=!1}else this.submitfail=!0}rightDeleteDraftCard(e,r,i){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard(i)}onFileSelected(e){this.file=e.target.files[0],this.fileChanged=!0}}return n.\u0275fac=function(e){return new(e||n)(w(Gu),w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-pack-maker"]],decls:332,vars:93,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],["type","button",1,"btn","btn-success","addcard",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","draftTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","discordname"],["id","discordname","formControlName","discordname","type","text",1,"form-control",3,"ngClass"],["id","cost","formControlName","cost","type","text",1,"form-control",3,"ngClass"],["for","customFile"],["id","packImage","formControlName","packImage","type","file",1,"form-control",3,"ngClass","change"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","packdescription",3,"editor","ngModel","disabled","placeholder"],[1,"row",3,"keydown.enter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(y(0,Bq,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return r.resetPack("small")}),p(4,"Small"),u(),c(5,"button",3),k("click",function(){return r.resetPack("medium")}),p(6,"Medium"),u(),c(7,"button",3),k("click",function(){return r.resetPack("large")}),p(8,"Large"),u(),c(9,"h4")(10,"ul")(11,"li"),p(12,"Small: 31 Cards, 3 per pack (15 Common, 9 Rare, 4 Super, 2 Ultra, 1 Secret)"),u(),c(13,"li"),p(14,"Medium: 100 cards, 9 per pack (48 Common, 25 Rare, 15 Super, 10 Ultra, 2 Secret)"),u(),c(15,"li"),p(16,"Large: 200 cards, 13 per pack (100 Common, 60 Rare, 20 Super, 14 Ultra, 6 Secret)"),u(),c(17,"li"),p(18,"DISCLAIMER: Changing the pack size will remove ALL CARDS in your current pack. Be careful!"),u()()()(),c(19,"form",4),k("ngSubmit",function(){return r.saveDraft()}),c(20,"div",2)(21,"div",5)(22,"label",6),p(23,"Pack Name"),u(),D(24,"input",7),y(25,Hq,2,1,"div",8),u(),c(26,"div",5)(27,"label",9),p(28,"Discord Name"),u(),D(29,"input",10),y(30,$q,2,1,"div",8),u(),c(31,"div",5)(32,"label",6),p(33,"Pack Cost"),u(),D(34,"input",11),y(35,jq,2,1,"div",8),u(),c(36,"div",5)(37,"label",12),p(38,"Upload Image"),u(),c(39,"input",13),k("change",function(s){return r.onFileSelected(s)}),u()()(),c(40,"div",2)(41,"div",14),D(42,"ngx-editor-menu",15)(43,"ngx-editor",16),u()()(),c(44,"div",17),k("keydown.enter",function(){return r.submitSearch()}),c(45,"div",5)(46,"label",6),p(47,"Name"),u(),c(48,"input",18),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(49,"div",5)(50,"label",19),p(51,"Desc"),u(),c(52,"input",18),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(53,"div",5)(54,"label",20),p(55,"Creator"),u(),c(56,"input",18),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(57,"div",5)(58,"label",21),p(59,"Tag"),u(),c(60,"select",22),k("ngModelChange",function(s){return r.filters.tag=s}),D(61,"option",23),c(62,"option",24),p(63,"Attack Directly"),u(),c(64,"option",25),p(65,"Battle"),u(),c(66,"option",26),p(67,"Boost"),u(),c(68,"option",27),p(69,"Bounce"),u(),c(70,"option",28),p(71,"Burn"),u(),c(72,"option",29),p(73,"Counters"),u(),c(74,"option",30),p(75,"Cripple"),u(),c(76,"option",31),p(77,"Draw "),u(),c(78,"option",32),p(79,"Disrupt"),u(),c(80,"option",33),p(81,"Equip"),u(),c(82,"option",34),p(83,"Excavate"),u(),c(84,"option",35),p(85,"Flip"),u(),c(86,"option",36),p(87,"Fusion"),u(),c(88,"option",37),p(89,"Gain"),u(),c(90,"option",38),p(91,"Gamble"),u(),c(92,"option",39),p(93,"Generic"),u(),c(94,"option",40),p(95,"Hand Protection"),u(),c(96,"option",41),p(97,"Ignore"),u(),c(98,"option",42),p(99,"Lingering"),u(),c(100,"option",43),p(101,"Lockdown"),u(),c(102,"option",44),p(103,"Mill"),u(),c(104,"option",45),p(105,"Mimic"),u(),c(106,"option",46),p(107,"Non-Targeted Removal"),u(),c(108,"option",47),p(109,"Piercing"),u(),c(110,"option",48),p(111,"Position"),u(),c(112,"option",49),p(113,"Protection"),u(),c(114,"option",50),p(115,"Quick"),u(),c(116,"option",51),p(117,"Recycle"),u(),c(118,"option",52),p(119,"Restriction"),u(),c(120,"option",53),p(121,"Ritual"),u(),c(122,"option",54),p(123,"Searcher"),u(),c(124,"option",55),p(125,"Special Summon"),u(),c(126,"option",56),p(127,"Spin"),u(),c(128,"option",57),p(129,"Targeted Removal"),u(),c(130,"option",58),p(131,"Token"),u(),c(132,"option",59),p(133,"Tribute"),u()()(),c(134,"div",5)(135,"label",60),p(136,"Card"),u(),c(137,"select",61),k("ngModelChange",function(s){return r.filters.initial=s}),D(138,"option",23),c(139,"option",62),p(140,"Monster"),u(),c(141,"option",63),p(142,"Spell"),u(),c(143,"option",64),p(144,"Trap"),u()()(),c(145,"div",5)(146,"label",60),p(147,"Card Type 2"),u(),c(148,"select",65),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(149,Wq,1,0,"option",66),y(150,qq,2,0,"option",67),y(151,Gq,2,0,"option",68),y(152,Kq,2,0,"option",69),y(153,Qq,2,0,"option",70),y(154,Xq,2,0,"option",71),y(155,Yq,2,0,"option",72),y(156,Jq,2,0,"option",73),y(157,Zq,2,0,"option",74),y(158,eG,2,0,"option",75),y(159,tG,1,0,"option",66),y(160,nG,2,0,"option",76),y(161,rG,2,0,"option",77),y(162,iG,2,0,"option",78),y(163,sG,2,0,"option",79),y(164,oG,2,0,"option",80),y(165,aG,2,0,"option",81),y(166,lG,1,0,"option",66),y(167,cG,2,0,"option",82),y(168,uG,2,0,"option",83),y(169,dG,2,0,"option",84),u()(),c(170,"div",5)(171,"label",85),p(172,"Monster Type"),u(),c(173,"select",86),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(174,"option",23),c(175,"option",87),p(176,"Aqua"),u(),c(177,"option",88),p(178,"Beast"),u(),c(179,"option",89),p(180,"Beast-Warrior"),u(),c(181,"option",90),p(182,"Dinosaur"),u(),c(183,"option",91),p(184,"Dragon"),u(),c(185,"option",92),p(186,"Fairy"),u(),c(187,"option",93),p(188,"Fiend"),u(),c(189,"option",94),p(190,"Fish"),u(),c(191,"option",95),p(192,"Insect"),u(),c(193,"option",96),p(194,"Machine"),u(),c(195,"option",97),p(196,"Plant"),u(),c(197,"option",98),p(198,"Psychic"),u(),c(199,"option",99),p(200,"Pyro"),u(),c(201,"option",100),p(202,"Reptile"),u(),c(203,"option",101),p(204,"Rock"),u(),c(205,"option",102),p(206,"Sea Serpent"),u(),c(207,"option",103),p(208,"Spellcaster"),u(),c(209,"option",104),p(210,"Thunder"),u(),c(211,"option",105),p(212,"Warrior"),u(),c(213,"option",106),p(214,"Winged-Beast"),u(),c(215,"option",107),p(216,"Zombie"),u()()()(),c(217,"div",17),k("keydown.enter",function(){return r.submitSearch()}),c(218,"div",5)(219,"label",21),p(220,"Attribute"),u(),c(221,"select",108),k("ngModelChange",function(s){return r.filters.attribute=s}),D(222,"option",23),c(223,"option",109),p(224,"DARK"),u(),c(225,"option",110),p(226,"DIVINE"),u(),c(227,"option",111),p(228,"EARTH"),u(),c(229,"option",112),p(230,"FIRE"),u(),c(231,"option",113),p(232,"LIGHT"),u(),c(233,"option",114),p(234,"WATER"),u(),c(235,"option",115),p(236,"WIND"),u()()(),c(237,"div",5)(238,"label",116),p(239,"Level <= "),u(),c(240,"input",117),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(241,"div",5)(242,"label",118),p(243," Level "),u(),c(244,"input",117),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(245,"div",5)(246,"label",119),p(247,"Atk <="),u(),c(248,"input",117),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(249,"div",5)(250,"label",120),p(251,"Atk"),u(),c(252,"input",117),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(253,"div",5)(254,"label",121),p(255,"Def <="),u(),c(256,"input",117),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(257,"div",5)(258,"label",122),p(259,"Def"),u(),c(260,"input",117),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(261,"div",5)(262,"label",123),p(263,"Sort By"),u(),c(264,"select",61),k("ngModelChange",function(s){return r.filters.sort=s}),c(265,"option",124),p(266,"Release Date ASC"),u(),c(267,"option",125),p(268,"Release Date DESC"),u(),c(269,"option",126),p(270,"Alphabetical ASC"),u(),c(271,"option",127),p(272,"Alphabetical DESC"),u(),y(273,pG,2,0,"option",128),y(274,hG,2,0,"option",129),y(275,fG,2,0,"option",130),y(276,mG,2,0,"option",131),y(277,gG,2,0,"option",132),y(278,_G,2,0,"option",133),u()(),c(279,"button",134),k("click",function(){return r.submitSearch()}),p(280,"Search"),u()(),c(281,"div",135)(282,"div")(283,"button",3),k("click",function(){return r.autoSelect("common")}),p(284,"Add Common"),u(),c(285,"button",3),k("click",function(){return r.autoSelect("rare")}),p(286,"Add Rare"),u(),c(287,"button",3),k("click",function(){return r.autoSelect("super")}),p(288,"Add Super"),u(),c(289,"button",3),k("click",function(){return r.autoSelect("ultra")}),p(290,"Add Ultra"),u(),c(291,"button",3),k("click",function(){return r.autoSelect("secret")}),p(292,"Add Secret"),u()()(),c(293,"div",135)(294,"div",5)(295,"div",5)(296,"div",136)(297,"div",137),D(298,"span",138),u()()(),y(299,vG,3,1,"span",139),c(300,"div",2)(301,"button",134),k("click",function(){return r.nextPage()}),p(302,"Next"),u(),c(303,"button",134),k("click",function(){return r.prevPage()}),p(304,"Previous"),u()()()(),c(305,"div",2)(306,"h1")(307,"b"),p(308,"Current Pack"),u()(),c(309,"div",140)(310,"h2"),p(311),u(),y(312,yG,3,1,"span",139),u(),c(313,"div",140)(314,"h2"),p(315),u(),y(316,CG,3,1,"span",139),u(),c(317,"div",140)(318,"h2"),p(319),u(),y(320,bG,3,1,"span",139),u(),c(321,"div",140)(322,"h2"),p(323),u(),y(324,kG,3,1,"span",139),u(),c(325,"div",140)(326,"h2"),p(327),u(),y(328,DG,3,1,"span",139),u()(),c(329,"div",2),y(330,TG,2,1,"button",141),y(331,IG,8,5,"div",142),u()()),2&e&&(m("ngIf",!0===r.isHovering),h(19),m("formGroup",r.draftData),h(5),m("ngClass",Me(84,_p,r.submitted&&r.f.draftTitle.errors)),h(1),m("ngIf",r.submitted&&r.f.draftTitle.errors),h(4),m("ngClass",Me(86,_p,r.submitted&&r.f.discordname.errors)),h(1),m("ngIf",r.submitted&&r.f.discordname.errors),h(4),m("ngClass",Me(88,_p,r.submitted&&r.f.cost.errors)),h(1),m("ngIf",r.submitted&&r.f.cost.errors),h(4),m("ngClass",Me(90,_p,r.submitted&&r.f.packImage.errors)),h(3),m("toolbar",r.toolbar)("editor",r.editor),h(1),m("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.tag),h(77),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(21),m("ngForOf",r.currentCards),h(12),we("Commons (",r.currentCommons.length,"/",r.maxCommon,")"),h(1),m("ngForOf",r.currentCommons),h(3),we("Rares (",r.currentRare.length,"/",r.maxRare,")"),h(1),m("ngForOf",r.currentRare),h(3),we("Super (",r.currentSuper.length,"/",r.maxSuper,")"),h(1),m("ngForOf",r.currentSuper),h(3),we("Ultra (",r.currentUltra.length,"/",r.maxUltra,")"),h(1),m("ngForOf",r.currentUltra),h(3),we("Secret(",r.currentSecret.length,"/",r.maxSecret,")"),h(1),m("ngForOf",r.currentSecret),h(2),m("ngIf",r.currentDraft!=xf(92,PG)),h(1),m("ngIf",r.submitfail&&r.submitted))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt,Pt,yc,mc,At,Jt,Cn,bn,Ci,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;padding-right:10px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.submit-text-fail[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:20pt}ul[_ngcontent-%COMP%]{font-weight:700;font-size:20pt}h4[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.extrapadding[_ngcontent-%COMP%]{padding-left:10px}.row[_ngcontent-%COMP%]{padding-left:0}"]}),n})();function OG(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",98),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function NG(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function RG(n,t){if(1&n&&(c(0,"p"),D(1,"img",99),p(2),D(3,"img",100),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function FG(n,t){if(1&n&&(c(0,"span"),D(1,"img",99),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function LG(n,t){if(1&n&&(c(0,"p"),D(1,"img",98),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function BG(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function VG(n,t){if(1&n&&(c(0,"div",97)(1,"p")(2,"b"),p(3),y(4,OG,4,2,"span",95),y(5,NG,2,1,"span",95),u()(),c(6,"b"),y(7,RG,5,3,"p",95),u(),y(8,FG,3,2,"span",95),c(9,"b"),y(10,LG,3,2,"p",95),y(11,BG,2,2,"p",95),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function HG(n,t){1&n&&D(0,"option",12)}function zG(n,t){1&n&&(c(0,"option",101),p(1,"Effect"),u())}function $G(n,t){1&n&&(c(0,"option",102),p(1,"Flip"),u())}function UG(n,t){1&n&&(c(0,"option",103),p(1,"Tuner"),u())}function jG(n,t){1&n&&(c(0,"option",104),p(1,"Gemini"),u())}function WG(n,t){1&n&&(c(0,"option",105),p(1,"Spirit"),u())}function qG(n,t){1&n&&(c(0,"option",106),p(1,"Union"),u())}function GG(n,t){1&n&&(c(0,"option",107),p(1,"Ritual"),u())}function KG(n,t){1&n&&(c(0,"option",108),p(1,"Fusion"),u())}function QG(n,t){1&n&&(c(0,"option",109),p(1,"Synchro"),u())}function XG(n,t){1&n&&(c(0,"option",110),p(1,"Xyz"),u())}function YG(n,t){1&n&&D(0,"option",12)}function JG(n,t){1&n&&(c(0,"option",111),p(1,"Normal"),u())}function ZG(n,t){1&n&&(c(0,"option",112),p(1,"Continuous"),u())}function eK(n,t){1&n&&(c(0,"option",113),p(1,"Quick"),u())}function tK(n,t){1&n&&(c(0,"option",114),p(1,"Ritual"),u())}function nK(n,t){1&n&&(c(0,"option",115),p(1,"Equip"),u())}function rK(n,t){1&n&&(c(0,"option",116),p(1,"Field"),u())}function iK(n,t){1&n&&D(0,"option",12)}function sK(n,t){1&n&&(c(0,"option",117),p(1,"Normal"),u())}function oK(n,t){1&n&&(c(0,"option",118),p(1,"Continuous"),u())}function aK(n,t){1&n&&(c(0,"option",119),p(1,"Counter"),u())}function lK(n,t){1&n&&(c(0,"option",120),p(1,"Level ASC"),u())}function cK(n,t){1&n&&(c(0,"option",121),p(1,"Level DESC"),u())}function uK(n,t){1&n&&(c(0,"option",122),p(1,"ATK ASC"),u())}function dK(n,t){1&n&&(c(0,"option",123),p(1,"ATK DESC"),u())}function pK(n,t){1&n&&(c(0,"option",124),p(1,"DEF ASC"),u())}function hK(n,t){1&n&&(c(0,"option",125),p(1,"DEF DESC"),u())}function fK(n,t){if(1&n){const e=F();c(0,"button",127),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightAddDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),D(1,"img",128),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function mK(n,t){if(1&n&&(c(0,"span"),y(1,fK,2,1,"button",126),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function gK(n,t){if(1&n){const e=F();c(0,"button",87),k("click",function(){return S(e),v().uploadList()}),p(1,"Upload Decklist"),u()}}function _K(n,t){1&n&&(c(0,"span"),p(1," Need at least 40 cards to upload."),u())}function vK(n,t){if(1&n){const e=F();c(0,"button",130),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function yK(n,t){if(1&n&&(c(0,"span"),y(1,vK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Monster"))}}function CK(n,t){if(1&n){const e=F();c(0,"button",130),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function bK(n,t){if(1&n&&(c(0,"span"),y(1,CK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Spell"))}}function kK(n,t){if(1&n){const e=F();c(0,"button",130),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function DK(n,t){if(1&n&&(c(0,"span"),y(1,kK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Trap"))}}function TK(n,t){if(1&n){const e=F();c(0,"span")(1,"button",130),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteSideCard(i,o)})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",128),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function SK(n,t){if(1&n){const e=F();c(0,"span")(1,"button",130),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return v().selectDraftCard(s)}),D(2,"img",128),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}let wK=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCustomCards().subscribe(e=>{if(this.cards=e,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader(),0==this.customcardsService.getProcessingDeck()?this.customcardsService.getEditDecklist()&&-1!=this.customcardsService.getEditDeckID()&&(jl(this.customcardsService.getDecklistInfo(this.customcardsService.getEditDeckID()),this.customcardsService.getDecklist(this.customcardsService.getEditDeckID())).subscribe(([r,i])=>{this.decklistinfo=r,this.decklist=i;for(let s in i)"maindeck"==i[s].deck||"extradeck"==i[s].deck?this.addCard(i[s]):this.addSideCard(i[s]);this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDeckName())}),this.customcardsService.setProcessingDeck(!0)):(this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName("")),this.uploadedMain.length>0||this.uploadedSide.length>0||this.uploadedExtra.length>0){console.log(this.uploadedMain);for(let r in this.uploadedMain)this.addCard(this.uploadedMain[r]);for(let r in this.uploadedSide)this.addSideCard(this.uploadedSide[r]);for(let r in this.uploadedExtra)this.addCard(this.uploadedExtra[r])}}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&(this.filters.monstertype="","Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype="")),"Trap"==this.filters.initial&&(this.filters.monstertype="","Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype="")),this.produceSearchRes()}produceSearchRes(){console.log(this.filters);let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>null!=r.attribute),e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.cardtype.toLowerCase().includes("monster")),e=e.filter(r=>null!=r.type),e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;this.mainDeck.push(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.mainDeck.splice(r,1),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(o.id);this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(o.id);this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(o.id);this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Et],decls:216,vars:69,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",3,"keydown.enter"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"btn","btn-success","small","text-center",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,VG,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Deck Name"),u(),c(6,"input",5),k("ngModelChange",function(s){return r.deckname=s}),u()(),c(7,"div",3)(8,"label",6),p(9,"Deck Description"),u(),c(10,"input",7),k("ngModelChange",function(s){return r.deckdescription=s}),u()()(),c(11,"div",8),k("keydown.enter",function(){return r.submitSearch()}),c(12,"div",3)(13,"label",4),p(14,"Name"),u(),c(15,"input",7),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(16,"div",3)(17,"label",6),p(18,"Desc"),u(),c(19,"input",7),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(20,"div",3)(21,"label",9),p(22,"Creator"),u(),c(23,"input",7),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(24,"div",3)(25,"label",10),p(26,"Card"),u(),c(27,"select",11),k("ngModelChange",function(s){return r.filters.initial=s}),D(28,"option",12),c(29,"option",13),p(30,"Monster"),u(),c(31,"option",14),p(32,"Spell"),u(),c(33,"option",15),p(34,"Trap"),u()()(),c(35,"div",3)(36,"label",10),p(37,"Card Type 2"),u(),c(38,"select",16),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(39,HG,1,0,"option",17),y(40,zG,2,0,"option",18),y(41,$G,2,0,"option",19),y(42,UG,2,0,"option",20),y(43,jG,2,0,"option",21),y(44,WG,2,0,"option",22),y(45,qG,2,0,"option",23),y(46,GG,2,0,"option",24),y(47,KG,2,0,"option",25),y(48,QG,2,0,"option",26),y(49,XG,2,0,"option",27),y(50,YG,1,0,"option",17),y(51,JG,2,0,"option",28),y(52,ZG,2,0,"option",29),y(53,eK,2,0,"option",30),y(54,tK,2,0,"option",31),y(55,nK,2,0,"option",32),y(56,rK,2,0,"option",33),y(57,iK,1,0,"option",17),y(58,sK,2,0,"option",34),y(59,oK,2,0,"option",35),y(60,aK,2,0,"option",36),u()(),c(61,"div",3)(62,"label",37),p(63,"Monster Type"),u(),c(64,"select",38),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(65,"option",12),c(66,"option",39),p(67,"Aqua"),u(),c(68,"option",40),p(69,"Beast"),u(),c(70,"option",41),p(71,"Beast-Warrior"),u(),c(72,"option",42),p(73,"Dinosaur"),u(),c(74,"option",43),p(75,"Dragon"),u(),c(76,"option",44),p(77,"Fairy"),u(),c(78,"option",45),p(79,"Fiend"),u(),c(80,"option",46),p(81,"Fish"),u(),c(82,"option",47),p(83,"Insect"),u(),c(84,"option",48),p(85,"Machine"),u(),c(86,"option",49),p(87,"Plant"),u(),c(88,"option",50),p(89,"Psychic"),u(),c(90,"option",51),p(91,"Pyro"),u(),c(92,"option",52),p(93,"Reptile"),u(),c(94,"option",53),p(95,"Rock"),u(),c(96,"option",54),p(97,"Sea Serpent"),u(),c(98,"option",55),p(99,"Spellcaster"),u(),c(100,"option",56),p(101,"Thunder"),u(),c(102,"option",57),p(103,"Warrior"),u(),c(104,"option",58),p(105,"Winged-Beast"),u(),c(106,"option",59),p(107,"Zombie"),u()()()(),c(108,"div",8),k("keydown.enter",function(){return r.submitSearch()}),c(109,"div",3)(110,"label",60),p(111,"Attribute"),u(),c(112,"select",61),k("ngModelChange",function(s){return r.filters.attribute=s}),D(113,"option",12),c(114,"option",62),p(115,"DARK"),u(),c(116,"option",63),p(117,"DIVINE"),u(),c(118,"option",64),p(119,"EARTH"),u(),c(120,"option",65),p(121,"FIRE"),u(),c(122,"option",66),p(123,"LIGHT"),u(),c(124,"option",67),p(125,"WATER"),u(),c(126,"option",68),p(127,"WIND"),u()()(),c(128,"div",3)(129,"label",69),p(130,"Level <= "),u(),c(131,"input",70),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(132,"div",3)(133,"label",71),p(134," Level "),u(),c(135,"input",70),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(136,"div",3)(137,"label",72),p(138,"Atk <="),u(),c(139,"input",70),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(140,"div",3)(141,"label",73),p(142,"Atk"),u(),c(143,"input",70),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(144,"div",3)(145,"label",74),p(146,"Def <="),u(),c(147,"input",70),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(148,"div",3)(149,"label",75),p(150,"Def"),u(),c(151,"input",70),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(152,"div",3)(153,"label",76),p(154,"Sort By"),u(),c(155,"select",11),k("ngModelChange",function(s){return r.filters.sort=s}),c(156,"option",77),p(157,"Release Date ASC"),u(),c(158,"option",78),p(159,"Release Date DESC"),u(),c(160,"option",79),p(161,"Alphabetical ASC"),u(),c(162,"option",80),p(163,"Alphabetical DESC"),u(),y(164,lK,2,0,"option",81),y(165,cK,2,0,"option",82),y(166,uK,2,0,"option",83),y(167,dK,2,0,"option",84),y(168,pK,2,0,"option",85),y(169,hK,2,0,"option",86),u()(),c(170,"button",87),k("click",function(){return r.submitSearch()}),p(171,"Search"),u()(),c(172,"div",88)(173,"div")(174,"button",89),k("click",function(){return r.addTo("Main")}),p(175,"Main Deck"),u(),c(176,"button",89),k("click",function(){return r.addTo("Side")}),p(177,"Side Deck"),u()(),c(178,"div",3)(179,"div",90)(180,"div",91),D(181,"span",92),u()(),y(182,mK,2,1,"span",93),c(183,"div",2)(184,"button",87),k("click",function(){return r.nextPage()}),p(185,"Next"),u(),c(186,"button",87),k("click",function(){return r.prevPage()}),p(187,"Previous"),u()()()(),c(188,"div",2)(189,"h1")(190,"b"),p(191),u(),c(192,"button",87),k("click",function(){return r.exportList()}),p(193,"Export XML"),u(),y(194,gK,2,0,"button",94),y(195,_K,2,0,"span",95),u(),c(196,"div",96)(197,"h2"),p(198),u(),y(199,yK,2,1,"span",93),u(),c(200,"div",96)(201,"h2"),p(202),u(),y(203,bK,2,1,"span",93),u(),c(204,"div",96)(205,"h2"),p(206),u(),y(207,DK,2,1,"span",93),u(),c(208,"div",96)(209,"h2"),p(210),u(),y(211,TK,3,1,"span",93),u(),c(212,"div",96)(213,"h2"),p(214),u(),y(215,SK,3,1,"span",93),u()()()),2&e&&(m("ngIf",!0===r.isHovering),h(6),m("ngModel",r.deckname),h(4),m("ngModel",r.deckdescription),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(13),m("ngForOf",r.currentCards),h(9),we("Current Decklist (",r.mainDeck.length,"/60) (",r.sideDeck.length,"/15)"),h(3),m("ngIf",r._authService.loggedIn()),h(1),m("ngIf",0==r.uploadCorrectly),h(3),x("Monsters (",r.monsterCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Spells (",r.spellCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Traps (",r.trapCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Side Deck (",r.sideCounter,")"),h(1),m("ngForOf",r.sideDeck),h(3),x("Extra (",r.edCounter,")"),h(1),m("ngForOf",r.extraDeck))},directives:[ue,et,Qe,At,Jt,Cn,bn,Ci,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}"]}),n})();function MK(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",8),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function xK(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function EK(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),D(3,"img",10),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function IK(n,t){if(1&n&&(c(0,"span"),D(1,"img",9),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function PK(n,t){if(1&n&&(c(0,"p"),D(1,"img",8),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function AK(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function OK(n,t){if(1&n&&(c(0,"div",6)(1,"p")(2,"b"),p(3),y(4,MK,4,2,"span",7),y(5,xK,2,1,"span",7),u()(),c(6,"b"),y(7,EK,5,3,"p",7),u(),y(8,IK,3,2,"span",7),c(9,"b"),y(10,PK,3,2,"p",7),y(11,AK,2,2,"p",7),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function NK(n,t){if(1&n){const e=F();c(0,"button",11),k("click",function(){return S(e),v().delete()}),p(1,"Delete"),u()}}function RK(n,t){if(1&n){const e=F();c(0,"button",12),k("click",function(){return S(e),v().edit()}),p(1,"Edit"),u()}}function FK(n,t){if(1&n){const e=F();c(0,"span")(1,"img",13),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),u()()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function LK(n,t){if(1&n&&(c(0,"span"),y(1,FK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),m("ngIf","maindeck"==(null==e?null:e.deck))}}function BK(n,t){if(1&n){const e=F();c(0,"span")(1,"img",13),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),u()()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function VK(n,t){if(1&n&&(c(0,"span"),y(1,BK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),m("ngIf","sidedeck"==(null==e?null:e.deck))}}function HK(n,t){if(1&n){const e=F();c(0,"span")(1,"img",13),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),u()()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function zK(n,t){if(1&n&&(c(0,"span"),y(1,HK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),m("ngIf","extradeck"==(null==e?null:e.deck))}}let $K=(()=>{class n{constructor(e,r,i,s){this._router=e,this._authService=r,this.route=i,this.customcardService=s,this.xml_file="",this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}mouseHovering(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id},e=>{console.log(e),this.username="",this.id=-99999}),this.route.paramMap.subscribe(e=>{this.deckid=Number(e.get("deckid")),this.customcardService.getDecklist(this.deckid).subscribe(r=>{this.decklist=r,this.decklist.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.decklist)}),this.customcardService.getDecklistInfo(this.deckid).subscribe(r=>{this.decklistinfo=r})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}download(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.decklist)"maindeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side>";for(const r of this.decklist)"sidedeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</side><extra>";for(const r of this.decklist)"extradeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}delete(){this.customcardService.deleteDecklists(this.deckid).subscribe(e=>{this._router.navigate(["/decklists"])},e=>{console.log(e)})}edit(){this.customcardService.editDeck(!0),this.customcardService.setEditDeckID(this.deckid),this.customcardService.setEditDeckName(this.decklistinfo.name),this.customcardService.uploadDecklist([],[],[]),this._router.navigate(["/deck-editor"])}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(Ft),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-decklist-details"]],decls:27,vars:8,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"btn","btn-success",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"smallcard",3,"src","mouseenter","mouseleave","click"]],template:function(e,r){1&e&&(y(0,OK,16,13,"div",0),c(1,"div",1)(2,"h1")(3,"b")(4,"u"),p(5),u()()(),c(6,"h2"),p(7),u(),c(8,"button",2),k("click",function(){return r.download()}),p(9,"Download .xml"),u(),y(10,NK,2,0,"button",3),y(11,RK,2,0,"button",4),c(12,"h3")(13,"b")(14,"u"),p(15,"Main Deck"),u()()(),y(16,LK,2,1,"span",5),c(17,"h3")(18,"b")(19,"u"),p(20,"Side Deck"),u()()(),y(21,VK,2,1,"span",5),c(22,"h3")(23,"b")(24,"u"),p(25,"Extra Deck"),u()()(),y(26,zK,2,1,"span",5),u()),2&e&&(m("ngIf",!0===r.isHovering),h(5),O(null==r.decklistinfo?null:r.decklistinfo.name),h(2),x("By ",null==r.decklistinfo?null:r.decklistinfo.creator,""),h(3),m("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),h(1),m("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),h(5),m("ngForOf",r.decklist),h(5),m("ngForOf",r.decklist),h(5),m("ngForOf",r.decklist))},directives:[ue,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}"]}),n})();function UK(n,t){if(1&n){const e=F();c(0,"span")(1,"button",5),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)}),c(2,"div",6)(3,"div",7),D(4,"img",8),u(),c(5,"div",9),D(6,"img",10),u()()()()}if(2&n){const e=t.$implicit,r=v();h(2),m("@cardFlip",r.state),h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}let jK=(()=>{class n{constructor(e){this.customcardsService=e,this.cards=[],this.state="default",this.randomCards=[],this.DMCount=0}ngOnInit(){this.customcardsService.getDeckMasters().subscribe(e=>{this.cards=e,console.log(this.cards),this.shuffleCards()})}shuffleCards(){"flipped"===this.state&&(this.state="default");let e=0;for(this.randomCards=[];3!=e;){const r=this.randomIntFromInterval(0,this.cards.length-1);let i=this.cards[r];for(console.log(i);this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.cards.length-1);i=this.cards[s]}this.randomCards.push(i),e++}}rotate(){this.state="default"===this.state?"flipped":"default"}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-deck-master"]],decls:10,vars:3,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"smallbutton","btn","btn-default","btn-success",3,"disabled","click"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],["href","",1,"btn","btn-default",3,"click"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"button",2),k("click",function(){return r.rotate()}),p(3,"Reveal Cards"),u(),c(4,"button",2),k("click",function(){return r.shuffleCards()}),p(5,"Shuffle Cards"),u()(),c(6,"div",1)(7,"div",3)(8,"div"),y(9,UK,7,2,"span",4),u()()()()),2&e&&(h(2),m("disabled","flipped"==r.state),h(2),m("disabled","default"==r.state),h(5),m("ngForOf",r.randomCards))},directives:[_e],styles:[".bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}.smallbutton[_ngcontent-%COMP%]{width:200px}"],data:{animation:[Dd("cardFlip",[qi("default",$r({transform:"none"})),qi("flipped",$r({transform:"rotateY(180deg)"})),Gi("default => flipped",[Wi("400ms")]),Gi("flipped => default",[Wi("0ms")])])]}}),n})();function WK(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",11),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function qK(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function GK(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),D(3,"img",13),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function KK(n,t){if(1&n&&(c(0,"span"),D(1,"img",12),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function QK(n,t){if(1&n&&(c(0,"p"),D(1,"img",11),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function XK(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function YK(n,t){if(1&n&&(c(0,"div",9)(1,"p")(2,"b"),p(3),y(4,WK,4,2,"span",10),y(5,qK,2,1,"span",10),u()(),c(6,"b"),y(7,GK,5,3,"p",10),u(),y(8,KK,3,2,"span",10),c(9,"b"),y(10,QK,3,2,"p",10),y(11,XK,2,2,"p",10),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function JK(n,t){if(1&n&&(c(0,"div",17),D(1,"img",18),c(2,"div",19),p(3),u()()),2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function ZK(n,t){1&n&&D(0,"img",24)}function eQ(n,t){1&n&&D(0,"img",25)}function tQ(n,t){1&n&&D(0,"img",26)}function nQ(n,t){if(1&n&&(c(0,"div",20),y(1,ZK,1,0,"img",21),y(2,eQ,1,0,"img",22),y(3,tQ,1,0,"img",23),D(4,"img",18),c(5,"div",19),p(6),u()()),2&n){const e=v().$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function rQ(n,t){if(1&n){const e=F();c(0,"span")(1,"button",14),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()}),y(2,JK,4,2,"div",15),y(3,nQ,7,5,"div",16),u()()}if(2&n){const e=t.$implicit;h(2),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity)}}let iQ=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.searching=!1,this.searchName="",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.binders=[],this.cards=[],this.originalCards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getCollectionCardsByCreatorID(this.creatorid).subscribe(r=>{r&&(this.cards=r,this.originalCards=this.cards,console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),this.searchName=this.filters.name,this.cards=this.originalCards.filter(r=>r.name.toLowerCase().includes(this.searchName.toLowerCase())),this.currentPage=1,this.getCardNumbers(this.currentPage),console.log(this.searchName)}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-collections"]],decls:18,vars:3,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col","justify-content-between"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(y(0,YK,16,13,"div",0),c(1,"h1",1),p(2,"Card Collection"),u(),c(3,"div",2)(4,"div",3)(5,"div",4),k("keydown.enter",function(){return r.submitSearch()}),c(6,"div",2)(7,"label",5),p(8,"Name"),u(),c(9,"input",6),k("ngModelChange",function(s){return r.filters.name=s}),u(),c(10,"button",7),k("click",function(){return r.submitSearch()}),p(11,"Search"),u()()(),y(12,rQ,4,2,"span",8),c(13,"div",2)(14,"button",7),k("click",function(){return r.nextPage()}),p(15,"Next"),u(),c(16,"button",7),k("click",function(){return r.prevPage()}),p(17,"Previous"),u()()()()),2&e&&(m("ngIf",!0===r.isHovering),h(9),m("ngModel",r.filters.name),h(3),m("ngForOf",r.currentCards))},directives:[ue,et,Qe,At,_e],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})();function sQ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",9),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function oQ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function aQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),D(3,"img",11),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function lQ(n,t){if(1&n&&(c(0,"span"),D(1,"img",10),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function cQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function uQ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function dQ(n,t){if(1&n&&(c(0,"div",8)(1,"p")(2,"b"),p(3),y(4,sQ,4,2,"span",7),y(5,oQ,2,1,"span",7),u()(),c(6,"b"),y(7,aQ,5,3,"p",7),u(),y(8,lQ,3,2,"span",7),c(9,"b"),y(10,cQ,3,2,"p",7),y(11,uQ,2,2,"p",7),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function pQ(n,t){if(1&n&&(c(0,"option",12),p(1),u()),2&n){const e=t.$implicit;B("value",e.packid),h(1),O(e.title)}}function hQ(n,t){1&n&&D(0,"img",22)}function fQ(n,t){if(1&n&&(c(0,"div",18),y(1,hQ,1,0,"img",19),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function mQ(n,t){1&n&&D(0,"img",22)}function gQ(n,t){if(1&n&&(c(0,"div",23),y(1,mQ,1,0,"img",19),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function _Q(n,t){if(1&n){const e=F();c(0,"button",15),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),y(1,fQ,5,3,"div",16),y(2,gQ,5,3,"div",17),u()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(1),m("ngIf",e.copies>0),h(1),m("ngIf",0==e.copies)}}function vQ(n,t){if(1&n&&(c(0,"span"),y(1,_Q,3,3,"button",14),u()),2&n){const e=t.$implicit;h(1),m("ngIf","secret"==e.rarity)}}function yQ(n,t){1&n&&D(0,"img",25)}function CQ(n,t){if(1&n&&(c(0,"div",18),y(1,yQ,1,0,"img",24),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function bQ(n,t){1&n&&D(0,"img",25)}function kQ(n,t){if(1&n&&(c(0,"div",23),y(1,bQ,1,0,"img",24),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function DQ(n,t){if(1&n){const e=F();c(0,"button",15),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),y(1,CQ,5,3,"div",16),y(2,kQ,5,3,"div",17),u()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),m("ngIf",e.copies>0),h(1),m("ngIf",0==e.copies)}}function TQ(n,t){if(1&n&&(c(0,"span"),y(1,DQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),m("ngIf","ultra"==e.rarity)}}function SQ(n,t){1&n&&D(0,"img",27)}function wQ(n,t){if(1&n&&(c(0,"div",18),y(1,SQ,1,0,"img",26),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function MQ(n,t){1&n&&D(0,"img",27)}function xQ(n,t){if(1&n&&(c(0,"div",23),y(1,MQ,1,0,"img",26),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function EQ(n,t){if(1&n){const e=F();c(0,"button",15),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),y(1,wQ,5,3,"div",16),y(2,xQ,5,3,"div",17),u()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),m("ngIf",e.copies>0),h(1),m("ngIf",0==e.copies)}}function IQ(n,t){if(1&n&&(c(0,"span"),y(1,EQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),m("ngIf","super"==e.rarity)}}function PQ(n,t){if(1&n&&(c(0,"div",18),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=v(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function AQ(n,t){if(1&n&&(c(0,"div",23),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=v(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function OQ(n,t){if(1&n){const e=F();c(0,"button",15),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),y(1,PQ,4,2,"div",16),y(2,AQ,4,2,"div",28),u()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),m("ngIf",e.copies>0),h(1),m("ngIf",0==e.copies)}}function NQ(n,t){if(1&n&&(c(0,"span"),y(1,OQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),m("ngIf","rare"==e.rarity)}}function RQ(n,t){if(1&n&&(c(0,"div",31),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=v(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function FQ(n,t){if(1&n&&(c(0,"div",32),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=v(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function LQ(n,t){if(1&n){const e=F();c(0,"button",15),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),y(1,RQ,4,2,"div",29),y(2,FQ,4,2,"div",30),u()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),m("ngIf",e.copies>0),h(1),m("ngIf",0==e.copies)}}function BQ(n,t){if(1&n&&(c(0,"span"),y(1,LQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),m("ngIf","common"==e.rarity)}}function VQ(n,t){if(1&n&&(c(0,"div")(1,"h2"),p(2,"Secret Rares"),u(),y(3,vQ,2,1,"span",13),c(4,"h2"),p(5,"Ultra Rares"),u(),y(6,TQ,2,1,"span",13),c(7,"h2"),p(8,"Super Rares"),u(),y(9,IQ,2,1,"span",13),c(10,"h2"),p(11,"Rares"),u(),y(12,NQ,2,1,"span",13),c(13,"h2"),p(14,"Commons"),u(),y(15,BQ,2,1,"span",13),u()),2&n){const e=v();h(3),m("ngForOf",e.userPackCollection),h(3),m("ngForOf",e.userPackCollection),h(3),m("ngForOf",e.userPackCollection),h(3),m("ngForOf",e.userPackCollection),h(3),m("ngForOf",e.userPackCollection)}}let HQ=(()=>{class n{constructor(e,r,i){this.authService=e,this.router=r,this.customCardService=i,this.packs=[],this.userPackCollection=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{this.userId=e.id},e=>{console.log(e),this.router.navigate(["/home"])}),this.customCardService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}selectPack(){this.customCardService.getChecklist(this.userId,this.packID).subscribe(e=>{this.userPackCollection=e,console.log(this.userPackCollection),this.userPackCollection.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1)})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(Y),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-checklist"]],decls:11,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[4,"ngIf"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],["class","rare-card",4,"ngIf"],["class","rare-card no-card",4,"ngIf"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],[1,"rare-card","no-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["class","rare-card no-card ",4,"ngIf"],["class","relative",4,"ngIf"],["class","relative no-card",4,"ngIf"],[1,"relative"],[1,"relative","no-card"]],template:function(e,r){1&e&&(y(0,dQ,16,13,"div",0),c(1,"h2",1),p(2,"The Attic Packs"),u(),c(3,"div",2)(4,"span",3),p(5,"Pack: "),u(),c(6,"select",4),k("ngModelChange",function(s){return r.packID=s}),y(7,pQ,2,2,"option",5),u(),c(8,"button",6),k("click",function(){return r.selectPack()}),p(9,"Select Pack"),u(),y(10,VQ,16,5,"div",7),u()),2&e&&(m("ngIf",!0===r.isHovering),h(6),m("ngModel",r.packID),h(1),m("ngForOf",r.packs),h(3),m("ngIf",r.userPackCollection.length>0))},directives:[ue,Jt,Qe,At,_e,Cn,bn,qt],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.no-card[_ngcontent-%COMP%]{-moz-filter:grayscale(100%);-o-filter:grayscale(100%);-ms-filter:grayscale(100%);filter:grayscale(100%)}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function zQ(n,t){if(1&n&&(c(0,"h4"),D(1,"img",9),p(2),u()),2&n){const e=v();h(1),B("src",e.stType,I),h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function $Q(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=v();h(1),x(" ",null==e.card?null:e.card.cardtype," ")}}function UQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),D(3,"img",11),p(4),u()),2&n){const e=v();h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," "),h(2),x(" ",null==e.card?null:e.card.level," ")}}function jQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),u()),2&n){const e=v();h(1),B("src",e.attribute,I),h(1),x(" ",null==e.card?null:e.card.attribute," ")}}function WQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),u()),2&n){const e=v();h(1),B("src",e.mType,I),h(1),x(" ",null==e.card?null:e.card.type,"")}}function qQ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v();h(1),we("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function GQ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=t.$implicit;h(1),x("",e.tag,", ")}}function KQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Unlimited"),u())}function QQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Limited"),u())}function XQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Semi-Limited"),u())}function YQ(n,t){1&n&&(c(0,"p"),p(1,"Status: BANNED"),u())}function JQ(n,t){if(1&n&&(c(0,"p",12),p(1),c(2,"a",13),p(3),u()()),2&n){const e=t.$implicit;h(1),x(" ",e.rarity," : "),h(1),A("routerLink","/packs/",e.id,""),h(1),O(e.title)}}function ZQ(n,t){if(1&n){const e=F();c(0,"button",14),k("click",function(){return S(e),v().confirmDelete()}),p(1,"Delete Card?"),u()}}let eX=(()=>{class n{constructor(e,r,i,s){this.router=e,this._authService=r,this.route=i,this.customcardService=s,this.banned=!1,this.limited=!1,this.semilimited=!1,this.unlimited=!0}ngOnInit(){this.route.paramMap.subscribe(e=>{this.cardid=Number(e.get("cardid")),this.customcardService.getCardDetails(this.cardid).subscribe(r=>{this.carddetails=r,this.card=this.carddetails.carddetails,this.tags=this.carddetails.tags;for(let i in this.tags)"Limited"==this.tags[i].tag&&(this.limited=!0,this.unlimited=!1,this.tags.splice(i,1)),"Semi-Limited"==this.tags[i].tag&&(this.semilimited=!0,this.unlimited=!1,this.tags.splice(i,1)),"Banned"==this.tags[i].tag&&(this.banned=!0,this.unlimited=!1,this.tags.splice(i,1)),console.log(i);console.log(this.carddetails),this.showDetails()})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}showDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(e=this.card)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(s=this.card)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.card)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(C=this.card)||void 0===C?void 0:C.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(b=this.card)||void 0===b?void 0:b.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}confirmDelete(){if(this._authService.adminRole())if(0!=this.carddetails.packdetails.length)confirm("You cannot delete this card while it is in a pack!");else{let e="Are you sure you want to delete this card?";1==confirm(e)?this.customcardService.deleteCard(this.card).subscribe(r=>{this.router.navigate(["/deck-editor"])},r=>{this.router.navigate(["/deck-editor"])}):e="You canceled!"}}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(Ft),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-card-details"]],decls:36,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-lg-4","cardeffect"],["href","",1,"bigcard",3,"src","click"],[1,"col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-capitalize",4,"ngFor","ngForOf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"text-capitalize"],[1,"text-decoration-none",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),k("click",function(){return r.goToLink(r.card.id)}),u()(),c(4,"div",4)(5,"div",1)(6,"h1"),p(7),u(),y(8,zQ,3,2,"h4",5),y(9,$Q,2,1,"h4",5),c(10,"b"),y(11,UQ,5,3,"p",5),u(),y(12,jQ,3,2,"p",5),c(13,"b"),y(14,WQ,3,2,"p",5),y(15,qQ,2,2,"p",5),c(16,"p"),p(17),u(),c(18,"p"),p(19),u(),c(20,"p"),p(21),u(),c(22,"p"),p(23,"Tags: "),y(24,GQ,2,1,"span",6),u(),y(25,KQ,2,0,"p",5),y(26,QQ,2,0,"p",5),y(27,XQ,2,0,"p",5),y(28,YQ,2,0,"p",5),u()(),c(29,"div",1)(30,"h1"),p(31,"Released In:"),u(),c(32,"h3"),y(33,JQ,4,3,"p",7),u()()()(),c(34,"div"),y(35,ZQ,2,0,"button",8),u()()),2&e&&(h(3),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",I),h(4),O(null==r.card?null:r.card.name),h(1),m("ngIf","False"==r.monster),h(1),m("ngIf","True"==r.monster),h(2),m("ngIf","True"==r.monster),h(1),m("ngIf","False"==r.monster),h(2),m("ngIf","True"==r.monster),h(1),m("ngIf","True"==r.monster),h(2),x(" ",null==r.card?null:r.card.effect,""),h(2),x("ID: ",null==r.card?null:r.card.id,""),h(2),x("Creator: ",null==r.card?null:r.card.creator,""),h(3),m("ngForOf",r.tags),h(1),m("ngIf",1==r.unlimited),h(1),m("ngIf",1==r.limited),h(1),m("ngIf",1==r.semilimited),h(1),m("ngIf",1==r.banned),h(5),m("ngForOf",r.carddetails.packdetails),h(2),m("ngIf",r._authService.adminRole()))},directives:[ue,_e,Gt],styles:[".cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.largecard[_ngcontent-%COMP%]{width:50%}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function tX(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",7),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function nX(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function rX(n,t){if(1&n&&(c(0,"p"),D(1,"img",8),p(2),D(3,"img",9),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function iX(n,t){if(1&n&&(c(0,"span"),D(1,"img",8),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function sX(n,t){if(1&n&&(c(0,"p"),D(1,"img",7),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function oX(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function aX(n,t){if(1&n&&(c(0,"div",6)(1,"p")(2,"b"),p(3),y(4,tX,4,2,"span",3),y(5,nX,2,1,"span",3),u()(),c(6,"b"),y(7,rX,5,3,"p",3),u(),y(8,iX,3,2,"span",3),c(9,"b"),y(10,sX,3,2,"p",3),y(11,oX,2,2,"p",3),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function lX(n,t){1&n&&(c(0,"span"),p(1,"200 cards, 13 per pack"),u())}function cX(n,t){1&n&&(c(0,"span"),p(1,"100 cards, 9 per pack"),u())}function uX(n,t){1&n&&(c(0,"span"),p(1,"31 cards, 3 per pack"),u())}function dX(n,t){1&n&&D(0,"img",16)}function pX(n,t){if(1&n){const e=F();c(0,"button",12),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),c(1,"div",13),y(2,dX,1,0,"img",14),D(3,"img",15),u()()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(2),m("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function hX(n,t){if(1&n&&(c(0,"span"),y(1,pX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),m("ngIf","secret"==e.rarity)}}function fX(n,t){1&n&&D(0,"img",18)}function mX(n,t){if(1&n){const e=F();c(0,"button",12),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),c(1,"div",13),y(2,fX,1,0,"img",17),D(3,"img",15),u()()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(2),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function gX(n,t){if(1&n&&(c(0,"span"),y(1,mX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),m("ngIf","ultra"==e.rarity)}}function _X(n,t){1&n&&D(0,"img",20)}function vX(n,t){if(1&n){const e=F();c(0,"button",12),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),c(1,"div",13),y(2,_X,1,0,"img",19),D(3,"img",15),u()()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(2),m("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function yX(n,t){if(1&n&&(c(0,"span"),y(1,vX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),m("ngIf","super"==e.rarity)}}function CX(n,t){if(1&n){const e=F();c(0,"button",12),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),c(1,"div",13),D(2,"img",15),u()()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function bX(n,t){if(1&n&&(c(0,"span"),y(1,CX,3,2,"button",11),u()),2&n){const e=t.$implicit;h(1),m("ngIf","rare"==e.rarity)}}function kX(n,t){if(1&n){const e=F();c(0,"button",12),k("mouseenter",function(i){S(e);const s=v().$implicit;return v(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()}),c(1,"div",21),D(2,"img",15),u()()}if(2&n){const e=v().$implicit;A("routerLink","/cards/",e.id,""),h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function DX(n,t){if(1&n&&(c(0,"span"),y(1,kX,3,2,"button",11),u()),2&n){const e=t.$implicit;h(1),m("ngIf","common"==e.rarity)}}function TX(n,t){if(1&n&&(c(0,"div")(1,"h2"),p(2,"Secret Rares"),u(),y(3,hX,2,1,"span",10),c(4,"h2"),p(5,"Ultra Rares"),u(),y(6,gX,2,1,"span",10),c(7,"h2"),p(8,"Super Rares"),u(),y(9,yX,2,1,"span",10),c(10,"h2"),p(11,"Rares"),u(),y(12,bX,2,1,"span",10),c(13,"h2"),p(14,"Commons"),u(),y(15,DX,2,1,"span",10),u()),2&n){const e=v();h(3),m("ngForOf",e.packcards),h(3),m("ngForOf",e.packcards),h(3),m("ngForOf",e.packcards),h(3),m("ngForOf",e.packcards),h(3),m("ngForOf",e.packcards)}}let SX=(()=>{class n{constructor(e,r,i,s){this.customcardsService=e,this.authService=r,this.router=i,this.route=s,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.packcards=[]}ngOnInit(){this.route.paramMap.subscribe(e=>{this.packid=Number(e.get("packid")),this.customcardsService.getPackInfoByID(this.packid).subscribe(r=>{this.packInfo=r,console.log(this.packInfo)}),this.customcardsService.getCustomCardsByPack(this.packid).subscribe(r=>{this.packcards=r,this.packcards.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.packcards)})})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y),w(Ft))},n.\u0275cmp=G({type:n,selectors:[["app-pack-details"]],decls:14,vars:9,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[4,"ngIf"],[1,"container"],[1,"packdescription",3,"innerHTML"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],[1,"relative"]],template:function(e,r){1&e&&(y(0,aX,16,13,"div",0),c(1,"h1",1),p(2),u(),c(3,"h4",1),p(4,"Created by "),c(5,"a",2),p(6),u(),p(7," | Pack Size: "),y(8,lX,2,0,"span",3),y(9,cX,2,0,"span",3),y(10,uX,2,0,"span",3),u(),c(11,"div",4),D(12,"span",5),y(13,TX,16,5,"div",3),u()),2&e&&(m("ngIf",!0===r.isHovering),h(2),O(r.packInfo.title),h(3),A("routerLink","/players/",r.packInfo.creatorid,""),h(1),O(r.packInfo.creator),h(2),m("ngIf","large"==r.packInfo.packsize),h(1),m("ngIf","medium"==r.packInfo.packsize),h(1),m("ngIf","small"==r.packInfo.packsize),h(2),m("innerHTML",r.packInfo.packdescription,pr),h(1),m("ngIf",r.packcards.length>0))},directives:[ue,Gt,_e,qt],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:70%}.binder[_ngcontent-%COMP%]{font-size:xx-large}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.btn[_ngcontent-%COMP%]{padding:0}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]{width:1600px}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function wX(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"td")(3,"a",7),p(4),u()(),c(5,"td"),p(6),u()()()),2&n){const e=t.$implicit;h(3),A("routerLink","/players/",e.id,""),h(1),O(null==e?null:e.username),h(2),x(" ",null==e?null:e.role,"")}}let MX=(()=>{class n{constructor(e){this.customcardsService=e,this.players=[]}ngOnInit(){this.customcardsService.getPlayers().subscribe(e=>{this.players=e,console.log(this.players),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player"]],decls:12,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2),D(3,"span",3),u()(),c(4,"table",4)(5,"thead")(6,"tr")(7,"th",5),p(8,"Player"),u(),c(9,"th",5),p(10,"Role"),u()()(),y(11,wX,7,3,"tbody",6),u()()),2&e&&(h(11),m("ngForOf",r.players))},directives:[_e,Gt],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.container[_ngcontent-%COMP%]{width:50%}"]}),n})();function xX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=v();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,"",I)}}function EX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=v();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,"",I)}}function IX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=v();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,"",I)}}function PX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=v();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,"",I)}}function AX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=v();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,"",I)}}function OX(n,t){if(1&n&&(c(0,"td")(1,"a",15),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name)}}function NX(n,t){if(1&n&&(c(0,"td")(1,"a",15),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name)}}function RX(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function FX(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function LX(n,t){if(1&n){const e=F();c(0,"td")(1,"a",17),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.optional_link)}),p(2,"LINK"),u()()}}function BX(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",15),p(7),u(),p(8," vs "),c(9,"a",15),p(10),u()(),y(11,OX,4,2,"td",16),y(12,NX,4,2,"td",16),y(13,RX,2,0,"td",16),y(14,FX,2,0,"td",16),y(15,LX,3,0,"td",16),u()),2&n){const e=t.$implicit;h(2),O(e.date),h(2),O(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name),h(1),m("ngIf","WON"==e.result),h(1),m("ngIf","LOSS"==e.result),h(1),m("ngIf","DRAW"==e.result),h(1),m("ngIf",null==e.optional_link),h(1),m("ngIf",null!=e.optional_link)}}function VX(n,t){if(1&n&&(c(0,"option",18),p(1),u()),2&n){const e=t.$implicit;B("value",e.packid),h(1),O(e.title)}}function HX(n,t){if(1&n&&(c(0,"span",8),p(1),u()),2&n){const e=v();h(1),we("",e.packOwned," / ",e.packTotal,"")}}let zX=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.details=[],this.packs=[]}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(Ft),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player-profile"]],inputs:{userId:"userId"},decls:45,vars:10,consts:[[1,"row"],[1,"col-sm-2"],[1,"col-md-8"],["class","btn ",3,"routerLink",4,"ngIf"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],["class","binder",4,"ngIf"],[1,"btn",3,"routerLink"],[1,"favoritecard",3,"src"],[3,"routerLink"],[4,"ngIf"],[3,"click"],[3,"value"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"h3"),p(3,"About"),u(),c(4,"p"),p(5),u()(),c(6,"div",2)(7,"div",0)(8,"h1"),p(9," Favorite Cards "),u(),c(10,"p"),y(11,xX,2,2,"button",3),y(12,EX,2,2,"button",3),y(13,IX,2,2,"button",3),y(14,PX,2,2,"button",3),y(15,AX,2,2,"button",3),u()(),c(16,"div",0)(17,"h1"),p(18,"Recent Matches"),u(),c(19,"table",4)(20,"thead")(21,"tr")(22,"th",5),p(23,"Date"),u(),c(24,"th",5),p(25,"Game Mode"),u(),c(26,"th",5),p(27,"Duelists"),u(),c(28,"th",5),p(29,"Result"),u(),c(30,"th",5),p(31,"Replay"),u()()(),c(32,"tbody"),y(33,BX,16,11,"tr",6),u()()(),c(34,"div",0)(35,"h1"),p(36," Pack Checklist "),u(),c(37,"div",7)(38,"span",8),p(39,"Pack: "),u(),c(40,"select",9),k("ngModelChange",function(s){return r.packID=s}),y(41,VX,2,2,"option",10),u(),c(42,"button",11),k("click",function(){return r.selectPack()}),p(43,"Select Pack"),u(),y(44,HX,2,2,"span",12),u()()()()),2&e&&(h(5),O(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.about),h(6),m("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),m("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),m("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),m("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),m("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(18),m("ngForOf",null==r.userDetails?null:r.userDetails.matches),h(7),m("ngModel",r.packID),h(1),m("ngForOf",r.packs),h(3),m("ngIf",null!=r.userPackCollection))},directives:[ue,qt,_e,Gt,Jt,Qe,At,Cn,bn],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}']}),n})();function $X(n,t){if(1&n&&(c(0,"div",13),D(1,"img",14),c(2,"div",15),p(3),u()()),2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function UX(n,t){1&n&&D(0,"img",20)}function jX(n,t){1&n&&D(0,"img",21)}function WX(n,t){1&n&&D(0,"img",22)}function qX(n,t){if(1&n&&(c(0,"div",16),y(1,UX,1,0,"img",17),y(2,jX,1,0,"img",18),y(3,WX,1,0,"img",19),D(4,"img",14),c(5,"div",15),p(6),u()()),2&n){const e=v().$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function GX(n,t){if(1&n){const e=F();c(0,"span")(1,"button",10),k("click",function(){const s=S(e).$implicit;return v(2).goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v(2).mouseHovering(o,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()}),y(2,$X,4,2,"div",11),y(3,qX,7,5,"div",12),u()()}if(2&n){const e=t.$implicit;h(2),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity)}}function KX(n,t){if(1&n){const e=F();c(0,"div",3)(1,"div",4),k("keydown.enter",function(){return S(e),v().submitSearch()}),c(2,"div",1)(3,"label",5),p(4,"Name"),u(),c(5,"input",6),k("ngModelChange",function(i){return S(e),v().filters.name=i}),u(),c(6,"button",7),k("click",function(){return S(e),v().submitSearch()}),p(7,"Search"),u()()(),y(8,GX,4,2,"span",8),c(9,"div",1)(10,"div",9)(11,"button",7),k("click",function(){return S(e),v().prevPage()}),p(12,"Previous"),u(),c(13,"button",7),k("click",function(){return S(e),v().nextPage()}),p(14,"Next"),u()()()()}if(2&n){const e=v();h(5),m("ngModel",e.filters.name),h(3),m("ngForOf",e.currentCards)}}let QX=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.searching=!1,this.searchName="",this.binders=[],this.cards=[],this.originalCards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.customcardsService.getCollectionCardsByCreatorID(this.userId).subscribe(e=>{e&&(this.cards=e,this.cards.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1),console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage),this.originalCards=this.cards,console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),this.searchName=this.filters.name,this.cards=this.originalCards.filter(r=>r.name.toLowerCase().includes(this.searchName.toLowerCase())),this.currentPage=1,this.getCardNumbers(this.currentPage),console.log(this.searchName)}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-player-collection"]],inputs:{userId:"userId"},decls:4,vars:1,consts:[[1,"text-center"],[1,"row"],["class","col justify-content-between",4,"ngIf"],[1,"col","justify-content-between"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"col","text-center"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(c(0,"h1",0),p(1,"Card Collection"),u(),c(2,"div",1),y(3,KX,15,2,"div",2),u()),2&e&&(h(3),m("ngIf",r.currentCards.length>0))},directives:[ue,et,Qe,At,_e],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px;width:150px;font-size:24px}']}),n})();function XX(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"td")(3,"a",5),p(4),u()(),c(5,"td"),p(6),u()()()),2&n){const e=t.$implicit;h(3),A("routerLink","/decklist/",e.id,""),h(1),O(null==e?null:e.name),h(2),O(null==e?null:e.description)}}let YX=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this.customcardsService.getDecklistsFromUser(this.userId).subscribe(e=>{this.decklists=e})}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player-decklists"]],inputs:{userId:"userId"},decls:11,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"User Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Decklist"),u(),c(8,"th",3),p(9,"Description"),u()()(),y(10,XX,7,3,"tbody",4),u()()),2&e&&(h(10),m("ngForOf",r.decklists))},directives:[_e,Gt],styles:[""]}),n})();function JX(n,t){if(1&n&&(c(0,"button",5),D(1,"img",6),u()),2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",I)}}function ZX(n,t){1&n&&(c(0,"button",5),D(1,"img",7),u())}function eY(n,t){if(1&n&&(c(0,"div",3),y(1,JX,2,1,"button",4),y(2,ZX,2,0,"button",4),u()),2&n){const e=t.$implicit;h(1),m("ngIf","placeholder"!=e.pack),h(1),m("ngIf","placeholder"==e.pack)}}let tY=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getPacksbyOwner(this.userId).subscribe(e=>{e&&(this.packs=e)})}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player-packs"]],inputs:{userId:"userId"},decls:3,vars:1,consts:[[1,"container"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],["class","btn",4,"ngIf"],[1,"btn"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),y(2,eY,3,2,"div",2),u()()),2&e&&(h(2),m("ngForOf",r.packs))},directives:[_e,ue],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function nY(n,t){if(1&n&&(c(0,"td")(1,"a",4),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name)}}function rY(n,t){if(1&n&&(c(0,"td")(1,"a",4),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name)}}function iY(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function sY(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function oY(n,t){if(1&n){const e=F();c(0,"td")(1,"a",6),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.optional_link)}),p(2,"LINK"),u()()}}function aY(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",4),p(7),u(),p(8," vs "),c(9,"a",4),p(10),u()(),y(11,nY,4,2,"td",5),y(12,rY,4,2,"td",5),y(13,iY,2,0,"td",5),y(14,sY,2,0,"td",5),y(15,oY,3,0,"td",5),u()),2&n){const e=t.$implicit;h(2),O(e.date),h(2),O(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name),h(1),m("ngIf","WON"==e.result),h(1),m("ngIf","LOSS"==e.result),h(1),m("ngIf","DRAW"==e.result),h(1),m("ngIf",null==e.optional_link),h(1),m("ngIf",null!=e.optional_link)}}let lY=(()=>{class n{constructor(e){this.customcardsService=e,this.matches=[]}ngOnInit(){this.customcardsService.getMatchesFromUser(this.userId).subscribe(e=>{e&&(this.matches=e)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}}return n.\u0275fac=function(e){return new(e||n)(w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player-matches"]],inputs:{userId:"userId"},decls:18,vars:1,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Matches"),u(),c(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),p(7,"Date"),u(),c(8,"th",2),p(9,"Game Mode"),u(),c(10,"th",2),p(11,"Duelists"),u(),c(12,"th",2),p(13,"Result"),u(),c(14,"th",2),p(15,"Replay"),u()()(),c(16,"tbody"),y(17,aY,16,11,"tr",3),u()()()),2&e&&(h(17),m("ngForOf",r.matches))},directives:[_e,Gt,ue],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}"]}),n})();function cY(n,t){1&n&&(c(0,"button",15),p(1,"Edit Profile"),u())}function uY(n,t){1&n&&D(0,"app-player-profile",16),2&n&&m("userId",v().userID)}function dY(n,t){1&n&&D(0,"app-player-collection",16),2&n&&m("userId",v().userID)}function pY(n,t){1&n&&D(0,"app-player-decklists",16),2&n&&m("userId",v().userID)}function hY(n,t){1&n&&D(0,"app-player-packs",16),2&n&&m("userId",v().userID)}function fY(n,t){1&n&&D(0,"app-player-matches",16),2&n&&m("userId",v().userID)}let mY=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.page="Profile",this.details=[],this.packs=[]}ngOnInit(){this.page="Profile",this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}setPage(e){this.page=e,console.log(this.page)}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(Ft),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-player-details"]],decls:34,vars:8,consts:[[1,"spacing"],[1,"container"],[1,"row"],[1,"col-auto"],[1,"crop"],[3,"src"],[1,"mt-auto","col-auto"],[1,"mt-auto","col","flex-row-reverse","d-flex"],["routerLink","/settings","class","button btn btn-success",4,"ngIf"],[1,"rounded","navbar","navbar-default","navbar-expand-md","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[3,"userId",4,"ngIf"],["routerLink","/settings",1,"button","btn","btn-success"],[3,"userId"]],template:function(e,r){1&e&&(D(0,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"img",5),u()(),c(6,"div",6)(7,"h1"),p(8),u()(),c(9,"div",7),y(10,cY,2,0,"button",8),u()(),c(11,"nav",9)(12,"div",10)(13,"ul",11)(14,"li",12)(15,"a",13),k("click",function(){return r.setPage("Profile")}),p(16,"Profile"),u()(),c(17,"li",12)(18,"a",13),k("click",function(){return r.setPage("Collection")}),p(19,"Collection"),u()(),c(20,"li",12)(21,"a",13),k("click",function(){return r.setPage("Decklists")}),p(22,"Decklists"),u()(),c(23,"li",12)(24,"a",13),k("click",function(){return r.setPage("Packs")}),p(25,"Packs"),u()(),c(26,"li",12)(27,"a",13),k("click",function(){return r.setPage("Matches")}),p(28,"Matches"),u()()()()(),y(29,uY,1,1,"app-player-profile",14),y(30,dY,1,1,"app-player-collection",14),y(31,pY,1,1,"app-player-decklists",14),y(32,hY,1,1,"app-player-packs",14),y(33,fY,1,1,"app-player-matches",14),u()),2&e&&(h(5),A("src","https://drive.google.com/uc?export=view&id=",null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.profile_image,"",I),h(3),O(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.username),h(2),m("ngIf",r.loggedInID==r.userID),h(19),m("ngIf","Profile"==r.page),h(1),m("ngIf","Collection"==r.page),h(1),m("ngIf","Decklists"==r.page),h(1),m("ngIf","Packs"==r.page),h(1),m("ngIf","Matches"==r.page))},directives:[ue,qt,zX,QX,YX,tY,lY],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large;margin-top:10px}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}li[_ngcontent-%COMP%]{margin:0 5px}a[_ngcontent-%COMP%]:hover{cursor:pointer}']}),n})();function gY(n,t){if(1&n&&(c(0,"option",19),p(1),u()),2&n){const e=t.$implicit;B("value",e.id),h(1),O(e.username)}}function _Y(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Umm Duelist required idiot."),u()())}function vY(n,t){if(1&n&&(c(0,"div",20),y(1,_Y,3,0,"div",21),u()),2&n){const e=v();h(1),m("ngIf",e.f.duelist.errors.required)}}function yY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"You need to input a value of at LEAST 100"),u()())}function CY(n,t){if(1&n&&(c(0,"div",20),y(1,yY,3,0,"div",21),u()),2&n){const e=v();h(1),m("ngIf",e.f.result.errors.result)}}function bY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Please input a game mode."),u()())}function kY(n,t){if(1&n&&(c(0,"div",20),y(1,bY,3,0,"div",21),u()),2&n){const e=v();h(1),m("ngIf",e.f.gamemode.errors.gamemode)}}function DY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Umm Draft Title required idiot."),u()())}function TY(n,t){if(1&n&&(c(0,"div",20),y(1,DY,3,0,"div",21),u()),2&n){const e=v();h(1),m("ngIf",e.f.replay.errors.replay)}}const vp=function(n){return{"is-invalid":n}};let SY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.matchData=new lt({duelist:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),result:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),replay:new te(" ",[]),gamemode:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),decklist:new te(" ",[])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.players=[]}get f(){return this.matchData.controls}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getPlayers().subscribe(r=>{this.players=r,this.players.sort((s,o)=>s.username.localeCompare(o.username));const i=this.players.findIndex(s=>s.id===this.id);i>-1&&this.players.splice(i,1),console.log(this.players),this.hideloader()})}):this._router.navigate(["/login"])}saveMatch(){console.log("im a poopy butt");var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.matchData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0,this.today=new Date,this.jstoday=sk(this.today,"MM-dd-yyyy hh:mm:ss a zzzz","en-US","-0400");const r={};r.duelist1=this.id,r.duelist2=this.matchData.controls.duelist.value,r.result=this.matchData.controls.result.value,r.replay=this.matchData.controls.replay.value,r.gamemode=this.matchData.controls.gamemode.value,r.date=this.jstoday,this.customcardsService.submitDuel(r).subscribe(i=>{console.log(i),this._router.navigate(["/players"])},i=>{console.log(i)}),this.submitfail=!1}}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-submit-match"]],decls:42,vars:19,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-auto"],["for","Name"],["id","duelist","formControlName","duelist",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["id","result","formControlName","result",1,"form-control",3,"ngClass"],["value","WON"],["value","LOSS"],["value","DRAW"],["id","gamemode","formControlName","gamemode",1,"form-control",3,"ngClass"],["value","Standard"],["value","Sealed Draft"],["value","Deck Master"],["value","Cube"],["id","replay","formControlName","replay","type","text",1,"form-control",3,"ngClass"],[1,"btn","button","btn-success",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"form",1),k("ngSubmit",function(){return r.saveMatch()}),c(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Dueled Against:"),u(),c(6,"select",5),y(7,gY,2,2,"option",6),u(),y(8,vY,2,1,"div",7),u(),c(9,"div",3)(10,"label",4),p(11,"Result"),u(),c(12,"select",8)(13,"option",9),p(14,"WON"),u(),c(15,"option",10),p(16,"LOSS"),u(),c(17,"option",11),p(18,"DRAW"),u()(),y(19,CY,2,1,"div",7),u(),c(20,"div",3)(21,"label",4),p(22,"Game Mode"),u(),c(23,"select",12)(24,"option",13),p(25,"Standard"),u(),c(26,"option",14),p(27,"Sealed Draft"),u(),c(28,"option",15),p(29,"Deck Master"),u(),c(30,"option",16),p(31,"Cube"),u()(),y(32,kY,2,1,"div",7),u(),c(33,"div",3)(34,"label",4),p(35,"Optional Replay"),u(),D(36,"input",17),y(37,TY,2,1,"div",7),u()(),c(38,"div",2)(39,"div",3)(40,"button",18),k("click",function(){return r.saveMatch()}),p(41,"Submit"),u()()()()()),2&e&&(h(1),m("formGroup",r.matchData),h(5),m("ngClass",Me(11,vp,r.submitted&&r.f.duelist.errors)),h(1),m("ngForOf",r.players),h(1),m("ngIf",r.submitted&&r.f.duelist.errors),h(4),m("ngClass",Me(13,vp,r.submitted&&r.f.result.errors)),h(7),m("ngIf",r.submitted&&r.f.result.errors),h(4),m("ngClass",Me(15,vp,r.submitted&&r.f.gamemode.errors)),h(9),m("ngIf",r.submitted&&r.f.gamemode.errors),h(4),m("ngClass",Me(17,vp,r.submitted&&r.f.replay.errors)),h(1),m("ngIf",r.submitted&&r.f.replay.errors),h(3),m("disabled",1==r.done))},directives:[Xt,Qt,Lt,Jt,Qe,Yt,Pt,_e,Cn,bn,ue,et],styles:["button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function wY(n,t){if(1&n){const e=F();c(0,"button",3),k("click",function(){S(e);const i=v().$implicit;return v().editPack(i.id,i.title)}),D(1,"img",4),c(2,"p"),p(3),u()()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",I),h(2),O(e.title)}}function MY(n,t){if(1&n){const e=F();c(0,"button",3),k("click",function(){S(e);const i=v().$implicit;return v().editPack(i.id,i.title)}),D(1,"img",5),c(2,"p"),p(3),u()()}if(2&n){const e=v().$implicit;h(3),O(e.title)}}function xY(n,t){if(1&n&&(c(0,"span"),y(1,wY,4,2,"button",2),y(2,MY,4,1,"button",2),u()),2&n){const e=t.$implicit;h(1),m("ngIf","placeholder"!=e.pack),h(1),m("ngIf","placeholder"==e.pack)}}let EY=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.resetPack(),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getPacksbyOwner(this.id).subscribe(r=>{r&&(this.packs=r,console.log(this.packs),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}resetPack(){this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName("")}editPack(e,r){this.customcardsService.editPack(!0),this.customcardsService.setEditPackID(e),this.customcardsService.setEditPackName(r),this._router.navigate(["/pack-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-pack-editor"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","btn",3,"click",4,"ngIf"],[1,"btn",3,"click"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,xY,3,2,"span",1),u()),2&e&&(h(1),m("ngForOf",r.packs))},directives:[_e,ue],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function IY(n,t){1&n&&(c(0,"th",2),p(1,"Delete"),u())}function PY(n,t){if(1&n&&(c(0,"td")(1,"a",5),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name)}}function AY(n,t){if(1&n&&(c(0,"td")(1,"a",5),p(2),u(),p(3," WINS!"),u()),2&n){const e=v().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name)}}function OY(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function NY(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function RY(n,t){if(1&n){const e=F();c(0,"td")(1,"a",8),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.optional_link)}),p(2,"LINK "),u()()}}function FY(n,t){if(1&n){const e=F();c(0,"button",9),k("click",function(){S(e);const i=v().$implicit;return v().deleteMatch(i.id)}),p(1,"x"),u()}}function LY(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",5),p(7),u(),p(8," vs "),c(9,"a",5),p(10),u()(),y(11,PY,4,2,"td",6),y(12,AY,4,2,"td",6),y(13,OY,2,0,"td",6),y(14,NY,2,0,"td",6),y(15,RY,3,0,"td",6),c(16,"td"),y(17,FY,2,0,"button",7),u()()),2&n){const e=t.$implicit,r=v();h(2),O(e.date),h(2),O(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),O(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),O(e.d2Name),h(1),m("ngIf","WON"==e.result),h(1),m("ngIf","LOSS"==e.result),h(1),m("ngIf","DRAW"==e.result),h(1),m("ngIf",null==e.optional_link),h(1),m("ngIf",null!=e.optional_link),h(2),m("ngIf",r._authService.adminRole())}}let BY=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i,this.matches=[]}ngOnInit(){this.customcardsService.getMatches().subscribe(e=>{this.matches=e,console.log(this.matches)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}deleteMatch(e){let r={id:e};r.id=e,this.customcardsService.deleteMatch(r).subscribe(i=>{i&&location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-matches"]],decls:17,vars:2,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),p(5,"Date"),u(),c(6,"th",2),p(7,"Game Mode"),u(),c(8,"th",2),p(9,"Duelists"),u(),c(10,"th",2),p(11,"Result"),u(),c(12,"th",2),p(13,"Replay"),u(),y(14,IY,2,0,"th",3),u()(),c(15,"tbody"),y(16,LY,18,12,"tr",4),u()()()),2&e&&(h(14),m("ngIf",r._authService.adminRole()),h(2),m("ngForOf",r.matches))},directives:[ue,_e,Gt],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.btn-danger[_ngcontent-%COMP%]{margin:0}"]}),n})();function VY(n,t){1&n&&(c(0,"div")(1,"p",24),p(2,"500 characters max for your About"),u()())}function HY(n,t){if(1&n&&(c(0,"div",22),p(1," asd "),y(2,VY,3,0,"div",23),u()),2&n){const e=v();h(2),m("ngIf",e.f.about.errors.required)}}function zY(n,t){if(1&n){const e=F();c(0,"span")(1,"button",3),k("click",function(){const s=S(e).$implicit;return v().setCard(s.drive_id)}),D(2,"img",4),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}const $Y=function(n){return{"is-invalid":n}};let UY=(()=>{class n{constructor(e,r,i,s){this.route=e,this._authService=r,this.customcardsService=i,this._router=s,this.cardSelected=0,this.newSettings={id:0,profile_image:"",favorite_card1:"",favorite_card2:"",favorite_card3:"",favorite_card4:"",favorite_card5:"",about:""},this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.aboutMe=new lt({about:new te(" ",[V.required,V.minLength(1),V.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader()}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getUserPageDetails(Number(this.creatorid)).subscribe(r=>{this.userdata=r,console.log(this.userdata),this.newSettings.id=Number(this.creatorid),this.newSettings.profile_image=this.userdata.details.profile_image,this.newSettings.favorite_card1=this.userdata.details.favorite_card1,this.newSettings.favorite_card2=this.userdata.details.favorite_card2,this.newSettings.favorite_card3=this.userdata.details.favorite_card3,this.newSettings.favorite_card4=this.userdata.details.favorite_card4,this.newSettings.favorite_card5=this.userdata.details.favorite_card5,this.newSettings.about=this.userdata.details.about,this.about=this.userdata.details.about})},e=>{console.log(e),this.creator="",this.creatorid=""})}saveImages(){if(this.submitted=!0,this.aboutMe.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.done=!0,this.newSettings.about=this.aboutMe.controls.about.value,this.customcardsService.editProfileImages(this.newSettings).subscribe(e=>{window.location.reload()},e=>{this._router.navigate(["/home"])})}selectCardEdit(e){this.cardSelected=e}setCard(e){console.log(e),0==this.cardSelected&&(this.newSettings.profile_image=e),1==this.cardSelected&&(this.newSettings.favorite_card1=e),2==this.cardSelected&&(this.newSettings.favorite_card2=e),3==this.cardSelected&&(this.newSettings.favorite_card3=e),4==this.cardSelected&&(this.newSettings.favorite_card4=e),5==this.cardSelected&&(this.newSettings.favorite_card5=e)}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(Ft),w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-about"]],decls:50,vars:15,consts:[[1,"row"],[1,"col-md-8"],[1,"text-center"],[1,"btn","btn-default",3,"click"],[1,"smallcard",3,"src"],[1,"button","btn","btn-default",3,"click"],[3,"formGroup"],[1,"form-group"],["for","aboutMe"],["formControlName","about","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"smallbtn","btn","button","btn-success",3,"disabled","click"],[1,"col","mr-auto","text-center"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"cards","row-lg-8","overflow-auto"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",0)(3,"h2"),p(4,"Profile Image"),u(),c(5,"p",2)(6,"button",3),k("click",function(){return r.selectCardEdit(0)}),D(7,"img",4),u()()(),c(8,"div",0)(9,"h2"),p(10,"Favorite Cards"),u(),c(11,"p",2)(12,"button",5),k("click",function(){return r.selectCardEdit(1)}),D(13,"img",4),u(),c(14,"button",5),k("click",function(){return r.selectCardEdit(2)}),D(15,"img",4),u(),c(16,"button",5),k("click",function(){return r.selectCardEdit(3)}),D(17,"img",4),u(),c(18,"button",5),k("click",function(){return r.selectCardEdit(4)}),D(19,"img",4),u(),c(20,"button",5),k("click",function(){return r.selectCardEdit(5)}),D(21,"img",4),u()()(),c(22,"div",0)(23,"form",6)(24,"div",7)(25,"h2")(26,"label",8),p(27,"About"),u()(),c(28,"textarea",9),k("ngModelChange",function(s){return r.about=s}),u()(),y(29,HY,3,1,"div",10),u(),c(30,"button",11),k("click",function(){return r.saveImages()}),p(31,"Save"),u()()(),c(32,"div",12)(33,"div",13),k("keydown.enter",function(){return r.submitSearch()}),c(34,"div",0)(35,"label",14),p(36,"Name"),u(),c(37,"input",15),k("ngModelChange",function(s){return r.filters.name=s}),u(),c(38,"button",16),k("click",function(){return r.submitSearch()}),p(39,"Search"),u()(),c(40,"div",17)(41,"div",18)(42,"div",19),D(43,"span",20),u()(),y(44,zY,3,1,"span",21),u(),c(45,"div",0)(46,"button",16),k("click",function(){return r.nextPage()}),p(47,"Next"),u(),c(48,"button",16),k("click",function(){return r.prevPage()}),p(49,"Previous"),u()()()()()),2&e&&(h(7),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.profile_image,"",I),h(6),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card1,"",I),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card2,"",I),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card3,"",I),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card4,"",I),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card5,"",I),h(2),m("formGroup",r.aboutMe),h(5),m("ngClass",Me(13,$Y,r.submitted&&r.f.about.errors))("ngModel",r.about),h(1),m("ngIf",r.submitted&&r.f.about.errors),h(1),m("disabled",1==r.done),h(7),m("ngModel",r.filters.name),h(7),m("ngForOf",r.currentCards))},directives:[Xt,Qt,Lt,et,Qe,Yt,Pt,ue,At,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function jY(n,t){1&n&&(c(0,"div",11),p(1," peepee "),u())}function WY(n,t){1&n&&(c(0,"div",11),p(1," poopoo "),u())}function qY(n,t){1&n&&(c(0,"div",11),p(1," poopoo "),u())}const X_=function(n){return{"is-invalid":n}};let GY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.accountInfo=new lt({email:new te(void 0,[V.required,V.minLength(5)]),newpassword:new te(void 0,[V.required,V.minLength(5)]),password:new te(void 0,[V.required,V.minLength(8)])})}get f(){return this.accountInfo.controls}ngOnInit(){this._authService.getUser().subscribe(e=>{console.log(e),this.creator=e.username,this.creatorid=e.id,this.email=e.email,this.accountInfo.controls.email.setValue(this.email)},e=>{console.log(e),this.creator="",this.creatorid=""})}changeInfo(){this.submitted=!0,this.accountInfo.invalid?this.submitfail=!0:this._authService.changeInfo({user:this.creatorid,email:this.email,newemail:this.accountInfo.controls.email.value,password:this.accountInfo.controls.password.value,newpassword:this.accountInfo.controls.newpassword.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-account"]],decls:19,vars:13,consts:[[1,"col-sm-5"],[3,"formGroup","ngSubmit"],[1,"h2","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["formControlName","newpassword","name","newpassword","type","password","id","newpassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"form",1),k("ngSubmit",function(){return r.changeInfo()}),c(2,"h1",2),p(3,"Account"),u(),c(4,"label",3),p(5,"Email address"),u(),D(6,"input",4),y(7,jY,2,0,"div",5),c(8,"label",6),p(9,"Current Password"),u(),D(10,"input",7),y(11,WY,2,0,"div",5),c(12,"label",6),p(13,"New Password"),u(),D(14,"input",8),y(15,qY,2,0,"div",5),c(16,"button",9),p(17,"Save Changes"),u()()(),D(18,"div",10)),2&e&&(h(1),m("formGroup",r.accountInfo),h(5),m("ngClass",Me(7,X_,r.submitted&&r.f.email.errors)),h(1),m("ngIf",r.submitted&&r.f.email.errors),h(3),m("ngClass",Me(9,X_,r.submitted&&r.f.password.errors)),h(1),m("ngIf",r.submitted&&r.f.password.errors),h(3),m("ngClass",Me(11,X_,r.submitted&&r.f.newpassword.errors)),h(1),m("ngIf",r.submitted&&r.f.newpassword.errors))},directives:[Xt,Qt,Lt,et,Qe,Yt,ji,Pt,ue],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function KY(n,t){1&n&&(c(0,"div",5),D(1,"app-about"),u())}function QY(n,t){1&n&&(c(0,"div",5),D(1,"app-account"),u())}let XY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.page="Profile",this.aboutMe=new lt({about:new te(" ",[V.required,V.minLength(1),V.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.page="Profile",this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}setPage(e){this.page=e,console.log(this.page)}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-settings"]],decls:14,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-2"],[1,"btn","button","btn-success",3,"click"],["class","col-lg",4,"ngIf"],[1,"col-lg"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"h1"),p(5,"Settings"),u()(),c(6,"div",1)(7,"button",3),k("click",function(){return r.setPage("Profile")}),p(8,"Profile"),u()(),c(9,"div",1)(10,"button",3),k("click",function(){return r.setPage("Account")}),p(11,"Account"),u()()(),y(12,KY,2,0,"div",4),y(13,QY,2,0,"div",4),u()()),2&e&&(h(12),m("ngIf","Profile"==r.page),h(1),m("ngIf","Account"==r.page))},directives:[ue,UY,GY],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function YY(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),p(4),u()(),c(5,"td")(6,"a",5),p(7),u()(),c(8,"td"),p(9),u()()()),2&n){const e=t.$implicit;h(2),A("routerLink","/players/",null==e?null:e.creatorid,""),h(2),O(null==e?null:e.creator),h(2),A("routerLink","/decklist/",e.id,""),h(1),O(null==e?null:e.name),h(2),O(null==e?null:e.description)}}let JY=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getDecklistsFromUser(this.id).subscribe(r=>{this.decklists=r})})}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-duelist-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Your Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Creator"),u(),c(8,"th",3),p(9,"Decklist"),u(),c(10,"th",3),p(11,"Description"),u()()(),y(12,YY,10,5,"tbody",4),u()()),2&e&&(h(12),m("ngForOf",r.decklists))},directives:[_e,Gt],styles:[""]}),n})(),ZY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.cards=[],this.sideDeck=[],this.mainDeck=[],this.extraDeck=[],this.decklistIDs=[]}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{this.username=e.username,this.id=e.id,this.customcardsService.getCustomCards().subscribe(r=>{this.cards=r,this.hideloader()})}):this._router.navigate(["/login"])}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}checkList(){this.mainDeck=[],this.sideDeck=[],this.extraDeck=[];let e="",r=new FileReader;r.onloadend=i=>{if(this.fileString=r.result,r.result){for(var s=this.fileString.split("\n"),o=0;o<s.length;o++)if("<main>"==s[o].substring(1,8))e="main";else if("<side>"==s[o].substring(1,8))e="side";else if("<extra>"==s[o].substring(1,9))e="extra";else if("card id"==s[o].substring(3,10)){let a=Number(s[o].substring(12,19)),l=this.cards.find(d=>Number(d.id)===a);l?"main"==e?this.mainDeck.push(l):"side"==e?this.sideDeck.push(l):"extra"==e&&this.extraDeck.push(l):console.log("lol")}this.customcardsService.uploadDecklist(this.mainDeck,this.sideDeck,this.extraDeck)}this._router.navigate(["/deck-editor"])},r.readAsText(this.file)}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-upload-decklist"]],decls:6,vars:1,consts:[[1,"container"],["type","file","id","customFile","accept","text/xml",1,"form-control",3,"ngModel","change","ngModelChange"],[1,"button","btn","btn-success",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Upload Decklist"),u(),c(3,"input",1),k("change",function(s){return r.fileChanged(s)})("ngModelChange",function(s){return r.xml_file=s}),u(),c(4,"button",2),k("click",function(){return r.checkList()}),p(5,"Submit"),u()()),2&e&&(h(3),m("ngModel",r.xml_file))},directives:[et,Qe,At],styles:["input[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),eJ=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.decklistIDs=[]}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}submitCSV(){console.log("Test"),this._ccService.submitCSVFile(this.file).subscribe(e=>{this.router.navigate(["/home"])},e=>{location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-database"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],["type","file","id","customFile","accept","text/csv",1,"form-control",3,"change"],[1,"btn-success","btn",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),k("change",function(s){return r.fileChanged(s)}),u(),c(4,"button",4),k("click",function(){return r.submitCSV()}),p(5,"Submit"),u()()()())},styles:[""]}),n})(),tJ=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}updateCOTD(){console.log("lol"),this._ccService.updateCOTD().subscribe(e=>{console.log("lol"),console.log(e)},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"btn","btn-success",3,"click"],["routerLink","/editor",1,"btn","btn-success"],["routerLink","/database",1,"btn","btn-success"],["routerLink","/pack-maker",1,"btn","btn-success"],["routerLink","/pack-editor",1,"btn","btn-success"],["routerLink","/structure-deck-maker",1,"btn","btn-success"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return r.updateCOTD()}),p(4,"Randomize Card of the Day"),u(),c(5,"button",4),p(6,"Create Article"),u(),c(7,"button",5),p(8,"Update Database"),u(),c(9,"button",6),p(10,"Pack Maker"),u(),c(11,"button",7),p(12,"Pack Editor"),u(),c(13,"button",8),p(14,"Deck Maker"),u()()()())},directives:[qt],styles:["button[_ngcontent-%COMP%]{margin:1px}"]}),n})();function nJ(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function rJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}function iJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const Y_=function(n){return{"is-invalid":n}};let sJ=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.articleInfo=new lt({title:new te(void 0,[V.required,V.minLength(5)]),about:new te(void 0,[V.required]),header_img:new te(void 0,[V.required]),editorContent:new te(null,[V.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.articleInfo.controls}ngOnInit(){this.editor=new Cc,this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}):this.router.navigate(["/home"])}ngOnDestroy(){this.editor.destroy()}submitArticle(){const e={};this.theInnerHTML=hp(this.articleInfo.controls.editorContent.value),console.log(this.theInnerHTML),e.author=this.id,e.header_img=this.articleInfo.controls.header_img.value,e.title=this.articleInfo.controls.title.value,e.header=this.articleInfo.controls.about.value,e.article=this.theInnerHTML,this._ccService.submitArticle(e).subscribe(r=>{console.log(r);let i="/articles/"+r.article_id.toString();this.router.navigate([i])},r=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-editor"]],decls:22,vars:20,consts:[[1,"container"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"sr-only"],["formControlName","title","name","title","type","text","placeholder","Title","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","header_img","name","header_img","type","text","placeholder","header_img","required","",1,"form-control",3,"ngClass"],["formControlName","about","name","about","type","text","placeholder","About","required","",1,"form-control",3,"ngClass"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","editorContent",3,"editor","ngModel","disabled","placeholder"],[1,"btn","btn-success",3,"click"],[3,"innerHTML"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"form",2),k("ngSubmit",function(){return r.submitArticle()}),c(3,"label",3),p(4,"Title"),u(),D(5,"input",4),y(6,nJ,2,0,"div",5),c(7,"label",3),p(8,"Header Image Link"),u(),D(9,"input",6),y(10,rJ,2,0,"div",5),c(11,"label",3),p(12,"About"),u(),D(13,"input",7),y(14,iJ,2,0,"div",5),c(15,"div",8),D(16,"ngx-editor-menu",9)(17,"ngx-editor",10),u()()(),c(18,"button",11),k("click",function(){return r.submitArticle()}),p(19,"Submit"),u(),c(20,"div"),D(21,"p",12),u()()),2&e&&(h(2),m("formGroup",r.articleInfo),h(3),m("ngClass",Me(14,Y_,r.submitted&&r.f.title.errors)),h(1),m("ngIf",r.submitted&&r.f.title.errors),h(3),m("ngClass",Me(16,Y_,r.submitted&&r.f.header_img.errors)),h(1),m("ngIf",r.submitted&&r.f.header_img.errors),h(3),m("ngClass",Me(18,Y_,r.submitted&&r.f.about.errors)),h(1),m("ngIf",r.submitted&&r.f.about.errors),h(2),m("toolbar",r.toolbar)("editor",r.editor),h(1),m("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(4),m("innerHTML",r.theInnerHTML,pr))},directives:[Xt,Qt,Lt,et,Qe,Yt,ji,Pt,ue,yc,mc],styles:[".btn-success[_ngcontent-%COMP%]{width:100px;margin-top:5px}.row[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})();function oJ(n,t){if(1&n){const e=F();c(0,"button",10),k("click",function(){return S(e),v().confirmDelete()}),p(1,"Delete"),u()}}function aJ(n,t){1&n&&(c(0,"button",11),p(1,"Edit"),u()),2&n&&A("routerLink","/articles/edit/",v().articleid,"")}let lJ=(()=>{class n{constructor(e,r,i,s){this.router=e,this.route=r,this._customCardsService=i,this._authService=s}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0}):(this.username=void 0,this.id=void 0),console.log(this.id),this.route.paramMap.subscribe(e=>{this.articleid=Number(e.get("articleid")),this._customCardsService.getArticle(this.articleid).subscribe(r=>{this.article=r,console.log(this.article)})})}confirmDelete(){if(this._authService.adminRole()&&this.id==this.article.author){let e="Are you sure you want to delete this article?";1==confirm(e)?(this._customCardsService.deleteArticle(this.article).subscribe(r=>{this.router.navigate(["/articles"])},r=>{}),this.router.navigate(["/articles"])):e="You canceled!"}}edit(){}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(Ft),w(oe),w(he))},n.\u0275cmp=G({type:n,selectors:[["app-article-details"]],decls:19,vars:10,consts:[[1,"container"],[1,"card","center",2,"width","903px"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"text-center"],[1,"card-text","text-center"],[3,"routerLink"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"routerLink",4,"ngIf"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),D(2,"img",2),c(3,"div",3)(4,"h1",4),p(5),u(),c(6,"p",5),p(7),u()()(),c(8,"p"),p(9,"Article written by "),c(10,"a",6),p(11),u()(),c(12,"h1"),p(13),y(14,oJ,2,0,"button",7),y(15,aJ,2,1,"button",8),u(),c(16,"h2"),p(17),u(),D(18,"span",9),u()),2&e&&(h(2),B("src",r.article.header_img,I),h(3),O(null==r.article?null:r.article.title),h(2),O(r.article.header),h(3),A("routerLink","/players/",null==r.article?null:r.article.author,""),h(1),O(null==r.article?null:r.article.username),h(2),O(null==r.article?null:r.article.title),h(1),m("ngIf",(null==r.article?null:r.article.author)==r.id),h(1),m("ngIf",(null==r.article?null:r.article.author)==r.id),h(2),O(null==r.article?null:r.article.header),h(1),m("innerHTML",r.article.body,pr))},directives:[Gt,ue,qt],styles:[".header-img[_ngcontent-%COMP%]{width:1000px;height:800px}.card-img-top[_ngcontent-%COMP%]{width:900px;height:500px;object-fit:cover}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif!important;font-weight:500!important;font-size:large!important}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}button[_ngcontent-%COMP%]{margin-right:2px}"]}),n})();function cJ(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function uJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}function dJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const J_=function(n){return{"is-invalid":n}};let pJ=(()=>{class n{constructor(e,r,i,s){this.route=e,this._ccService=r,this._authService=i,this.router=s,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.articleInfo=new lt({title:new te(void 0,[V.required,V.minLength(5)]),about:new te(void 0,[V.required]),header_img:new te(void 0,[V.required]),editorContent:new te(null,[V.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.articleInfo.controls}ngOnInit(){this.editor=new Cc,this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency,this.route.paramMap.subscribe(r=>{this.articleid=Number(r.get("articleid")),this._ccService.getArticle(this.articleid).subscribe(i=>{this.article=i,this.article.author!=this.id&&this.router.navigate(["/home"]),this.initialBody=this.article.body,this.editor.setContent(this.initialBody),this.articleInfo.setValue({title:this.article.title,about:this.article.header,header_img:this.article.header_img,editorContent:this.initialBody})})})},e=>{console.log(e),this.router.navigate(["/home"])}):this.router.navigate(["/home"])}ngOnDestroy(){this.editor.destroy()}submitArticle(){const e={};this.theInnerHTML=this.articleInfo.controls.editorContent.value,console.log(this.theInnerHTML),e.article_id=this.articleid,e.author=this.id,e.header_img=this.articleInfo.controls.header_img.value,e.title=this.articleInfo.controls.title.value,e.header=this.articleInfo.controls.about.value,e.article=this.theInnerHTML,this._ccService.updateArticle(e).subscribe(r=>{console.log(r);let i="/articles/"+this.articleid.toString();this.router.navigate([i])},r=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(Ft),w(oe),w(he),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-article-edit"]],decls:22,vars:23,consts:[[1,"container"],[1,"row"],[3,"formGroup"],[1,"sr-only"],["formControlName","title","name","title","type","text","required","","autofocus","",1,"form-control",3,"value","ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","header_img","name","header_img","type","text","required","",1,"form-control",3,"value","ngClass"],["formControlName","about","name","about","type","text","required","",1,"form-control",3,"value","ngClass"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","editorContent",3,"editor","ngModel","disabled","placeholder"],[1,"btn","btn-success",3,"click"],[3,"innerHTML"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"form",2)(3,"label",3),p(4,"Title"),u(),D(5,"input",4),y(6,cJ,2,0,"div",5),c(7,"label",3),p(8,"Header Image Link"),u(),D(9,"input",6),y(10,uJ,2,0,"div",5),c(11,"label",3),p(12,"About"),u(),D(13,"input",7),y(14,dJ,2,0,"div",5),c(15,"div",8),D(16,"ngx-editor-menu",9)(17,"ngx-editor",10),u()()(),c(18,"button",11),k("click",function(){return r.submitArticle()}),p(19,"Submit"),u(),c(20,"div"),D(21,"p",12),u()()),2&e&&(h(2),m("formGroup",r.articleInfo),h(3),B("value",null==r.article?null:r.article.title),m("ngClass",Me(17,J_,r.submitted&&r.f.title.errors)),h(1),m("ngIf",r.submitted&&r.f.title.errors),h(3),B("value",null==r.article?null:r.article.header_img),m("ngClass",Me(19,J_,r.submitted&&r.f.header_img.errors)),h(1),m("ngIf",r.submitted&&r.f.header_img.errors),h(3),B("value",null==r.article?null:r.article.header),m("ngClass",Me(21,J_,r.submitted&&r.f.about.errors)),h(1),m("ngIf",r.submitted&&r.f.about.errors),h(2),m("toolbar",r.toolbar)("editor",r.editor),h(1),m("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(4),m("innerHTML",r.theInnerHTML,pr))},directives:[Xt,Qt,Lt,et,Qe,Yt,ji,Pt,ue,yc,mc],styles:[".btn-success[_ngcontent-%COMP%]{width:100px;margin-top:5px}.row[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})();function hJ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",98),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function fJ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function mJ(n,t){if(1&n&&(c(0,"p"),D(1,"img",99),p(2),D(3,"img",100),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function gJ(n,t){if(1&n&&(c(0,"span"),D(1,"img",99),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function _J(n,t){if(1&n&&(c(0,"p"),D(1,"img",98),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function vJ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function yJ(n,t){if(1&n&&(c(0,"div",97)(1,"p")(2,"b"),p(3),y(4,hJ,4,2,"span",95),y(5,fJ,2,1,"span",95),u()(),c(6,"b"),y(7,mJ,5,3,"p",95),u(),y(8,gJ,3,2,"span",95),c(9,"b"),y(10,_J,3,2,"p",95),y(11,vJ,2,2,"p",95),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function CJ(n,t){1&n&&D(0,"option",12)}function bJ(n,t){1&n&&(c(0,"option",101),p(1,"Effect"),u())}function kJ(n,t){1&n&&(c(0,"option",102),p(1,"Flip"),u())}function DJ(n,t){1&n&&(c(0,"option",103),p(1,"Tuner"),u())}function TJ(n,t){1&n&&(c(0,"option",104),p(1,"Gemini"),u())}function SJ(n,t){1&n&&(c(0,"option",105),p(1,"Spirit"),u())}function wJ(n,t){1&n&&(c(0,"option",106),p(1,"Union"),u())}function MJ(n,t){1&n&&(c(0,"option",107),p(1,"Ritual"),u())}function xJ(n,t){1&n&&(c(0,"option",108),p(1,"Fusion"),u())}function EJ(n,t){1&n&&(c(0,"option",109),p(1,"Synchro"),u())}function IJ(n,t){1&n&&(c(0,"option",110),p(1,"Xyz"),u())}function PJ(n,t){1&n&&D(0,"option",12)}function AJ(n,t){1&n&&(c(0,"option",111),p(1,"Normal"),u())}function OJ(n,t){1&n&&(c(0,"option",112),p(1,"Continuous"),u())}function NJ(n,t){1&n&&(c(0,"option",113),p(1,"Quick"),u())}function RJ(n,t){1&n&&(c(0,"option",114),p(1,"Ritual"),u())}function FJ(n,t){1&n&&(c(0,"option",115),p(1,"Equip"),u())}function LJ(n,t){1&n&&(c(0,"option",116),p(1,"Field"),u())}function BJ(n,t){1&n&&D(0,"option",12)}function VJ(n,t){1&n&&(c(0,"option",117),p(1,"Normal"),u())}function HJ(n,t){1&n&&(c(0,"option",118),p(1,"Continuous"),u())}function zJ(n,t){1&n&&(c(0,"option",119),p(1,"Counter"),u())}function $J(n,t){1&n&&(c(0,"option",120),p(1,"Level ASC"),u())}function UJ(n,t){1&n&&(c(0,"option",121),p(1,"Level DESC"),u())}function jJ(n,t){1&n&&(c(0,"option",122),p(1,"ATK ASC"),u())}function WJ(n,t){1&n&&(c(0,"option",123),p(1,"ATK DESC"),u())}function qJ(n,t){1&n&&(c(0,"option",124),p(1,"DEF ASC"),u())}function GJ(n,t){1&n&&(c(0,"option",125),p(1,"DEF DESC"),u())}function KJ(n,t){if(1&n&&(c(0,"div",130),D(1,"img",131),c(2,"div",132),p(3),u()()),2&n){const e=v(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function QJ(n,t){1&n&&D(0,"img",137)}function XJ(n,t){1&n&&D(0,"img",138)}function YJ(n,t){1&n&&D(0,"img",139)}function JJ(n,t){if(1&n&&(c(0,"div",133),y(1,QJ,1,0,"img",134),y(2,XJ,1,0,"img",135),y(3,YJ,1,0,"img",136),D(4,"img",131),c(5,"div",132),p(6),u()()),2&n){const e=v(2).$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I),h(2),O(e.copies)}}function ZJ(n,t){if(1&n){const e=F();c(0,"button",127),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightAddDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),y(1,KJ,4,2,"div",128),y(2,JJ,7,5,"div",129),u()}if(2&n){const e=v().$implicit;h(1),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity)}}function eZ(n,t){if(1&n&&(c(0,"span"),y(1,ZJ,3,2,"button",126),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function tZ(n,t){if(1&n){const e=F();c(0,"button",87),k("click",function(){return S(e),v().uploadList()}),p(1,"Upload Decklist"),u()}}function nZ(n,t){1&n&&(c(0,"span"),p(1," Need at least 40 cards to upload."),u())}function rZ(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function iZ(n,t){if(1&n&&(c(0,"span"),y(1,rZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Monster"))}}function sZ(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function oZ(n,t){if(1&n&&(c(0,"span"),y(1,sZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Spell"))}}function aZ(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function lZ(n,t){if(1&n&&(c(0,"span"),y(1,aZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Trap"))}}function cZ(n,t){if(1&n){const e=F();c(0,"span")(1,"button",141),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteSideCard(i,o)})("click",function(){const s=S(e).$implicit;return v().showDetails(s)}),D(2,"img",131),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function uZ(n,t){if(1&n){const e=F();c(0,"span")(1,"button",141),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return v().selectDraftCard(s)}),D(2,"img",131),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}const pZ=["packtracker"];function hZ(n,t){if(1&n&&D(0,"img",8),2&n){const e=v().$implicit;A("routerLink","/structure-deck-details/",e.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",I)}}function fZ(n,t){1&n&&D(0,"img",9),2&n&&A("routerLink","/structure-deck-details/",v().$implicit.packid,"")}function mZ(n,t){if(1&n&&(c(0,"div",5),y(1,hZ,1,2,"img",6),y(2,fZ,1,1,"img",7),u()),2&n){const e=t.$implicit;h(1),m("ngIf","placeholder"!=e.pack),h(1),m("ngIf","placeholder"==e.pack)}}function gZ(n,t){if(1&n&&(c(0,"div",2)(1,"div",3),y(2,mZ,3,2,"div",4),u()()),2&n){const e=v();h(2),m("ngForOf",e.packs)}}function vZ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",106),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function yZ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function CZ(n,t){if(1&n&&(c(0,"p"),D(1,"img",107),p(2),D(3,"img",108),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function bZ(n,t){if(1&n&&(c(0,"span"),D(1,"img",107),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function kZ(n,t){if(1&n&&(c(0,"p"),D(1,"img",106),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function DZ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function TZ(n,t){if(1&n&&(c(0,"div",104)(1,"p")(2,"b"),p(3),y(4,vZ,4,2,"span",105),y(5,yZ,2,1,"span",105),u()(),c(6,"b"),y(7,CZ,5,3,"p",105),u(),y(8,bZ,3,2,"span",105),c(9,"b"),y(10,kZ,3,2,"p",105),y(11,DZ,2,2,"p",105),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function SZ(n,t){1&n&&(c(0,"div")(1,"p",110),p(2,"You need to input a value of at LEAST 100"),u()())}function wZ(n,t){if(1&n&&(c(0,"div",109),y(1,SZ,3,0,"div",105),u()),2&n){const e=v();h(1),m("ngIf",e.f.cost.errors.cost)}}function MZ(n,t){1&n&&D(0,"option",20)}function xZ(n,t){1&n&&(c(0,"option",111),p(1,"Effect"),u())}function EZ(n,t){1&n&&(c(0,"option",112),p(1,"Flip"),u())}function IZ(n,t){1&n&&(c(0,"option",113),p(1,"Tuner"),u())}function PZ(n,t){1&n&&(c(0,"option",114),p(1,"Gemini"),u())}function AZ(n,t){1&n&&(c(0,"option",115),p(1,"Spirit"),u())}function OZ(n,t){1&n&&(c(0,"option",116),p(1,"Union"),u())}function NZ(n,t){1&n&&(c(0,"option",117),p(1,"Ritual"),u())}function RZ(n,t){1&n&&(c(0,"option",118),p(1,"Fusion"),u())}function FZ(n,t){1&n&&(c(0,"option",119),p(1,"Synchro"),u())}function LZ(n,t){1&n&&(c(0,"option",120),p(1,"Xyz"),u())}function BZ(n,t){1&n&&D(0,"option",20)}function VZ(n,t){1&n&&(c(0,"option",121),p(1,"Normal"),u())}function HZ(n,t){1&n&&(c(0,"option",122),p(1,"Continuous"),u())}function zZ(n,t){1&n&&(c(0,"option",123),p(1,"Quick"),u())}function $Z(n,t){1&n&&(c(0,"option",124),p(1,"Ritual"),u())}function UZ(n,t){1&n&&(c(0,"option",125),p(1,"Equip"),u())}function jZ(n,t){1&n&&(c(0,"option",126),p(1,"Field"),u())}function WZ(n,t){1&n&&D(0,"option",20)}function qZ(n,t){1&n&&(c(0,"option",127),p(1,"Normal"),u())}function GZ(n,t){1&n&&(c(0,"option",128),p(1,"Continuous"),u())}function KZ(n,t){1&n&&(c(0,"option",129),p(1,"Counter"),u())}function QZ(n,t){1&n&&(c(0,"option",130),p(1,"Level ASC"),u())}function XZ(n,t){1&n&&(c(0,"option",131),p(1,"Level DESC"),u())}function YZ(n,t){1&n&&(c(0,"option",132),p(1,"ATK ASC"),u())}function JZ(n,t){1&n&&(c(0,"option",133),p(1,"ATK DESC"),u())}function ZZ(n,t){1&n&&(c(0,"option",134),p(1,"DEF ASC"),u())}function eee(n,t){1&n&&(c(0,"option",135),p(1,"DEF DESC"),u())}function tee(n,t){if(1&n){const e=F();c(0,"button",137),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightAddDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function nee(n,t){if(1&n&&(c(0,"span"),y(1,tee,2,1,"button",136),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function ree(n,t){if(1&n){const e=F();c(0,"button",139),k("click",function(){return S(e),v().saveDraft()}),p(1,"Upload Structure"),u()}2&n&&m("disabled",1==v().done)}function iee(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function see(n,t){if(1&n&&(c(0,"span"),y(1,iee,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Monster"))}}function oee(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function aee(n,t){if(1&n&&(c(0,"span"),y(1,oee,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Spell"))}}function lee(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function cee(n,t){if(1&n&&(c(0,"span"),y(1,lee,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Trap"))}}function uee(n,t){if(1&n){const e=F();c(0,"span")(1,"button",141),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return v().selectDraftCard(s)}),D(2,"img",138),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}const xM=function(n){return{"is-invalid":n}};function pee(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",11),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function hee(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function fee(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),D(3,"img",13),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function mee(n,t){if(1&n&&(c(0,"span"),D(1,"img",12),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function gee(n,t){if(1&n&&(c(0,"p"),D(1,"img",11),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function _ee(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function vee(n,t){if(1&n&&(c(0,"div",9)(1,"p")(2,"b"),p(3),y(4,pee,4,2,"span",10),y(5,hee,2,1,"span",10),u()(),c(6,"b"),y(7,fee,5,3,"p",10),u(),y(8,mee,3,2,"span",10),c(9,"b"),y(10,gee,3,2,"p",10),y(11,_ee,2,2,"p",10),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function yee(n,t){if(1&n){const e=F();c(0,"button",14),k("click",function(){return S(e),v().confirmDelete()}),p(1,"Delete"),u()}}function Cee(n,t){if(1&n){const e=F();c(0,"button",15),k("click",function(){return S(e),v().edit()}),p(1,"Edit"),u()}}function bee(n,t){if(1&n&&(c(0,"div",20),D(1,"img",21),u()),2&n){const e=v(3).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function kee(n,t){1&n&&D(0,"img",26)}function Dee(n,t){1&n&&D(0,"img",27)}function Tee(n,t){1&n&&D(0,"img",28)}function See(n,t){if(1&n&&(c(0,"div",22),y(1,kee,1,0,"img",23),y(2,Dee,1,0,"img",24),y(3,Tee,1,0,"img",25),D(4,"img",21),u()),2&n){const e=v(3).$implicit;h(1),m("ngIf","secret"==e.rarity),h(1),m("ngIf","super"==e.rarity),h(1),m("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function wee(n,t){if(1&n){const e=F();c(0,"button",17),k("mouseenter",function(i){S(e);const s=v(2).$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(3).mouseLeft()})("click",function(){S(e);const i=v(2).$implicit;return v().goToLink(i.id)}),y(1,bee,2,1,"div",18),y(2,See,5,4,"div",19),u()}if(2&n){const e=v(2).$implicit;h(1),m("ngIf","common"==e.rarity),h(1),m("ngIf","common"!=e.rarity)}}function Mee(n,t){if(1&n&&(c(0,"span"),y(1,wee,3,2,"button",16),u()),2&n){const e=v().$implicit;h(1),m("ngIf",null!=e)}}function xee(n,t){if(1&n&&(c(0,"span"),y(1,Mee,2,1,"span",10),u()),2&n){const e=t.$implicit;h(1),m("ngIf","Synchro Monster"!=e.cardtype&&"Xyz Monster"!=e.cardtype&&"Fusion Monster"!=e.cardtype)}}function Eee(n,t){if(1&n){const e=F();c(0,"span")(1,"img",29),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),u()()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function Iee(n,t){if(1&n&&(c(0,"span"),y(1,Eee,2,1,"span",10),u()),2&n){const e=t.$implicit;h(1),m("ngIf","Synchro Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Fusion Monster"==e.cardtype)}}function Aee(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",106),p(3),u()),2&n){const e=v(2);h(2),B("src",e.hoverstType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Oee(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=v(2);h(1),x(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Nee(n,t){if(1&n&&(c(0,"p"),D(1,"img",107),p(2),D(3,"img",108),p(4),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function Ree(n,t){if(1&n&&(c(0,"span"),D(1,"img",107),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hoverattribute,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function Fee(n,t){if(1&n&&(c(0,"p"),D(1,"img",106),p(2),u()),2&n){const e=v(2);h(1),B("src",e.hovermType,I),h(1),x(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function Lee(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=v(2);h(1),we("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function Bee(n,t){if(1&n&&(c(0,"div",104)(1,"p")(2,"b"),p(3),y(4,Aee,4,2,"span",105),y(5,Oee,2,1,"span",105),u()(),c(6,"b"),y(7,Nee,5,3,"p",105),u(),y(8,Ree,3,2,"span",105),c(9,"b"),y(10,Fee,3,2,"p",105),y(11,Lee,2,2,"p",105),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=v();It("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),O(null==e.hoveredCard?null:e.hoveredCard.name),h(1),m("ngIf","False"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","False"==e.hovermonster),h(2),m("ngIf","True"==e.hovermonster),h(1),m("ngIf","True"==e.hovermonster),h(2),x(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),x("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function Vee(n,t){1&n&&(c(0,"div")(1,"p",110),p(2,"You need to input a value of at LEAST 100"),u()())}function Hee(n,t){if(1&n&&(c(0,"div",109),y(1,Vee,3,0,"div",105),u()),2&n){const e=v();h(1),m("ngIf",e.f.cost.errors.cost)}}function zee(n,t){1&n&&D(0,"option",20)}function $ee(n,t){1&n&&(c(0,"option",111),p(1,"Effect"),u())}function Uee(n,t){1&n&&(c(0,"option",112),p(1,"Flip"),u())}function jee(n,t){1&n&&(c(0,"option",113),p(1,"Tuner"),u())}function Wee(n,t){1&n&&(c(0,"option",114),p(1,"Gemini"),u())}function qee(n,t){1&n&&(c(0,"option",115),p(1,"Spirit"),u())}function Gee(n,t){1&n&&(c(0,"option",116),p(1,"Union"),u())}function Kee(n,t){1&n&&(c(0,"option",117),p(1,"Ritual"),u())}function Qee(n,t){1&n&&(c(0,"option",118),p(1,"Fusion"),u())}function Xee(n,t){1&n&&(c(0,"option",119),p(1,"Synchro"),u())}function Yee(n,t){1&n&&(c(0,"option",120),p(1,"Xyz"),u())}function Jee(n,t){1&n&&D(0,"option",20)}function Zee(n,t){1&n&&(c(0,"option",121),p(1,"Normal"),u())}function ete(n,t){1&n&&(c(0,"option",122),p(1,"Continuous"),u())}function tte(n,t){1&n&&(c(0,"option",123),p(1,"Quick"),u())}function nte(n,t){1&n&&(c(0,"option",124),p(1,"Ritual"),u())}function rte(n,t){1&n&&(c(0,"option",125),p(1,"Equip"),u())}function ite(n,t){1&n&&(c(0,"option",126),p(1,"Field"),u())}function ste(n,t){1&n&&D(0,"option",20)}function ote(n,t){1&n&&(c(0,"option",127),p(1,"Normal"),u())}function ate(n,t){1&n&&(c(0,"option",128),p(1,"Continuous"),u())}function lte(n,t){1&n&&(c(0,"option",129),p(1,"Counter"),u())}function cte(n,t){1&n&&(c(0,"option",130),p(1,"Level ASC"),u())}function ute(n,t){1&n&&(c(0,"option",131),p(1,"Level DESC"),u())}function dte(n,t){1&n&&(c(0,"option",132),p(1,"ATK ASC"),u())}function pte(n,t){1&n&&(c(0,"option",133),p(1,"ATK DESC"),u())}function hte(n,t){1&n&&(c(0,"option",134),p(1,"DEF ASC"),u())}function fte(n,t){1&n&&(c(0,"option",135),p(1,"DEF DESC"),u())}function mte(n,t){if(1&n){const e=F();c(0,"button",137),k("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightAddDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function gte(n,t){if(1&n&&(c(0,"span"),y(1,mte,2,1,"button",136),u()),2&n){const e=t.$implicit;h(1),m("ngIf",null!=e)}}function _te(n,t){if(1&n){const e=F();c(0,"button",139),k("click",function(){return S(e),v().saveDraft()}),p(1,"Upload Structure"),u()}2&n&&m("disabled",1==v().done)}function vte(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function yte(n,t){if(1&n&&(c(0,"span"),y(1,vte,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Monster"))}}function Cte(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function bte(n,t){if(1&n&&(c(0,"span"),y(1,Cte,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Spell"))}}function kte(n,t){if(1&n){const e=F();c(0,"button",141),k("click",function(){S(e);const i=v().$implicit;return v().goToLink(i.id)})("mouseenter",function(i){S(e);const s=v().$implicit;return v().mouseHovering(s,i)})("mouseleave",function(){return S(e),v(2).mouseLeft()})("contextmenu",function(i){S(e);const s=v().$implicit;return v().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=v().$implicit;return v().showDetails(i)}),D(1,"img",138),u()}if(2&n){const e=v().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}function Dte(n,t){if(1&n&&(c(0,"span"),y(1,kte,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),m("ngIf",e.cardtype.includes("Trap"))}}function Tte(n,t){if(1&n){const e=F();c(0,"span")(1,"button",141),k("click",function(){const s=S(e).$implicit;return v().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return v().mouseHovering(o,i)})("mouseleave",function(){return S(e),v().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return v().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return v().selectDraftCard(s)}),D(2,"img",138),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",I)}}const EM=function(n){return{"is-invalid":n}},Ste=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:z6},{path:"db-download",component:R6},{path:"customcard-db",component:N6},{path:"drafts",component:L6},{path:"draftmode",component:j6},{path:"draft-maker",component:QV},{path:"draft-form",component:o9},{path:"decklists",component:l9},{path:"banlist",component:C9},{path:"articles",component:k9},{path:"binders",component:L9},{path:"packs",component:VH},{path:"pack-maker",component:AG},{path:"deck-editor",component:wK},{path:"collection-deck-editor",component:(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCollectionCardsByCreatorID(this.creatorid).subscribe(r=>{if(this.cards=r,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader(),0==this.customcardsService.getProcessingDeck()?this.customcardsService.getEditDecklist()&&-1!=this.customcardsService.getEditDeckID()&&(jl(this.customcardsService.getDecklistInfo(this.customcardsService.getEditDeckID()),this.customcardsService.getDecklist(this.customcardsService.getEditDeckID())).subscribe(([i,s])=>{this.decklistinfo=i,this.decklist=s;for(let o in s)"maindeck"==s[o].deck||"extradeck"==s[o].deck?this.addCard(s[o]):this.addSideCard(s[o]);this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDeckName())}),this.customcardsService.setProcessingDeck(!0)):(this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName("")),this.uploadedMain.length>0||this.uploadedSide.length>0||this.uploadedExtra.length>0){console.log(this.uploadedMain);for(let i in this.uploadedMain)this.addCard(this.uploadedMain[i]);for(let i in this.uploadedSide)this.addSideCard(this.uploadedSide[i]);for(let i in this.uploadedExtra)this.addCard(this.uploadedExtra[i])}})},e=>{console.log(e),this._router.navigate(["/home"])})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.produceSearchRes()}produceSearchRes(){let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>null!=r.attribute),e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.cardtype.toLowerCase().includes("monster")),e=e.filter(r=>null!=r.type),e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+String(e),"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;if(0==e.copies)return;e.copies--,this.mainDeck.push(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;if(0==e.copies)return;e.copies--,this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){r.copies++,e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),e.copies++,null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.mainDeck.splice(r,1),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(String(o.id));this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(String(o.id));this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(String(o.id));this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-collection-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Et],decls:216,vars:69,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",3,"keydown.enter"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"btn","btn-success","small","text-center",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,yJ,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Deck Name"),u(),c(6,"input",5),k("ngModelChange",function(s){return r.deckname=s}),u()(),c(7,"div",3)(8,"label",6),p(9,"Deck Description"),u(),c(10,"input",7),k("ngModelChange",function(s){return r.deckdescription=s}),u()()(),c(11,"div",8),k("keydown.enter",function(){return r.submitSearch()}),c(12,"div",3)(13,"label",4),p(14,"Name"),u(),c(15,"input",7),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(16,"div",3)(17,"label",6),p(18,"Desc"),u(),c(19,"input",7),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(20,"div",3)(21,"label",9),p(22,"Creator"),u(),c(23,"input",7),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(24,"div",3)(25,"label",10),p(26,"Card"),u(),c(27,"select",11),k("ngModelChange",function(s){return r.filters.initial=s}),D(28,"option",12),c(29,"option",13),p(30,"Monster"),u(),c(31,"option",14),p(32,"Spell"),u(),c(33,"option",15),p(34,"Trap"),u()()(),c(35,"div",3)(36,"label",10),p(37,"Card Type 2"),u(),c(38,"select",16),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(39,CJ,1,0,"option",17),y(40,bJ,2,0,"option",18),y(41,kJ,2,0,"option",19),y(42,DJ,2,0,"option",20),y(43,TJ,2,0,"option",21),y(44,SJ,2,0,"option",22),y(45,wJ,2,0,"option",23),y(46,MJ,2,0,"option",24),y(47,xJ,2,0,"option",25),y(48,EJ,2,0,"option",26),y(49,IJ,2,0,"option",27),y(50,PJ,1,0,"option",17),y(51,AJ,2,0,"option",28),y(52,OJ,2,0,"option",29),y(53,NJ,2,0,"option",30),y(54,RJ,2,0,"option",31),y(55,FJ,2,0,"option",32),y(56,LJ,2,0,"option",33),y(57,BJ,1,0,"option",17),y(58,VJ,2,0,"option",34),y(59,HJ,2,0,"option",35),y(60,zJ,2,0,"option",36),u()(),c(61,"div",3)(62,"label",37),p(63,"Monster Type"),u(),c(64,"select",38),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(65,"option",12),c(66,"option",39),p(67,"Aqua"),u(),c(68,"option",40),p(69,"Beast"),u(),c(70,"option",41),p(71,"Beast-Warrior"),u(),c(72,"option",42),p(73,"Dinosaur"),u(),c(74,"option",43),p(75,"Dragon"),u(),c(76,"option",44),p(77,"Fairy"),u(),c(78,"option",45),p(79,"Fiend"),u(),c(80,"option",46),p(81,"Fish"),u(),c(82,"option",47),p(83,"Insect"),u(),c(84,"option",48),p(85,"Machine"),u(),c(86,"option",49),p(87,"Plant"),u(),c(88,"option",50),p(89,"Psychic"),u(),c(90,"option",51),p(91,"Pyro"),u(),c(92,"option",52),p(93,"Reptile"),u(),c(94,"option",53),p(95,"Rock"),u(),c(96,"option",54),p(97,"Sea Serpent"),u(),c(98,"option",55),p(99,"Spellcaster"),u(),c(100,"option",56),p(101,"Thunder"),u(),c(102,"option",57),p(103,"Warrior"),u(),c(104,"option",58),p(105,"Winged-Beast"),u(),c(106,"option",59),p(107,"Zombie"),u()()()(),c(108,"div",8),k("keydown.enter",function(){return r.submitSearch()}),c(109,"div",3)(110,"label",60),p(111,"Attribute"),u(),c(112,"select",61),k("ngModelChange",function(s){return r.filters.attribute=s}),D(113,"option",12),c(114,"option",62),p(115,"DARK"),u(),c(116,"option",63),p(117,"DIVINE"),u(),c(118,"option",64),p(119,"EARTH"),u(),c(120,"option",65),p(121,"FIRE"),u(),c(122,"option",66),p(123,"LIGHT"),u(),c(124,"option",67),p(125,"WATER"),u(),c(126,"option",68),p(127,"WIND"),u()()(),c(128,"div",3)(129,"label",69),p(130,"Level <= "),u(),c(131,"input",70),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(132,"div",3)(133,"label",71),p(134," Level "),u(),c(135,"input",70),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(136,"div",3)(137,"label",72),p(138,"Atk <="),u(),c(139,"input",70),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(140,"div",3)(141,"label",73),p(142,"Atk"),u(),c(143,"input",70),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(144,"div",3)(145,"label",74),p(146,"Def <="),u(),c(147,"input",70),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(148,"div",3)(149,"label",75),p(150,"Def"),u(),c(151,"input",70),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(152,"div",3)(153,"label",76),p(154,"Sort By"),u(),c(155,"select",11),k("ngModelChange",function(s){return r.filters.sort=s}),c(156,"option",77),p(157,"Release Date ASC"),u(),c(158,"option",78),p(159,"Release Date DESC"),u(),c(160,"option",79),p(161,"Alphabetical ASC"),u(),c(162,"option",80),p(163,"Alphabetical DESC"),u(),y(164,$J,2,0,"option",81),y(165,UJ,2,0,"option",82),y(166,jJ,2,0,"option",83),y(167,WJ,2,0,"option",84),y(168,qJ,2,0,"option",85),y(169,GJ,2,0,"option",86),u()(),c(170,"button",87),k("click",function(){return r.submitSearch()}),p(171,"Search"),u()(),c(172,"div",88)(173,"div")(174,"button",89),k("click",function(){return r.addTo("Main")}),p(175,"Main Deck"),u(),c(176,"button",89),k("click",function(){return r.addTo("Side")}),p(177,"Side Deck"),u()(),c(178,"div",3)(179,"div",90)(180,"div",91),D(181,"span",92),u()(),y(182,eZ,2,1,"span",93),c(183,"div",2)(184,"button",87),k("click",function(){return r.nextPage()}),p(185,"Next"),u(),c(186,"button",87),k("click",function(){return r.prevPage()}),p(187,"Previous"),u()()()(),c(188,"div",2)(189,"h1")(190,"b"),p(191),u(),c(192,"button",87),k("click",function(){return r.exportList()}),p(193,"Export XML"),u(),y(194,tZ,2,0,"button",94),y(195,nZ,2,0,"span",95),u(),c(196,"div",96)(197,"h2"),p(198),u(),y(199,iZ,2,1,"span",93),u(),c(200,"div",96)(201,"h2"),p(202),u(),y(203,oZ,2,1,"span",93),u(),c(204,"div",96)(205,"h2"),p(206),u(),y(207,lZ,2,1,"span",93),u(),c(208,"div",96)(209,"h2"),p(210),u(),y(211,cZ,3,1,"span",93),u(),c(212,"div",96)(213,"h2"),p(214),u(),y(215,uZ,3,1,"span",93),u()()()),2&e&&(m("ngIf",!0===r.isHovering),h(6),m("ngModel",r.deckname),h(4),m("ngModel",r.deckdescription),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(13),m("ngForOf",r.currentCards),h(9),we("Current Decklist (",r.mainDeck.length,"/60) (",r.sideDeck.length,"/15)"),h(3),m("ngIf",r._authService.loggedIn()),h(1),m("ngIf",0==r.uploadCorrectly),h(3),x("Monsters (",r.monsterCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Spells (",r.spellCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Traps (",r.trapCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Side Deck (",r.sideCounter,")"),h(1),m("ngForOf",r.sideDeck),h(3),x("Extra (",r.edCounter,")"),h(1),m("ngForOf",r.extraDeck))},directives:[ue,et,Qe,At,Jt,Cn,bn,Ci,_e],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})()},{path:"decklist/:deckid",component:$K},{path:"deck-master",component:jK},{path:"collections",component:iQ},{path:"checklist",component:HQ},{path:"cards/:cardid",component:eX},{path:"packs/:packid",component:SX},{path:"players",component:MX},{path:"players/:playerid",component:mY},{path:"submit-match",component:SY},{path:"pack-editor",component:EY},{path:"matches",component:BY},{path:"settings",component:XY},{path:"duelist-decklists",component:JY},{path:"upload-decklist",component:ZY},{path:"database",component:eJ},{path:"admin",component:tJ},{path:"editor",component:sJ},{path:"articles/:articleid",component:lJ},{path:"articles/edit/:articleid",component:pJ},{path:"structure-decks",component:(()=>{class n{constructor(e,r,i){this.router=e,this._authService=r,this.customcardsService=i,this.openingPacks=!1,this.packLength=0,this.maximized=!0,this.packs=[],this.packSelected=!1,this.packAmount=0,this.packsSelected=new Map,this.packTrackerArray=[],this.totalCost=0,this.sealedmode=!1}queuePack(e,r){let i={packid:e.packid,title:e.title,cost:e.cost,amount:r};const s=this.packTrackerArray.findIndex(o=>o.packid===(null==i?void 0:i.packid));if(s>-1)console.log("im in index "+s),0==i.amount?(this.packTrackerArray.splice(s,1),this.packLength--):this.packTrackerArray[s].amount=i.amount;else{if(0==i.amount)return;console.log("im in else"),this.packTrackerArray.push(i)}this.packLength++,this.totalCost=0;for(let o in this.packTrackerArray)this.totalCost+=this.packTrackerArray[o].cost*this.packTrackerArray[o].amount}ngOnInit(){this.sealedmode=this.customcardsService.getSealedDraftMode(),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}),this.customcardsService.getStructureDecks().subscribe(e=>{this.packs=e,console.log(this.packs)})}SetPackNo(e,r){this.packSelected=!0,this.packAmount=e,this.customcardsService.SetPackNo(e,r)}openPack(){this.customcardsService.setPackQueue(this.packTrackerArray),this.openingPacks=!0}minimizePackTracker(){this.maximized=!this.maximized}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-structure-decks"]],viewQuery:function(e,r){if(1&e&&Dl(pZ,5,dt),2&e){let i;As(i=Os())&&(r.packtracker=i.first)}},decls:3,vars:1,consts:[[1,"selectedPacks"],["class","container justify-content-center",4,"ngIf"],[1,"container","justify-content-center"],[1,"row","align-items-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["routerLinkActive","active","class","pack",3,"routerLink","src",4,"ngIf"],["routerLinkActive","active","class","pack","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",3,"routerLink",4,"ngIf"],["routerLinkActive","active",1,"pack",3,"routerLink","src"],["routerLinkActive","active","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack",3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0),p(1,"Test"),u(),y(2,gZ,3,1,"div",1)),2&e&&(h(2),m("ngIf",0==r.openingPacks))},directives:[ue,_e,Ul,qt],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.sidepush[_ngcontent-%COMP%]{left:95%}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:#04713fe6;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})()},{path:"structure-deck-maker",component:(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.done=!1,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.rarity="common",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),cost:new te(50,[V.required,V.min(50)]),packImage:new te(File),packdescription:new te(null,[V.required,V.min(1)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0,this.fileChanged=!1}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this.editor=new Cc,this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader()}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&(this.filters.monstertype="","Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype="")),"Trap"==this.filters.initial&&(this.filters.monstertype="","Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype="")),this.produceSearchRes()}produceSearchRes(){console.log(this.filters);let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>null!=r.attribute),e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.cardtype.toLowerCase().includes("monster")),e=e.filter(r=>null!=r.type),e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.addRarity(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;this.mainDeck.push(e),this.addRarity(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addRarity(e){switch(this.rarity){case"common":this.currentCommons.push(e);break;case"rare":this.currentRare.push(e);break;case"super":this.currentSuper.push(e);break;case"ultra":this.currentUltra.push(e);break;case"secret":this.currentSecret.push(e)}console.log(this.currentCommons),console.log(this.currentRare),console.log(this.currentSuper),console.log(this.currentUltra),console.log(this.currentSecret)}removeRarity(e){let r=this.currentCommons.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.currentCommons.splice(r,1),r=this.currentRare.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentRare.splice(r,1),r=this.currentSuper.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentSuper.splice(r,1),r=this.currentUltra.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentUltra.splice(r,1),r=this.currentSecret.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentSecret.splice(r,1),console.log(this.currentCommons),console.log(this.currentRare),console.log(this.currentSuper),console.log(this.currentUltra),console.log(this.currentSecret)}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.removeRarity(e),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.mainDeck.splice(r,1),this.removeRarity(e)),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(o.id);this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(o.id);this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(o.id);this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}onFileSelected(e){this.file=e.target.files[0],this.fileChanged=!0}saveDraft(){var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,console.log(this.draftData.controls.draftTitle.value),console.log(this.draftData.controls.cost.value),console.log(this.draftData.controls.packdescription.value),void console.log("Basic data not filled.");if(this.mainDeck.length<40)this.submitfail=!0;else{{const r={};r.title=this.draftData.controls.draftTitle.value,r.creator=this.creator,r.creatorid=Number(this.creatorid),r.cost=this.draftData.controls.cost.value,r.discordname="",r.packdescription=hp(this.draftData.controls.packdescription.value);const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize="structure",r.packurl="placeholder",this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.submitPack(r).subscribe(g=>{console.log(g),this._router.navigate(["/structure-decks"])},g=>{console.log(g)})},f=>{console.log(f)})}else this.customcardsService.submitPack(r).subscribe(d=>{console.log(d),this._router.navigate(["/packs"])},d=>{console.log(d)})}this.submitfail=!1}}autoSelect(e){this.rarity=e}}return n.\u0275fac=function(e){return new(e||n)(w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-structure-deck-maker"]],inputs:{cards:"cards",drafting:"drafting"},features:[Et],decls:226,vars:78,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","cost","formControlName","cost","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","customFile"],["id","packImage","formControlName","packImage","type","file",1,"form-control",3,"ngClass","change"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","packdescription",3,"editor","ngModel","disabled","placeholder"],[1,"row",3,"keydown.enter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],["type","button",1,"btn","btn-success","addcard",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"smallcard",3,"src"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,TZ,16,13,"div",0),c(1,"div",1)(2,"form",2),k("ngSubmit",function(){return r.saveDraft()}),c(3,"div",3)(4,"div",4)(5,"label",5),p(6,"Deck Name"),u(),c(7,"input",6),k("ngModelChange",function(s){return r.deckname=s}),u()(),c(8,"div",4)(9,"label",5),p(10,"Deck Cost"),u(),D(11,"input",7),y(12,wZ,2,1,"div",8),u(),c(13,"div",4)(14,"label",9),p(15,"Upload Image"),u(),c(16,"input",10),k("change",function(s){return r.onFileSelected(s)}),u()(),c(17,"div",3)(18,"div",11),D(19,"ngx-editor-menu",12)(20,"ngx-editor",13),u()()()(),c(21,"div",14),k("keydown.enter",function(){return r.submitSearch()}),c(22,"div",4)(23,"label",5),p(24,"Name"),u(),c(25,"input",15),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(26,"div",4)(27,"label",16),p(28,"Desc"),u(),c(29,"input",15),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(30,"div",4)(31,"label",17),p(32,"Creator"),u(),c(33,"input",15),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(34,"div",4)(35,"label",18),p(36,"Card"),u(),c(37,"select",19),k("ngModelChange",function(s){return r.filters.initial=s}),D(38,"option",20),c(39,"option",21),p(40,"Monster"),u(),c(41,"option",22),p(42,"Spell"),u(),c(43,"option",23),p(44,"Trap"),u()()(),c(45,"div",4)(46,"label",18),p(47,"Card Type 2"),u(),c(48,"select",24),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(49,MZ,1,0,"option",25),y(50,xZ,2,0,"option",26),y(51,EZ,2,0,"option",27),y(52,IZ,2,0,"option",28),y(53,PZ,2,0,"option",29),y(54,AZ,2,0,"option",30),y(55,OZ,2,0,"option",31),y(56,NZ,2,0,"option",32),y(57,RZ,2,0,"option",33),y(58,FZ,2,0,"option",34),y(59,LZ,2,0,"option",35),y(60,BZ,1,0,"option",25),y(61,VZ,2,0,"option",36),y(62,HZ,2,0,"option",37),y(63,zZ,2,0,"option",38),y(64,$Z,2,0,"option",39),y(65,UZ,2,0,"option",40),y(66,jZ,2,0,"option",41),y(67,WZ,1,0,"option",25),y(68,qZ,2,0,"option",42),y(69,GZ,2,0,"option",43),y(70,KZ,2,0,"option",44),u()(),c(71,"div",4)(72,"label",45),p(73,"Monster Type"),u(),c(74,"select",46),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(75,"option",20),c(76,"option",47),p(77,"Aqua"),u(),c(78,"option",48),p(79,"Beast"),u(),c(80,"option",49),p(81,"Beast-Warrior"),u(),c(82,"option",50),p(83,"Dinosaur"),u(),c(84,"option",51),p(85,"Dragon"),u(),c(86,"option",52),p(87,"Fairy"),u(),c(88,"option",53),p(89,"Fiend"),u(),c(90,"option",54),p(91,"Fish"),u(),c(92,"option",55),p(93,"Insect"),u(),c(94,"option",56),p(95,"Machine"),u(),c(96,"option",57),p(97,"Plant"),u(),c(98,"option",58),p(99,"Psychic"),u(),c(100,"option",59),p(101,"Pyro"),u(),c(102,"option",60),p(103,"Reptile"),u(),c(104,"option",61),p(105,"Rock"),u(),c(106,"option",62),p(107,"Sea Serpent"),u(),c(108,"option",63),p(109,"Spellcaster"),u(),c(110,"option",64),p(111,"Thunder"),u(),c(112,"option",65),p(113,"Warrior"),u(),c(114,"option",66),p(115,"Winged-Beast"),u(),c(116,"option",67),p(117,"Zombie"),u()()()(),c(118,"div",14),k("keydown.enter",function(){return r.submitSearch()}),c(119,"div",4)(120,"label",68),p(121,"Attribute"),u(),c(122,"select",69),k("ngModelChange",function(s){return r.filters.attribute=s}),D(123,"option",20),c(124,"option",70),p(125,"DARK"),u(),c(126,"option",71),p(127,"DIVINE"),u(),c(128,"option",72),p(129,"EARTH"),u(),c(130,"option",73),p(131,"FIRE"),u(),c(132,"option",74),p(133,"LIGHT"),u(),c(134,"option",75),p(135,"WATER"),u(),c(136,"option",76),p(137,"WIND"),u()()(),c(138,"div",4)(139,"label",77),p(140,"Level <= "),u(),c(141,"input",78),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(142,"div",4)(143,"label",79),p(144," Level "),u(),c(145,"input",78),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(146,"div",4)(147,"label",80),p(148,"Atk <="),u(),c(149,"input",78),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(150,"div",4)(151,"label",81),p(152,"Atk"),u(),c(153,"input",78),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(154,"div",4)(155,"label",82),p(156,"Def <="),u(),c(157,"input",78),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(158,"div",4)(159,"label",83),p(160,"Def"),u(),c(161,"input",78),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(162,"div",4)(163,"label",84),p(164,"Sort By"),u(),c(165,"select",19),k("ngModelChange",function(s){return r.filters.sort=s}),c(166,"option",85),p(167,"Release Date ASC"),u(),c(168,"option",86),p(169,"Release Date DESC"),u(),c(170,"option",87),p(171,"Alphabetical ASC"),u(),c(172,"option",88),p(173,"Alphabetical DESC"),u(),y(174,QZ,2,0,"option",89),y(175,XZ,2,0,"option",90),y(176,YZ,2,0,"option",91),y(177,JZ,2,0,"option",92),y(178,ZZ,2,0,"option",93),y(179,eee,2,0,"option",94),u()(),c(180,"button",95),k("click",function(){return r.submitSearch()}),p(181,"Search"),u()(),c(182,"div",96)(183,"div")(184,"button",97),k("click",function(){return r.autoSelect("common")}),p(185,"Add Common"),u(),c(186,"button",97),k("click",function(){return r.autoSelect("rare")}),p(187,"Add Rare"),u(),c(188,"button",97),k("click",function(){return r.autoSelect("super")}),p(189,"Add Super"),u(),c(190,"button",97),k("click",function(){return r.autoSelect("ultra")}),p(191,"Add Ultra"),u(),c(192,"button",97),k("click",function(){return r.autoSelect("secret")}),p(193,"Add Secret"),u()()(),c(194,"div",96)(195,"div",4)(196,"div",98)(197,"div",99),D(198,"span",100),u()(),y(199,nee,2,1,"span",101),c(200,"div",3)(201,"button",95),k("click",function(){return r.nextPage()}),p(202,"Next"),u(),c(203,"button",95),k("click",function(){return r.prevPage()}),p(204,"Previous"),u()()()(),c(205,"div",3)(206,"h1")(207,"b"),p(208),u(),y(209,ree,2,1,"button",102),u(),c(210,"div",103)(211,"h2"),p(212),u(),y(213,see,2,1,"span",101),u(),c(214,"div",103)(215,"h2"),p(216),u(),y(217,aee,2,1,"span",101),u(),c(218,"div",103)(219,"h2"),p(220),u(),y(221,cee,2,1,"span",101),u(),c(222,"div",103)(223,"h2"),p(224),u(),y(225,uee,3,1,"span",101),u()()()),2&e&&(m("ngIf",!0===r.isHovering),h(2),m("formGroup",r.draftData),h(5),m("ngModel",r.deckname),h(4),m("ngClass",Me(74,xM,r.submitted&&r.f.cost.errors)),h(1),m("ngIf",r.submitted&&r.f.cost.errors),h(4),m("ngClass",Me(76,xM,r.submitted&&r.f.packImage.errors)),h(3),m("toolbar",r.toolbar)("editor",r.editor),h(1),m("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(20),m("ngForOf",r.currentCards),h(9),x("Current Decklist (",r.mainDeck.length,"/60)"),h(1),m("ngIf",r.mainDeck.length>=40),h(3),x("Monsters (",r.monsterCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Spells (",r.spellCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Traps (",r.trapCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Extra (",r.edCounter,")"),h(1),m("ngForOf",r.extraDeck))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt,Pt,yc,mc,At,Jt,Cn,bn,Ci,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}"]}),n})()},{path:"structure-deck-details/:deckid",component:(()=>{class n{constructor(e,r,i,s){this._router=e,this._authService=r,this.route=i,this.customcardService=s,this.xml_file="",this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}mouseHovering(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency,this.route.paramMap.subscribe(r=>{this.deckid=Number(r.get("deckid")),this.customcardService.getPackInfoByID(this.deckid).subscribe(i=>{this.deckInfo=i,console.log(this.deckInfo)}),this.customcardService.getCustomCardsByPack(this.deckid).subscribe(i=>{this.decklist=i,console.log(this.decklist),this.decklist.sort((s,o)=>s.cardtype.includes("Monster")?o.cardtype.includes("Spell")||o.cardtype.includes("Trap")?-1:s.name>o.name?1:-1:s.cardtype.includes("Spell")?o.cardtype.includes("Monster")?1:o.cardtype.includes("Trap")?-1:s.name>o.name?1:-1:s.cardtype.includes("Trap")?o.cardtype.includes("Monster")||o.cardtype.includes("Spell")||s.name>o.name?1:-1:1),console.log(this.decklist)})})},e=>{console.log(e),this.username="",this.id=-99999})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}addPackToCollection(){const e={};e.cards=this.decklist,e.packid=this.deckid,e.creatorid=this.id,e.binderid=this.binderID,this.customcardService.addToCollection(e).subscribe(r=>{console.log(r),this._router.navigate(["/structure-decks"])},r=>{console.log(r)})}purchase(){if(this.currency>=this.deckInfo.cost){let e="Are you sure you want to purchase this structure deck?";1==confirm(e)?(this._authService.subtractCurrency(this.deckInfo.cost),this.addPackToCollection()):e="You canceled!"}}confirmDelete(){if(this._authService.adminRole()){let e="Are you sure you want to delete this structure deck?";1==confirm(e)?this.customcardService.deletePack(this.deckid).subscribe(r=>{this._router.navigate(["/structure-decks"])},r=>{this._router.navigate(["/structure-decks"])}):e="You canceled!"}}delete(){this.customcardService.deletePack(this.deckid).subscribe(e=>{this._router.navigate(["/structure-decks"])},e=>{console.log(e)})}edit(){this._authService.adminRole()&&this.id==this.deckInfo.creatorid&&this._router.navigate(["/structure-deck-editor/"+String(this.deckid)])}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(Ft),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-structure-deck-details"]],decls:23,vars:10,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"text-center"],[3,"routerLink"],[1,"packdescription",3,"innerHTML"],[1,"btn","btn-success",3,"disabled","click"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],["class","btn btn-default",3,"mouseenter","mouseleave","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","click"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],[1,"smallcard",3,"src","mouseenter","mouseleave","click"]],template:function(e,r){1&e&&(y(0,vee,16,13,"div",0),c(1,"div",1)(2,"h1",2),p(3),u(),c(4,"h4",2),p(5,"Created by "),c(6,"a",3),p(7),u()(),D(8,"span",4),c(9,"button",5),k("click",function(){return r.purchase()}),p(10,"Purchase"),u(),y(11,yee,2,0,"button",6),y(12,Cee,2,0,"button",7),c(13,"h3")(14,"b")(15,"u"),p(16,"Main Deck"),u()()(),y(17,xee,2,1,"span",8),c(18,"h3")(19,"b")(20,"u"),p(21,"Extra Deck"),u()()(),y(22,Iee,2,1,"span",8),u()),2&e&&(m("ngIf",!0===r.isHovering),h(3),O(r.deckInfo.title),h(3),A("routerLink","/players/",r.deckInfo.creatorid,""),h(1),O(r.deckInfo.creator),h(1),m("innerHTML",r.deckInfo.packdescription,pr),h(1),m("disabled",r.currency<(null==r.deckInfo?null:r.deckInfo.cost)),h(2),m("ngIf",(null==r.deckInfo?null:r.deckInfo.creatorid)==r.id),h(1),m("ngIf",(null==r.deckInfo?null:r.deckInfo.creatorid)==r.id),h(5),m("ngForOf",r.decklist),h(5),m("ngForOf",r.decklist))},directives:[ue,Gt,_e],styles:['.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})()},{path:"structure-deck-editor/:deckid",component:(()=>{class n{constructor(e,r,i,s){this.route=e,this._authService=r,this.customcardsService=i,this._router=s,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.done=!1,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.rarity="common",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new lt({draftTitle:new te(" ",[V.required,V.minLength(1),V.maxLength(100)]),cost:new te(50,[V.required,V.min(50)]),packImage:new te(File),packdescription:new te(null,[V.required,V.min(1)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0,this.fileChanged=!1}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this.editor=new Cc,this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.route.paramMap.subscribe(e=>{this.deckid=Number(e.get("deckid")),this.customcardsService.getPackInfoByID(this.deckid).subscribe(r=>{this.deckInfo=r,this.editor.setContent(this.deckInfo.packdescription),this.draftData.controls.draftTitle.setValue(this.deckInfo.title),this.draftData.controls.cost.setValue(this.deckInfo.cost),this.draftData.controls.packdescription.setValue(this.deckInfo.packdescription),console.log(this.deckInfo),this.customcardsService.getCustomCards().subscribe(i=>{this.cards=i,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader(),this.customcardsService.getCustomCardsByPack(this.deckid).subscribe(s=>{let o=s;console.log(o);for(let a of o){console.log(a.id);let l=this.all_cards.find(d=>d.id===a.id);null!=l&&this.editAddCard(l,a.rarity)}})})})}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&(this.filters.monstertype="","Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype="")),"Trap"==this.filters.initial&&(this.filters.monstertype="","Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype="")),this.produceSearchRes()}produceSearchRes(){console.log(this.filters);let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>null!=r.attribute),e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.cardtype.toLowerCase().includes("monster")),e=e.filter(r=>null!=r.type),e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,g,_,C,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(g=this.hoveredCard)||void 0===g?void 0:g.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(C=this.hoveredCard)||void 0===C?void 0:C.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,g,_,C,b,T;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(g=this.card)||void 0===g?void 0:g.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(C=this.card)||void 0===C?void 0:C.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(T=this.card)||void 0===T?void 0:T.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.addRarity(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;this.mainDeck.push(e),this.addRarity(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addRarity(e){switch(this.rarity){case"common":this.currentCommons.push(e);break;case"rare":this.currentRare.push(e);break;case"super":this.currentSuper.push(e);break;case"ultra":this.currentUltra.push(e);break;case"secret":this.currentSecret.push(e)}console.log(this.currentCommons),console.log(this.currentRare),console.log(this.currentSuper),console.log(this.currentUltra),console.log(this.currentSecret)}editAddRarity(e,r){switch(r){case"common":this.currentCommons.push(e);break;case"rare":this.currentRare.push(e);break;case"super":this.currentSuper.push(e);break;case"ultra":this.currentUltra.push(e);break;case"secret":this.currentSecret.push(e)}console.log(this.currentCommons),console.log(this.currentRare),console.log(this.currentSuper),console.log(this.currentUltra),console.log(this.currentSecret)}editAddCard(e,r){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var i=0;for(const s of this.extraDeck)if(e.name==s.name&&3==(i+=1))return;this.extraDeck.push(e),this.editAddRarity(e,r),this.edCounter++}else if(60!=this.mainDeck.length){i=0;for(const o of this.mainDeck)if(e.name==o.name&&3==(i+=1))return;this.mainDeck.push(e),this.editAddRarity(e,r),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}removeRarity(e){let r=this.currentCommons.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.currentCommons.splice(r,1),r=this.currentRare.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentRare.splice(r,1),r=this.currentSuper.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentSuper.splice(r,1),r=this.currentUltra.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentUltra.splice(r,1),r=this.currentSecret.findIndex(i=>i.id===(null==e?void 0:e.id)),r>-1&&this.currentSecret.splice(r,1),console.log(this.currentCommons),console.log(this.currentRare),console.log(this.currentSuper),console.log(this.currentUltra),console.log(this.currentSecret)}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.removeRarity(e),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.mainDeck.splice(r,1),this.removeRarity(e)),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(o.id);this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(o.id);this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(o.id);this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});da.saveAs(e,"cardlist.xml")}onFileSelected(e){this.file=e.target.files[0],this.fileChanged=!0}saveDraft(){var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,console.log(this.draftData.controls.draftTitle.value),console.log(this.draftData.controls.cost.value),console.log(this.draftData.controls.packdescription.value),void console.log("Basic data not filled.");if(this.mainDeck.length<40)this.submitfail=!0;else{const r={};r.packID=this.deckInfo.id,r.title=this.draftData.controls.draftTitle.value,r.creator=this.creator,r.creatorid=Number(this.creatorid),r.cost=this.draftData.controls.cost.value,r.packurl=this.deckInfo.pack,r.packdescription=this.draftData.controls.packdescription.value;const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize="structure",this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.resubmitPack(r).subscribe(g=>{this._router.navigate(["/structure-decks"])},g=>{console.log(g)})},f=>{console.log(f)})}else this.customcardsService.resubmitPack(r).subscribe(d=>{console.log(d),this._router.navigate(["/structure-decks"])},d=>{console.log(d)});this.submitfail=!1}}autoSelect(e){this.rarity=e}}return n.\u0275fac=function(e){return new(e||n)(w(Ft),w(he),w(oe),w(Y))},n.\u0275cmp=G({type:n,selectors:[["app-structure-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Et],decls:226,vars:78,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","cost","formControlName","cost","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","customFile"],["id","packImage","formControlName","packImage","type","file",1,"form-control",3,"ngClass","change"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","packdescription",3,"editor","ngModel","disabled","placeholder"],[1,"row",3,"keydown.enter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],["type","button",1,"btn","btn-success","addcard",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"smallcard",3,"src"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,Bee,16,13,"div",0),c(1,"div",1)(2,"form",2),k("ngSubmit",function(){return r.saveDraft()}),c(3,"div",3)(4,"div",4)(5,"label",5),p(6,"Deck Name"),u(),c(7,"input",6),k("ngModelChange",function(s){return r.deckname=s}),u()(),c(8,"div",4)(9,"label",5),p(10,"Deck Cost"),u(),D(11,"input",7),y(12,Hee,2,1,"div",8),u(),c(13,"div",4)(14,"label",9),p(15,"Upload Image"),u(),c(16,"input",10),k("change",function(s){return r.onFileSelected(s)}),u()(),c(17,"div",3)(18,"div",11),D(19,"ngx-editor-menu",12)(20,"ngx-editor",13),u()()()(),c(21,"div",14),k("keydown.enter",function(){return r.submitSearch()}),c(22,"div",4)(23,"label",5),p(24,"Name"),u(),c(25,"input",15),k("ngModelChange",function(s){return r.filters.name=s}),u()(),c(26,"div",4)(27,"label",16),p(28,"Desc"),u(),c(29,"input",15),k("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(30,"div",4)(31,"label",17),p(32,"Creator"),u(),c(33,"input",15),k("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(34,"div",4)(35,"label",18),p(36,"Card"),u(),c(37,"select",19),k("ngModelChange",function(s){return r.filters.initial=s}),D(38,"option",20),c(39,"option",21),p(40,"Monster"),u(),c(41,"option",22),p(42,"Spell"),u(),c(43,"option",23),p(44,"Trap"),u()()(),c(45,"div",4)(46,"label",18),p(47,"Card Type 2"),u(),c(48,"select",24),k("ngModelChange",function(s){return r.filters.cardtype=s}),y(49,zee,1,0,"option",25),y(50,$ee,2,0,"option",26),y(51,Uee,2,0,"option",27),y(52,jee,2,0,"option",28),y(53,Wee,2,0,"option",29),y(54,qee,2,0,"option",30),y(55,Gee,2,0,"option",31),y(56,Kee,2,0,"option",32),y(57,Qee,2,0,"option",33),y(58,Xee,2,0,"option",34),y(59,Yee,2,0,"option",35),y(60,Jee,1,0,"option",25),y(61,Zee,2,0,"option",36),y(62,ete,2,0,"option",37),y(63,tte,2,0,"option",38),y(64,nte,2,0,"option",39),y(65,rte,2,0,"option",40),y(66,ite,2,0,"option",41),y(67,ste,1,0,"option",25),y(68,ote,2,0,"option",42),y(69,ate,2,0,"option",43),y(70,lte,2,0,"option",44),u()(),c(71,"div",4)(72,"label",45),p(73,"Monster Type"),u(),c(74,"select",46),k("ngModelChange",function(s){return r.filters.monstertype=s}),D(75,"option",20),c(76,"option",47),p(77,"Aqua"),u(),c(78,"option",48),p(79,"Beast"),u(),c(80,"option",49),p(81,"Beast-Warrior"),u(),c(82,"option",50),p(83,"Dinosaur"),u(),c(84,"option",51),p(85,"Dragon"),u(),c(86,"option",52),p(87,"Fairy"),u(),c(88,"option",53),p(89,"Fiend"),u(),c(90,"option",54),p(91,"Fish"),u(),c(92,"option",55),p(93,"Insect"),u(),c(94,"option",56),p(95,"Machine"),u(),c(96,"option",57),p(97,"Plant"),u(),c(98,"option",58),p(99,"Psychic"),u(),c(100,"option",59),p(101,"Pyro"),u(),c(102,"option",60),p(103,"Reptile"),u(),c(104,"option",61),p(105,"Rock"),u(),c(106,"option",62),p(107,"Sea Serpent"),u(),c(108,"option",63),p(109,"Spellcaster"),u(),c(110,"option",64),p(111,"Thunder"),u(),c(112,"option",65),p(113,"Warrior"),u(),c(114,"option",66),p(115,"Winged-Beast"),u(),c(116,"option",67),p(117,"Zombie"),u()()()(),c(118,"div",14),k("keydown.enter",function(){return r.submitSearch()}),c(119,"div",4)(120,"label",68),p(121,"Attribute"),u(),c(122,"select",69),k("ngModelChange",function(s){return r.filters.attribute=s}),D(123,"option",20),c(124,"option",70),p(125,"DARK"),u(),c(126,"option",71),p(127,"DIVINE"),u(),c(128,"option",72),p(129,"EARTH"),u(),c(130,"option",73),p(131,"FIRE"),u(),c(132,"option",74),p(133,"LIGHT"),u(),c(134,"option",75),p(135,"WATER"),u(),c(136,"option",76),p(137,"WIND"),u()()(),c(138,"div",4)(139,"label",77),p(140,"Level <= "),u(),c(141,"input",78),k("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(142,"div",4)(143,"label",79),p(144," Level "),u(),c(145,"input",78),k("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(146,"div",4)(147,"label",80),p(148,"Atk <="),u(),c(149,"input",78),k("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(150,"div",4)(151,"label",81),p(152,"Atk"),u(),c(153,"input",78),k("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(154,"div",4)(155,"label",82),p(156,"Def <="),u(),c(157,"input",78),k("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(158,"div",4)(159,"label",83),p(160,"Def"),u(),c(161,"input",78),k("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(162,"div",4)(163,"label",84),p(164,"Sort By"),u(),c(165,"select",19),k("ngModelChange",function(s){return r.filters.sort=s}),c(166,"option",85),p(167,"Release Date ASC"),u(),c(168,"option",86),p(169,"Release Date DESC"),u(),c(170,"option",87),p(171,"Alphabetical ASC"),u(),c(172,"option",88),p(173,"Alphabetical DESC"),u(),y(174,cte,2,0,"option",89),y(175,ute,2,0,"option",90),y(176,dte,2,0,"option",91),y(177,pte,2,0,"option",92),y(178,hte,2,0,"option",93),y(179,fte,2,0,"option",94),u()(),c(180,"button",95),k("click",function(){return r.submitSearch()}),p(181,"Search"),u()(),c(182,"div",96)(183,"div")(184,"button",97),k("click",function(){return r.autoSelect("common")}),p(185,"Add Common"),u(),c(186,"button",97),k("click",function(){return r.autoSelect("rare")}),p(187,"Add Rare"),u(),c(188,"button",97),k("click",function(){return r.autoSelect("super")}),p(189,"Add Super"),u(),c(190,"button",97),k("click",function(){return r.autoSelect("ultra")}),p(191,"Add Ultra"),u(),c(192,"button",97),k("click",function(){return r.autoSelect("secret")}),p(193,"Add Secret"),u()()(),c(194,"div",96)(195,"div",4)(196,"div",98)(197,"div",99),D(198,"span",100),u()(),y(199,gte,2,1,"span",101),c(200,"div",3)(201,"button",95),k("click",function(){return r.nextPage()}),p(202,"Next"),u(),c(203,"button",95),k("click",function(){return r.prevPage()}),p(204,"Previous"),u()()()(),c(205,"div",3)(206,"h1")(207,"b"),p(208),u(),y(209,_te,2,1,"button",102),u(),c(210,"div",103)(211,"h2"),p(212),u(),y(213,yte,2,1,"span",101),u(),c(214,"div",103)(215,"h2"),p(216),u(),y(217,bte,2,1,"span",101),u(),c(218,"div",103)(219,"h2"),p(220),u(),y(221,Dte,2,1,"span",101),u(),c(222,"div",103)(223,"h2"),p(224),u(),y(225,Tte,3,1,"span",101),u()()()),2&e&&(m("ngIf",!0===r.isHovering),h(2),m("formGroup",r.draftData),h(5),m("ngModel",r.deckname),h(4),m("ngClass",Me(74,EM,r.submitted&&r.f.cost.errors)),h(1),m("ngIf",r.submitted&&r.f.cost.errors),h(4),m("ngClass",Me(76,EM,r.submitted&&r.f.packImage.errors)),h(3),m("toolbar",r.toolbar)("editor",r.editor),h(1),m("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(5),m("ngModel",r.filters.name),h(4),m("ngModel",r.filters.desc),h(4),m("ngModel",r.filters.creator),h(4),m("ngModel",r.filters.initial),h(11),m("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Spell"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(1),m("ngIf","Trap"==r.filters.initial),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),m("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),m("ngModel",r.filters.sort),h(9),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(1),m("ngIf","Monster"==r.filters.initial),h(20),m("ngForOf",r.currentCards),h(9),x("Current Decklist (",r.mainDeck.length,"/60)"),h(1),m("ngIf",r.mainDeck.length>=40),h(3),x("Monsters (",r.monsterCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Spells (",r.spellCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Traps (",r.trapCounter,")"),h(1),m("ngForOf",r.mainDeck),h(3),x("Extra (",r.edCounter,")"),h(1),m("ngForOf",r.extraDeck))},directives:[ue,Xt,Qt,Lt,et,Qe,Yt,Pt,yc,mc,At,Jt,Cn,bn,Ci,_e],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}"]}),n})()}];let wte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[[dd.forRoot(Ste),kd,Ql,z7,Y7,na],dd,kd,Ql]}),n})();function Mte(n,t){if(1&n&&(c(0,"li",11)(1,"a",38),p(2),u(),c(3,"ul",13)(4,"li",39),p(5),u(),c(6,"li")(7,"a",40),p(8,"Settings"),u()(),c(9,"li")(10,"a",41),p(11,"Submit Match"),u()(),c(12,"li",8)(13,"a",42),p(14,"Binders"),u()(),c(15,"li",8)(16,"a",43),p(17,"Collection"),u()()()()),2&n){const e=v();h(1),A("routerLink","/players/",e.id,""),h(1),x(" ",e._authService.username," "),h(3),x("",e._authService.currency," Dosh\u2122")}}function xte(n,t){1&n&&(c(0,"button",44),p(1,"Login"),u())}function Ete(n,t){1&n&&(c(0,"button",45),p(1,"Sign Up"),u())}function Ite(n,t){if(1&n){const e=F();c(0,"button",46),k("click",function(){return S(e),v()._authService.logoutUser()}),p(1,"Logout"),u()}}function Pte(n,t){1&n&&(c(0,"button",47),p(1,"Admin"),u())}let Ate=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0}):(this.username=void 0,this.id=void 0)}goToSealedDraft(){this.customcardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToPackOpener(){this.customcardsService.setSealedDraftMode(!1),this._router.navigate(["/packs"])}}return n.\u0275fac=function(e){return new(e||n)(w(Y),w(he),w(oe))},n.\u0275cmp=G({type:n,selectors:[["app-navigation"]],decls:86,vars:5,consts:[[1,"navbar","navbar-default","navbar-expand-md","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-dark"],[1,"navbar-toggler-icon","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/banlist",1,"nav-link"],[1,"nav-item","dropdown"],["routerLink","/players","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["aria-labelledby","navbarDarkDropdownMenuLink",1,"dropdown-menu","dropdown-menu-dark"],["routerLink","/players",1,"nav-link"],["routerLink","/matches",1,"nav-link"],["routerLink","/articles",1,"nav-link"],["routerLink","/drafts","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/draft-maker",1,"nav-link"],["routerLink","/draftmode",1,"nav-link"],["routerLink","/packs","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/packs",1,"nav-link",3,"click"],["routerLink","/structure-decks",1,"nav-link"],["routerLink","/checklist",1,"nav-link"],["routerLink","/deck-editor","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/deck-editor",1,"nav-link"],["routerLink","/collection-deck-editor",1,"nav-link"],["routerLink","/decklists","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/decklists",1,"nav-link"],["routerLink","/duelist-decklists",1,"nav-link"],["routerLink","/upload-decklist",1,"nav-link"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],["class","nav-item dropdown",4,"ngIf"],[1,"form-inline","my-2","my-lg-0"],["type","button","class","btn btn-success","routerLink","/login","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/register","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLinkActive","active",3,"click",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/admin","routerLinkActive","active",4,"ngIf"],["id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link",3,"routerLink"],[1,"nav-link"],["routerLink","/settings",1,"nav-link"],["routerLink","/submit-match",1,"nav-link"],["routerLink","/binders",1,"nav-link"],["routerLink","/collections",1,"nav-link"],["type","button","routerLink","/login","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLink","/register","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLinkActive","active",1,"btn","btn-success",3,"click"],["type","button","routerLink","/admin","routerLinkActive","active",1,"btn","btn-success"]],template:function(e,r){1&e&&(c(0,"nav",0)(1,"div",1)(2,"a",2),D(3,"img",3),u(),c(4,"button",4),D(5,"span",5),u(),c(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),p(10,"Home"),u()(),c(11,"li",8)(12,"a",10),p(13,"Banlist"),u()(),c(14,"li",11)(15,"a",12),p(16," Community "),u(),c(17,"ul",13)(18,"li")(19,"a",14),p(20,"Players "),u()(),c(21,"li")(22,"a",15),p(23,"Matches"),u()(),c(24,"li")(25,"a",16),p(26,"Articles"),u()()()(),c(27,"li",11)(28,"a",17),p(29," Drafts "),u(),c(30,"ul",13)(31,"li")(32,"a",18),p(33,"Draft Creator "),u()(),c(34,"li")(35,"a",19),p(36,"Draft Editor"),u()()()(),c(37,"li",11)(38,"a",20),p(39," Shop "),u(),c(40,"ul",13)(41,"li")(42,"a",21),k("click",function(){return r.goToPackOpener()}),p(43,"Packs"),u()(),c(44,"li")(45,"a",22),p(46,"Structure Decks"),u()(),c(47,"li")(48,"a",21),k("click",function(){return r.goToSealedDraft()}),p(49,"Sealed Draft"),u()(),c(50,"li")(51,"a",23),p(52,"Checklist"),u()()()(),c(53,"li",11)(54,"a",24),p(55," Editor "),u(),c(56,"ul",13)(57,"li")(58,"a",25),p(59,"Deck Editor"),u()(),c(60,"li")(61,"a",26),p(62,"Collection Editor"),u()()()(),c(63,"li",11)(64,"a",27),p(65," Decklists "),u(),c(66,"ul",13)(67,"li")(68,"a",28),p(69,"Public Decklists"),u()(),c(70,"li")(71,"a",29),p(72,"Your Decklists"),u()(),c(73,"li")(74,"a",30),p(75,"Upload Decklist"),u()()()()(),c(76,"ul",31),y(77,Mte,18,3,"li",32),c(78,"form",33),y(79,xte,2,0,"button",34),u(),c(80,"form",33),y(81,Ete,2,0,"button",35),u(),c(82,"form",33),y(83,Ite,2,0,"button",36),u()(),c(84,"form",33),y(85,Pte,2,0,"button",37),u()()()()),2&e&&(h(77),m("ngIf",null!=r.username),h(2),m("ngIf",!r._authService.loggedIn()),h(2),m("ngIf",!r._authService.loggedIn()),h(2),m("ngIf",r._authService.loggedIn()),h(2),m("ngIf",r._authService.adminRole()))},directives:[Gt,Ul,ue,Xt,Qt,bd,qt],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}.navbar-brand[_ngcontent-%COMP%]{padding-bottom:10px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;margin-top:0}.navbar-light[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='yellow' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\");color:#fff}.navbar-light[_ngcontent-%COMP%]   button.navbar-toggler[_ngcontent-%COMP%]{border-color:#ff0}@media (max-width: 768px){.collapse[_ngcontent-%COMP%]{background-color:#212529;padding-left:5px;margin:0}.nav-item[_ngcontent-%COMP%]{padding-left:5px}.navbar-collapse[_ngcontent-%COMP%]{background-color:#212529;z-index:1000;padding:0;margin:0}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:medium}}"]}),n})(),Ote=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-bottom-nav"]],decls:6,vars:0,consts:[["id","sticky-footer",1,"flex-shrink-0","py-4","bg-dark","text-white-50"],[1,"container","text-center"],["href","https://github.com/farisalkhat"]],template:function(e,r){1&e&&(c(0,"footer",0)(1,"div",1)(2,"small"),p(3,"Faris Al-khatahtbeh \xa9 "),c(4,"a",2),p(5,"Github"),u()()()())},styles:[".container[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]{margin-top:100px;font-family:Oswald,sans-serif;color:#fff;font-size:20px}p[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#fff}.bottom[_ngcontent-%COMP%]{background-color:#1f1a1f;overflow:hidden;bottom:0;width:100%;margin-top:50px}"]}),n})(),Nte=(()=>{class n{constructor(e){this._authService=e,this.title="The Attic"}}return n.\u0275fac=function(e){return new(e||n)(w(he))},n.\u0275cmp=G({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&D(0,"app-navigation")(1,"router-outlet")(2,"app-bottom-nav")},directives:[Ate,Wm,Ote],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}"]}),n})(),Rte=(()=>{class n{constructor(e,r){this._authService=e,this._router=r}canActivate(){return!!this._authService.loggedIn()||(this._router.navigate(["/login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(H(he),H(Y))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=ct({imports:[[na]]}),n})(),zte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=gt({type:n,bootstrap:[Nte]}),n.\u0275inj=ct({providers:[Rte],imports:[[U4,Ok,wte,kd,Ql,Hte,_q.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",blockquote:"Blockquote",underline:"Underline",strike:"Strike",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}})]]}),n})();(function cR(){z0=!1})(),v4().bootstrapModule(zte).catch(n=>console.error(n))},327:function(co,bc){var fs;void 0!==(fs=function(){"use strict";function ni(Te,xe,_n){var Be=new XMLHttpRequest;Be.open("GET",Te),Be.responseType="blob",Be.onload=function(){Un(Be.response,xe,_n)},Be.onerror=function(){console.error("could not download file")},Be.send()}function rn(Te){var xe=new XMLHttpRequest;xe.open("HEAD",Te,!1);try{xe.send()}catch(_n){}return 200<=xe.status&&299>=xe.status}function ms(Te){try{Te.dispatchEvent(new MouseEvent("click"))}catch(_n){var xe=document.createEvent("MouseEvents");xe.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Te.dispatchEvent(xe)}}var Sn="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Pa=Sn.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Un=Sn.saveAs||("object"!=typeof window||window!==Sn?function(){}:"download"in HTMLAnchorElement.prototype&&!Pa?function(Te,xe,_n){var Be=Sn.URL||Sn.webkitURL,sn=document.createElement("a");sn.download=xe=xe||Te.name||"download",sn.rel="noopener","string"==typeof Te?(sn.href=Te,sn.origin===location.origin?ms(sn):rn(sn.href)?ni(Te,xe,_n):ms(sn,sn.target="_blank")):(sn.href=Be.createObjectURL(Te),setTimeout(function(){Be.revokeObjectURL(sn.href)},4e4),setTimeout(function(){ms(sn)},0))}:"msSaveOrOpenBlob"in navigator?function(Te,xe,_n){if(xe=xe||Te.name||"download","string"!=typeof Te)navigator.msSaveOrOpenBlob(function uo(Te,xe){return void 0===xe?xe={autoBom:!1}:"object"!=typeof xe&&(console.warn("Deprecated: Expected third argument to be a object"),xe={autoBom:!xe}),xe.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Te.type)?new Blob(["\ufeff",Te],{type:Te.type}):Te}(Te,_n),xe);else if(rn(Te))ni(Te,xe,_n);else{var Be=document.createElement("a");Be.href=Te,Be.target="_blank",setTimeout(function(){ms(Be)})}}:function(Te,xe,_n,Be){if((Be=Be||open("","_blank"))&&(Be.document.title=Be.document.body.innerText="downloading..."),"string"==typeof Te)return ni(Te,xe,_n);var sn="application/octet-stream"===Te.type,yp=/constructor/i.test(Sn.HTMLElement)||Sn.safari,po=/CriOS\/[\d]+/.test(navigator.userAgent);if((po||sn&&yp||Pa)&&"undefined"!=typeof FileReader){var sr=new FileReader;sr.onloadend=function(){var ri=sr.result;ri=po?ri:ri.replace(/^data:[^;]*;/,"data:attachment/file;"),Be?Be.location.href=ri:location=ri,Be=null},sr.readAsDataURL(Te)}else{var gs=Sn.URL||Sn.webkitURL,Aa=gs.createObjectURL(Te);Be?Be.location=Aa:location.href=Aa,Be=null,setTimeout(function(){gs.revokeObjectURL(Aa)},4e4)}});Sn.saveAs=Un.saveAs=Un,co.exports=Un}.apply(bc,[]))&&(co.exports=fs)}},co=>{co(co.s=113)}]);