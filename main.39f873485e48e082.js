(self.webpackChunkCustomCardWebsite=self.webpackChunkCustomCardWebsite||[]).push([[179],{208:(ao,mc,ps)=>{"use strict";function Re(n){return"function"==typeof n}function hs(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const lo=hs(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ni(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Kt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){t=s instanceof lo?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Ia(s)}catch(o){t=null!=t?t:[],o instanceof lo?t=[...t,...o.errors]:t.push(o)}}if(t)throw new lo(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ia(t);else{if(t instanceof Kt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ni(e,t)}remove(t){const{_teardowns:e}=this;e&&ni(e,t),t instanceof Kt&&t._removeParent(this)}}Kt.EMPTY=(()=>{const n=new Kt;return n.closed=!0,n})();const fs=Kt.EMPTY;function Dn(n){return n instanceof Kt||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function Ia(n){Re(n)?n():n.unsubscribe()}const zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Te={setTimeout(...n){const{delegate:t}=Te;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=Te;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Se(n){Te.setTimeout(()=>{const{onUnhandledError:t}=zn;if(!t)throw n;t(n)})}function hn(){}const Be=co("C",void 0,void 0);function co(n,t,e){return{kind:n,value:t,error:e}}let sr=null;function ms(n){if(zn.useDeprecatedSynchronousErrorHandling){const t=!sr;if(t&&(sr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=sr;if(sr=null,e)throw r}}else n()}class ri extends Kt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dn(t)&&t.add(this)):this.destination=A2}static create(t,e,r){return new gc(t,e,r)}next(t){this.isStopped?_p(function mp(n){return co("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_p(function Qt(n){return co("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_p(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E2=Function.prototype.bind;function gp(n,t){return E2.call(n,t)}class I2{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){_c(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){_c(r)}else _c(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){_c(e)}}}class gc extends ri{constructor(t,e,r){let i;if(super(),Re(t)||!t)i={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let s;this&&zn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&gp(t.next,s),error:t.error&&gp(t.error,s),complete:t.complete&&gp(t.complete,s)}):i=t}this.destination=new I2(i)}}function _c(n){zn.useDeprecatedSynchronousErrorHandling?function Pa(n){zn.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=n)}(n):Se(n)}function _p(n,t){const{onStoppedNotification:e}=zn;e&&Te.setTimeout(()=>e(n,t))}const A2={closed:!0,next:hn,error:function P2(n){throw n},complete:hn},vp="function"==typeof Symbol&&Symbol.observable||"@@observable";function gs(n){return n}let it=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function N2(n){return n&&n instanceof ri||function O2(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&Dn(n)}(e)?e:new gc(e,r,i);return ms(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=tv(r))((i,s)=>{const o=new gc({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[vp](){return this}pipe(...e){return function ev(n){return 0===n.length?gs:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=tv(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=t=>new n(t),n})();function tv(n){var t;return null!==(t=null!=n?n:zn.Promise)&&void 0!==t?t:Promise}const R2=hs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tn=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new nv(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new R2}next(e){ms(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?fs:(s.push(e),new Kt(()=>ni(s,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return n.create=(t,e)=>new nv(t,e),n})();class nv extends Tn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:fs}}function rv(n){return Re(null==n?void 0:n.lift)}function wt(n){return t=>{if(rv(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,t,e,r,i){return new F2(n,t,e,r,i)}class F2 extends ri{constructor(t,e,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(n,t){return wt((e,r)=>{let i=0;e.subscribe(ht(r,s=>{r.next(n.call(t,s,i++))}))})}function _s(n){return this instanceof _s?(this.v=n,this):new _s(n)}function V2(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(_){r[_]&&(i[_]=function(v){return new Promise(function(b,k){s.push([_,v,b,k])>1||a(_,v)})})}function a(_,v){try{!function l(_){_.value instanceof _s?Promise.resolve(_.value.v).then(d,f):m(s[0][2],_)}(r[_](v))}catch(b){m(s[0][3],b)}}function d(_){a("next",_)}function f(_){a("throw",_)}function m(_,v){_(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function H2(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ov(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(d){s({value:d,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const av=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lv(n){return Re(null==n?void 0:n.then)}function cv(n){return Re(n[vp])}function uv(n){return Symbol.asyncIterator&&Re(null==n?void 0:n[Symbol.asyncIterator])}function dv(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pv=function $2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hv(n){return Re(null==n?void 0:n[pv])}function fv(n){return V2(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield _s(e.read());if(i)return yield _s(void 0);yield yield _s(r)}}finally{e.releaseLock()}})}function mv(n){return Re(null==n?void 0:n.getReader)}function or(n){if(n instanceof it)return n;if(null!=n){if(cv(n))return function U2(n){return new it(t=>{const e=n[vp]();if(Re(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(av(n))return function j2(n){return new it(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(lv(n))return function W2(n){return new it(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Se)})}(n);if(uv(n))return gv(n);if(hv(n))return function q2(n){return new it(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mv(n))return function G2(n){return gv(fv(n))}(n)}throw dv(n)}function gv(n){return new it(t=>{(function K2(n,t){var e,r,i,s;return function L2(n,t,e,r){return new(e||(e=Promise))(function(s,o){function a(f){try{d(r.next(f))}catch(m){o(m)}}function l(f){try{d(r.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):function i(s){return s instanceof e?s:new e(function(o){o(s)})}(f.value).then(a,l)}d((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=H2(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ii(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function St(n,t,e=1/0){return Re(t)?St((r,i)=>Ie((s,o)=>t(r,s,i,o))(or(n(r,i))),e):("number"==typeof t&&(e=t),wt((r,i)=>function Q2(n,t,e,r,i,s,o,a){const l=[];let d=0,f=0,m=!1;const _=()=>{m&&!l.length&&!d&&t.complete()},v=k=>d<r?b(k):l.push(k),b=k=>{s&&t.next(k),d++;let M=!1;or(e(k,f++)).subscribe(ht(t,E=>{null==i||i(E),s?v(E):t.next(E)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;l.length&&d<r;){const E=l.shift();o?ii(t,o,()=>b(E)):b(E)}_()}catch(E){t.error(E)}}))};return n.subscribe(ht(t,v,()=>{m=!0,_()})),()=>{null==a||a()}}(r,i,n,e)))}function Aa(n=1/0){return St(gs,n)}const si=new it(n=>n.complete());function Cp(n){return n[n.length-1]}function _v(n){return Re(Cp(n))?n.pop():void 0}function Oa(n){return function Y2(n){return n&&Re(n.schedule)}(Cp(n))?n.pop():void 0}function vv(n,t=0){return wt((e,r)=>{e.subscribe(ht(r,i=>ii(r,n,()=>r.next(i),t),()=>ii(r,n,()=>r.complete(),t),i=>ii(r,n,()=>r.error(i),t)))})}function yv(n,t=0){return wt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Cv(n,t){if(!n)throw new Error("Iterable cannot be null");return new it(e=>{ii(e,t,()=>{const r=n[Symbol.asyncIterator]();ii(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Mt(n,t){return t?function ix(n,t){if(null!=n){if(cv(n))return function Z2(n,t){return or(n).pipe(yv(t),vv(t))}(n,t);if(av(n))return function tx(n,t){return new it(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(lv(n))return function ex(n,t){return or(n).pipe(yv(t),vv(t))}(n,t);if(uv(n))return Cv(n,t);if(hv(n))return function nx(n,t){return new it(e=>{let r;return ii(e,t,()=>{r=n[pv](),ii(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>Re(null==r?void 0:r.return)&&r.return()})}(n,t);if(mv(n))return function rx(n,t){return Cv(fv(n),t)}(n,t)}throw dv(n)}(n,t):or(n)}function vc(n){return n<=0?()=>si:wt((t,e)=>{let r=0;t.subscribe(ht(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function bp(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(vc(1)).subscribe(()=>n())}function Ve(n){for(let t in n)if(n[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function kp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Dp(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ax=Ve({__forward_ref__:Ve});function He(n){return n.__forward_ref__=He,n.toString=function(){return Ae(this())},n}function pe(n){return bv(n)?n():n}function bv(n){return"function"==typeof n&&n.hasOwnProperty(ax)&&n.__forward_ref__===He}class q extends Error{constructor(t,e){super(function Tp(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}function yc(n,t){const e=t?` in ${t}`:"";throw new q(-201,`No provider for ${Xt(n)} found${e}`)}function Sn(n,t){null==n&&function Ge(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function wp(n){return kv(n,Cc)||kv(n,Tv)}function kv(n,t){return n.hasOwnProperty(t)?n[t]:null}function Dv(n){return n&&(n.hasOwnProperty(Sp)||n.hasOwnProperty(fx))?n[Sp]:null}const Cc=Ve({\u0275prov:Ve}),Sp=Ve({\u0275inj:Ve}),Tv=Ve({ngInjectableDef:Ve}),fx=Ve({ngInjectorDef:Ve});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let Mp;function Si(n){const t=Mp;return Mp=n,t}function wv(n,t,e){const r=wp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&se.Optional?null:void 0!==t?t:void yc(Ae(n),"Injector")}function Mi(n){return{toString:n}.toString()}var ar=(()=>((ar=ar||{})[ar.OnPush=0]="OnPush",ar[ar.Default=1]="Default",ar))(),lr=(()=>{return(n=lr||(lr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lr;var n})();const gx="undefined"!=typeof globalThis&&globalThis,_x="undefined"!=typeof window&&window,vx="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe=gx||"undefined"!=typeof global&&global||_x||vx,uo={},ze=[],bc=Ve({\u0275cmp:Ve}),xp=Ve({\u0275dir:Ve}),Ep=Ve({\u0275pipe:Ve}),Sv=Ve({\u0275mod:Ve}),ai=Ve({\u0275fac:Ve}),Na=Ve({__NG_ELEMENT_ID__:Ve});let yx=0;function G(n){return Mi(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lr.Emulated,id:"c",styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=yx++,r.inputs=Iv(n.inputs,e),r.outputs=Iv(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Mv):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(xv):null,r})}function Mv(n){return Rt(n)||function xi(n){return n[xp]||null}(n)}function xv(n){return function vs(n){return n[Ep]||null}(n)}const Ev={};function ft(n){return Mi(()=>{const t={type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ev[n.id]=n.type),t})}function Iv(n,t){if(null==n)return uo;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}const ne=G;function Yt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rt(n){return n[bc]||null}function $n(n,t){const e=n[Sv]||null;if(!e&&!0===t)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return e}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ur(n){return Array.isArray(n)&&!0===n[1]}function Ap(n){return 0!=(8&n.flags)}function wc(n){return 2==(2&n.flags)}function Sc(n){return 1==(1&n.flags)}function dr(n){return null!==n.template}function wx(n){return 0!=(512&n[2])}function ks(n,t){return n.hasOwnProperty(ai)?n[ai]:null}class xx{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Lt(){return Av}function Av(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ix),Ex}function Ex(){const n=Nv(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===uo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Ix(n,t,e,r){const i=Nv(n)||function Px(n,t){return n[Ov]=t}(n,{previous:uo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[e],l=o[a];s[a]=new xx(l&&l.currentValue,t,o===uo),n[r]=t}Lt.ngInherit=!0;const Ov="__ngSimpleChanges__";function Nv(n){return n[Ov]||null}let Lp;function Bp(){return void 0!==Lp?Lp:"undefined"!=typeof document?document:void 0}function tt(n){return!!n.listen}const Rv={createRenderer:(n,t)=>Bp()};function ct(n){for(;Array.isArray(n);)n=n[0];return n}function Mc(n,t){return ct(t[n])}function Wn(n,t){return ct(t[n.index])}function Vp(n,t){return n.data[t]}function xn(n,t){const e=t[n];return wr(e)?e:e[0]}function Fv(n){return 4==(4&n[2])}function Hp(n){return 128==(128&n[2])}function Ei(n,t){return null==t?null:n[t]}function Lv(n){n[18]=0}function zp(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const ie={lFrame:Wv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bv(){return ie.bindingsEnabled}function O(){return ie.lFrame.lView}function we(){return ie.lFrame.tView}function S(n){return ie.lFrame.contextLView=n,n[8]}function mt(){let n=Vv();for(;null!==n&&64===n.type;)n=n.parent;return n}function Vv(){return ie.lFrame.currentTNode}function Sr(n,t){const e=ie.lFrame;e.currentTNode=n,e.isParent=t}function $p(){return ie.lFrame.isParent}function Up(){ie.lFrame.isParent=!1}function xc(){return ie.isInCheckNoChangesMode}function Ec(n){ie.isInCheckNoChangesMode=n}function Jt(){const n=ie.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function _o(){return ie.lFrame.bindingIndex++}function ci(n){const t=ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Kx(n,t){const e=ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,jp(t)}function jp(n){ie.lFrame.currentDirectiveIndex=n}function $v(){return ie.lFrame.currentQueryIndex}function qp(n){ie.lFrame.currentQueryIndex=n}function Xx(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Uv(n,t,e){if(e&se.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&se.Host||(i=Xx(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,n=s}const r=ie.lFrame=jv();return r.currentTNode=t,r.lView=n,!0}function Ic(n){const t=jv(),e=n[1];ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function jv(){const n=ie.lFrame,t=null===n?null:n.child;return null===t?Wv(n):t}function Wv(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function qv(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gv=qv;function Pc(){const n=qv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zt(){return ie.lFrame.selectedIndex}function Ii(n){ie.lFrame.selectedIndex=n}function nt(){const n=ie.lFrame;return Vp(n.tView,n.selectedIndex)}function Ac(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Oc(n,t,e){Kv(n,t,3,e)}function Nc(n,t,e,r){(3&n[2])===e&&Kv(n,t,e,r)}function Gp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Kv(n,t,e,r){const s=null!=r?r:-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(sE(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function sE(n,t,e,r){const i=e[r]<0,s=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Va{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Rc(n,t,e){const r=tt(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const o=e[i++],a=e[i++],l=e[i++];r?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++i];Qp(o)?r&&n.setProperty(t,o,a):r?n.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Qv(n){return 3===n||4===n||6===n}function Qp(n){return 64===n.charCodeAt(0)}function Fc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Xv(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Xv(n,t,e,r,i){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Yv(n){return-1!==n}function vo(n){return 32767&n}function yo(n,t){let e=function uE(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Xp=!0;function Lc(n){const t=Xp;return Xp=n,t}let dE=0;function za(n,t){const e=Jp(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Yp(r.data,n),Yp(t,null),Yp(r.blueprint,null));const i=Bc(n,t),s=n.injectorIndex;if(Yv(i)){const o=vo(i),a=yo(i,t),l=a[1].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|l[o+d]}return t[s+8]=i,s}function Yp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Jp(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Bc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Vc(n,t,e){!function pE(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Na)&&(r=e[Na]),null==r&&(r=e[Na]=dE++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function e1(n,t,e){if(e&se.Optional)return n;yc(t,"NodeInjector")}function t1(n,t,e,r){if(e&se.Optional&&void 0===r&&(r=null),0==(e&(se.Self|se.Host))){const i=n[9],s=Si(void 0);try{return i?i.get(t,r,e&se.Optional):wv(t,r,e&se.Optional)}finally{Si(s)}}return e1(r,t,e)}function n1(n,t,e,r=se.Default,i){if(null!==n){const s=function gE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Na)?n[Na]:void 0;return"number"==typeof t?t>=0?255&t:fE:t}(e);if("function"==typeof s){if(!Uv(t,n,r))return r&se.Host?e1(i,e,r):t1(t,e,r,i);try{const o=s(r);if(null!=o||r&se.Optional)return o;yc(e)}finally{Gv()}}else if("number"==typeof s){let o=null,a=Jp(n,t),l=-1,d=r&se.Host?t[16][6]:null;for((-1===a||r&se.SkipSelf)&&(l=-1===a?Bc(n,t):t[a+8],-1!==l&&s1(r,!1)?(o=t[1],a=vo(l),t=yo(l,t)):a=-1);-1!==a;){const f=t[1];if(i1(s,a,f.data)){const m=mE(a,t,e,o,r,d);if(m!==r1)return m}l=t[a+8],-1!==l&&s1(r,t[1].data[a+8]===d)&&i1(s,a,t)?(o=f,a=vo(l),t=yo(l,t)):a=-1}}}return t1(t,e,r,i)}const r1={};function fE(){return new Co(mt(),O())}function mE(n,t,e,r,i,s){const o=t[1],a=o.data[n+8],f=Hc(a,o,e,null==r?wc(a)&&Xp:r!=o&&0!=(3&a.type),i&se.Host&&s===a);return null!==f?$a(t,o,f,a):r1}function Hc(n,t,e,r,i){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,f=s>>20,_=i?a+f:n.directiveEnd;for(let v=r?a:a+f;v<_;v++){const b=o[v];if(v<l&&e===b||v>=l&&b.type===e)return v}if(i){const v=o[l];if(v&&dr(v)&&v.type===e)return l}return null}function $a(n,t,e,r){let i=n[e];const s=t.data;if(function oE(n){return n instanceof Va}(i)){const o=i;o.resolving&&function lx(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${e}`)}(Xt(s[e]));const a=Lc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Si(o.injectImpl):null;Uv(n,r,se.Default);try{i=n[e]=o.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function iE(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Av(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&Si(l),Lc(a),o.resolving=!1,Gv()}}return i}function i1(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function s1(n,t){return!(n&se.Self||n&se.Host&&t)}class Co{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return n1(this._tNode,this._lView,t,r,e)}}function Bt(n){return Mi(()=>{const t=n.prototype.constructor,e=t[ai]||Zp(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||Zp(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Zp(n){return bv(n)?()=>{const t=Zp(pe(n));return t&&t()}:ks(n)}function Ua(n){return function hE(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(Qv(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(mt(),n)}const ko="__parameters__";function To(n,t,e){return Mi(()=>{const r=function eh(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,d,f){const m=l.hasOwnProperty(ko)?l[ko]:Object.defineProperty(l,ko,{value:[]})[ko];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class le{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=X({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vE=new le("AnalyzeForEntryComponents");function qn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),qn(r,t)):t!==n&&t.push(r)}return t}function Mr(n,t){n.forEach(e=>Array.isArray(e)?Mr(e,t):t(e))}function a1(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function zc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function qa(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function En(n,t,e){let r=wo(n,t);return r>=0?n[1|r]=e:(r=~r,function bE(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function nh(n,t){const e=wo(n,t);if(e>=0)return n[1|e]}function wo(n,t){return function u1(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<e];if(t===o)return s<<e;o>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const Ga={},ih="__NG_DI_FLAG__",Uc="ngTempTokenPath",xE=/\n/gm,p1="__source",IE=Ve({provide:String,useValue:Ve});let Ka;function h1(n){const t=Ka;return Ka=n,t}function PE(n,t=se.Default){if(void 0===Ka)throw new q(203,"");return null===Ka?wv(n,void 0,t):Ka.get(n,t&se.Optional?null:void 0,t)}function B(n,t=se.Default){return(function mx(){return Mp}()||PE)(pe(n),t)}const AE=B;function sh(n){const t=[];for(let e=0;e<n.length;e++){const r=pe(n[e]);if(Array.isArray(r)){if(0===r.length)throw new q(900,"");let i,s=se.Default;for(let o=0;o<r.length;o++){const a=r[o],l=OE(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(B(i,s))}else t.push(B(r))}return t}function Qa(n,t){return n[ih]=t,n.prototype[ih]=t,n}function OE(n){return n[ih]}const jc=Qa(To("Inject",n=>({token:n})),-1),Ai=Qa(To("Optional"),8),Xa=Qa(To("SkipSelf"),4);let qc,Gc;function Mo(n){var t;return(null===(t=function ah(){if(void 0===qc&&(qc=null,Fe.trustedTypes))try{qc=Fe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return qc}())||void 0===t?void 0:t.createHTML(n))||n}function y1(n){var t;return(null===(t=function lh(){if(void 0===Gc&&(Gc=null,Fe.trustedTypes))try{Gc=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Gc}())||void 0===t?void 0:t.createHTML(n))||n}class Ds{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qE extends Ds{getTypeName(){return"HTML"}}class GE extends Ds{getTypeName(){return"Style"}}class KE extends Ds{getTypeName(){return"Script"}}class QE extends Ds{getTypeName(){return"URL"}}class XE extends Ds{getTypeName(){return"ResourceURL"}}function In(n){return n instanceof Ds?n.changingThisBreaksApplicationSecurity:n}function xr(n,t){const e=k1(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function k1(n){return n instanceof Ds&&n.getTypeName()||null}class nI{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class rI{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mo(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Mo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const o=e.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const sI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ja(n){return(n=String(n)).match(sI)||n.match(oI)?n:"unsafe:"+n}function Er(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Za(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const w1=Er("area,br,col,hr,img,wbr"),S1=Er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M1=Er("rp,rt"),ch=Za(w1,Za(S1,Er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Za(M1,Er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Za(M1,S1)),uh=Er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dh=Er("srcset"),x1=Za(uh,dh,Er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aI=Er("script,style,template");class lI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ch.hasOwnProperty(e))return this.sanitizedSomething=!0,!aI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!x1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;uh[a]&&(l=Ja(l)),dh[a]&&(n=l,l=(n=String(n)).split(",").map(t=>Ja(t.trim())).join(", ")),this.buf.push(" ",o,'="',E1(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ch.hasOwnProperty(e)&&!w1.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(E1(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uI=/([^\#-~ |!])/g;function E1(n){return n.replace(/&/g,"&amp;").replace(cI,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(uI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kc;function I1(n,t){let e=null;try{Kc=Kc||function D1(n){const t=new rI(n);return function iI(){try{return!!(new window.DOMParser).parseFromString(Mo(""),"text/html")}catch(n){return!1}}()?new nI(t):t}(n);let r=t?String(t):"";e=Kc.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=Kc.getInertBodyElement(r)}while(r!==s);return Mo((new lI).sanitizeChildren(ph(e)||e))}finally{if(e){const r=ph(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ph(n){return"content"in n&&function dI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ue=(()=>((Ue=Ue||{})[Ue.NONE=0]="NONE",Ue[Ue.HTML=1]="HTML",Ue[Ue.STYLE=2]="STYLE",Ue[Ue.SCRIPT=3]="SCRIPT",Ue[Ue.URL=4]="URL",Ue[Ue.RESOURCE_URL=5]="RESOURCE_URL",Ue))();function Ir(n){const t=el();return t?y1(t.sanitize(Ue.HTML,n)||""):xr(n,"HTML")?y1(In(n)):I1(Bp(),oe(n))}function P(n){const t=el();return t?t.sanitize(Ue.URL,n)||"":xr(n,"URL")?In(n):Ja(oe(n))}function el(){const n=O();return n&&n[12]}const O1="__ngContext__";function Vt(n,t){n[O1]=t}function fh(n){const t=function tl(n){return n[O1]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function gh(n){return n.ngOriginalError}function MI(n,...t){n.error(...t)}class nl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function SI(n){return n&&n.ngErrorLogger||MI}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&gh(t);for(;e&&gh(e);)e=gh(e);return e||null}}const LI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fe))();function rl(n){return n.ownerDocument}function Pr(n){return n instanceof Function?n():n}var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();function vh(n,t){return undefined(n,t)}function il(n){const t=n[3];return ur(t)?t[3]:t}function yh(n){return $1(n[13])}function Ch(n){return $1(n[4])}function $1(n){for(;null!==n&&!ur(n);)n=n[4];return n}function Eo(n,t,e,r,i){if(null!=r){let s,o=!1;ur(r)?s=r:wr(r)&&(o=!0,r=r[0]);const a=ct(r);0===n&&null!==e?null==i?K1(t,e,a):Ts(t,e,a,i||null,!0):1===n&&null!==e?Ts(t,e,a,i||null,!0):2===n?function ty(n,t,e){const r=Qc(n,t);r&&function XI(n,t,e,r){tt(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function ZI(n,t,e,r,i){const s=e[7];s!==ct(e)&&Eo(t,n,r,s,i);for(let a=10;a<e.length;a++){const l=e[a];sl(l[1],l,n,t,r,s)}}(t,n,s,e,i)}}function kh(n,t,e){if(tt(n))return n.createElement(t,e);{const r=null!==e?function Rx(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function j1(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,zp(i,-1)),e.splice(r,1)}function Dh(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&j1(i,r),t>0&&(n[e-1][4]=r[4]);const s=zc(n,10+t);!function $I(n,t){sl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function W1(n,t){if(!(256&t[2])){const e=t[11];tt(e)&&e.destroyNode&&sl(n,t,e,3,null,null),function WI(n){let t=n[13];if(!t)return Th(n[1],n);for(;t;){let e=null;if(wr(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)wr(t)&&Th(t[1],t),t=t[3];null===t&&(t=n),wr(t)&&Th(t[1],t),e=t&&t[4]}t=e}}(t)}}function Th(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function QI(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Va)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,t),function KI(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):ct(t[o]),l=r[i=e[s+2]],d=e[s+3];"boolean"==typeof d?a.removeEventListener(e[s],l,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const o=r[i=e[s+1]];e[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(n,t),1===t[1].type&&tt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ur(t[3])){e!==t[3]&&j1(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function q1(n,t,e){return function G1(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===lr.None||i===lr.Emulated)return null}return Wn(r,e)}(n,t.parent,e)}function Ts(n,t,e,r,i){tt(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function K1(n,t,e){tt(n)?n.appendChild(t,e):t.appendChild(e)}function Q1(n,t,e,r,i){null!==r?Ts(n,t,e,r,i):K1(n,t,e)}function Qc(n,t){return tt(n)?n.parentNode(t):t.parentNode}function X1(n,t,e){return J1(n,t,e)}let J1=function Y1(n,t,e){return 40&n.type?Wn(n,e):null};function Xc(n,t,e,r){const i=q1(n,r,t),s=t[11],a=X1(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Q1(s,i,e[l],a,!1);else Q1(s,i,e,a,!1)}function Yc(n,t){if(null!==t){const e=t.type;if(3&e)return Wn(t,n);if(4&e)return Sh(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Yc(n,r);{const i=n[t.index];return ur(i)?Sh(-1,i):ct(i)}}if(32&e)return vh(t,n)()||ct(n[t.index]);{const r=ey(n,t);return null!==r?Array.isArray(r)?r[0]:Yc(il(n[16]),r):Yc(n,t.next)}}return null}function ey(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Sh(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Yc(r,i)}return t[7]}function Mh(n,t,e,r,i,s,o){for(;null!=e;){const a=r[e.index],l=e.type;if(o&&0===t&&(a&&Vt(ct(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)Mh(n,t,e.child,r,i,s,!1),Eo(t,n,i,a,s);else if(32&l){const d=vh(e,r);let f;for(;f=d();)Eo(t,n,i,f,s);Eo(t,n,i,a,s)}else 16&l?ny(n,t,r,e,i,s):Eo(t,n,i,a,s);e=o?e.projectionNext:e.next}}function sl(n,t,e,r,i,s){Mh(e,r,n.firstChild,t,i,s,!1)}function ny(n,t,e,r,i,s){const o=e[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Eo(t,n,i,l[d],s);else Mh(n,t,l,o[3],i,s,!0)}function ry(n,t,e){tt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function xh(n,t,e){tt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function iy(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}const sy="ng-template";function tP(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==iy(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function oy(n){return 4===n.type&&n.value!==sy}function nP(n,t,e){return t===(4!==n.type||e?n.value:sy)}function rP(n,t,e){let r=4;const i=n.attrs||[],s=function oP(n){for(let t=0;t<n.length;t++)if(Qv(n[t]))return t;return n.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!nP(n,l,e)||""===l&&1===t.length){if(pr(r))return!1;o=!0}}else{const d=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!tP(n.attrs,d,e)){if(pr(r))return!1;o=!0}continue}const m=iP(8&r?"class":l,i,oy(n),e);if(-1===m){if(pr(r))return!1;o=!0;continue}if(""!==d){let _;_=m>s?"":i[m+1].toLowerCase();const v=8&r?_:null;if(v&&-1!==iy(v,d,0)||2&r&&d!==_){if(pr(r))return!1;o=!0}}}}else{if(!o&&!pr(r)&&!pr(l))return!1;if(o&&pr(l))continue;o=!1,r=l|1&r}}return pr(r)||o}function pr(n){return 0==(1&n)}function iP(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const o=t[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aP(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function ay(n,t,e=!1){for(let r=0;r<t.length;r++)if(rP(n,t[r],e))return!0;return!1}function lP(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ly(n,t){return n?":not("+t.trim()+")":t}function cP(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&r){const a=n[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pr(o)&&(t+=ly(s,i),i=""),r=o,s=s||!pr(r);e++}return""!==i&&(t+=ly(s,i)),t}const ae={};function h(n){cy(we(),O(),Zt()+n,xc())}function cy(n,t,e,r){if(!r)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Oc(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Nc(t,s,0,e)}Ii(e)}function Jc(n,t){return n<<17|t<<2}function hr(n){return n>>17&32767}function Eh(n){return 2|n}function ui(n){return(131068&n)>>2}function Ih(n,t){return-131069&n|t<<2}function Ph(n){return 1|n}function Cy(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const o=n.data[s];qp(i),o.contentQueries(2,t[s],s)}}}function ol(n,t,e,r,i,s,o,a,l,d){const f=t.blueprint.slice();return f[0]=i,f[2]=140|r,Lv(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=s,f[16]=2==t.type?n[16]:f,f}function Io(n,t,e,r,i){let s=n.data[t];if(null===s)s=function Hh(n,t,e,r,i){const s=Vv(),o=$p(),l=n.data[t]=function MP(n,t,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,r,i),function Gx(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function Ba(){const n=ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Sr(s,!0),s}function Po(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function al(n,t,e){Ic(t);try{const r=n.viewQuery;null!==r&&Qh(1,r,e);const i=n.template;null!==i&&by(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cy(n,t),n.staticViewQueries&&Qh(2,n.viewQuery,e);const s=n.components;null!==s&&function TP(n,t){for(let e=0;e<t.length;e++)WP(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Pc()}}function Ao(n,t,e,r){const i=t[2];if(256==(256&i))return;Ic(t);const s=xc();try{Lv(t),function Hv(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&by(n,t,e,2,r);const o=3==(3&i);if(!s)if(o){const d=n.preOrderCheckHooks;null!==d&&Oc(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Nc(t,d,0,null),Gp(t,0)}if(function UP(n){for(let t=yh(n);null!==t;t=Ch(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&zp(s,1),i[2]|=1024}}}(t),function $P(n){for(let t=yh(n);null!==t;t=Ch(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Hp(r)&&Ao(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Cy(n,t),!s)if(o){const d=n.contentCheckHooks;null!==d&&Oc(t,d)}else{const d=n.contentHooks;null!==d&&Nc(t,d,1),Gp(t,1)}!function kP(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Ii(~i);else{const s=i,o=e[++r],a=e[++r];Kx(o,s),a(2,t[s])}}}finally{Ii(-1)}}(n,t);const a=n.components;null!==a&&function DP(n,t){for(let e=0;e<t.length;e++)jP(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Qh(2,l,r),!s)if(o){const d=n.viewCheckHooks;null!==d&&Oc(t,d)}else{const d=n.viewHooks;null!==d&&Nc(t,d,2),Gp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zp(t[3],-1))}finally{Pc()}}function wP(n,t,e,r){const i=t[10],s=!xc(),o=Fv(t);try{s&&!o&&i.begin&&i.begin(),o&&al(n,t,r),Ao(n,t,e,r)}finally{s&&!o&&i.end&&i.end()}}function by(n,t,e,r,i){const s=Zt(),o=2&r;try{Ii(-1),o&&t.length>20&&cy(n,t,20,xc()),e(r,i)}finally{Ii(s)}}function ky(n,t,e){if(Ap(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function zh(n,t,e){!Bv()||(function NP(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||za(e,t),Vt(r,t);const o=e.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],d=dr(l);d&&VP(t,e,l);const f=$a(t,n,a,e);Vt(f,t),null!==o&&HP(0,a-i,f,l,0,o),d&&(xn(e.index,t)[8]=f)}}(n,t,e,Wn(e,t)),128==(128&e.flags)&&function RP(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=function Qx(){return ie.lFrame.currentDirectiveIndex}();try{Ii(o);for(let l=r;l<i;l++){const d=n.data[l],f=t[l];jp(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Iy(d,f)}}finally{Ii(-1),jp(a)}}(n,t,e))}function $h(n,t,e=Wn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(t,n):n[o];n[i++]=a}}}function Dy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=tu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function tu(n,t,e,r,i,s,o,a,l,d){const f=20+r,m=f+i,_=function SP(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ae);return e}(f,m),v="function"==typeof d?d():d;return _[1]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1}}function Sy(n,t,e,r){const i=Fy(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&Ly(n).push(r,i.length-1))}function My(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function An(n,t,e,r,i,s,o,a){const l=Wn(t,e);let f,d=t.inputs;!a&&null!=d&&(f=d[r])?(Hy(n,e,f,r,i),wc(t)&&function IP(n,t){const e=xn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function EP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,t.value||"",r):i,tt(s)?s.setProperty(l,r,i):Qp(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Uh(n,t,e,r){let i=!1;if(Bv()){const s=function FP(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ay(e,o.selectors,!1)&&(i||(i=[]),Vc(za(e,t),n,o.type),dr(o)?(Py(n,e),i.unshift(o)):i.push(o))}return i}(n,t,e),o=null===r?null:{"":-1};if(null!==s){i=!0,Ay(e,n.data.length,s.length);for(let f=0;f<s.length;f++){const m=s[f];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=Po(n,t,s.length,null);for(let f=0;f<s.length;f++){const m=s[f];e.mergedAttrs=Fc(e.mergedAttrs,m.hostAttrs),Oy(n,e,t,d,m),BP(d,m,o),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const _=m.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),d++}!function xP(n,t){const r=t.directiveEnd,i=n.data,s=t.attrs,o=[];let a=null,l=null;for(let d=t.directiveStart;d<r;d++){const f=i[d],m=f.inputs,_=null===s||oy(t)?null:zP(m,s);o.push(_),a=My(m,d,a),l=My(f.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function LP(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new q(-301,!1);r.push(t[i],s)}}}(e,r,o)}return e.mergedAttrs=Fc(e.mergedAttrs,e.attrs),i}function Ey(n,t,e,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function OP(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function Iy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Py(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function BP(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;dr(t)&&(e[""]=n)}}function Ay(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Oy(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=ks(i.type)),o=new Va(s,dr(i),null);n.blueprint[r]=o,e[r]=o,Ey(n,t,0,r,Po(n,e,i.hostVars,ae),i)}function VP(n,t,e){const r=Wn(t,n),i=Dy(e),s=n[10],o=nu(n,ol(n,i,null,e.onPush?64:16,r,t,s,s.createRenderer(r,e),null,null));n[t.index]=o}function Ar(n,t,e,r,i,s){const o=Wn(n,t);!function jh(n,t,e,r,i,s,o){if(null==s)tt(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const a=null==o?oe(s):o(s,r||"",i);tt(n)?n.setAttribute(t,i,a,e):e?t.setAttributeNS(e,i,a):t.setAttribute(i,a)}}(t[11],o,s,n.value,e,r,i)}function HP(n,t,e,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const d=o[l++],f=o[l++],m=o[l++];null!==a?r.setInput(e,m,d,f):e[f]=m}}}function zP(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function Ny(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function jP(n,t){const e=xn(t,n);if(Hp(e)){const r=e[1];80&e[2]?Ao(r,e,r.template,e[8]):e[5]>0&&Wh(e)}}function Wh(n){for(let r=yh(n);null!==r;r=Ch(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ao(o,s,o.template,s[8])}else s[5]>0&&Wh(s)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=xn(e[r],n);Hp(i)&&i[5]>0&&Wh(i)}}function WP(n,t){const e=xn(t,n),r=e[1];(function qP(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),al(r,e,e[8])}function nu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function qh(n){for(;n;){n[2]|=64;const t=il(n);if(wx(n)&&!t)return n;n=t}return null}function Kh(n,t,e){const r=t[10];r.begin&&r.begin();try{Ao(n,t,n.template,e)}catch(i){throw Vy(t,i),i}finally{r.end&&r.end()}}function Ry(n){!function Gh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=fh(e),i=r[1];wP(i,r,i.template,e)}}(n[8])}function Qh(n,t,e){qp(0),t(n,e)}const XP=(()=>Promise.resolve(null))();function Fy(n){return n[7]||(n[7]=[])}function Ly(n){return n.cleanup||(n.cleanup=[])}function Vy(n,t){const e=n[9],r=e?e.get(nl,null):null;r&&r.handleError(t)}function Hy(n,t,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],d=n.data[o];null!==d.setInput?d.setInput(l,i,r,a):l[a]=i}}function di(n,t,e){const r=Mc(t,n);!function U1(n,t,e){tt(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function ru(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Dp(i,a):2==s&&(r=Dp(r,a+": "+t[++o]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const Xh=new le("INJECTOR",-1);class zy{get(t,e=Ga){if(e===Ga){const r=new Error(`NullInjectorError: No provider for ${Ae(t)}!`);throw r.name="NullInjectorError",r}return e}}const Yh=new le("Set Injector scope."),ll={},ZP={};let Jh;function $y(){return void 0===Jh&&(Jh=new zy),Jh}function Uy(n,t=null,e=null,r){const i=jy(n,t,e,r);return i._resolveInjectorDefTypes(),i}function jy(n,t=null,e=null,r){return new eA(n,e,t||$y(),r)}class eA{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Mr(e,a=>this.processProvider(a,t,e)),Mr([t],a=>this.processInjectorType(a,[],s)),this.records.set(Xh,Oo(void 0,this));const o=this.records.get(Yh);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:Ae(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ga,r=se.Default){this.assertNotDestroyed();const i=h1(this),s=Si(void 0);try{if(!(r&se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function lA(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(t)&&wp(t);a=l&&this.injectableDefInScope(l)?Oo(Zh(t),ll):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&se.Self?$y():this.parent).get(t,e=r&se.Optional&&e===Ga?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Uc]=o[Uc]||[]).unshift(Ae(t)),i)throw o;return function NE(n,t,e,r){const i=n[Uc];throw t[p1]&&i.unshift(t[p1]),n.message=function RE(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ae(t);if(Array.isArray(t))i=t.map(Ae).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(xE,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Uc]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Si(s),h1(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Ae(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processInjectorType(t,e,r){if(!(t=pe(t)))return!1;let i=Dv(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Dv(s)),null==i)return!1;if(null!=i.imports&&!a){let f;r.push(o);try{Mr(i.imports,m=>{this.processInjectorType(m,e,r)&&(void 0===f&&(f=[]),f.push(m))})}finally{}if(void 0!==f)for(let m=0;m<f.length;m++){const{ngModule:_,providers:v}=f[m];Mr(v,b=>this.processProvider(b,_,v||ze))}}this.injectorDefTypes.add(o);const l=ks(o)||(()=>new o);this.records.set(o,Oo(l,ll));const d=i.providers;if(null!=d&&!a){const f=t;Mr(d,m=>this.processProvider(m,f,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,r){let i=No(t=pe(t))?t:pe(t&&t.provide);const s=function nA(n,t,e){return qy(n)?Oo(void 0,n.useValue):Oo(Wy(n),ll)}(t);if(No(t)||!0!==t.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Oo(void 0,ll,!0),o.factory=()=>sh(o.multi),this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,s)}hydrate(t,e){return e.value===ll&&(e.value=ZP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function aA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=pe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Zh(n){const t=wp(n),e=null!==t?t.factory:ks(n);if(null!==e)return e;if(n instanceof le)throw new q(204,!1);if(n instanceof Function)return function tA(n){const t=n.length;if(t>0)throw qa(t,"?"),new q(204,!1);const e=function px(n){const t=n&&(n[Cc]||n[Tv]);if(t){const e=function hx(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new q(204,!1)}function Wy(n,t,e){let r;if(No(n)){const i=pe(n);return ks(i)||Zh(i)}if(qy(n))r=()=>pe(n.useValue);else if(function iA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...sh(n.deps||[]));else if(function rA(n){return!(!n||!n.useExisting)}(n))r=()=>B(pe(n.useExisting));else{const i=pe(n&&(n.useClass||n.provide));if(!function oA(n){return!!n.deps}(n))return ks(i)||Zh(i);r=()=>new i(...sh(n.deps))}return r}function Oo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function qy(n){return null!==n&&"object"==typeof n&&IE in n}function No(n){return"function"==typeof n}let _t=(()=>{class n{static create(e,r){var i;if(Array.isArray(e))return Uy({name:""},r,e,"");{const s=null!==(i=e.name)&&void 0!==i?i:"";return Uy({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ga,n.NULL=new zy,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>B(Xh)}),n.__NG_ELEMENT_ID__=-1,n})();function gA(n,t){Ac(fh(n)[1],mt())}function Oe(n){let t=function iC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(dr(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new q(903,"");i=t.\u0275dir}if(i){if(e){r.push(i);const o=n;o.inputs=nf(n.inputs),o.declaredInputs=nf(n.declaredInputs),o.outputs=nf(n.outputs);const a=i.hostBindings;a&&CA(n,a);const l=i.viewQuery,d=i.contentQueries;if(l&&vA(n,l),d&&yA(n,d),kp(n.inputs,i.inputs),kp(n.declaredInputs,i.declaredInputs),kp(n.outputs,i.outputs),dr(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Oe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function _A(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Fc(i.hostAttrs,e=Fc(e,i.hostAttrs))}}(r)}function nf(n){return n===uo?{}:n===ze?[]:n}function vA(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function yA(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function CA(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let iu=null;function Ro(){if(!iu){const n=Fe.Symbol;if(n&&n.iterator)iu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(iu=r)}}}return iu}function cl(n){return!!rf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ro()in n)}function rf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Or(n,t,e){return n[t]=e}function Ht(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ws(n,t,e,r){const i=Ht(n,t,e);return Ht(n,t+1,r)||i}function Nr(n,t,e,r){const i=O();return Ht(i,_o(),t)&&(we(),Ar(nt(),i,n,t,e,r)),Nr}function Lo(n,t,e,r){return Ht(n,_o(),e)?t+oe(e)+r:ae}function Bo(n,t,e,r,i,s){const a=ws(n,function li(){return ie.lFrame.bindingIndex}(),e,i);return ci(2),a?t+oe(e)+r+oe(i)+s:ae}function y(n,t,e,r,i,s,o,a){const l=O(),d=we(),f=n+20,m=d.firstCreatePass?function MA(n,t,e,r,i,s,o,a,l){const d=t.consts,f=Io(t,n,4,o||null,Ei(d,a));Uh(t,e,f,Ei(d,l)),Ac(t,f);const m=f.tViews=tu(2,f,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,f),m.queries=t.queries.embeddedTView(f)),f}(f,d,l,t,e,r,i,s,o):d.data[f];Sr(m,!1);const _=l[11].createComment("");Xc(d,l,_,m),Vt(_,l),nu(l,l[f]=Ny(_,l,_,m)),Sc(m)&&zh(d,l,m),null!=o&&$h(l,m,a)}function w(n,t=se.Default){const e=O();return null===e?B(n,t):n1(mt(),e,pe(n),t)}function cf(){throw new Error("invalid")}function g(n,t,e){const r=O();return Ht(r,_o(),t)&&An(we(),nt(),r,n,t,r[11],e,!1),g}function uf(n,t,e,r,i){const o=i?"class":"style";Hy(n,e,t.inputs[o],o,r)}function c(n,t,e,r){const i=O(),s=we(),o=20+n,a=i[11],l=i[o]=kh(a,t,function rE(){return ie.lFrame.currentNamespace}()),d=s.firstCreatePass?function QA(n,t,e,r,i,s,o){const a=t.consts,d=Io(t,n,2,i,Ei(a,s));return Uh(t,e,d,Ei(a,o)),null!==d.attrs&&ru(d,d.attrs,!1),null!==d.mergedAttrs&&ru(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,s,i,0,t,e,r):s.data[o];Sr(d,!0);const f=d.mergedAttrs;null!==f&&Rc(a,l,f);const m=d.classes;null!==m&&xh(a,l,m);const _=d.styles;return null!==_&&ry(a,l,_),64!=(64&d.flags)&&Xc(s,i,l,d),0===function zx(){return ie.lFrame.elementDepthCount}()&&Vt(l,i),function $x(){ie.lFrame.elementDepthCount++}(),Sc(d)&&(zh(s,i,d),ky(s,d,i)),null!==r&&$h(i,d),c}function u(){let n=mt();$p()?Up():(n=n.parent,Sr(n,!1));const t=n;!function Ux(){ie.lFrame.elementDepthCount--}();const e=we();return e.firstCreatePass&&(Ac(e,n),Ap(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function lE(n){return 0!=(16&n.flags)}(t)&&uf(e,t,O(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function cE(n){return 0!=(32&n.flags)}(t)&&uf(e,t,O(),t.stylesWithoutHost,!1),u}function D(n,t,e,r){return c(n,t,e,r),u(),D}function Ss(n,t,e){const r=O(),i=we(),s=n+20,o=i.firstCreatePass?function XA(n,t,e,r,i){const s=t.consts,o=Ei(s,r),a=Io(t,n,8,"ng-container",o);return null!==o&&ru(a,o,!0),Uh(t,e,a,Ei(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,e):i.data[s];Sr(o,!0);const a=r[s]=r[11].createComment("");return Xc(i,r,a,o),Vt(a,r),Sc(o)&&(zh(i,r,o),ky(i,o,r)),null!=e&&$h(r,o),Ss}function Ms(){let n=mt();const t=we();return $p()?Up():(n=n.parent,Sr(n,!1)),t.firstCreatePass&&(Ac(t,n),Ap(n)&&t.queries.elementEnd(n)),Ms}function df(n,t,e){return Ss(n,t,e),Ms(),df}function L(){return O()}function dl(n){return!!n&&"function"==typeof n.then}const pf=function TC(n){return!!n&&"function"==typeof n.subscribe};function T(n,t,e,r){const i=O(),s=we(),o=mt();return function SC(n,t,e,r,i,s,o,a){const l=Sc(r),f=n.firstCreatePass&&Ly(n),m=t[8],_=Fy(t);let v=!0;if(3&r.type||a){const M=Wn(r,t),E=a?a(M):M,x=_.length,R=a?V=>a(ct(V[r.index])):r.index;if(tt(e)){let V=null;if(!a&&l&&(V=function YA(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=t[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,v=!1;else{s=hf(r,t,m,s,!1);const K=e.listen(E,i,s);_.push(s,K),f&&f.push(i,R,x,x+1)}}else s=hf(r,t,m,s,!0),E.addEventListener(i,s,o),_.push(s),f&&f.push(i,R,x,o)}else s=hf(r,t,m,s,!1);const b=r.outputs;let k;if(v&&null!==b&&(k=b[i])){const M=k.length;if(M)for(let E=0;E<M;E+=2){const xe=t[k[E]][k[E+1]].subscribe(s),Ee=_.length;_.push(s,xe),f&&f.push(i,r.index,Ee,-(Ee+1))}}}(s,i,i[11],o,n,t,!!e,r),T}function MC(n,t,e,r){try{return!1!==e(r)}catch(i){return Vy(n,i),!1}}function hf(n,t,e,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?xn(n.index,t):t;0==(32&t[2])&&qh(a);let l=MC(t,0,r,o),d=s.__ngNextListenerFn__;for(;d;)l=MC(t,0,d,o)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function C(n=1){return function Yx(n){return(ie.lFrame.contextLView=function Jx(n,t){for(;n>0;)t=t[15],n--;return t}(n,ie.lFrame.contextLView))[8]}(n)}function JA(n,t){let e=null;const r=function sP(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ay(n,s,!0):lP(r,s))return i}else e=i}return e}function H(n,t,e){return A(n,"",t,"",e),H}function A(n,t,e,r,i){const s=O(),o=Lo(s,t,e,r);return o!==ae&&An(we(),nt(),s,n,o,s[11],i,!1),A}function BC(n,t,e,r,i){const s=n[e+1],o=null===t;let a=r?hr(s):ui(s),l=!1;for(;0!==a&&(!1===l||o);){const f=n[a+1];tO(n[a],t)&&(l=!0,n[a+1]=r?Ph(f):Eh(f)),a=r?hr(f):ui(f)}l&&(n[e+1]=r?Eh(s):Ph(s))}function tO(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&wo(n,t)>=0}const vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VC(n){return n.substring(vt.key,vt.keyEnd)}function HC(n,t){const e=vt.textEnd;return e===t?-1:(t=vt.keyEnd=function sO(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,vt.key=t,e),qo(n,t,e))}function qo(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function tn(n,t,e){return mr(n,t,e,!1),tn}function Rr(n,t){return mr(n,t,null,!0),Rr}function pi(n){!function gr(n,t,e,r){const i=we(),s=ci(2);i.firstUpdatePass&&qC(i,null,s,r);const o=O();if(e!==ae&&Ht(o,s,e)){const a=i.data[Zt()];if(XC(a,r)&&!WC(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Dp(l,e||"")),uf(i,a,o,e,r)}else!function fO(n,t,e,r,i,s,o,a){i===ae&&(i=ze);let l=0,d=0,f=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;null!==f||null!==m;){const _=l<i.length?i[l+1]:void 0,v=d<s.length?s[d+1]:void 0;let k,b=null;f===m?(l+=2,d+=2,_!==v&&(b=m,k=v)):null===m||null!==f&&f<m?(l+=2,b=f):(d+=2,b=m,k=v),null!==b&&KC(n,t,e,r,b,k,o,a),f=l<i.length?i[l]:null,m=d<s.length?s[d]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function hO(n,t,e){if(null==e||""===e)return ze;const r=[],i=In(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,s)}}(En,Lr,n,!0)}function Lr(n,t){for(let e=function rO(n){return function $C(n){vt.key=0,vt.keyEnd=0,vt.value=0,vt.valueEnd=0,vt.textEnd=n.length}(n),HC(n,qo(n,0,vt.textEnd))}(t);e>=0;e=HC(t,e))En(n,VC(t),!0)}function mr(n,t,e,r){const i=O(),s=we(),o=ci(2);s.firstUpdatePass&&qC(s,n,o,r),t!==ae&&Ht(i,o,t)&&KC(s,s.data[Zt()],i,i[11],n,i[o+1]=function mO(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ae(In(n)))),n}(t,e),r,o)}function WC(n,t){return t>=n.expandoStartIndex}function qC(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[Zt()],o=WC(n,e);XC(s,r)&&null===t&&!o&&(t=!1),t=function cO(n,t,e,r){const i=function Wp(n){const t=ie.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=pl(e=ff(null,n,t,e,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==i)if(e=ff(i,n,t,e,r),null===s){let l=function uO(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ui(r))return n[hr(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=ff(null,n,t,l[1],r),l=pl(l,t.attrs,r),function dO(n,t,e,r){n[hr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else s=function pO(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=pl(r,n[s].hostAttrs,e);return pl(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function ZA(n,t,e,r,i,s){let o=s?t.classBindings:t.styleBindings,a=hr(o),l=ui(o);n[r]=e;let f,d=!1;if(Array.isArray(e)){const m=e;f=m[1],(null===f||wo(m,f)>0)&&(d=!0)}else f=e;if(i)if(0!==l){const _=hr(n[a+1]);n[r+1]=Jc(_,a),0!==_&&(n[_+1]=Ih(n[_+1],r)),n[a+1]=function pP(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Jc(a,0),0!==a&&(n[a+1]=Ih(n[a+1],r)),a=r;else n[r+1]=Jc(l,0),0===a?a=r:n[l+1]=Ih(n[l+1],r),l=r;d&&(n[r+1]=Eh(n[r+1])),BC(n,f,r,!0),BC(n,f,r,!1),function eO(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&wo(s,t)>=0&&(e[r+1]=Ph(e[r+1]))}(t,f,n,r,s),o=Jc(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,e,o,r)}}function ff(n,t,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],r=pl(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function pl(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),En(n,o,!!e||t[++s]))}return void 0===n?null:n}function KC(n,t,e,r,i,s,o,a){if(!(3&t.type))return;const l=n.data,d=l[a+1];au(function py(n){return 1==(1&n)}(d)?QC(l,t,e,i,ui(d),o):void 0)||(au(s)||function dy(n){return 2==(2&n)}(d)&&(s=QC(l,null,e,i,a,o)),function eP(n,t,e,r,i){const s=tt(n);if(t)i?s?n.addClass(e,r):e.classList.add(r):s?n.removeClass(e,r):e.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Pn.DashCase;if(null==i)s?n.removeStyle(e,r,o):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Pn.Important),s?n.setStyle(e,r,i,o):e.style.setProperty(r,i,a?"important":"")}}}(r,o,Mc(Zt(),e),i,s))}function QC(n,t,e,r,i,s){const o=null===t;let a;for(;i>0;){const l=n[i],d=Array.isArray(l),f=d?l[1]:l,m=null===f;let _=e[i+1];_===ae&&(_=m?ze:void 0);let v=m?nh(_,r):f===r?_:void 0;if(d&&!au(v)&&(v=nh(l,r)),au(v)&&(a=v,o))return a;const b=n[i+1];i=o?hr(b):ui(b)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=nh(l,r))}return a}function au(n){return void 0!==n}function XC(n,t){return 0!=(n.flags&(t?16:32))}function p(n,t=""){const e=O(),r=we(),i=n+20,s=r.firstCreatePass?Io(r,i,1,t,null):r.data[i],o=e[i]=function bh(n,t){return tt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Xc(r,e,o,s),Sr(s,!1)}function N(n){return I("",n,""),N}function I(n,t,e){const r=O(),i=Lo(r,n,t,e);return i!==ae&&di(r,Zt(),i),I}function Me(n,t,e,r,i){const s=O(),o=Bo(s,n,t,e,r,i);return o!==ae&&di(s,Zt(),o),Me}const xs=void 0;var RO=["en",[["a","p"],["AM","PM"],xs],[["AM","PM"],xs,xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xs,"{1} 'at' {0}",xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NO(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Go={};function nn(n){const t=function FO(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=gb(t);if(e)return e;const r=t.split("-")[0];if(e=gb(r),e)return e;if("en"===r)return RO;throw new Error(`Missing locale data for the locale "${n}".`)}function gb(n){return n in Go||(Go[n]=Fe.ng&&Fe.ng.common&&Fe.ng.common.locales&&Fe.ng.common.locales[n]),Go[n]}var $=(()=>(($=$||{})[$.LocaleId=0]="LocaleId",$[$.DayPeriodsFormat=1]="DayPeriodsFormat",$[$.DayPeriodsStandalone=2]="DayPeriodsStandalone",$[$.DaysFormat=3]="DaysFormat",$[$.DaysStandalone=4]="DaysStandalone",$[$.MonthsFormat=5]="MonthsFormat",$[$.MonthsStandalone=6]="MonthsStandalone",$[$.Eras=7]="Eras",$[$.FirstDayOfWeek=8]="FirstDayOfWeek",$[$.WeekendRange=9]="WeekendRange",$[$.DateFormat=10]="DateFormat",$[$.TimeFormat=11]="TimeFormat",$[$.DateTimeFormat=12]="DateTimeFormat",$[$.NumberSymbols=13]="NumberSymbols",$[$.NumberFormats=14]="NumberFormats",$[$.CurrencyCode=15]="CurrencyCode",$[$.CurrencySymbol=16]="CurrencySymbol",$[$.CurrencyName=17]="CurrencyName",$[$.Currencies=18]="Currencies",$[$.Directionality=19]="Directionality",$[$.PluralCase=20]="PluralCase",$[$.ExtraData=21]="ExtraData",$))();const lu="en-US";let _b=lu;function _f(n,t,e,r,i){if(n=pe(n),Array.isArray(n))for(let s=0;s<n.length;s++)_f(n[s],t,e,r,i);else{const s=we(),o=O();let a=No(n)?n:pe(n.provide),l=Wy(n);const d=mt(),f=1048575&d.providerIndexes,m=d.directiveStart,_=d.providerIndexes>>20;if(No(n)||!n.multi){const v=new Va(l,i,w),b=yf(a,t,i?f:f+_,m);-1===b?(Vc(za(d,o),s,a),vf(s,n,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(v),o.push(v)):(e[b]=v,o[b]=v)}else{const v=yf(a,t,f+_,m),b=yf(a,t,f,f+_),k=v>=0&&e[v],M=b>=0&&e[b];if(i&&!M||!i&&!k){Vc(za(d,o),s,a);const E=function NN(n,t,e,r,i){const s=new Va(n,e,w);return s.multi=[],s.index=t,s.componentProviders=0,zb(s,i,r&&!e),s}(i?ON:AN,e.length,i,r,l);!i&&M&&(e[b].providerFactory=E),vf(s,n,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(E),o.push(E)}else vf(s,n,v>-1?v:b,zb(e[i?b:v],l,!i&&r));!i&&r&&M&&e[b].componentProviders++}}}function vf(n,t,e,r){const i=No(t),s=function sA(n){return!!n.useClass}(t);if(i||s){const l=(s?pe(t.useClass):t).prototype.ngOnDestroy;if(l){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const f=d.indexOf(e);-1===f?d.push(e,[r,l]):d[f+1].push(r,l)}else d.push(e,l)}}}function zb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function yf(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function AN(n,t,e,r){return Cf(this.multi,[])}function ON(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$a(e,e[1],this.providerFactory.index,r);s=a.slice(0,o),Cf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Cf(i,s);return s}function Cf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function je(n,t=[]){return e=>{e.providersResolver=(r,i)=>function PN(n,t,e){const r=we();if(r.firstCreatePass){const i=dr(n);_f(e,r.data,r.blueprint,i,!0),_f(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class $b{}class LN{resolveComponentFactory(t){throw function FN(n){const t=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Qo=(()=>{class n{}return n.NULL=new LN,n})();function BN(){return Xo(mt(),O())}function Xo(n,t){return new yt(Wn(n,t))}let yt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=BN,n})();function VN(n){return n instanceof yt?n.nativeElement:n}class _l{}let Br=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zN(){const n=O(),e=xn(mt().index,n);return function HN(n){return n[11]}(wr(e)?e:n)}(),n})(),$N=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class vl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const UN=new vl("13.2.5"),bf={};function hu(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(ct(s)),ur(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1].firstChild;null!==d&&hu(l[1],l,d,r)}const o=e.type;if(8&o)hu(n,t,e.child,r);else if(32&o){const a=vh(e,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ey(t,e);if(Array.isArray(a))r.push(...a);else{const l=il(t[16]);hu(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class yl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ur(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Dh(t,r),zc(e,r))}this._attachedToViewContainer=!1}W1(this._lView[1],this._lView)}onDestroy(t){Sy(this._lView[1],this._lView,null,t)}markForCheck(){qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function KP(n,t,e){Ec(!0);try{Kh(n,t,e)}finally{Ec(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new q(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jI(n,t){sl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new q(902,"");this._appRef=t}}class jN extends yl{constructor(t){super(t),this._view=t}detectChanges(){Ry(this._view)}checkNoChanges(){!function QP(n){Ec(!0);try{Ry(n)}finally{Ec(!1)}}(this._view)}get context(){return null}}class jb extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Rt(t);return new kf(e,this.ngModule)}}function Wb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class kf extends $b{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function uP(n){return n.map(cP).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(t,e,r,i){const s=(i=i||this.ngModule)?function qN(n,t){return{get:(e,r,i)=>{const s=n.get(e,bf,i);return s!==bf||r===bf?s:t.get(e,r,i)}}}(t,i.injector):t,o=s.get(_l,Rv),a=s.get($N,null),l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function wy(n,t,e){if(tt(n))return n.selectRootElement(t,e===lr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(l,r,this.componentDef.encapsulation):kh(o.createRenderer(null,this.componentDef),d,function WN(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(d)),m=this.componentDef.onPush?576:528,_=function rC(n,t){return{components:[],scheduler:n||LI,clean:XP,playerHandler:t||null,flags:0}}(),v=tu(0,null,null,1,0,null,null,null,null,null),b=ol(null,v,_,m,null,null,o,l,a,s);let k,M;Ic(b);try{const E=function tC(n,t,e,r,i,s){const o=e[1];e[20]=n;const l=Io(o,20,2,"#host",null),d=l.mergedAttrs=t.hostAttrs;null!==d&&(ru(l,d,!0),null!==n&&(Rc(i,n,d),null!==l.classes&&xh(i,n,l.classes),null!==l.styles&&ry(i,n,l.styles)));const f=r.createRenderer(n,t),m=ol(e,Dy(t),null,t.onPush?64:16,e[20],l,r,f,s||null,null);return o.firstCreatePass&&(Vc(za(l,e),o,t.type),Py(o,l),Ay(l,e.length,1)),nu(e,m),e[20]=m}(f,this.componentDef,b,o,l);if(f)if(r)Rc(l,f,["ng-version",UN.full]);else{const{attrs:x,classes:R}=function dP(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!pr(i))break;i=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);x&&Rc(l,f,x),R&&R.length>0&&xh(l,f,R.join(" "))}if(M=Vp(v,20),void 0!==e){const x=M.projection=[];for(let R=0;R<this.ngContentSelectors.length;R++){const V=e[R];x.push(null!=V?Array.from(V):null)}}k=function nC(n,t,e,r,i){const s=e[1],o=function AP(n,t,e){const r=mt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Oy(n,r,t,Po(n,t,1,null),e));const i=$a(t,n,r.directiveStart,r);Vt(i,t);const s=Wn(r,t);return s&&Vt(s,t),i}(s,e,t);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,t)),t.contentQueries){const l=mt();t.contentQueries(1,o,l.directiveStart)}const a=mt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ii(a.index),Ey(e[1],a,0,a.directiveStart,a.directiveEnd,t),Iy(t,o)),o}(E,this.componentDef,b,_,[gA]),al(v,b,null)}finally{Pc()}return new KN(this.componentType,k,Xo(M,b),b,M)}}class KN extends class RN{}{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new jN(i),this.componentType=t}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class hi{}class qb{}const Yo=new Map;class Qb extends hi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jb(this);const r=$n(t);this._bootstrapComponents=Pr(r.bootstrap),this._r3Injector=jy(t,e,[{provide:hi,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],Ae(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_t.THROW_IF_NOT_FOUND,r=se.Default){return t===_t||t===hi||t===Xh?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Df extends qb{constructor(t){super(),this.moduleType=t,null!==$n(t)&&function XN(n){const t=new Set;!function e(r){const i=$n(r,!0),s=i.id;null!==s&&(function Gb(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ae(t)} vs ${Ae(t.name)}`)}(s,Yo.get(s),r),Yo.set(s,r));const o=Pr(i.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Qb(this.moduleType,t)}}function Tf(n,t,e){const r=Jt()+n,i=O();return i[r]===ae?Or(i,r,e?t.call(e):t()):function ul(n,t){return n[t]}(i,r)}function Le(n,t,e,r){return Xb(O(),Jt(),n,t,e,r)}function fu(n,t,e,r,i){return function Yb(n,t,e,r,i,s,o){const a=t+e;return ws(n,a,i,s)?Or(n,a+2,o?r.call(o,i,s):r(i,s)):Cl(n,a+2)}(O(),Jt(),n,t,e,r,i)}function Cl(n,t){const e=n[t];return e===ae?void 0:e}function Xb(n,t,e,r,i,s){const o=t+e;return Ht(n,o,i)?Or(n,o+1,s?r.call(s,i):r(i)):Cl(n,o+1)}function Es(n,t){const e=we();let r;const i=n+20;e.firstCreatePass?(r=function s3(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=ks(r.type)),o=Si(w);try{const a=Lc(!1),l=s();return Lc(a),function xA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,O(),i,l),l}finally{Si(o)}}function Is(n,t,e){const r=n+20,i=O(),s=function go(n,t){return n[t]}(i,r);return function bl(n,t){return n[1].data[t].pure}(i,r)?Xb(i,Jt(),t,s.transform,e,s):s.transform(e)}function wf(n){return t=>{setTimeout(n,void 0,t)}}const Ke=class u3 extends Tn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,s,o;let a=t,l=e||(()=>null),d=r;if(t&&"object"==typeof t){const m=t;a=null===(i=m.next)||void 0===i?void 0:i.bind(m),l=null===(s=m.error)||void 0===s?void 0:s.bind(m),d=null===(o=m.complete)||void 0===o?void 0:o.bind(m)}this.__isAsync&&(l=wf(l),a&&(a=wf(a)),d&&(d=wf(d)));const f=super.subscribe({next:a,error:l,complete:d});return t instanceof Kt&&t.add(f),f}};function d3(){return this._results[Ro()]()}class Sf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ro(),r=Sf.prototype;r[e]||(r[e]=d3)}get changes(){return this._changes||(this._changes=new Ke)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=qn(t);(this._changesDetected=!function yE(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=f3,n})();const p3=fi,h3=class extends p3{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=ol(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),al(e,r,t),new yl(r)}};function f3(){return mu(mt(),O())}function mu(n,t){return 4&n.type?new h3(t,n,Xo(n,t)):null}let _r=(()=>{class n{}return n.__NG_ELEMENT_ID__=m3,n})();function m3(){return r0(mt(),O())}const g3=_r,t0=class extends g3{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bc(this._hostTNode,this._hostLView);if(Yv(t)){const e=yo(t,this._hostLView),r=vo(t);return new Co(e[1].data[r+8],e)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=n0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,s){const o=t&&!function Wa(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.ngModuleRef}const l=o?t:new kf(Rt(t)),d=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?d:this.parentInjector).get(hi,null);_&&(s=_)}const f=l.create(d,i,void 0,s);return this.insert(f.hostView,a),f}insert(t,e){const r=t._lView,i=r[1];if(function Hx(n){return ur(n[3])}(r)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const m=r[3],_=new t0(m,m[6],m[3]);_.detach(_.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function qI(n,t,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=t),r<s-10?(t[4]=e[i],a1(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function GI(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(i,r,o,s);const a=Sh(s,o),l=r[11],d=Qc(l,o[7]);return null!==d&&function UI(n,t,e,r,i,s){r[0]=i,r[6]=t,sl(n,r,e,1,i,s)}(i,o[6],l,r,d,a),t.attachToViewContainerRef(),a1(Mf(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=n0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Dh(this._lContainer,e);r&&(zc(Mf(this._lContainer),e),W1(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Dh(this._lContainer,e);return r&&null!=zc(Mf(this._lContainer),e)?new yl(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function n0(n){return n[8]}function Mf(n){return n[8]||(n[8]=[])}function r0(n,t){let e;const r=t[n.index];if(ur(r))e=r;else{let i;if(8&n.type)i=ct(r);else{const s=t[11];i=s.createComment("");const o=Wn(n,t);Ts(s,Qc(s,o),i,function YI(n,t){return tt(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=Ny(r,t,i,n),nu(t,e)}return new t0(e,n,t)}class xf{constructor(t){this.queryList=t,this.matches=null}clone(){return new xf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ef{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ef(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==c0(t,e).matches&&this.queries[e].setDirty()}}class s0{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class If{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new If(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,y3(e,s)),this.matchTNodeWithReadOption(t,e,Hc(e,t,s,!1,!1))}else r===fi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===yt||i===_r||i===fi&&4&e.type)this.addMatch(e.index,-2);else{const s=Hc(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function y3(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function b3(n,t,e,r){return-1===e?function C3(n,t){return 11&n.type?Xo(n,t):4&n.type?mu(n,t):null}(t,n):-2===e?function k3(n,t,e){return e===yt?Xo(t,n):e===fi?mu(t,n):e===_r?r0(t,n):void 0}(n,t,r):$a(n,n[1],e,t)}function o0(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:b3(t,s[d],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function Af(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const o=o0(n,t,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const d=s[a+1],f=t[-l];for(let m=10;m<f.length;m++){const _=f[m];_[17]===_[3]&&Af(_[1],_,d,r)}if(null!==f[9]){const m=f[9];for(let _=0;_<m.length;_++){const v=m[_];Af(v[1],v,d,r)}}}}}return r}function Jo(n){const t=O(),e=we(),r=$v();qp(r+1);const i=c0(e,r);if(n.dirty&&Fv(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Af(e,t,r,[]):o0(e,t,i,r);n.reset(s,VN),n.notifyOnChanges()}return!0}return!1}function gu(n,t,e){const r=we();r.firstCreatePass&&(l0(r,new s0(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),a0(r,O(),t)}function Of(n,t,e,r){const i=we();if(i.firstCreatePass){const s=mt();l0(i,new s0(t,e,r),s.index),function T3(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}a0(i,O(),e)}function Zo(){return function D3(n,t){return n[19].queries[t].queryList}(O(),$v())}function a0(n,t,e){const r=new Sf(4==(4&e));Sy(n,t,r,r.destroy),null===t[19]&&(t[19]=new Ef),t[19].queries.push(new xf(r))}function l0(n,t,e){null===n.queries&&(n.queries=new If),n.queries.track(new Pf(t,e))}function c0(n,t){return n.queries.getByIndex(t)}function yu(...n){}const Vf=new le("Application Initializer");let Hf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=yu,this.reject=yu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(dl(s))e.push(s);else if(pf(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(B(Vf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dl=new le("AppId",{providedIn:"root",factory:function S0(){return`${zf()}${zf()}${zf()}`}});function zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M0=new le("Platform Initializer"),Cu=new le("Platform ID"),x0=new le("appBootstrapListener");let E0=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ri=new le("LocaleId",{providedIn:"root",factory:()=>AE(Ri,se.Optional|se.SkipSelf)||function $3(){return"undefined"!=typeof $localize&&$localize.locale||lu}()});class j3{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let I0=(()=>{class n{compileModuleSync(e){return new Df(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Pr($n(e).declarations).reduce((o,a)=>{const l=Rt(a);return l&&o.push(new kf(l)),o},[]);return new j3(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q3=(()=>Promise.resolve(0))();function $f(n){"undefined"==typeof Zone?q3.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function G3(){let n=Fe.requestAnimationFrame,t=Fe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function X3(n){const t=()=>{!function Q3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jf(n),n.isCheckStableRunning=!0,Uf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,o,a)=>{try{return P0(n),e.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),A0(n)}},onInvoke:(e,r,i,s,o,a,l)=>{try{return P0(n),e.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),A0(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,jf(n),Uf(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ct.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ct.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,K3,yu,yu);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const K3={};function Uf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function P0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function A0(n){n._nesting--,Uf(n)}class Y3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let Wf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),$f(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$f(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(B(Ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),O0=(()=>{class n{constructor(){this._applications=new Map,qf.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return qf.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class J3{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let vr,qf=new J3;const N0=new le("AllowMultipleToken");class R0{constructor(t,e){this.name=t,this.token=e}}function F0(n,t,e=[]){const r=`Platform: ${t}`,i=new le(r);return(s=[])=>{let o=L0();if(!o||o.injector.get(N0,!1))if(n)n(e.concat(s).concat({provide:i,useValue:!0}));else{const a=e.concat(s).concat({provide:i,useValue:!0},{provide:Yh,useValue:"platform"});!function nR(n){if(vr&&!vr.destroyed&&!vr.injector.get(N0,!1))throw new q(400,"");vr=n.get(B0);const t=n.get(M0,null);t&&t.forEach(e=>e())}(_t.create({providers:a,name:r}))}return function rR(n){const t=L0();if(!t)throw new q(401,"");return t}()}}function L0(){return vr&&!vr.destroyed?vr:null}let B0=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function iR(n,t){let e;return e="noop"===n?new Y3:("zone.js"===n?void 0:n)||new Ct({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Ct,useValue:a}];return a.run(()=>{const d=_t.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(d),m=f.injector.get(nl,null);if(!m)throw new q(402,"");return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:v=>{m.handleError(v)}});f.onDestroy(()=>{Gf(this._modules,f),_.unsubscribe()})}),function sR(n,t,e){try{const r=e();return dl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(m,a,()=>{const _=f.injector.get(Hf);return _.runInitializers(),_.donePromise.then(()=>(function HO(n){Sn(n,"Expected localeId to be defined"),"string"==typeof n&&(_b=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ri,lu)||lu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,r=[]){const i=V0({},r);return function eR(n,t,e){const r=new Df(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(bu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new q(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(B(_t))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function V0(n,t){return Array.isArray(t)?t.reduce(V0,n):Object.assign(Object.assign({},n),t)}let bu=(()=>{class n{constructor(e,r,i,s,o){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new it(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),l=new it(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),$f(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=function sx(...n){const t=Oa(n),e=function J2(n,t){return"number"==typeof Cp(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?or(r[0]):Aa(e)(Mt(r,t)):si}(a,l.pipe(function ox(n={}){const{connector:t=(()=>new Tn),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,d=0,f=!1,m=!1;const _=()=>{null==a||a.unsubscribe(),a=null},v=()=>{_(),o=l=null,f=m=!1},b=()=>{const k=o;v(),null==k||k.unsubscribe()};return wt((k,M)=>{d++,!m&&!f&&_();const E=l=null!=l?l:t();M.add(()=>{d--,0===d&&!m&&!f&&(a=bp(b,i))}),E.subscribe(M),o||(o=new gc({next:x=>E.next(x),error:x=>{m=!0,_(),a=bp(v,e,x),E.error(x)},complete:()=>{f=!0,_(),a=bp(v,r),E.complete()}}),Mt(k).subscribe(o))})(s)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new q(405,"");let i;i=e instanceof $b?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function tR(n){return n.isBoundToModule}(i)?void 0:this._injector.get(hi),a=i.create(_t.NULL,[],r||i.selector,s),l=a.location.nativeElement,d=a.injector.get(Wf,null),f=d&&a.injector.get(O0);return d&&f&&f.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),Gf(this.components,a),f&&f.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new q(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Gf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(x0,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(B(Ct),B(_t),B(nl),B(Qo),B(Hf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let z0=!0,ku=(()=>{class n{}return n.__NG_ELEMENT_ID__=lR,n})();function lR(n){return function cR(n,t,e){if(wc(n)&&!e){const r=xn(n.index,t);return new yl(r,r)}return 47&n.type?new yl(t[16],t):null}(mt(),O(),16==(16&n))}class q0{constructor(){}supports(t){return cl(t)}create(t){return new mR(t)}}const fR=(n,t)=>t;class mR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fR}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<K0(r,i,s)?e:r,a=K0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,f=l-i;if(d!=f){for(let _=0;_<d;_++){const v=_<s.length?s[_]:s[_]=0,b=v+_;f<=b&&b<d&&(s[_]=v+1)}s[o.previousIndex]=f-d}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!cl(t))throw new q(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function SA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ro()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new gR(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new G0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gR{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _R{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class G0{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new _R,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class Q0{constructor(){}supports(t){return t instanceof Map||rf(t)}create(){return new vR}}class vR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||rf(t)))throw new q(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new yR(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class yR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X0(){return new wu([new q0])}let wu=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||X0()),deps:[[n,new Xa,new Ai]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new q(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:X0}),n})();function Y0(){return new Tl([new Q0])}let Tl=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Y0()),deps:[[n,new Xa,new Ai]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(r)return r;throw new q(901,"")}}return n.\u0275prov=X({token:n,providedIn:"root",factory:Y0}),n})();const kR=F0(null,"core",[{provide:Cu,useValue:"unknown"},{provide:B0,deps:[_t]},{provide:O0,deps:[]},{provide:E0,deps:[]}]);let DR=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(B(bu))},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({}),n})(),Su=null;function Vr(){return Su}const It=new le("DocumentToken");let As=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function MR(){return B(J0)}()},providedIn:"platform"}),n})();const xR=new le("Location Initialized");let J0=(()=>{class n extends As{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(e){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){Z0()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){Z0()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(B(It))},n.\u0275prov=X({token:n,factory:function(){return function ER(){return new J0(B(It))}()},providedIn:"platform"}),n})();function Z0(){return!!window.history.pushState}function Jf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ek(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function mi(n){return n&&"?"!==n[0]?"?"+n:n}let ta=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function IR(n){const t=B(It).location;return new tk(B(As),t&&t.origin||"")}()},providedIn:"root"}),n})();const Zf=new le("appBaseHref");let tk=(()=>{class n extends ta{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Jf(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(B(As),B(Zf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),PR=(()=>{class n extends ta{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Jf(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(B(As),B(Zf,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),em=(()=>{class n{constructor(e,r){this._subject=new Ke,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ek(nk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+mi(r))}normalize(e){return n.stripTrailingSlash(function OR(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,nk(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=mi,n.joinWithSlash=Jf,n.stripTrailingSlash=ek,n.\u0275fac=function(e){return new(e||n)(B(ta),B(As))},n.\u0275prov=X({token:n,factory:function(){return function AR(){return new em(B(ta),B(As))}()},providedIn:"root"}),n})();function nk(n){return n.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Format=0]="Format",ot[ot.Standalone=1]="Standalone",ot))(),Ce=(()=>((Ce=Ce||{})[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce))(),Je=(()=>((Je=Je||{})[Je.Short=0]="Short",Je[Je.Medium=1]="Medium",Je[Je.Long=2]="Long",Je[Je.Full=3]="Full",Je))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function Mu(n,t){return Qn(nn(n)[$.DateFormat],t)}function xu(n,t){return Qn(nn(n)[$.TimeFormat],t)}function Eu(n,t){return Qn(nn(n)[$.DateTimeFormat],t)}function Kn(n,t){const e=nn(n),r=e[$.NumberSymbols][t];if(void 0===r){if(t===J.CurrencyDecimal)return e[$.NumberSymbols][J.Decimal];if(t===J.CurrencyGroup)return e[$.NumberSymbols][J.Group]}return r}function ik(n){if(!n[$.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[$.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function nm(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const qR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wl={},GR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.ShortGMT=1]="ShortGMT",bt[bt.Long=2]="Long",bt[bt.Extended=3]="Extended",bt))(),ee=(()=>((ee=ee||{})[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee))(),fe=(()=>((fe=fe||{})[fe.DayPeriods=0]="DayPeriods",fe[fe.Days=1]="Days",fe[fe.Months=2]="Months",fe[fe.Eras=3]="Eras",fe))();function sk(n,t,e,r){let i=function nF(n){if(lk(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Iu(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(qR))return function rF(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,d),t}(r)}const t=new Date(n);if(!lk(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=gi(e,t)||t;let a,o=[];for(;t;){if(a=GR.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;t=f}}let l=i.getTimezoneOffset();r&&(l=ak(r,l),i=function tF(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function eF(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(ak(t,i)-i))}(i,r,!0));let d="";return o.forEach(f=>{const m=function ZR(n){if(im[n])return im[n];let t;switch(n){case"G":case"GG":case"GGG":t=We(fe.Eras,Ce.Abbreviated);break;case"GGGG":t=We(fe.Eras,Ce.Wide);break;case"GGGGG":t=We(fe.Eras,Ce.Narrow);break;case"y":t=dt(ee.FullYear,1,0,!1,!0);break;case"yy":t=dt(ee.FullYear,2,0,!0,!0);break;case"yyy":t=dt(ee.FullYear,3,0,!1,!0);break;case"yyyy":t=dt(ee.FullYear,4,0,!1,!0);break;case"Y":t=Nu(1);break;case"YY":t=Nu(2,!0);break;case"YYY":t=Nu(3);break;case"YYYY":t=Nu(4);break;case"M":case"L":t=dt(ee.Month,1,1);break;case"MM":case"LL":t=dt(ee.Month,2,1);break;case"MMM":t=We(fe.Months,Ce.Abbreviated);break;case"MMMM":t=We(fe.Months,Ce.Wide);break;case"MMMMM":t=We(fe.Months,Ce.Narrow);break;case"LLL":t=We(fe.Months,Ce.Abbreviated,ot.Standalone);break;case"LLLL":t=We(fe.Months,Ce.Wide,ot.Standalone);break;case"LLLLL":t=We(fe.Months,Ce.Narrow,ot.Standalone);break;case"w":t=rm(1);break;case"ww":t=rm(2);break;case"W":t=rm(1,!0);break;case"d":t=dt(ee.Date,1);break;case"dd":t=dt(ee.Date,2);break;case"c":case"cc":t=dt(ee.Day,1);break;case"ccc":t=We(fe.Days,Ce.Abbreviated,ot.Standalone);break;case"cccc":t=We(fe.Days,Ce.Wide,ot.Standalone);break;case"ccccc":t=We(fe.Days,Ce.Narrow,ot.Standalone);break;case"cccccc":t=We(fe.Days,Ce.Short,ot.Standalone);break;case"E":case"EE":case"EEE":t=We(fe.Days,Ce.Abbreviated);break;case"EEEE":t=We(fe.Days,Ce.Wide);break;case"EEEEE":t=We(fe.Days,Ce.Narrow);break;case"EEEEEE":t=We(fe.Days,Ce.Short);break;case"a":case"aa":case"aaa":t=We(fe.DayPeriods,Ce.Abbreviated);break;case"aaaa":t=We(fe.DayPeriods,Ce.Wide);break;case"aaaaa":t=We(fe.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":t=We(fe.DayPeriods,Ce.Abbreviated,ot.Standalone,!0);break;case"bbbb":t=We(fe.DayPeriods,Ce.Wide,ot.Standalone,!0);break;case"bbbbb":t=We(fe.DayPeriods,Ce.Narrow,ot.Standalone,!0);break;case"B":case"BB":case"BBB":t=We(fe.DayPeriods,Ce.Abbreviated,ot.Format,!0);break;case"BBBB":t=We(fe.DayPeriods,Ce.Wide,ot.Format,!0);break;case"BBBBB":t=We(fe.DayPeriods,Ce.Narrow,ot.Format,!0);break;case"h":t=dt(ee.Hours,1,-12);break;case"hh":t=dt(ee.Hours,2,-12);break;case"H":t=dt(ee.Hours,1);break;case"HH":t=dt(ee.Hours,2);break;case"m":t=dt(ee.Minutes,1);break;case"mm":t=dt(ee.Minutes,2);break;case"s":t=dt(ee.Seconds,1);break;case"ss":t=dt(ee.Seconds,2);break;case"S":t=dt(ee.FractionalSeconds,1);break;case"SS":t=dt(ee.FractionalSeconds,2);break;case"SSS":t=dt(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Au(bt.Short);break;case"ZZZZZ":t=Au(bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Au(bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Au(bt.Long);break;default:return null}return im[n]=t,t}(f);d+=m?m(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Iu(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function gi(n,t){const e=function NR(n){return nn(n)[$.LocaleId]}(n);if(wl[e]=wl[e]||{},wl[e][t])return wl[e][t];let r="";switch(t){case"shortDate":r=Mu(n,Je.Short);break;case"mediumDate":r=Mu(n,Je.Medium);break;case"longDate":r=Mu(n,Je.Long);break;case"fullDate":r=Mu(n,Je.Full);break;case"shortTime":r=xu(n,Je.Short);break;case"mediumTime":r=xu(n,Je.Medium);break;case"longTime":r=xu(n,Je.Long);break;case"fullTime":r=xu(n,Je.Full);break;case"short":const i=gi(n,"shortTime"),s=gi(n,"shortDate");r=Pu(Eu(n,Je.Short),[i,s]);break;case"medium":const o=gi(n,"mediumTime"),a=gi(n,"mediumDate");r=Pu(Eu(n,Je.Medium),[o,a]);break;case"long":const l=gi(n,"longTime"),d=gi(n,"longDate");r=Pu(Eu(n,Je.Long),[l,d]);break;case"full":const f=gi(n,"fullTime"),m=gi(n,"fullDate");r=Pu(Eu(n,Je.Full),[f,m])}return r&&(wl[e][t]=r),r}function Pu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function yr(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function dt(n,t,e=0,r=!1,i=!1){return function(s,o){let a=function QR(n,t){switch(n){case ee.FullYear:return t.getFullYear();case ee.Month:return t.getMonth();case ee.Date:return t.getDate();case ee.Hours:return t.getHours();case ee.Minutes:return t.getMinutes();case ee.Seconds:return t.getSeconds();case ee.FractionalSeconds:return t.getMilliseconds();case ee.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===ee.Hours)0===a&&-12===e&&(a=12);else if(n===ee.FractionalSeconds)return function KR(n,t){return yr(n,3).substr(0,t)}(a,t);const l=Kn(o,J.MinusSign);return yr(a,t,l,r,i)}}function We(n,t,e=ot.Format,r=!1){return function(i,s){return function XR(n,t,e,r,i,s){switch(e){case fe.Months:return function LR(n,t,e){const r=nn(n),s=Qn([r[$.MonthsFormat],r[$.MonthsStandalone]],t);return Qn(s,e)}(t,i,r)[n.getMonth()];case fe.Days:return function FR(n,t,e){const r=nn(n),s=Qn([r[$.DaysFormat],r[$.DaysStandalone]],t);return Qn(s,e)}(t,i,r)[n.getDay()];case fe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const d=function zR(n){const t=nn(n);return ik(t),(t[$.ExtraData][2]||[]).map(r=>"string"==typeof r?nm(r):[nm(r[0]),nm(r[1])])}(t),f=function $R(n,t,e){const r=nn(n);ik(r);const s=Qn([r[$.ExtraData][0],r[$.ExtraData][1]],t)||[];return Qn(s,e)||[]}(t,i,r),m=d.findIndex(_=>{if(Array.isArray(_)){const[v,b]=_,k=o>=v.hours&&a>=v.minutes,M=o<b.hours||o===b.hours&&a<b.minutes;if(v.hours<b.hours){if(k&&M)return!0}else if(k||M)return!0}else if(_.hours===o&&_.minutes===a)return!0;return!1});if(-1!==m)return f[m]}return function RR(n,t,e){const r=nn(n),s=Qn([r[$.DayPeriodsFormat],r[$.DayPeriodsStandalone]],t);return Qn(s,e)}(t,i,r)[o<12?0:1];case fe.Eras:return function BR(n,t){return Qn(nn(n)[$.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Au(n){return function(t,e,r){const i=-1*r,s=Kn(e,J.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case bt.Short:return(i>=0?"+":"")+yr(o,2,s)+yr(Math.abs(i%60),2,s);case bt.ShortGMT:return"GMT"+(i>=0?"+":"")+yr(o,1,s);case bt.Long:return"GMT"+(i>=0?"+":"")+yr(o,2,s)+":"+yr(Math.abs(i%60),2,s);case bt.Extended:return 0===r?"Z":(i>=0?"+":"")+yr(o,2,s)+":"+yr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ok(n){return Iu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function rm(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=ok(e),o=function JR(n){const t=Iu(n,0,1).getDay();return Iu(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return yr(i,n,Kn(r,J.MinusSign))}}function Nu(n,t=!1){return function(e,r){return yr(ok(e).getFullYear(),n,Kn(r,J.MinusSign),t)}}const im={};function ak(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function lk(n){return n instanceof Date&&!isNaN(n.valueOf())}function pk(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let zt=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(cl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ae(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(w(wu),w(Tl),w(yt),w(Br))},n.\u0275dir=ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class gF{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let be=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new gF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),hk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{hk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(_r),w(fi),w(wu))},n.\u0275dir=ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function hk(n,t){n.context.$implicit=t.item}let me=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new _F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fk("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fk("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(_r),w(fi))},n.\u0275dir=ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _F{constructor(){this.$implicit=null,this.ngIf=null}}function fk(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ae(t)}'.`)}let gk=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(Tl),w(Br))},n.\u0275dir=ne({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),_k=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(w(_r))},n.\u0275dir=ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Lt]}),n})(),vk=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=yk}transform(e,r=yk){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const i=this.differ.diff(e),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function FF(n,t){return{key:n,value:t}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(w(Tl,16))},n.\u0275pipe=Yt({name:"keyvalue",type:n,pure:!1}),n})();function yk(n,t){const e=n.key,r=t.key;if(e===r)return 0;if(void 0===e)return 1;if(void 0===r)return-1;if(null===e)return 1;if(null===r)return-1;if("string"==typeof e&&"string"==typeof r)return e<r?-1:1;if("number"==typeof e&&"number"==typeof r)return e-r;if("boolean"==typeof e&&"boolean"==typeof r)return e<r?-1:1;const i=String(e),s=String(r);return i==s?0:i<s?-1:1}let na=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({}),n})();let jF=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new WF(B(It),window)}),n})();class WF{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function qF(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=bk(this.window.history)||bk(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function bk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class kk{}class fm extends class GF extends class SR{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function wR(n){Su||(Su=n)}(new fm)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function KF(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}();return null==e?null:function QF(n){Fu=Fu||document.createElement("a"),Fu.setAttribute("href",n);const t=Fu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pk(document.cookie,t)}}let Fu,Ml=null;const Dk=new le("TRANSITION_ID"),YF=[{provide:Vf,useFactory:function XF(n,t,e){return()=>{e.get(Hf).donePromise.then(()=>{const r=Vr(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Dk,It,_t],multi:!0}];class mm{static init(){!function Z3(n){qf=n}(new mm)}addToWindow(t){Fe.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Fe.getAllAngularRootElements=()=>t.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Vr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let JF=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Lu=new le("EventManagerPlugins");let Bu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(B(Lu),B(Ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Tk{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Vr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let wk=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),xl=(()=>{class n extends wk{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Sk),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Sk))}}return n.\u0275fac=function(e){return new(e||n)(B(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Sk(n){Vr().remove(n)}const gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_m=/%COMP%/g;function Vu(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Vu(n,i,e):(i=i.replace(_m,n),e.push(i))}return e}function Ek(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hu=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new vm(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new s4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case lr.ShadowDom:return new o4(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Vu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(B(Bu),B(xl),B(Dl))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class vm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(gm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=gm[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=gm[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Pn.DashCase|Pn.Important)?t.style.setProperty(e,r,i&Pn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Pn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ek(r)):this.eventManager.addEventListener(t,e,Ek(r))}}class s4 extends vm{constructor(t,e,r,i){super(t),this.component=r;const s=Vu(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function t4(n){return"_ngcontent-%COMP%".replace(_m,n)}(i+"-"+r.id),this.hostAttr=function n4(n){return"_nghost-%COMP%".replace(_m,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class o4 extends vm{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Vu(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let a4=(()=>{class n extends Tk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(B(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Pk=["alt","control","meta","shift"],c4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ak={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},u4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let d4=(()=>{class n extends Tk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(Pk.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(e){let r="",i=function p4(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ak.hasOwnProperty(t)&&(t=Ak[t]))}return c4[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pk.forEach(s=>{s!=i&&u4[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(B(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const g4=F0(kR,"browser",[{provide:Cu,useValue:"browser"},{provide:M0,useValue:function h4(){fm.makeCurrent(),mm.init()},multi:!0},{provide:It,useFactory:function m4(){return function Fx(n){Lp=n}(document),document},deps:[]}]),_4=[{provide:Yh,useValue:"root"},{provide:nl,useFactory:function f4(){return new nl},deps:[]},{provide:Lu,useClass:a4,multi:!0,deps:[It,Ct,Cu]},{provide:Lu,useClass:d4,multi:!0,deps:[It]},{provide:Hu,useClass:Hu,deps:[Bu,xl,Dl]},{provide:_l,useExisting:Hu},{provide:wk,useExisting:xl},{provide:xl,useClass:xl,deps:[It]},{provide:Wf,useClass:Wf,deps:[Ct]},{provide:Bu,useClass:Bu,deps:[Lu,Ct]},{provide:kk,useClass:JF,deps:[]}];let Ok=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Dl,useValue:e.appId},{provide:Dk,useExisting:Dl},YF]}}}return n.\u0275fac=function(e){return new(e||n)(B(n,12))},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:_4,imports:[na,DR]}),n})();"undefined"!=typeof window&&window;let Fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new(e||n):B(Lk),r},providedIn:"root"}),n})(),Lk=(()=>{class n extends Fk{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Ue.NONE:return r;case Ue.HTML:return xr(r,"HTML")?In(r):I1(this._doc,String(r)).toString();case Ue.STYLE:return xr(r,"Style")?In(r):r;case Ue.SCRIPT:if(xr(r,"Script"))return In(r);throw new Error("unsafe value used in a script context");case Ue.URL:return k1(r),xr(r,"URL")?In(r):Ja(String(r));case Ue.RESOURCE_URL:if(xr(r,"ResourceURL"))return In(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function YE(n){return new qE(n)}(e)}bypassSecurityTrustStyle(e){return function JE(n){return new GE(n)}(e)}bypassSecurityTrustScript(e){return function ZE(n){return new KE(n)}(e)}bypassSecurityTrustUrl(e){return function eI(n){return new QE(n)}(e)}bypassSecurityTrustResourceUrl(e){return function tI(n){return new XE(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(B(It))},n.\u0275prov=X({token:n,factory:function(e){let r=null;return r=e?new e:function M4(n){return new Lk(n.get(It))}(B(_t)),r},providedIn:"root"}),n})();function ce(...n){return Mt(n,Oa(n))}function ra(n,t){return Re(t)?St(n,t,1):St(n,1)}function Os(n,t){return wt((e,r)=>{let i=0;e.subscribe(ht(r,s=>n.call(t,s,i++)&&r.next(s)))})}class Bk{}class Vk{}class _i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class x4{encodeKey(t){return Hk(t)}encodeValue(t){return Hk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const I4=/%(\d[a-f0-9])/gi,P4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Hk(n){return encodeURIComponent(n).replace(I4,(t,e)=>{var r;return null!==(r=P4[e])&&void 0!==r?r:t})}function zk(n){return`${n}`}class Li{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new x4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function E4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Li({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(zk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(zk(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class A4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $k(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Uk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class El{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function O4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new _i),this.context||(this.context=new A4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Li,this.urlWithParams=e}serializeBody(){return null===this.body?null:$k(this.body)||Uk(this.body)||jk(this.body)||function N4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jk(this.body)?null:Uk(this.body)?this.body.type||null:$k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,f=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((_,v)=>_.set(v,t.setHeaders[v]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((_,v)=>_.set(v,t.setParams[v]),f)),new El(r,i,o,{params:f,headers:d,context:m,reportProgress:l,responseType:s,withCredentials:a})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class Cm{constructor(t,e=200,r="OK"){this.headers=t.headers||new _i,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bm extends Cm{constructor(t={}){super(t),this.type=pt.ResponseHeader}clone(t={}){return new bm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zu extends Cm{constructor(t={}){super(t),this.type=pt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new zu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wk extends Cm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function km(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $u=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof El)s=e;else{let l,d;l=i.headers instanceof _i?i.headers:new _i(i.headers),i.params&&(d=i.params instanceof Li?i.params:new Li({fromObject:i.params})),s=new El(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ce(s).pipe(ra(l=>this.handler.handle(l)));if(e instanceof El||"events"===i.observe)return o;const a=o.pipe(Os(l=>l instanceof zu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Li).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,km(i,r))}post(e,r,i={}){return this.request("POST",e,km(i,r))}put(e,r,i={}){return this.request("PUT",e,km(i,r))}}return n.\u0275fac=function(e){return new(e||n)(B(Bk))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class qk{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Dm=new le("HTTP_INTERCEPTORS");let R4=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const F4=/^\)\]\}',?\n/;let Gk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new it(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((v,b)=>i.setRequestHeader(v,b.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const v=e.detectContentTypeHeader();null!==v&&i.setRequestHeader("Content-Type",v)}if(e.responseType){const v=e.responseType.toLowerCase();i.responseType="json"!==v?v:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const v=i.statusText||"OK",b=new _i(i.getAllResponseHeaders()),k=function L4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new bm({headers:b,status:i.status,statusText:v,url:k}),o},l=()=>{let{headers:v,status:b,statusText:k,url:M}=a(),E=null;204!==b&&(E=void 0===i.response?i.responseText:i.response),0===b&&(b=E?200:0);let x=b>=200&&b<300;if("json"===e.responseType&&"string"==typeof E){const R=E;E=E.replace(F4,"");try{E=""!==E?JSON.parse(E):null}catch(V){E=R,x&&(x=!1,E={error:V,text:E})}}x?(r.next(new zu({body:E,headers:v,status:b,statusText:k,url:M||void 0})),r.complete()):r.error(new Wk({error:E,headers:v,status:b,statusText:k,url:M||void 0}))},d=v=>{const{url:b}=a(),k=new Wk({error:v,status:i.status||0,statusText:i.statusText||"Unknown Error",url:b||void 0});r.error(k)};let f=!1;const m=v=>{f||(r.next(a()),f=!0);let b={type:pt.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),"text"===e.responseType&&!!i.responseText&&(b.partialText=i.responseText),r.next(b)},_=v=>{let b={type:pt.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),r.next(b)};return i.addEventListener("load",l),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),e.reportProgress&&(i.addEventListener("progress",m),null!==s&&i.upload&&i.upload.addEventListener("progress",_)),i.send(s),r.next({type:pt.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",l),i.removeEventListener("timeout",d),e.reportProgress&&(i.removeEventListener("progress",m),null!==s&&i.upload&&i.upload.removeEventListener("progress",_)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(B(kk))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Tm=new le("XSRF_COOKIE_NAME"),wm=new le("XSRF_HEADER_NAME");class Kk{}let B4=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pk(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(B(It),B(Cu),B(Tm))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Sm=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Kk),B(wm))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),V4=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Dm,[]);this.chain=r.reduceRight((i,s)=>new qk(i,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Vk),B(_t))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),H4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Sm,useClass:R4}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Tm,useValue:e.cookieName}:[],e.headerName?{provide:wm,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:[Sm,{provide:Dm,useExisting:Sm,multi:!0},{provide:Kk,useClass:B4},{provide:Tm,useValue:"XSRF-TOKEN"},{provide:wm,useValue:"X-XSRF-TOKEN"}]}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:[$u,{provide:Bk,useClass:V4},Gk,{provide:Vk,useExisting:Gk}],imports:[[H4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class br extends Tn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:$4}=Array,{getPrototypeOf:U4,prototype:j4,keys:W4}=Object;function Qk(n){if(1===n.length){const t=n[0];if($4(t))return{args:t,keys:null};if(function q4(n){return n&&"object"==typeof n&&U4(n)===j4}(t)){const e=W4(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:G4}=Array;function Xk(n){return Ie(t=>function K4(n,t){return G4(t)?n(...t):n(t)}(n,t))}function Yk(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Jk(n,t,e){n?ii(e,n,t):t()}function Uu(n,t){const e=Re(n)?n:()=>n,r=i=>i.error(e());return new it(t?i=>t.schedule(r,0,i):r)}const ju=hs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Mm(...n){return function Y4(){return Aa(1)}()(Mt(n,Oa(n)))}function Zk(n){return new it(t=>{or(n()).subscribe(t)})}function eD(){return wt((n,t)=>{let e=null;n._refCount++;const r=ht(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class J4 extends it{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,rv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Kt;const e=this.getSubject();t.add(this.source.subscribe(ht(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Kt.EMPTY)}return t}refCount(){return eD()(this)}}function Ns(n,t){return wt((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(ht(r,l=>{null==i||i.unsubscribe();let d=0;const f=s++;or(n(l,f)).subscribe(i=ht(r,m=>r.next(t?t(l,m,f,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function eL(n,t,e,r,i){return(s,o)=>{let a=e,l=t,d=0;s.subscribe(ht(o,f=>{const m=d++;l=a?n(l,f,m):(a=!0,f),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function tD(n,t){return wt(eL(n,t,arguments.length>=2,!0))}function Bi(n){return wt((t,e)=>{let s,r=null,i=!1;r=t.subscribe(ht(e,void 0,void 0,o=>{s=or(n(o,Bi(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function xm(n){return n<=0?()=>si:wt((t,e)=>{let r=[];t.subscribe(ht(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function nD(n=tL){return wt((t,e)=>{let r=!1;t.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function tL(){return new ju}function rD(n){return wt((t,e)=>{let r=!1;t.subscribe(ht(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ia(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Os((i,s)=>n(i,s,r)):gs,vc(1),e?rD(t):nD(()=>new ju))}function On(n,t,e){const r=Re(n)||t||e?{next:n,error:t,complete:e}:n;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),s.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):gs}class vi{constructor(t,e){this.id=t,this.url=e}}class Em extends vi{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends vi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iD extends vi{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iL extends vi{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sL extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oL extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aL extends vi{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lL extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cL extends vi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sD{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oD{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pL{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aD{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ve="primary";class fL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sa(n){return new fL(n)}const lD="ngNavigationCancelingError";function Im(n){const t=Error("NavigationCancelingError: "+n);return t[lD]=!0,t}function gL(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!cD(n[i],t[i]))return!1;return!0}function cD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function uD(n){return Array.prototype.concat.apply([],n)}function dD(n){return n.length>0?n[n.length-1]:null}function Pt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function zr(n){return pf(n)?n:dl(n)?Mt(Promise.resolve(n)):ce(n)}const yL={exact:function fD(n,t,e){if(!Fs(n.segments,t.segments)||!Wu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!fD(n.children[r],t.children[r],e))return!1;return!0},subset:mD},pD={exact:function CL(n,t){return Hr(n,t)},subset:function bL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cD(n[e],t[e]))},ignored:()=>!0};function hD(n,t,e){return yL[e.paths](n.root,t.root,e.matrixParams)&&pD[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mD(n,t,e){return gD(n,t,t.segments,e)}function gD(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Fs(i,e)||t.hasChildren()||!Wu(i,e,r))}if(n.segments.length===e.length){if(!Fs(n.segments,e)||!Wu(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!mD(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Fs(n.segments,i)&&Wu(n.segments,i,r)&&n.children[ve])&&gD(n.children[ve],t,s,r)}}function Wu(n,t,e){return t.every((r,i)=>pD[e](n[i].parameters,r.parameters))}class Rs{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return TL.serialize(this)}}class ke{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pt(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qu(this)}}class Pl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return bD(this)}}function Fs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class _D{}class vD{parse(t){const e=new OL(t);return new Rs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Al(t.root,!0)}`,r=function ML(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Gu(e)}=${Gu(i)}`).join("&"):`${Gu(e)}=${Gu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function wL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const TL=new vD;function qu(n){return n.segments.map(t=>bD(t)).join("/")}function Al(n,t){if(!n.hasChildren())return qu(n);if(t){const e=n.children[ve]?Al(n.children[ve],!1):"",r=[];return Pt(n.children,(i,s)=>{s!==ve&&r.push(`${s}:${Al(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function DL(n,t){let e=[];return Pt(n.children,(r,i)=>{i===ve&&(e=e.concat(t(r,i)))}),Pt(n.children,(r,i)=>{i!==ve&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===ve?[Al(n.children[ve],!1)]:[`${i}:${Al(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ve]?`${qu(n)}/${e[0]}`:`${qu(n)}/(${e.join("//")})`}}function yD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gu(n){return yD(n).replace(/%3B/gi,";")}function Pm(n){return yD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ku(n){return decodeURIComponent(n)}function CD(n){return Ku(n.replace(/\+/g,"%20"))}function bD(n){return`${Pm(n.path)}${function SL(n){return Object.keys(n).map(t=>`;${Pm(t)}=${Pm(n[t])}`).join("")}(n.parameters)}`}const xL=/^[^\/()?;=#]+/;function Qu(n){const t=n.match(xL);return t?t[0]:""}const EL=/^[^=?&#]+/,PL=/^[^&#]+/;class OL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ve]=new ke(t,e)),r}parseSegment(){const t=Qu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pl(Ku(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Qu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Qu(this.remaining);i&&(r=i,this.capture(r))}t[Ku(e)]=Ku(r)}parseQueryParam(t){const e=function IL(n){const t=n.match(EL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function AL(n){const t=n.match(PL);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=CD(e),s=CD(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ve);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ve]:new ke([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Am(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Am(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Om(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Om(t,this._root).map(e=>e.value)}}function Am(n,t){if(n===t.value)return t;for(const e of t.children){const r=Am(n,e);if(r)return r}return null}function Om(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Om(n,e);if(r.length)return r.unshift(t),r}return[]}class yi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class DD extends kD{constructor(t,e){super(t),this.snapshot=e,Nm(this,t)}toString(){return this.snapshot.toString()}}function TD(n,t){const e=function NL(n,t){const o=new Xu([],{},{},"",{},ve,t,null,n.root,-1,{});return new SD("",new yi(o,[]))}(n,t),r=new br([new Pl("",{})]),i=new br({}),s=new br({}),o=new br({}),a=new br(""),l=new sn(r,i,o,a,s,ve,t,e.root);return l.snapshot=e.root,new DD(new yi(l,[]),e)}class sn{constructor(t,e,r,i,s,o,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>sa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>sa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wD(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function RL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Xu{constructor(t,e,r,i,s,o,a,l,d,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SD extends kD{constructor(t,e){super(e),this.url=t,Nm(this,e)}toString(){return MD(this._root)}}function Nm(n,t){t.value._routerState=n,t.children.forEach(e=>Nm(n,e))}function MD(n){const t=n.children.length>0?` { ${n.children.map(MD).join(", ")} } `:"";return`${n.value}${t}`}function Rm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hr(t.params,e.params)||n.params.next(e.params),function _L(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fm(n,t){const e=Hr(n.params,t.params)&&function kL(n,t){return Fs(n,t)&&n.every((e,r)=>Hr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fm(n.parent,t.parent))}function Ol(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function LL(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ol(n,r,i);return Ol(n,r)})}(n,t,e);return new yi(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ol(n,a)),o}}const r=function BL(n){return new sn(new br(n.url),new br(n.params),new br(n.queryParams),new br(n.fragment),new br(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>Ol(n,s));return new yi(r,i)}}function Yu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nl(n){return"object"==typeof n&&null!=n&&n.outlets}function Lm(n,t,e,r,i){let s={};return r&&Pt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Rs(e.root===n?t:xD(e.root,n,t),s,i)}function xD(n,t,e){const r={};return Pt(n.children,(i,s)=>{r[s]=i===t?e:xD(i,t,e)}),new ke(n.segments,r)}class ED{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Yu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Nl);if(i&&i!==dD(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bm{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ID(n,t,e){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return Ju(n,t,e);const r=function jL(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],a=e[r];if(Nl(a))break;const l=`${a}`,d=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!AD(l,d,o))return s;r+=2}else{if(!AD(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ke(n.segments.slice(0,r.pathIndex),{});return s.children[ve]=new ke(n.segments.slice(r.pathIndex),n.children),Ju(s,0,i)}return r.match&&0===i.length?new ke(n.segments,{}):r.match&&!n.hasChildren()?Vm(n,t,e):r.match?Ju(n,0,i):Vm(n,t,e)}function Ju(n,t,e){if(0===e.length)return new ke(n.segments,{});{const r=function UL(n){return Nl(n[0])?n[0].outlets:{[ve]:n}}(e),i={};return Pt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ID(n.children[o],t,s))}),Pt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ke(n.segments,i)}}function Vm(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(Nl(s)){const l=WL(s.outlets);return new ke(r,l)}if(0===i&&Yu(e[0])){r.push(new Pl(n.segments[t].path,PD(e[0]))),i++;continue}const o=Nl(s)?s.outlets[ve]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&Yu(a)?(r.push(new Pl(o,PD(a))),i+=2):(r.push(new Pl(o,{})),i++)}return new ke(r,{})}function WL(n){const t={};return Pt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Vm(new ke([],{}),0,e))}),t}function PD(n){const t={};return Pt(n,(e,r)=>t[r]=`${e}`),t}function AD(n,t,e){return n==e.path&&Hr(t,e.parameters)}class GL{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Rm(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=oa(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Pt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=oa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=oa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=oa(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new hL(s.value.snapshot))}),t.children.length&&this.forwardEvent(new dL(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(Rm(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Rm(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function KL(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class Hm{constructor(t,e){this.routes=t,this.module=e}}function Vi(n){return"function"==typeof n}function Ls(n){return n instanceof Rs}const Rl=Symbol("INITIAL_VALUE");function Fl(){return Ns(n=>function Q4(...n){const t=Oa(n),e=_v(n),{args:r,keys:i}=Qk(n);if(0===r.length)return Mt([],t);const s=new it(function X4(n,t,e=gs){return r=>{Jk(t,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Jk(t,()=>{const d=Mt(n[l],t);let f=!1;d.subscribe(ht(r,m=>{s[l]=m,f||(f=!0,a--),a||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>Yk(i,o):gs));return e?s.pipe(Xk(e)):s}(n.map(t=>t.pipe(vc(1),function Z4(...n){const t=Oa(n);return wt((e,r)=>{(t?Mm(n,e,t):Mm(n,e)).subscribe(r)})}(Rl)))).pipe(tD((t,e)=>{let r=!1;return e.reduce((i,s,o)=>i!==Rl?i:(s===Rl&&(r=!0),r||!1!==s&&o!==e.length-1&&!Ls(s)?i:s),t)},Rl),Os(t=>t!==Rl),Ie(t=>Ls(t)?t:!0===t),vc(1)))}class e5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ll,this.attachRef=null}}class Ll{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new e5,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let zm=(()=>{class n{constructor(e,r,i,s,o){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.name=s||ve,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new t5(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(w(Ll),w(_r),w(Qo),Ua("name"),w(ku))},n.\u0275dir=ne({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class t5{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===sn?this.route:t===Ll?this.childContexts:this.parent.get(t,e)}}let OD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&D(0,"router-outlet")},directives:[zm],encapsulation:2}),n})();function ND(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];n5(r,r5(t,r))}}function n5(n,t){n.children&&ND(n.children,t)}function r5(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function $m(n){const t=n.children&&n.children.map($m),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ve&&(e.component=OD),e}function Xn(n){return n.outlet||ve}function RD(n,t){const e=n.filter(r=>Xn(r)===t);return e.push(...n.filter(r=>Xn(r)!==t)),e}const FD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zu(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},FD):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||gL)(e,n,t);if(!s)return Object.assign({},FD);const o={};Pt(s.posParams,(l,d)=>{o[d]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function ed(n,t,e,r,i="corrected"){if(e.length>0&&function a5(n,t,e){return e.some(r=>td(n,t,r)&&Xn(r)!==ve)}(n,e,r)){const o=new ke(t,function o5(n,t,e,r){const i={};i[ve]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Xn(s)!==ve){const o=new ke([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,i[Xn(s)]=o}return i}(n,t,r,new ke(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function l5(n,t,e){return e.some(r=>td(n,t,r))}(n,e,r)){const o=new ke(n.segments,function s5(n,t,e,r,i,s){const o={};for(const a of r)if(td(n,e,a)&&!i[Xn(a)]){const l=new ke([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Xn(a)]=l}return Object.assign(Object.assign({},i),o)}(n,t,e,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new ke(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function td(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function LD(n,t,e,r){return!!(Xn(n)===r||r!==ve&&td(t,e,n))&&("**"===n.path||Zu(t,n,e).matched)}function BD(n,t,e){return 0===t.length&&!n.children[e]}class Bl{constructor(t){this.segmentGroup=t||null}}class VD{constructor(t){this.urlTree=t}}function nd(n){return Uu(new Bl(n))}function HD(n){return Uu(new VD(n))}class p5{constructor(t,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(hi)}apply(){const t=ed(this.urlTree.root,[],[],this.config).segmentGroup,e=new ke(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ve).pipe(Ie(s=>this.createUrlTree(Um(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(s=>{if(s instanceof VD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ve).pipe(Ie(i=>this.createUrlTree(Um(i),t.queryParams,t.fragment))).pipe(Bi(i=>{throw i instanceof Bl?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new ke([],{[ve]:t}):t;return new Rs(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Ie(s=>new ke([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Mt(i).pipe(ra(s=>{const o=r.children[s],a=RD(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Ie(l=>({segment:l,outlet:s})))}),tD((s,o)=>(s[o.outlet]=o.segment,s),{}),function nL(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Os((i,s)=>n(i,s,r)):gs,xm(1),e?rD(t):nD(()=>new ju))}())}expandSegment(t,e,r,i,s,o){return Mt(r).pipe(ra(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,s,o).pipe(Bi(d=>{if(d instanceof Bl)return ce(null);throw d}))),ia(a=>!!a),Bi((a,l)=>{if(a instanceof ju||"EmptyError"===a.name){if(BD(e,i,s))return ce(new ke([],{}));throw new Bl(e)}throw a}))}expandSegmentAgainstRoute(t,e,r,i,s,o,a){return LD(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o):nd(e):nd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HD(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new ke(o,{});return this.expandSegment(t,a,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:f}=Zu(e,i,s);if(!a)return nd(e);const m=this.applyRedirectCommands(l,i.redirectTo,f);return i.redirectTo.startsWith("/")?HD(m):this.lineralizeSegments(i,m).pipe(St(_=>this.expandSegment(t,e,r,_.concat(d),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ce(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(Ie(m=>(r._loadedConfig=m,new ke(i,{})))):ce(new ke(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Zu(e,r,i);return o?this.getChildConfig(t,r,i).pipe(St(f=>{const m=f.module,_=f.routes,{segmentGroup:v,slicedSegments:b}=ed(e,a,l,_),k=new ke(v.segments,v.children);if(0===b.length&&k.hasChildren())return this.expandChildren(m,_,k).pipe(Ie(R=>new ke(a,R)));if(0===_.length&&0===b.length)return ce(new ke(a,{}));const M=Xn(r)===s;return this.expandSegment(m,k,_,b,M?ve:s,!0).pipe(Ie(x=>new ke(a.concat(x.segments),x.children)))})):nd(e)}getChildConfig(t,e,r){return e.children?ce(new Hm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ce(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(St(i=>i?this.configLoader.load(t.injector,e).pipe(Ie(s=>(e._loadedConfig=s,s))):function u5(n){return Uu(Im(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ce(new Hm([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?ce(i.map(o=>{const a=t.get(o);let l;if(function XL(n){return n&&Vi(n.canLoad)}(a))l=a.canLoad(e,r);else{if(!Vi(a))throw new Error("Invalid CanLoad guard");l=a(e,r)}return zr(l)})).pipe(Fl(),On(o=>{if(!Ls(o))return;const a=Im(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ie(o=>!0===o)):ce(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ve])return Uu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[ve]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Rs(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Pt(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=e[a]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return Pt(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,r,i)}),new ke(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function Um(n){const t={};for(const r of Object.keys(n.children)){const s=Um(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function h5(n){if(1===n.numberOfChildren&&n.children[ve]){const t=n.children[ve];return new ke(n.segments.concat(t.segments),t.children)}return n}(new ke(n.segments,t))}class zD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rd{constructor(t,e){this.component=t,this.route=e}}function m5(n,t,e){const r=n._root;return Vl(r,t?t._root:null,e,[r.value])}function id(n,t,e){const r=function _5(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Vl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=oa(t);return n.children.forEach(o=>{(function v5(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function y5(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,t.url)||!Hr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fm(n,t)||!Hr(n.queryParams,t.queryParams);default:return!Fm(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zD(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vl(n,t,s.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rd(a.outlet.component,o))}else o&&Hl(t,a,i),i.canActivateChecks.push(new zD(r)),Vl(n,null,s.component?a?a.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Pt(s,(o,a)=>Hl(o,e.getContext(a),i)),i}function Hl(n,t,e){const r=oa(n),i=n.value;Pt(r,(s,o)=>{Hl(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new rd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class x5{}function $D(n){return new it(t=>t.error(n))}class I5{constructor(t,e,r,i,s,o){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=ed(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ve);if(null===e)return null;const r=new Xu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yi(r,e),s=new SD(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,r=wD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=RD(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=UD(r);return function P5(n){n.sort((t,e)=>t.value.outlet===ve?-1:e.value.outlet===ve?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,r,i);if(null!==o)return o}return BD(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!LD(t,e,r,i))return null;let s,o=[],a=[];if("**"===t.path){const v=r.length>0?dD(r).parameters:{};s=new Xu(r,v,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qD(t),Xn(t),t.component,t,jD(e),WD(e)+r.length,GD(t))}else{const v=Zu(e,t,r);if(!v.matched)return null;o=v.consumedSegments,a=v.remainingSegments,s=new Xu(o,v.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qD(t),Xn(t),t.component,t,jD(e),WD(e)+o.length,GD(t))}const l=function A5(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:d,slicedSegments:f}=ed(e,o,a,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);if(0===f.length&&d.hasChildren()){const v=this.processChildren(l,d);return null===v?null:[new yi(s,v)]}if(0===l.length&&0===f.length)return[new yi(s,[])];const m=Xn(t)===i,_=this.processSegment(l,d,f,m?ve:i);return null===_?null:[new yi(s,_)]}}function O5(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function UD(n){const t=[],e=new Set;for(const r of n){if(!O5(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=UD(r.children);t.push(new yi(r.value,i))}return t.filter(r=>!e.has(r))}function jD(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function WD(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function qD(n){return n.data||{}}function GD(n){return n.resolve||{}}function KD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jm(n){return Ns(t=>{const e=n(t);return e?Mt(e).pipe(Ie(()=>t)):ce(t)})}class z5 extends class H5{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wm=new le("ROUTES");class QD{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(Ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new Hm(uD(o.injector.get(Wm,void 0,se.Self|se.Optional)).map($m),o)}),Bi(s=>{throw e._loader$=void 0,s}));return e._loader$=new J4(i,()=>new Tn).pipe(eD()),e._loader$}loadModuleFactory(t){return zr(t()).pipe(St(e=>e instanceof qb?ce(e):Mt(this.compiler.compileModuleAsync(e))))}}class U5{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function j5(n){throw n}function W5(n,t,e){return t.parse("/")}function XD(n,t){return ce(null)}const q5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let te=(()=>{class n{constructor(e,r,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tn,this.errorHandler=j5,this.malformedUriErrorHandler=W5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:XD,afterPreactivation:XD},this.urlHandlingStrategy=new U5,this.routeReuseStrategy=new z5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(hi),this.console=o.get(E0);const m=o.get(Ct);this.isNgZoneEnabled=m instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function vL(){return new Rs(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QD(o,a,_=>this.triggerEvent(new sD(_)),_=>this.triggerEvent(new oD(_))),this.routerState=TD(this.currentUrlTree,this.rootComponentType),this.transitions=new br({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Os(i=>0!==i.id),Ie(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ns(i=>{let s=!1,o=!1;return ce(i).pipe(On(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ns(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return sd(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(Ns(m=>{const _=this.transitions.getValue();return r.next(new Em(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions.getValue()?si:Promise.resolve(m)}),function f5(n,t,e,r){return Ns(i=>function d5(n,t,e,r,i){return new p5(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(Ie(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),On(m=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:m.urlAfterRedirects})}),function N5(n,t,e,r,i){return St(s=>function E5(n,t,e,r,i="emptyOnly",s="legacy"){try{const o=new I5(n,t,e,r,i,s).recognize();return null===o?$D(new x5):ce(o)}catch(o){return $D(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(Ie(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,m=>this.serializeUrl(m),this.paramsInheritanceStrategy,this.relativeLinkResolution),On(m=>{if("eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(v,m)}this.browserUrlTree=m.urlAfterRedirects}const _=new sL(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(_)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:v,source:b,restoredState:k,extras:M}=a,E=new Em(_,this.serializeUrl(v),b,k);r.next(E);const x=TD(v,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:x,urlAfterRedirects:v,extras:Object.assign(Object.assign({},M),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),si}),jm(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:m,extras:{skipLocationChange:_,replaceUrl:v}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:m,skipLocationChange:!!_,replaceUrl:!!v})}),On(a=>{const l=new oL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ie(a=>Object.assign(Object.assign({},a),{guards:m5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function C5(n,t){return St(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?ce(Object.assign(Object.assign({},e),{guardsResult:!0})):function b5(n,t,e,r){return Mt(n).pipe(St(i=>function M5(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ce(s.map(a=>{const l=id(a,t,i);let d;if(function ZL(n){return n&&Vi(n.canDeactivate)}(l))d=zr(l.canDeactivate(n,t,e,r));else{if(!Vi(l))throw new Error("Invalid CanDeactivate guard");d=zr(l(n,t,e,r))}return d.pipe(ia())})).pipe(Fl()):ce(!0)}(i.component,i.route,e,t,r)),ia(i=>!0!==i,!0))}(o,r,i,n).pipe(St(a=>a&&function QL(n){return"boolean"==typeof n}(a)?function k5(n,t,e,r){return Mt(t).pipe(ra(i=>Mm(function T5(n,t){return null!==n&&t&&t(new uL(n)),ce(!0)}(i.route.parent,r),function D5(n,t){return null!==n&&t&&t(new pL(n)),ce(!0)}(i.route,r),function S5(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function g5(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Zk(()=>ce(o.guards.map(l=>{const d=id(l,o.node,e);let f;if(function JL(n){return n&&Vi(n.canActivateChild)}(d))f=zr(d.canActivateChild(r,n));else{if(!Vi(d))throw new Error("Invalid CanActivateChild guard");f=zr(d(r,n))}return f.pipe(ia())})).pipe(Fl())));return ce(s).pipe(Fl())}(n,i.path,e),function w5(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(s=>Zk(()=>{const o=id(s,t,e);let a;if(function YL(n){return n&&Vi(n.canActivate)}(o))a=zr(o.canActivate(t,n));else{if(!Vi(o))throw new Error("Invalid CanActivate guard");a=zr(o(t,n))}return a.pipe(ia())}));return ce(i).pipe(Fl())}(n,i.route,e))),ia(i=>!0!==i,!0))}(r,s,n,t):ce(a)),Ie(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),On(a=>{if(Ls(a.guardsResult)){const d=Im(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new aL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Os(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),jm(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(On(l=>{const d=new lL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),Ns(l=>{let d=!1;return ce(l).pipe(function R5(n,t){return St(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return ce(e);let s=0;return Mt(i).pipe(ra(o=>function F5(n,t,e,r){return function L5(n,t,e,r){const i=KD(n);if(0===i.length)return ce({});const s={};return Mt(i).pipe(St(o=>function B5(n,t,e,r){const i=id(n,t,r);return zr(i.resolve?i.resolve(t,e):i(t,e))}(n[o],t,e,r).pipe(On(a=>{s[o]=a}))),xm(1),St(()=>KD(s).length===i.length?ce(s):si))}(n._resolve,n,t,r).pipe(Ie(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),wD(n,e).resolve),null)))}(o.route,r,n,t)),On(()=>s++),xm(1),St(o=>s===i.length?ce(e):si))})}(this.paramsInheritanceStrategy,this.ngModule.injector),On({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),On(l=>{const d=new cL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),jm(a=>{const{targetSnapshot:l,id:d,extractedUrl:f,rawUrl:m,extras:{skipLocationChange:_,replaceUrl:v}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:f,rawUrlTree:m,skipLocationChange:!!_,replaceUrl:!!v})}),Ie(a=>{const l=function FL(n,t,e){const r=Ol(n,t._root,e?e._root:void 0);return new DD(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),On(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Ie(r=>(new GL(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),On({next(){s=!0},complete(){s=!0}}),function rL(n){return wt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Bi(a=>{if(o=!0,function mL(n){return n&&n[lD]}(a)){const l=Ls(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const d=new iD(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(d),l?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sd(i.source)};this.scheduleNavigation(f,"imperative",null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new iL(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(d){i.reject(d)}}return si}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ND(e),this.config=e.map($m),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,d=i||this.routerState.root,f=l?this.currentUrlTree.fragment:o;let m=null;switch(a){case"merge":m=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),function VL(n,t,e,r,i){if(0===e.length)return Lm(t.root,t.root,t,r,i);const s=function HL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ED(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Pt(s.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new ED(e,t,r)}(e);if(s.toRoot())return Lm(t.root,new ke([],{}),t,r,i);const o=function zL(n,t,e){if(n.isAbsolute)return new Bm(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Bm(s,s===t.root,0)}const r=Yu(n.commands[0])?0:1;return function $L(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Bm(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?Ju(o.segmentGroup,o.index,s.commands):ID(o.segmentGroup,o.index,s.commands);return Lm(o.segmentGroup,a,t,r,i)}(d,this.currentUrlTree,e,m,null!=f?f:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Ls(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function K5(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},q5):!1===r?Object.assign({},G5):r,Ls(e))return hD(this.currentUrlTree,e,i);const s=this.parseUrl(e);return hD(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Il(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,o){var a,l,d;if(this.disposed)return Promise.resolve(!1);const f=this.transitions.value,m=sd(r)&&f&&!sd(f.source),_=f.rawUrl.toString()===e.toString(),v=f.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(m&&_&&v)return Promise.resolve(!0);let k,M,E;o?(k=o.resolve,M=o.reject,E=o.promise):E=new Promise((V,K)=>{k=V,M=K});const x=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):R=0,this.setTransition({id:x,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:k,reject:M,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(V=>Promise.reject(V))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new iD(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){cf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function sd(n){return"imperative"!==n}let on=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Tn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(sn),Ua("tabindex"),w(Br),w(yt))},n.\u0275dir=ne({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&T("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Lt]}),n})(),an=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Tn,this.subscription=e.events.subscribe(s=>{s instanceof Il&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,o){if(0!==e||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(sn),w(ta))},n.\u0275dir=ne({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&T("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Nr("target",r.target)("href",r.href,P)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Lt]}),n})();function aa(n){return""===n||!!n}let od=(()=>{class n{constructor(e,r,i,s,o,a){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Il&&this.update()})}ngAfterContentInit(){ce(this.links.changes,this.linksWithHrefs.changes,ce(null)).pipe(Aa()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Mt(r).pipe(Aa()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function Q5(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(yt),w(Br),w(ku),w(on,8),w(an,8))},n.\u0275dir=ne({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(Of(i,on,5),Of(i,an,5)),2&e){let s;Jo(s=Zo())&&(r.links=s),Jo(s=Zo())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Lt]}),n})();class YD{}class JD{preload(t,e){return ce(null)}}let ZD=(()=>{class n{constructor(e,r,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new QD(i,r,l=>e.triggerEvent(new sD(l)),l=>e.triggerEvent(new oD(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Os(e=>e instanceof Il),ra(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(hi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return Mt(i).pipe(Aa(),Ie(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ce(r._loadedConfig):this.loader.load(e.injector,r)).pipe(St(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(B(te),B(I0),B(_t),B(YD))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),qm=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Il&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof aD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new aD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){cf()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Bs=new le("ROUTER_CONFIGURATION"),eT=new le("ROUTER_FORROOT_GUARD"),Y5=[em,{provide:_D,useClass:vD},{provide:te,useFactory:function nB(n,t,e,r,i,s,o={},a,l){const d=new te(null,n,t,e,r,i,uD(s));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),function rB(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),o.enableTracing&&d.events.subscribe(f=>{var m,_;null===(m=console.group)||void 0===m||m.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(_=console.groupEnd)||void 0===_||_.call(console)}),d},deps:[_D,Ll,em,_t,I0,Wm,Bs,[class $5{},new Ai],[class V5{},new Ai]]},Ll,{provide:sn,useFactory:function iB(n){return n.routerState.root},deps:[te]},ZD,JD,class X5{preload(t,e){return e().pipe(Bi(()=>ce(null)))}},{provide:Bs,useValue:{enableTracing:!1}}];function J5(){return new R0("Router",te)}let ad=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[Y5,tT(e),{provide:eT,useFactory:tB,deps:[[te,new Ai,new Xa]]},{provide:Bs,useValue:r||{}},{provide:ta,useFactory:eB,deps:[As,[new jc(Zf),new Ai],Bs]},{provide:qm,useFactory:Z5,deps:[te,jF,Bs]},{provide:YD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:JD},{provide:R0,multi:!0,useFactory:J5},[Gm,{provide:Vf,multi:!0,useFactory:sB,deps:[Gm]},{provide:nT,useFactory:oB,deps:[Gm]},{provide:x0,multi:!0,useExisting:nT}]]}}static forChild(e){return{ngModule:n,providers:[tT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(B(eT,8),B(te,8))},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({}),n})();function Z5(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new qm(n,t,e)}function eB(n,t,e={}){return e.useHash?new PR(n,t):new tk(n,t)}function tB(n){return"guarded"}function tT(n){return[{provide:vE,multi:!0,useValue:n},{provide:Wm,multi:!0,useValue:n}]}let Gm=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Tn}appInitializer(){return this.injector.get(xR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(te),o=this.injector.get(Bs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(Bs),i=this.injector.get(ZD),s=this.injector.get(qm),o=this.injector.get(te),a=this.injector.get(bu);e===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(B(_t))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function sB(n){return n.appInitializer.bind(n)}function oB(n){return n.bootstrapListener.bind(n)}const nT=new le("Router Initializer");let ue=(()=>{class n{constructor(e,r){this.http=e,this._router=r,this.draft="default",this.customDraft=!1,this.editDrafts=!1,this.pack="default",this.customPack=!1,this.editPacks=!1,this.processingDraftEdit=!1,this.processingPackEdit=!1,this.editDecklist=!1,this.processingDeckEdit=!1,this.sealedDraftMode=!1,this.mainDeck=[],this.sideDeck=[],this.extraDeck=[],this.packAmount=6,this.packSize="medium",this._carddataUrl="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards",this._cardMonsters="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/monsters",this._cardSpells="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spells",this._cardTraps="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/traps",this._cardST="https://mm8bitdm-ygo.herokuapp.com/api/yugioh/spellstraps",this.PackQueue=[]}setDraft(e,r){this.draft=e,this.customDraft=r}getDraftType(){return this.draft}getCustomEnabled(){return this.customDraft}editDraft(e){this.editDrafts=e}getEditDraft(){return this.editDrafts}setPack(e,r){this.pack=e,this.customPack=r}getPackType(){return this.pack}getCustomPackEnabled(){return this.customPack}editPack(e){this.editPacks=e}getEditPack(){return this.editPacks}setEditPackID(e){this.editPackID=e}getEditPackID(){return this.editPackID}setEditPackName(e){this.editPackName=e}getEditPackName(){return this.editPackName}editDeck(e){this.editDecklist=e}getEditDecklist(){return this.editDecklist}setEditDeckID(e){this.editDeckID=e}getEditDeckID(){return this.editDeckID}setEditDeckName(e){this.editDeckName=e}getEditDeckName(){return this.editDeckName}resetDeck(){this.editDeck(!1),this.setEditDeckID(-1),this.setEditDeckName(""),this.mainDeck=[],this.sideDeck=[],this.extraDeck=[]}uploadDecklist(e,r,i){this.mainDeck=e,this.sideDeck=r,this.extraDeck=i}getUploadedMain(){return this.mainDeck}getUploadedSide(){return this.sideDeck}getUploadedExtra(){return this.extraDeck}setEditDraftID(e){this.editDraftID=e}getEditDraftID(){return this.editDraftID}setEditDraftName(e){this.editDraftName=e}setEditDraftImage(e){this.editDraftImage=e}getEditDraftName(){return this.editDraftName}getEditDraftImage(){return this.editDraftImage}getSealedDraftMode(){return this.sealedDraftMode}setSealedDraftMode(e){this.sealedDraftMode=e}getProcessingPack(){return this.processingPackEdit}getProcessingDraft(){return this.processingDraftEdit}setProcessingDraft(e){this.processingDraftEdit=e}setProcessingPack(e){this.processingPackEdit=e}getProcessingDeck(){return this.processingDeckEdit}setProcessingDeck(e){this.processingDeckEdit=e}setPackQueue(e){this.PackQueue=e}getPackQueue(){return this.PackQueue}getCustomCards(){return this.http.get(this._carddataUrl)}getRecentCards(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/recentcards")}getCustomCardsIDs(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards-ids")}getDecklists(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists")}getDecklistsFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/creator/${e}`)}getMatchesFromUser(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches/duelist/${e}`)}getPlayers(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/players")}getMatches(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/matches")}getBanlist(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/banlist")}getDeckMasters(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deckmaster")}getDecklist(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists/${e}`)}getDecklistInfo(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/decklists-info/${e}`)}getCustomCard(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/card/${e}`)}getCustomCardsByDraft(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/${e}`)}getDrafts(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts")}getPacks(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs")}getPackInfoByID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/${e}`)}getDraftsbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/drafts/${e}`)}getPacksbyOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/packs/owner/${e}`)}getDraftCardsbyID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/draft/${e}`)}deleteDecklists(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/delete-decklists",e)}getCustomMonsters(){return this.http.get(this._cardMonsters)}getCustomSpells(){return this.http.get(this._cardSpells)}getCustomTraps(){return this.http.get(this._cardTraps)}getCustomSpellsTraps(){return this.http.get(this._cardST)}getCustomCardsByCreator(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/creator/${e}`)}getCustomCardsByTag(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/tags/${e}`)}SetPackNo(e,r){this.packAmount=null==e?6:e}getCustomCardsByPack(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/pack/${e}`)}getPackAmount(){return this.packAmount}getFilteredCards(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}getFilteredCards2(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/searchresult",e)}submitDecklist(e){return console.log("help!"),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdeck",e)}submitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitdraft",e)}resubmitDraft(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdraft",e)}submitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitpack",e)}resubmitPack(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editpack",e)}uploadImage(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/uploadimage",e)}getBindersByOwner(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/binders/${e}`)}submitBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitbinder",e)}addToBinder(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtobinder",e)}addToCollection(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/addtocollection",e)}submitDuel(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submit-duel",e)}getCardsByBinderID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/binders/${e}`)}getCollectionCardsByCreatorID(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/collections/${e}`)}getChecklist(e,r){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/checklist/${e}/${r}`)}getCardDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/customcards/cards/details/${e}`)}getUserPageDetails(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/users/${e}`)}editProfileImages(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editprofile/images",e)}resubmitDecklist(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/editdeck",e)}deleteMatch(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deletematch",e)}submitCSVFile(e){const r=new FormData;return r.append("file",new Blob([e],{type:"text/csv"}),e.name),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitCSV",r)}deleteCard(e){const r=new FormData;return r.append("cardid",e.id),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deleteCard",r)}getSiteData(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/sitedata")}getLatestPack(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/latestpack")}updateCOTD(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/cotd")}submitArticle(e){return console.log(e),this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/submitArticle",e)}getArticles(){return this.http.get("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/articles")}getArticle(e){return this.http.get(`https://mm8bitdm-ygo.herokuapp.com/api/yugioh/articles/${e}`)}updateArticle(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/updateArticle",e)}deleteArticle(e){return this.http.post("https://mm8bitdm-ygo.herokuapp.com/api/yugioh/deleteArticle",e)}}return n.\u0275fac=function(e){return new(e||n)(B($u),B(te))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zl(...n){const t=_v(n),{args:e,keys:r}=Qk(n),i=new it(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let f=0;f<o;f++){let m=!1;or(e[f]).subscribe(ht(s,_=>{m||(m=!0,d--),a[f]=_},()=>l--,void 0,()=>{(!l||!m)&&(d||s.next(r?Yk(r,a):a),s.complete())}))}});return t?i.pipe(Xk(t)):i}let rT=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(yt))},n.\u0275dir=ne({type:n}),n})(),Vs=(()=>{class n extends rT{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,features:[Oe]}),n})();const kr=new le("NgValueAccessor"),lB={provide:kr,useExisting:He(()=>Km),multi:!0};let Km=(()=>{class n extends Vs{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[je([lB]),Oe]}),n})();const cB={provide:kr,useExisting:He(()=>at),multi:!0},dB=new le("CompositionEventMode");let at=(()=>{class n extends rT{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uB(){const n=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(yt),w(dB,8))},n.\u0275dir=ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[je([cB]),Oe]}),n})();function Hi(n){return null==n||0===n.length}function iT(n){return null!=n&&"number"==typeof n.length}const $t=new le("NgValidators"),zi=new le("NgAsyncValidators"),pB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(t){return function sT(n){return t=>{if(Hi(t.value)||Hi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function oT(n){return t=>{if(Hi(t.value)||Hi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return aT(t)}static requiredTrue(t){return function lT(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function cT(n){return Hi(n.value)||pB.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function uT(n){return t=>Hi(t.value)||!iT(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function dT(n){return t=>iT(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function pT(n){if(!n)return ld;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Hi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return vT(t)}static composeAsync(t){return yT(t)}}function aT(n){return Hi(n.value)?{required:!0}:null}function ld(n){return null}function hT(n){return null!=n}function fT(n){const t=dl(n)?Mt(n):n;return pf(t),t}function mT(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function gT(n,t){return t.map(e=>e(n))}function _T(n){return n.map(t=>function hB(n){return!n.validate}(t)?t:e=>t.validate(e))}function vT(n){if(!n)return null;const t=n.filter(hT);return 0==t.length?null:function(e){return mT(gT(e,t))}}function Qm(n){return null!=n?vT(_T(n)):null}function yT(n){if(!n)return null;const t=n.filter(hT);return 0==t.length?null:function(e){return zl(gT(e,t).map(fT)).pipe(Ie(mT))}}function Xm(n){return null!=n?yT(_T(n)):null}function CT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function bT(n){return n._rawValidators}function kT(n){return n._rawAsyncValidators}function Ym(n){return n?Array.isArray(n)?n:[n]:[]}function cd(n,t){return Array.isArray(n)?n.includes(t):n===t}function DT(n,t){const e=Ym(t);return Ym(n).forEach(i=>{cd(e,i)||e.push(i)}),e}function TT(n,t){return Ym(t).filter(e=>!cd(n,e))}class wT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $i extends wT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln extends wT{get formDirective(){return null}get path(){return null}}class ST{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Ze=(()=>{class n extends ST{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w($i,2))},n.\u0275dir=ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Rr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Oe]}),n})(),gn=(()=>{class n extends ST{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(ln,10))},n.\u0275dir=ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Rr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Oe]}),n})();function dd(n,t){return[...t.path,n]}function $l(n,t){eg(n,t),t.valueAccessor.writeValue(n.value),function bB(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xT(n,t)})}(n,t),function DB(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function kB(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function CB(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pd(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),fd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eg(n,t){const e=bT(n);null!==t.validator?n.setValidators(CT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=kT(n);null!==t.asyncValidator?n.setAsyncValidators(CT(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();hd(t._rawValidators,i),hd(t._rawAsyncValidators,i)}function fd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=bT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=kT(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return hd(t._rawValidators,r),hd(t._rawAsyncValidators,r),e}function xT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ET(n,t){eg(n,t)}function tg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function IT(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ng(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===at?e=s:function SB(n){return Object.getPrototypeOf(n.constructor)===Vs}(s)?r=s:i=s}),i||r||e||null}function rg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ul="VALID",md="INVALID",la="PENDING",jl="DISABLED";function sg(n){return(gd(n)?n.validators:n)||null}function PT(n){return Array.isArray(n)?Qm(n):n||null}function og(n,t){return(gd(t)?t.asyncValidators:n)||null}function AT(n){return Array.isArray(n)?Xm(n):n||null}function gd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const OT=n=>n instanceof de,ag=n=>n instanceof kt;function NT(n){return OT(n)?n.value:n.getRawValue()}function RT(n,t){const e=ag(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function FT(n,t){ag(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new q(1002,"")})}class lg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=PT(this._rawValidators),this._composedAsyncValidatorFn=AT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ul}get invalid(){return this.status===md}get pending(){return this.status==la}get disabled(){return this.status===jl}get enabled(){return this.status!==jl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=PT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=AT(t)}addValidators(t){this.setValidators(DT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(DT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TT(t,this._rawAsyncValidators))}hasValidator(t){return cd(this._rawValidators,t)}hasAsyncValidator(t){return cd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=la,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ul,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ul||this.status===la)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jl:Ul}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator=!0;const e=fT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function MB(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=ag(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof EB)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?jl:this.errors?md:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(md)?md:Ul}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class de extends lg{constructor(t=null,e,r){super(sg(e),og(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kt extends lg{constructor(t,e,r){super(sg(e),og(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){FT(this,t),Object.keys(t).forEach(r=>{RT(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=NT(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class EB extends lg{constructor(t,e,r){super(sg(e),og(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){FT(this,t),t.forEach((r,i)=>{RT(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>NT(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const IB={provide:ln,useExisting:He(()=>_d)},Wl=(()=>Promise.resolve(null))();let _d=(()=>{class n extends ln{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ke,this.form=new kt({},Qm(e),Xm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Wl.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),$l(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Wl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Wl.then(()=>{const r=this._findContainer(e.path),i=new kt({});ET(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Wl.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Wl.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,IT(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(w($t,10),w(zi,10))},n.\u0275dir=ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([IB]),Oe]}),n})();const AB={provide:$i,useExisting:He(()=>Ut)},VT=(()=>Promise.resolve(null))();let Ut=(()=>{class n extends $i{constructor(e,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new de,this._registered=!1,this.update=new Ke,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ng(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$l(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){VT.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;VT.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?dd(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(w(ln,9),w($t,10),w(zi,10),w(kr,10),w(ku,8))},n.\u0275dir=ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([AB]),Oe,Lt]}),n})(),_n=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const OB={provide:kr,useExisting:He(()=>Hs),multi:!0};let Hs=(()=>{class n extends Vs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&T("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[je([OB]),Oe]}),n})(),HT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({}),n})();const cg=new le("NgModelWithFormControlWarning"),BB={provide:ln,useExisting:He(()=>cn)};let cn=(()=>{class n extends ln{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return $l(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pd(e.control||null,e,!1),rg(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,IT(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(pd(r||null,e),OT(i)&&($l(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);ET(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function TB(n,t){return fd(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eg(this.form,this),this._oldForm&&fd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(w($t,10),w(zi,10))},n.\u0275dir=ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&T("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([BB]),Oe,Lt]}),n})();const zB={provide:$i,useExisting:He(()=>vn)};let vn=(()=>{class n extends $i{constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ng(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),tg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return dd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(w(ln,13),w($t,10),w(zi,10),w(kr,10),w(cg,8))},n.\u0275dir=ne({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[je([zB]),Oe,Lt]}),n})();const $B={provide:kr,useExisting:He(()=>yn),multi:!0};function WT(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let yn=(()=>{class n extends Vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=WT(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function UB(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([$B]),Oe]}),n})(),Yn=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(WT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(Br),w(yn,9))},n.\u0275dir=ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const jB={provide:kr,useExisting:He(()=>pg),multi:!0};function qT(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let pg=(()=>{class n extends Vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const d=this._getOptionValue(o[a].value);i.push(d)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function WB(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&T("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([jB]),Oe]}),n})(),Jn=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(qT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(qT(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(Br),w(pg,9))},n.\u0275dir=ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),zs=(()=>{class n{constructor(){this._validator=ld}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ld,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,features:[Lt]}),n})();const QB={provide:$t,useExisting:He(()=>Ui),multi:!0};let Ui=(()=>{class n extends zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function qB(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>aT}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Bt(n)))(r||n)}}(),n.\u0275dir=ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Nr("required",r._enabled?"":null)},inputs:{required:"required"},features:[je([QB]),Oe]}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[[HT]]}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[nw]}),n})(),ql=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[nw]}),n})();function t8(n,t){1&n&&D(0,"option",9)}function n8(n,t){1&n&&(c(0,"option",125),p(1,"Effect"),u())}function r8(n,t){1&n&&(c(0,"option",126),p(1,"Flip"),u())}function i8(n,t){1&n&&(c(0,"option",127),p(1,"Fusion"),u())}function s8(n,t){1&n&&(c(0,"option",128),p(1,"Ritual"),u())}function o8(n,t){1&n&&(c(0,"option",129),p(1,"Union"),u())}function a8(n,t){1&n&&(c(0,"option",130),p(1,"Xyz"),u())}function l8(n,t){1&n&&D(0,"option",9)}function c8(n,t){1&n&&(c(0,"option",131),p(1,"Normal"),u())}function u8(n,t){1&n&&(c(0,"option",132),p(1,"Continuous"),u())}function d8(n,t){1&n&&(c(0,"option",133),p(1,"Quick"),u())}function p8(n,t){1&n&&(c(0,"option",134),p(1,"Ritual"),u())}function h8(n,t){1&n&&(c(0,"option",135),p(1,"Equip"),u())}function f8(n,t){1&n&&(c(0,"option",136),p(1,"Field"),u())}function m8(n,t){1&n&&D(0,"option",9)}function g8(n,t){1&n&&(c(0,"option",137),p(1,"Normal"),u())}function _8(n,t){1&n&&(c(0,"option",138),p(1,"Continuous"),u())}function v8(n,t){1&n&&(c(0,"option",139),p(1,"Counter"),u())}function y8(n,t){1&n&&(c(0,"option",140),p(1,"Level ASC"),u())}function C8(n,t){1&n&&(c(0,"option",141),p(1,"Level DESC"),u())}function b8(n,t){1&n&&(c(0,"option",142),p(1,"ATK ASC"),u())}function k8(n,t){1&n&&(c(0,"option",143),p(1,"ATK DESC"),u())}function D8(n,t){1&n&&(c(0,"option",144),p(1,"DEF ASC"),u())}function T8(n,t){1&n&&(c(0,"option",145),p(1,"DEF DESC"),u())}function w8(n,t){if(1&n){const e=L();c(0,"span")(1,"button",119),T("click",function(){const s=S(e).$implicit;return C().showDetails(s.id)}),D(2,"img",146),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function S8(n,t){if(1&n&&(c(0,"p"),D(1,"img",147),p(2),D(3,"img",148),p(4),u()),2&n){const e=C();h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," "),h(2),I(" ",null==e.card?null:e.card.level," ")}}function M8(n,t){if(1&n&&(c(0,"p"),D(1,"img",147),p(2),u()),2&n){const e=C();h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," ")}}function x8(n,t){if(1&n&&(c(0,"h4"),D(1,"img",149),p(2),u()),2&n){const e=C();h(1),H("src",e.stType,P),h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function E8(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=C();h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function I8(n,t){if(1&n&&(c(0,"p"),D(1,"img",149),p(2),u()),2&n){const e=C();h(1),H("src",e.mType,P),h(1),I(" ",null==e.card?null:e.card.type,"")}}function P8(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C();h(1),Me("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}let A8=(()=>{class n{constructor(e){this.customcardsService=e,this.currentPage=1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage)})}submitSearch(){console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None","Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),this.customcardsService.getFilteredCards(this.filters).subscribe(e=>{console.log(e),this.cards=e,this.currentPage=1,this.card=void 0,this.getCardNumbers(this.currentPage)},e=>{console.log(e)})}getCardNumbers(e){this.currentCards=[];const r=20*(e-1),i=20*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=this.cards.find(M=>M.id==e),console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-customcard-db"]],decls:284,vars:61,consts:[[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Attribute-Generic"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["value","Type-Generic"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col-lg-6"],[4,"ngFor","ngForOf"],[1,"col-lg-4","cardeffect"],[1,"bigcard",3,"src"],[4,"ngIf"],["value","Effect Monster"],["value","Flip Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"smallcard",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"type",3,"src"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h2"),p(2,"Look at the card text and NOT the card image when reading effects, as custom cards are always changing."),u(),c(3,"div",1)(4,"div",2)(5,"label",3),p(6,"Name"),u(),c(7,"input",4),T("ngModelChange",function(s){return r.filters.name=s}),u()(),c(8,"div",2)(9,"label",5),p(10,"Desc"),u(),c(11,"input",4),T("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(12,"div",2)(13,"label",6),p(14,"Creator"),u(),c(15,"input",4),T("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(16,"div",2)(17,"label",7),p(18,"Tag"),u(),c(19,"select",8),T("ngModelChange",function(s){return r.filters.tag=s}),D(20,"option",9),c(21,"option",10),p(22,"Attack Directly"),u(),c(23,"option",11),p(24,"Attribute-Generic"),u(),c(25,"option",12),p(26,"Battle"),u(),c(27,"option",13),p(28,"Boost"),u(),c(29,"option",14),p(30,"Bounce"),u(),c(31,"option",15),p(32,"Burn"),u(),c(33,"option",16),p(34,"Counters"),u(),c(35,"option",17),p(36,"Cripple"),u(),c(37,"option",18),p(38,"Draw "),u(),c(39,"option",19),p(40,"Disrupt"),u(),c(41,"option",20),p(42,"Equip"),u(),c(43,"option",21),p(44,"Excavate"),u(),c(45,"option",22),p(46,"Flip"),u(),c(47,"option",23),p(48,"Fusion"),u(),c(49,"option",24),p(50,"Gain"),u(),c(51,"option",25),p(52,"Gamble"),u(),c(53,"option",26),p(54,"Generic"),u(),c(55,"option",27),p(56,"Hand Protection"),u(),c(57,"option",28),p(58,"Ignore"),u(),c(59,"option",29),p(60,"Lingering"),u(),c(61,"option",30),p(62,"Lockdown"),u(),c(63,"option",31),p(64,"Mill"),u(),c(65,"option",32),p(66,"Mimic"),u(),c(67,"option",33),p(68,"Non-Targeted Removal"),u(),c(69,"option",34),p(70,"Piercing"),u(),c(71,"option",35),p(72,"Position"),u(),c(73,"option",36),p(74,"Protection"),u(),c(75,"option",37),p(76,"Quick"),u(),c(77,"option",38),p(78,"Recycle"),u(),c(79,"option",39),p(80,"Restriction"),u(),c(81,"option",40),p(82,"Ritual"),u(),c(83,"option",41),p(84,"Searcher"),u(),c(85,"option",42),p(86,"Special Summon"),u(),c(87,"option",43),p(88,"Spin"),u(),c(89,"option",44),p(90,"Targeted Removal"),u(),c(91,"option",45),p(92,"Token"),u(),c(93,"option",46),p(94,"Tribute"),u(),c(95,"option",47),p(96,"Type-Generic"),u()()(),c(97,"div",2)(98,"label",48),p(99,"Card"),u(),c(100,"select",49),T("ngModelChange",function(s){return r.filters.initial=s}),D(101,"option",9),c(102,"option",50),p(103,"Monster"),u(),c(104,"option",51),p(105,"Spell"),u(),c(106,"option",52),p(107,"Trap"),u()()(),c(108,"div",2)(109,"label",48),p(110,"Card Type 2"),u(),c(111,"select",53),T("ngModelChange",function(s){return r.filters.cardtype=s}),y(112,t8,1,0,"option",54),y(113,n8,2,0,"option",55),y(114,r8,2,0,"option",56),y(115,i8,2,0,"option",57),y(116,s8,2,0,"option",58),y(117,o8,2,0,"option",59),y(118,a8,2,0,"option",60),y(119,l8,1,0,"option",54),y(120,c8,2,0,"option",61),y(121,u8,2,0,"option",62),y(122,d8,2,0,"option",63),y(123,p8,2,0,"option",64),y(124,h8,2,0,"option",65),y(125,f8,2,0,"option",66),y(126,m8,1,0,"option",54),y(127,g8,2,0,"option",67),y(128,_8,2,0,"option",68),y(129,v8,2,0,"option",69),u()(),c(130,"div",2)(131,"label",70),p(132,"Monster Type"),u(),c(133,"select",71),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(134,"option",9),c(135,"option",72),p(136,"Aqua"),u(),c(137,"option",73),p(138,"Beast"),u(),c(139,"option",74),p(140,"Beast-Warrior"),u(),c(141,"option",75),p(142,"Dinosaur"),u(),c(143,"option",76),p(144,"Dragon"),u(),c(145,"option",77),p(146,"Fairy"),u(),c(147,"option",78),p(148,"Fiend"),u(),c(149,"option",79),p(150,"Fish"),u(),c(151,"option",80),p(152,"Insect"),u(),c(153,"option",81),p(154,"Machine"),u(),c(155,"option",82),p(156,"Plant"),u(),c(157,"option",83),p(158,"Psychic"),u(),c(159,"option",84),p(160,"Pyro"),u(),c(161,"option",85),p(162,"Reptile"),u(),c(163,"option",86),p(164,"Rock"),u(),c(165,"option",87),p(166,"Sea Serpent"),u(),c(167,"option",88),p(168,"Spellcaster"),u(),c(169,"option",89),p(170,"Thunder"),u(),c(171,"option",90),p(172,"Warrior"),u(),c(173,"option",91),p(174,"Winged-Beast"),u(),c(175,"option",92),p(176,"Zombie"),u()()(),c(177,"div",2)(178,"label",7),p(179,"Attribute"),u(),c(180,"select",93),T("ngModelChange",function(s){return r.filters.attribute=s}),D(181,"option",9),c(182,"option",94),p(183,"DARK"),u(),c(184,"option",95),p(185,"DIVINE"),u(),c(186,"option",96),p(187,"EARTH"),u(),c(188,"option",97),p(189,"FIRE"),u(),c(190,"option",98),p(191,"LIGHT"),u(),c(192,"option",99),p(193,"WATER"),u(),c(194,"option",100),p(195,"WIND"),u()()()(),c(196,"div",1)(197,"div",2)(198,"label",7),p(199,"Attribute"),u(),c(200,"select",93),T("ngModelChange",function(s){return r.filters.attribute=s}),D(201,"option",9),c(202,"option",94),p(203,"DARK"),u(),c(204,"option",95),p(205,"DIVINE"),u(),c(206,"option",96),p(207,"EARTH"),u(),c(208,"option",97),p(209,"FIRE"),u(),c(210,"option",98),p(211,"LIGHT"),u(),c(212,"option",99),p(213,"WATER"),u(),c(214,"option",100),p(215,"WIND"),u()()(),c(216,"div",2)(217,"label",101),p(218,"Level <= "),u(),c(219,"input",102),T("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(220,"div",2)(221,"label",103),p(222," Level "),u(),c(223,"input",102),T("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(224,"div",2)(225,"label",104),p(226,"Atk <="),u(),c(227,"input",102),T("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(228,"div",2)(229,"label",105),p(230,"Atk"),u(),c(231,"input",102),T("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(232,"div",2)(233,"label",106),p(234,"Def <="),u(),c(235,"input",102),T("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(236,"div",2)(237,"label",107),p(238,"Def"),u(),c(239,"input",102),T("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(240,"div",2)(241,"label",108),p(242,"Sort By"),u(),c(243,"select",49),T("ngModelChange",function(s){return r.filters.sort=s}),c(244,"option",109),p(245,"Release Date ASC"),u(),c(246,"option",110),p(247,"Release Date DESC"),u(),c(248,"option",111),p(249,"Alphabetical ASC"),u(),c(250,"option",112),p(251,"Alphabetical DESC"),u(),y(252,y8,2,0,"option",113),y(253,C8,2,0,"option",114),y(254,b8,2,0,"option",115),y(255,k8,2,0,"option",116),y(256,D8,2,0,"option",117),y(257,T8,2,0,"option",118),u()(),c(258,"button",119),T("click",function(){return r.submitSearch()}),p(259,"Search"),u()(),c(260,"div",1)(261,"div",120),y(262,w8,3,1,"span",121),c(263,"div",1)(264,"button",119),T("click",function(){return r.nextPage()}),p(265,"Next"),u(),c(266,"button",119),T("click",function(){return r.prevPage()}),p(267,"Previous"),u()()(),c(268,"div",122),D(269,"img",123),c(270,"b"),y(271,S8,5,3,"p",124),u(),y(272,M8,3,2,"p",124),c(273,"h3"),p(274),u(),y(275,x8,3,2,"h4",124),y(276,E8,2,1,"h4",124),c(277,"b"),y(278,I8,3,2,"p",124),y(279,P8,2,2,"p",124),c(280,"p"),p(281),u(),c(282,"p"),p(283),u()()()()()),2&e&&(h(7),g("ngModel",r.filters.name),h(4),g("ngModel",r.filters.desc),h(4),g("ngModel",r.filters.creator),h(4),g("ngModel",r.filters.tag),h(81),g("ngModel",r.filters.initial),h(11),g("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(47),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(20),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),g("ngModel",r.filters.sort),h(9),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(5),g("ngForOf",r.currentCards),h(7),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",P),h(2),g("ngIf","True"==r.monster),h(1),g("ngIf","False"==r.monster),h(2),N(null==r.card?null:r.card.name),h(1),g("ngIf","False"==r.monster),h(1),g("ngIf","True"==r.monster),h(2),g("ngIf","True"==r.monster),h(1),g("ngIf","True"==r.monster),h(2),I(" ",null==r.card?null:r.card.effect,""),h(2),N(null==r.card?null:r.card.id))},directives:[at,Ze,Ut,yn,Yn,Jn,me,Hs,be],styles:[".bigcard[_ngcontent-%COMP%]{width:60%}.smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:3px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}"]}),n})(),O8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-download-db"]],decls:2,vars:0,template:function(e,r){1&e&&(c(0,"p"),p(1,"download-db works!"),u())},styles:[""]}),n})(),ye=(()=>{class n{constructor(e,r){this.http=e,this.router=r,this._registerUrl="https://mm8bitdm-ygo.herokuapp.com/api/register-yugioh",this._loginUrl="https://mm8bitdm-ygo.herokuapp.com/api/loginyugioh",this._userUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata",this._addUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/addcurrency",this._subtractUrl="https://mm8bitdm-ygo.herokuapp.com/api/userdata/subtractcurrency",this._changeinfoUrl="https://mm8bitdm-ygo.herokuapp.com/api/changeaccountinfo"}getID(){return this.id}registerUser(e){return this.http.post(this._registerUrl,e)}loginUser(e){return this.http.post(this._loginUrl,e)}changeInfo(e){return this.http.post(this._changeinfoUrl,e)}getToken(){return localStorage.getItem("token")}getUser(){const e={token:localStorage.getItem("token")};return this.http.post(this._userUrl,e).subscribe(r=>{this.username=r.username,this.id=r.id,this.currency=r.currency,this.role=r.role},r=>{console.log(r),this.router.navigate(["/login"])}),this.http.post(this._userUrl,e)}subtractCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._subtractUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}addCurrency(e){const r={token:localStorage.getItem("token"),cost:e};return this.http.post(this._addUrl,r).subscribe(i=>{this.username=i.username,this.id=i.id,this.currency=i.currency},i=>{console.log(i),this.router.navigate(["/login"])}),this.http.post(this._userUrl,r)}loggedIn(){return!!localStorage.getItem("token")}logoutUser(){localStorage.removeItem("token"),location.reload(),this.router.navigate(["/home"]),this.username=void 0,this.id=void 0,this.currency=void 0,this.role=void 0}getUserData(){return this.role}adminRole(){return"admin"==this.role}}return n.\u0275fac=function(e){return new(e||n)(B($u),B(te))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N8(n,t){if(1&n){const e=L();c(0,"div",3)(1,"div",4),T("click",function(){const s=S(e).$implicit;return C().setCustomDraft(s.title)}),c(2,"div",5),D(3,"div",6)(4,"img",7),u(),c(5,"div",8)(6,"h5",9),p(7),u()()()()}if(2&n){const e=t.$implicit;h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",P),h(3),I("",e.title," ")}}let R8=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this._router=r,this._authService=i,this.draftData=new kt({draftTitle:new de(void 0,[U.required,U.minLength(1)]),totalPlayers:new de(1,[U.required])}),this.players={},this.playernames=[],this.totalPlayers=4,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.draft={},this.drafts=[]}ngOnInit(){this.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.getDrafts().subscribe(e=>{this.drafts=e,console.log(this.drafts)})}get f(){return this.draftData.controls}onSubmit(){if(this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.draft={}}editDraft(e){this.customcardsService.editDraft(e)}setDraft(e){this.customcardsService.setDraft(e,!1)}setCustomDraft(e){this.customcardsService.setDraft(e,!0)}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(te),w(ye))},n.\u0275cmp=G({type:n,selectors:[["app-drafts"]],decls:3,vars:1,consts:[[1,"container","justify-content-center"],[1,"row"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],["routerLink","/draft-form",1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div","rounded"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),y(2,N8,8,2,"div",2),u()()),2&e&&(h(2),g("ngForOf",r.drafts))},directives:[be,on],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:200px;height:100px;opacity:.85;transition:.5s}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px;background-color:#000}.card-title[_ngcontent-%COMP%]{color:#fff}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();function F8(n,t){if(1&n&&(c(0,"div",40),D(1,"img",26),c(2,"div",27)(3,"h5"),p(4),c(5,"a",41),p(6),u()(),c(7,"p"),p(8),u()()()),2&n){const e=t.$implicit;A("routerLink","/articles/",e.id,""),h(1),H("src",e.header_img,P),h(3),I("",e.title," by "),h(1),A("routerLink","users/",e.author,""),h(1),N(e.username),h(2),N(e.header)}}function L8(n,t){if(1&n&&D(0,"img",42),2&n){const e=C();A("routerLink","/packs/",e.latestpack.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e.latestpack?null:e.latestpack.pack,"",P)}}function B8(n,t){if(1&n&&(c(0,"div",43),D(1,"input",44),u()),2&n){const e=t.$implicit;h(1),A("routerLink","/cards/",e.id,"")("src","https://drive.google.com/uc?export=view&id=",e.drive_id,"",P)}}let V8=(()=>{class n{constructor(e,r){this._router=e,this._customCardsService=r}ngOnInit(){this._customCardsService.getArticles().subscribe(e=>{this.articles=e,this.article=this.articles[this.articles.length-1],this.articles.pop()},e=>{}),this._customCardsService.getRecentCards().subscribe(e=>{this.cards=e},e=>{}),this._customCardsService.getSiteData().subscribe(e=>{this.sitedata=e,this._customCardsService.getCustomCard(this.sitedata.cotd).subscribe(r=>{this.cotd=r,console.log(this.cotd)},r=>{}),console.log(this.sitedata)},e=>{}),this._customCardsService.getLatestPack().subscribe(e=>{this.latestpack=e,console.log(this.latestpack)},e=>{})}goToSealedDraft(){this._customCardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-home"]],decls:95,vars:11,consts:[[1,"container2","center"],["src","assets/images/Attic2.png",1,"center"],["role","alert",1,"alert","alert-success"],[1,""],[1,"row"],[1,"col"],["routerLink","/packs",1,"card","rounded","center"],[1,"crop","rounded"],[1,"overlay-div","rounded"],["src","https://drive.google.com/uc?export=view&id=19VB5LayxB2aVaDaIcMiayyJPdgaErxY_"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"],["routerLink","/deck-editor",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1Mm-cHxvBBwRu2ADvgVFzYhu-PfKvheEa"],["routerLink","/decklists",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=11ik2eREdiLg6df2qHSU7uXgzdOAA7c7V"],["routerLink","/draft-maker",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1BnruNoN42c-l6iuJMt-G0tNdQLsYqp6k"],["routerLink","/packs",1,"center","card","rounded",3,"click"],["src","https://drive.google.com/uc?export=view&id=1FZ1bL7NpcZNq_hpnvz084O_R2je0FOrC"],["routerLink","/articles",1,"card","rounded","center"],["src","https://drive.google.com/uc?export=view&id=1YDqy4PUS8ICjV-w9MVOAG_hKO3xAwsLJ"],[1,"text-center"],["id","carouselExample",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active",3,"routerLink"],["alt","...",1,"d-block",3,"src"],[1,"carousel-caption","d-none","d-md-block"],["class","carousel-item",3,"routerLink",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-6","col-6"],["type","image",1,"center","smaller",3,"src","click"],["routerLinkActive","active","class","center pack",3,"routerLink","src",4,"ngIf"],[1,"container2"],[1,"row","justify-content-center"],["class","col-md-4 col-lg-2 col-4 ",4,"ngFor","ngForOf"],[1,"carousel-item",3,"routerLink"],[3,"routerLink"],["routerLinkActive","active",1,"center","pack",3,"routerLink","src"],[1,"col-md-4","col-lg-2","col-4"],["type","image",1,"center","cotd",3,"routerLink","src"]],template:function(e,r){1&e&&(c(0,"div",0),D(1,"img",1),c(2,"div",2)(3,"h4",3),p(4),u()(),c(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),D(9,"div",8)(10,"img",9),u(),c(11,"div",10)(12,"p",11),p(13,"Pack Opener "),u()()()(),c(14,"div",5)(15,"div",12)(16,"div",7),D(17,"div",8)(18,"img",13),u(),c(19,"div",10)(20,"p",11),p(21,"Deck Editor "),u()()()(),c(22,"div",5)(23,"div",14)(24,"div",7),D(25,"div",8)(26,"img",15),u(),c(27,"div",10)(28,"p",11),p(29,"Decklists "),u()()()(),c(30,"div",5)(31,"div",16)(32,"div",7),D(33,"div",8)(34,"img",17),u(),c(35,"div",10)(36,"p",11),p(37,"Draft Creator "),u()()()(),c(38,"div",5)(39,"div",18),T("click",function(){return r.goToSealedDraft()}),c(40,"div",7),D(41,"div",8)(42,"img",19),u(),c(43,"div",10)(44,"p",11),p(45,"Sealed Draft "),u()()()(),c(46,"div",5)(47,"div",20)(48,"div",7),D(49,"div",8)(50,"img",21),u(),c(51,"div",10)(52,"p",11),p(53,"Articles "),u()()()()(),c(54,"div",4)(55,"div",5)(56,"h1",22),p(57,"Latest Articles"),u(),c(58,"div",4)(59,"div",23)(60,"div",24)(61,"div",25),D(62,"img",26),c(63,"div",27)(64,"h5"),p(65),u(),c(66,"p"),p(67),u()()(),y(68,F8,9,6,"div",28),u(),c(69,"button",29),D(70,"span",30),c(71,"span",31),p(72,"Previous"),u()(),c(73,"button",32),D(74,"span",33),c(75,"span",31),p(76,"Next"),u()()()()()(),c(77,"div",4)(78,"div",34)(79,"h1",22),p(80,"Card of the Day!"),u(),c(81,"input",35),T("click",function(){return r.goToLink(r.cotd.id)}),u()(),c(82,"div",34)(83,"h1",22),p(84,"Latest Pack!"),u(),y(85,L8,1,2,"img",36),u()(),c(86,"div",4)(87,"div",5)(88,"h1",22),p(89,"Featured Decklists"),u()()()(),c(90,"div",37)(91,"div",38)(92,"h1",22),p(93,"Newest Cards"),u(),y(94,B8,2,2,"div",39),u()()),2&e&&(h(4),Me("",null==r.sitedata?null:r.sitedata.packs_opened," packs opened! ",null==r.sitedata?null:r.sitedata.dosh_spent," dosh spent!"),h(57),A("routerLink","/articles/",r.article.id,""),h(1),H("src",r.article.header_img,P),h(3),Me("",r.article.title," by ",r.article.username,""),h(2),N(r.article.header),h(1),g("ngForOf",r.articles),h(13),A("src","https://drive.google.com/uc?export=view&id=",r.cotd.drive_id,"",P),h(4),g("ngIf","placeholder"!=r.latestpack.pack),h(9),g("ngForOf",r.cards))},directives:[on,be,an,me,od],styles:[".center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:70%}.alert[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{padding:0;margin:0}.pack[_ngcontent-%COMP%]{width:225px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.card[_ngcontent-%COMP%]{width:325px;height:75px;opacity:.85;transition:.5s}.row-small[_ngcontent-%COMP%]{width:90%;align-items:center;text-align:center;align-content:center}.crop[_ngcontent-%COMP%]{width:325px;height:75px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-170px 6000px 0 -52px;background-color:#000}.smaller[_ngcontent-%COMP%]{width:250px}.cotd[_ngcontent-%COMP%]{width:175px}.card-title[_ngcontent-%COMP%]{color:#fff}.carousel-item[_ngcontent-%COMP%]{cursor:pointer}.carousel-caption[_ngcontent-%COMP%]{background:rgba(0,0,0,.7)}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}.card-img-overlay[_ngcontent-%COMP%]{color:#fff;font-family:Oswald,sans-serif;font-size:2.5em;padding:0}p[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{width:325px;height:75px;position:absolute;background-color:#000;opacity:.4;transition:.3s}.overlay-div[_ngcontent-%COMP%]:hover{background-color:#00f}.row[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class rw{}const Ci="*";function yd(n,t){return{type:7,name:n,definitions:t,options:{}}}function ji(n,t=null){return{type:4,styles:t,timings:n}}function iw(n,t=null){return{type:2,steps:n,options:t}}function $r(n){return{type:6,styles:n,offset:null}}function Wi(n,t,e){return{type:0,name:n,styles:t,options:e}}function qi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sw(n){Promise.resolve(null).then(n)}class Gl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ow{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?sw(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function z8(n,t){if(1&n){const e=L();c(0,"span")(1,"div",2),T("click",function(){const s=S(e).$implicit;return C().editDraft(s.id,s.title,s.draftimage)}),c(2,"div",3),D(3,"div",4)(4,"img",5),u(),c(5,"div",6)(6,"h5",7),p(7),u()()()()}if(2&n){const e=t.$implicit;h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.draftimage,"",P),h(3),I("",e.title," ")}}let $8=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.customcardsService.editDraft(!1),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getDraftsbyOwner(this.id).subscribe(r=>{r&&(this.drafts=r,console.log(this.drafts),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}editDraft(e,r,i){this.customcardsService.editDraft(!0),this.customcardsService.setEditDraftID(e),this.customcardsService.setEditDraftName(r),this.customcardsService.setEditDraftImage(i),this._router.navigate(["/draft-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-draftmode"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"card","rounded",3,"click"],[1,"crop","rounded"],[1,"overlay-div"],[3,"src"],[1,"card-img-overlay"],[1,"text-center","align-self-center","mx-auto"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,z8,8,2,"span",1),u()),2&e&&(h(1),g("ngForOf",r.drafts))},directives:[be],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}.card-img-top[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2000%;margin:-72px 500px 0 -33px}.text-center[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]{width:200px;height:100px}.crop[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;object-fit:cover}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.card-title[_ngcontent-%COMP%], .card-img-overlay[_ngcontent-%COMP%]{color:#fff}.overlay-div[_ngcontent-%COMP%]{height:100px;width:200px;position:absolute;background-color:#000;opacity:.7}"],data:{animation:[yd("rotatedState",[Wi("default",$r({transform:"rotate(0)"})),Wi("rotated",$r({transform:"rotate(-180deg)"})),qi("rotated => default",ji("400ms ease-out")),qi("default => rotated",ji("400ms ease-in"))])]}}),n})();const De=!1;function aw(n){return new q(3e3,De)}function k6(){return"undefined"!=typeof window&&void 0!==window.document}function fg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gi(n){switch(n.length){case 0:return new Gl;case 1:return n[0];default:return new ow(n)}}function lw(n,t,e,r,i={},s={}){const o=[],a=[];let l=-1,d=null;if(r.forEach(f=>{const m=f.offset,_=m==l,v=_&&d||{};Object.keys(f).forEach(b=>{let k=b,M=f[b];if("offset"!==b)switch(k=t.normalizePropertyName(k,o),M){case"!":M=i[b];break;case Ci:M=s[b];break;default:M=t.normalizeStyleValue(b,k,M,o)}v[k]=M}),_||a.push(v),d=v,l=m}),o.length)throw function d6(n){return new q(3502,De)}();return a}function mg(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&gg(e,"start",n)));break;case"done":n.onDone(()=>r(e&&gg(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&gg(e,"destroy",n)))}}function gg(n,t,e){const r=e.totalTime,s=_g(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function _g(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Nn(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function cw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vg=(n,t)=>!1,uw=(n,t,e)=>[],dw=null;function yg(n){const t=n.parentNode||n.host;return t===dw?null:t}(fg()||"undefined"!=typeof Element)&&(k6()?(dw=(()=>document.documentElement)(),vg=(n,t)=>{for(;t;){if(t===n)return!0;t=yg(t)}return!1}):vg=(n,t)=>n.contains(t),uw=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let $s=null,pw=!1;function hw(n){$s||($s=function T6(){return"undefined"!=typeof document?document.body:null}()||{},pw=!!$s.style&&"WebkitAppearance"in $s.style);let t=!0;return $s.style&&!function D6(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in $s.style,!t&&pw&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in $s.style)),t}const fw=vg,mw=uw;let gw=(()=>{class n{validateStyleProperty(e){return hw(e)}matchesElement(e,r){return!1}containsElement(e,r){return fw(e,r)}getParentElement(e){return yg(e)}query(e,r,i){return mw(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,a=[],l){return new Gl(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n{}return n.NOOP=new gw,n})();const bg="ng-enter",bd="ng-leave",kd="ng-trigger",Dd=".ng-trigger",vw="ng-animating",kg=".ng-animating";function Us(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Dg(parseFloat(t[1]),t[2])}function Dg(n,t){return"s"===t?1e3*n:n}function Td(n,t,e){return n.hasOwnProperty("duration")?n:function M6(n,t,e){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(aw()),{duration:0,delay:0,easing:""};i=Dg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Dg(parseFloat(l),a[4]));const d=a[5];d&&(o=d)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function U8(){return new q(3100,De)}()),a=!0),s<0&&(t.push(function j8(){return new q(3101,De)}()),a=!0),a&&t.splice(l,0,aw())}return{duration:i,delay:s,easing:o}}(n,t,e)}function ca(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ki(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else ca(n,e);return e}function Cw(n,t,e){return e?t+":"+e+";":""}function bw(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Cw(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Cw(0,I6(e),n.style[e]));n.setAttribute("style",t)}function Ur(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=wg(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),fg()&&bw(n))}function js(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=wg(e);n.style[r]=""}),fg()&&bw(n))}function Kl(n){return Array.isArray(n)?1==n.length?n[0]:iw(n):n}const Tg=new RegExp("{{\\s*(.+?)\\s*}}","g");function kw(n){let t=[];if("string"==typeof n){let e;for(;e=Tg.exec(n);)t.push(e[1]);Tg.lastIndex=0}return t}function wd(n,t,e){const r=n.toString(),i=r.replace(Tg,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(function q8(n){return new q(3003,De)}()),a=""),a.toString()});return i==r?n:i}function Sd(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const E6=/-+([a-z0-9])/g;function wg(n){return n.replace(E6,(...t)=>t[1].toUpperCase())}function I6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function G8(n){return new q(3004,De)}()}}function Dw(n,t){return window.getComputedStyle(n)[t]}function F6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function L6(n,t,e){if(":"==n[0]){const l=function B6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function a6(n){return new q(3016,De)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function o6(n){return new q(3015,De)}()),t;const i=r[1],s=r[2],o=r[3];t.push(Tw(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(Tw(o,i))}(r,e,t)):e.push(n),e}const Id=new Set(["true","1"]),Pd=new Set(["false","0"]);function Tw(n,t){const e=Id.has(n)||Pd.has(n),r=Id.has(t)||Pd.has(t);return(i,s)=>{let o="*"==n||n==i,a="*"==t||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?Id.has(n):Pd.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Id.has(t):Pd.has(t)),o&&a}}const V6=new RegExp("s*:selfs*,?","g");function Sg(n,t,e,r){return new H6(n).build(t,e,r)}class H6{constructor(t){this._driver=t}build(t,e,r){const i=new U6(e);this._resetContextStyleTimingState(i);const s=Rn(this,Kl(t),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Q8(){return new q(3006,De)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,s.push(this.visitState(l,e))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(function X8(){return new q(3007,De)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(Ad(a)){const l=a;Object.keys(l).forEach(d=>{kw(l[d]).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(Sd(s.values()),e.errors.push(function Y8(n,t){return new q(3008,De)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Rn(this,Kl(t.animation),e);return{type:1,matchers:F6(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Ws(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Rn(this,r,e)),options:Ws(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const a=Rn(this,o,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:s,options:Ws(t.options)}}visitAnimate(t,e){const r=function W6(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Mg(Td(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Mg(0,0,"");return s.dynamic=!0,s.strValue=r,s}return e=e||Td(r,t),Mg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:$r({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=$r(d)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Ci?r.push(o):e.errors.push(function J8(n){return new q(3002,De)}()):r.push(o)}):r.push(t.styles);let i=!1,s=null;return r.forEach(o=>{if(Ad(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let d in a)if(a[d].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],d=l[a];let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(e.errors.push(function Z8(n,t,e,r,i){return new q(3010,De)}()),f=!1),s=d.startTime),f&&(l[a]={startTime:s,endTime:i}),e.options&&function x6(n,t,e){const r=t.params||{},i=kw(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function W8(n){return new q(3001,De)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function e6(){return new q(3011,De)}()),r;let s=0;const o=[];let a=!1,l=!1,d=0;const f=t.steps.map(E=>{const x=this._makeStyleAst(E,e);let R=null!=x.offset?x.offset:function j6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ad(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Ad(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(x.styles),V=0;return null!=R&&(s++,V=x.offset=R),l=l||V<0||V>1,a=a||V<d,d=V,o.push(V),x});l&&e.errors.push(function t6(){return new q(3012,De)}()),a&&e.errors.push(function n6(){return new q(3200,De)}());const m=t.steps.length;let _=0;s>0&&s<m?e.errors.push(function r6(){return new q(3202,De)}()):0==s&&(_=1/(m-1));const v=m-1,b=e.currentTime,k=e.currentAnimateTimings,M=k.duration;return f.forEach((E,x)=>{const R=_>0?x==v?1:_*x:o[x],V=R*M;e.currentTime=b+k.delay+V,k.duration=V,this._validateStyleAst(E,e),E.offset=R,r.styles.push(E)}),r}visitReference(t,e){return{type:8,animation:Rn(this,Kl(t.animation),e),options:Ws(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ws(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ws(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function z6(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(V6,"")),n=n.replace(/@\*/g,Dd).replace(/@\w+/g,e=>Dd+"-"+e.substr(1)).replace(/:animating/g,kg),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,Nn(e.collectedStyles,e.currentQuerySelector,{});const a=Rn(this,Kl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ws(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function i6(){return new q(3013,De)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Td(t.timings,e.errors,!0);return{type:12,animation:Rn(this,Kl(t.animation),e),timings:r,options:null}}}class U6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ad(n){return!Array.isArray(n)&&"object"==typeof n}function Ws(n){return n?(n=ca(n)).params&&(n.params=function $6(n){return n?ca(n):null}(n.params)):n={},n}function Mg(n,t,e){return{duration:n,delay:t,easing:e}}function xg(n,t,e,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Od{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const K6=new RegExp(":enter","g"),X6=new RegExp(":leave","g");function Eg(n,t,e,r,i,s={},o={},a,l,d=[]){return(new Y6).buildKeyframes(n,t,e,r,i,s,o,a,l,d)}class Y6{buildKeyframes(t,e,r,i,s,o,a,l,d,f=[]){d=d||new Od;const m=new Ig(t,e,d,i,s,f,[]);m.options=l,m.currentTimeline.setStyles([o],null,m.errors,l),Rn(this,r,m);const _=m.timelines.filter(v=>v.containsAnimation());if(Object.keys(a).length){let v;for(let b=_.length-1;b>=0;b--){const k=_[b];if(k.element===e){v=k;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,m.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[xg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?Us(r.duration):null,a=null!=r.delay?Us(r.delay):null;return 0!==o&&t.forEach(l=>{const d=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Rn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nd);const o=Us(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Rn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Us(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Rn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Td(e.params?wd(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?Us(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nd);let o=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((d,f)=>{e.currentQueryIndex=f;const m=e.createSubContext(t.options,d);s&&m.delayNextStep(s),d===e.element&&(l=m.currentTimeline),Rn(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const m=f.currentTime;Rn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const Nd={};class Ig{constructor(t,e,r,i,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Rd(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Us(r.duration)),null!=r.delay&&(i.delay=Us(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=wd(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new Ig(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Nd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new J6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(K6,"."+this._enterClassName)).replace(X6,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(function s6(n){return new q(3014,De)}()),a}}class Rd{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Rd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ci,this._currentKeyframe[e]=Ci}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},o=function Z6(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{e[s]=Ci})):Ki(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=wd(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ci),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const d=Ki(a,!0);Object.keys(d).forEach(f=>{const m=d[f];"!"==m?t.add(f):m==Ci&&e.add(f)}),r||(d.offset=l/this.duration),i.push(d)});const s=t.size?Sd(t.values()):[],o=e.size?Sd(e.values()):[];if(r){const a=i[0],l=ca(a);a.offset=0,l.offset=1,i=[a,l]}return xg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class J6 extends Rd{constructor(t,e,r,i,s,o,a=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,a=e/o,l=Ki(t[0],!1);l.offset=0,s.push(l);const d=Ki(t[0],!1);d.offset=Mw(a),s.push(d);const f=t.length-1;for(let m=1;m<=f;m++){let _=Ki(t[m],!1);_.offset=Mw((e+_.offset*r)/o),s.push(_)}r=o,e=0,i="",t=s}return xg(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function Mw(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Pg{}class eV extends Pg{normalizePropertyName(t,e){return wg(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(tV[e]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function K8(n,t){return new q(3005,De)}())}return o+s}}const tV=(()=>function nV(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xw(n,t,e,r,i,s,o,a,l,d,f,m,_){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:f,totalTime:m,errors:_}}const Ag={};class Ew{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function rV(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],s=this._stateStyles[t],o=i?i.buildStyles(e,r):{};return s?s.buildStyles(e,r):o}build(t,e,r,i,s,o,a,l,d,f){const m=[],_=this.ast.options&&this.ast.options.params||Ag,b=this.buildStyles(r,a&&a.params||Ag,m),k=l&&l.params||Ag,M=this.buildStyles(i,k,m),E=new Set,x=new Map,R=new Map,V="void"===i,K={params:Object.assign(Object.assign({},_),k)},xe=f?[]:Eg(t,e,this.ast.animation,s,o,b,M,K,d,m);let Ee=0;if(xe.forEach(Ye=>{Ee=Math.max(Ye.duration+Ye.delay,Ee)}),m.length)return xw(e,this._triggerName,r,i,V,b,M,[],[],x,R,Ee,m);xe.forEach(Ye=>{const Tt=Ye.element,ei=Nn(x,Tt,{});Ye.preStyleProps.forEach(Gt=>ei[Gt]=!0);const Vn=Nn(R,Tt,{});Ye.postStyleProps.forEach(Gt=>Vn[Gt]=!0),Tt!==e&&E.add(Tt)});const Y=Sd(E.values());return xw(e,this._triggerName,r,i,V,b,M,xe,Y,x,R,Ee)}}class iV{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=ca(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=wd(l,i,e));const d=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,d,l,e),r[d]=l})}}),r}}class oV{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new iV(i.style,i.options&&i.options.params||{},r)}),Iw(this.states,"true","1"),Iw(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Ew(t,i,this.states))}),this.fallbackTransition=function aV(n,t,e){return new Ew(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Iw(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const lV=new Od;class cV{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],s=Sg(this._driver,e,r,[]);if(r.length)throw function p6(n){return new q(3503,De)}();this._animations[t]=s}_buildPlayer(t,e,r){const i=t.element,s=lw(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations[t];let o;const a=new Map;if(s?(o=Eg(this._driver,e,s,bg,bd,{},{},r,lV,i),o.forEach(f=>{const m=Nn(a,f.element,{});f.postStyleProps.forEach(_=>m[_]=null)})):(i.push(function h6(){return new q(3300,De)}()),o=[]),i.length)throw function f6(n){return new q(3504,De)}();a.forEach((f,m)=>{Object.keys(f).forEach(_=>{f[_]=this._driver.computeStyle(m,_,Ci)})});const d=Gi(o.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,{},m)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function m6(n){return new q(3301,De)}();return e}listen(t,e,r,i){const s=_g(e,"","","");return mg(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Pw="ng-animate-queued",Og="ng-animate-disabled",fV=[],Aw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed";class Ng{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function yV(n){return null!=n?n:null}(r?t.value:t),r){const s=ca(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Ql="void",Rg=new Ng(Ql);class gV{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,er(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw function g6(n,t){return new q(3302,De)}();if(null==r||0==r.length)throw function _6(n){return new q(3303,De)}();if(!function CV(n){return"start"==n||"done"==n}(r))throw function v6(n,t){return new q(3400,De)}();const s=Nn(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const a=Nn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(er(t,kd),er(t,kd+"-"+e),a[e]=Rg),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function y6(n){return new q(3401,De)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new Fg(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(er(t,kd),er(t,kd+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const d=new Ng(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a[e]=d,l||(l=Rg),d.value!==Ql&&l.value===d.value){if(!function DV(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,d.params)){const k=[],M=s.matchStyles(l.value,l.params,k),E=s.matchStyles(d.value,d.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{js(t,M),Ur(t,E)})}return}const _=Nn(this._engine.playersByElement,t,[]);_.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let v=s.matchTransition(l.value,d.value,t,d.params),b=!1;if(!v){if(!i)return;v=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:d,player:o,isFallbackTransition:b}),b||(er(t,Pw),o.onStart(()=>{ua(t,Pw)})),o.onDone(()=>{let k=this.players.indexOf(o);k>=0&&this.players.splice(k,1);const M=this._engine.playersByElement.get(t);if(M){let E=M.indexOf(o);E>=0&&M.splice(E,1)}}),this.players.push(o),_.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Dd,!0);r.forEach(i=>{if(i[Zn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const d=this.trigger(t,l,Ql,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&Gi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,d=r[o]||Rg,f=new Ng(Ql),m=new Fg(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:d,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Zn];(!s||s===Aw)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){er(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=_g(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,mg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class _V{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new gV(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const d=r.indexOf(l);r.splice(d+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,e)){r.splice(a+1,0,t),o=!0;break}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,r,i){if(Fd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Fd(e))return;const s=e[Zn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),er(t,Og)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ua(t,Og))}removeNode(t,e,r,i){if(Fd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[Zn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return Fd(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Dd,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,kg,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gi(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Zn];if(r&&r.setForRemoval){if(t[Zn]=Aw,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Og))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Gi(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function C6(n){return new q(3402,De)}()}_flushAnimations(t,e){const r=new Od,i=[],s=new Map,o=[],a=new Map,l=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(W=>{f.add(W);const Q=this.driver.query(W,".ng-animate-queued",!0);for(let Z=0;Z<Q.length;Z++)f.add(Q[Z])});const m=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=Rw(_,this.collectedEnterElements),b=new Map;let k=0;v.forEach((W,Q)=>{const Z=bg+k++;b.set(Q,Z),W.forEach(ge=>er(ge,Z))});const M=[],E=new Set,x=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const Q=this.collectedLeaveElements[W],Z=Q[Zn];Z&&Z.setForRemoval&&(M.push(Q),E.add(Q),Z.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(ge=>E.add(ge)):x.add(Q))}const R=new Map,V=Rw(_,Array.from(E));V.forEach((W,Q)=>{const Z=bd+k++;R.set(Q,Z),W.forEach(ge=>er(ge,Z))}),t.push(()=>{v.forEach((W,Q)=>{const Z=b.get(Q);W.forEach(ge=>ua(ge,Z))}),V.forEach((W,Q)=>{const Z=R.get(Q);W.forEach(ge=>ua(ge,Z))}),M.forEach(W=>{this.processLeaveNode(W)})});const K=[],xe=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(Z=>{const ge=Z.player,Qe=Z.element;if(K.push(ge),this.collectedEnterElements.length){const pn=Qe[Zn];if(pn&&pn.setForMove){if(pn.previousTriggersValues&&pn.previousTriggersValues.has(Z.triggerName)){const so=pn.previousTriggersValues.get(Z.triggerName),ds=this.statesByElement.get(Z.element);ds&&ds[Z.triggerName]&&(ds[Z.triggerName].value=so)}return void ge.destroy()}}const ti=!m||!this.driver.containsElement(m,Qe),Hn=R.get(Qe),us=b.get(Qe),et=this._buildInstruction(Z,r,us,Hn,ti);if(et.errors&&et.errors.length)return void xe.push(et);if(ti)return ge.onStart(()=>js(Qe,et.fromStyles)),ge.onDestroy(()=>Ur(Qe,et.toStyles)),void i.push(ge);if(Z.isFallbackTransition)return ge.onStart(()=>js(Qe,et.fromStyles)),ge.onDestroy(()=>Ur(Qe,et.toStyles)),void i.push(ge);const x2=[];et.timelines.forEach(pn=>{pn.stretchStartingKeyframe=!0,this.disabledNodes.has(pn.element)||x2.push(pn)}),et.timelines=x2,r.append(Qe,et.timelines),o.push({instruction:et,player:ge,element:Qe}),et.queriedElements.forEach(pn=>Nn(a,pn,[]).push(ge)),et.preStyleProps.forEach((pn,so)=>{const ds=Object.keys(pn);if(ds.length){let oo=l.get(so);oo||l.set(so,oo=new Set),ds.forEach(Z_=>oo.add(Z_))}}),et.postStyleProps.forEach((pn,so)=>{const ds=Object.keys(pn);let oo=d.get(so);oo||d.set(so,oo=new Set),ds.forEach(Z_=>oo.add(Z_))})});if(xe.length){const W=[];xe.forEach(Q=>{W.push(function b6(n,t){return new q(3505,De)}())}),K.forEach(Q=>Q.destroy()),this.reportError(W)}const Ee=new Map,Y=new Map;o.forEach(W=>{const Q=W.element;r.has(Q)&&(Y.set(Q,Q),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,Ee))}),i.forEach(W=>{const Q=W.element;this._getPreviousPlayers(Q,!1,W.namespaceId,W.triggerName,null).forEach(ge=>{Nn(Ee,Q,[]).push(ge),ge.destroy()})});const Ye=M.filter(W=>Lw(W,l,d)),Tt=new Map;Nw(Tt,this.driver,x,d,Ci).forEach(W=>{Lw(W,l,d)&&Ye.push(W)});const Vn=new Map;v.forEach((W,Q)=>{Nw(Vn,this.driver,new Set(W),l,"!")}),Ye.forEach(W=>{const Q=Tt.get(W),Z=Vn.get(W);Tt.set(W,Object.assign(Object.assign({},Q),Z))});const Gt=[],wi=[],cs={};o.forEach(W=>{const{element:Q,player:Z,instruction:ge}=W;if(r.has(Q)){if(f.has(Q))return Z.onDestroy(()=>Ur(Q,ge.toStyles)),Z.disabled=!0,Z.overrideTotalTime(ge.totalTime),void i.push(Z);let Qe=cs;if(Y.size>1){let Hn=Q;const us=[];for(;Hn=Hn.parentNode;){const et=Y.get(Hn);if(et){Qe=et;break}us.push(Hn)}us.forEach(et=>Y.set(et,Qe))}const ti=this._buildAnimation(Z.namespaceId,ge,Ee,s,Vn,Tt);if(Z.setRealPlayer(ti),Qe===cs)Gt.push(Z);else{const Hn=this.playersByElement.get(Qe);Hn&&Hn.length&&(Z.parentPlayer=Gi(Hn)),i.push(Z)}}else js(Q,ge.fromStyles),Z.onDestroy(()=>Ur(Q,ge.toStyles)),wi.push(Z),f.has(Q)&&i.push(Z)}),wi.forEach(W=>{const Q=s.get(W.element);if(Q&&Q.length){const Z=Gi(Q);W.setRealPlayer(Z)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<M.length;W++){const Q=M[W],Z=Q[Zn];if(ua(Q,bd),Z&&Z.hasAnimation)continue;let ge=[];if(a.size){let ti=a.get(Q);ti&&ti.length&&ge.push(...ti);let Hn=this.driver.query(Q,kg,!0);for(let us=0;us<Hn.length;us++){let et=a.get(Hn[us]);et&&et.length&&ge.push(...et)}}const Qe=ge.filter(ti=>!ti.destroyed);Qe.length?bV(this,Q,Qe):this.processLeaveNode(Q)}return M.length=0,Gt.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const Q=this.players.indexOf(W);this.players.splice(Q,1)}),W.play()}),Gt}elementContainsData(t,e){let r=!1;const i=e[Zn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Ql;a.forEach(d=>{d.queued||!l&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const d=l.element,f=d!==s,m=Nn(r,d,[]);this._getPreviousPlayers(d,f,o,a,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),m.push(v)})}js(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const a=e.triggerName,l=e.element,d=[],f=new Set,m=new Set,_=e.timelines.map(b=>{const k=b.element;f.add(k);const M=k[Zn];if(M&&M.removedBeforeQueried)return new Gl(b.duration,b.delay);const E=k!==l,x=function kV(n){const t=[];return Fw(n,t),t}((r.get(k)||fV).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===k),R=s.get(k),V=o.get(k),K=lw(0,this._normalizer,0,b.keyframes,R,V),xe=this._buildPlayer(b,K,x);if(b.subTimeline&&i&&m.add(k),E){const Ee=new Fg(t,a,k);Ee.setRealPlayer(xe),d.push(Ee)}return xe});d.forEach(b=>{Nn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function vV(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>er(b,vw));const v=Gi(_);return v.onDestroy(()=>{f.forEach(b=>ua(b,vw)),Ur(l,e.toStyles)}),m.forEach(b=>{Nn(i,b,[]).push(v)}),v}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Gl(t.duration,t.delay)}}class Fg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Gl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>mg(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Fd(n){return n&&1===n.nodeType}function Ow(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Nw(n,t,e,r,i){const s=[];e.forEach(l=>s.push(Ow(l)));const o=[];r.forEach((l,d)=>{const f={};l.forEach(m=>{const _=f[m]=t.computeStyle(d,m,i);(!_||0==_.length)&&(d[Zn]=mV,o.push(d))}),n.set(d,f)});let a=0;return e.forEach(l=>Ow(l,s[a++])),o}function Rw(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const d=a.parentNode;return l=e.has(d)?d:i.has(d)?1:o(d),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function er(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ua(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function bV(n,t,e){Gi(e).onDone(()=>n.processLeaveNode(t))}function Fw(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof ow?Fw(r.players,t):t.push(r)}}function Lw(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class Ld{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new _V(t,e,r),this._timelineEngine=new cV(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],f=Sg(this._driver,s,l,[]);if(l.length)throw function u6(n,t){return new q(3404,De)}();a=function sV(n,t,e){return new oV(n,t,e)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=cw(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,a]=cw(r);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wV=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(js(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lg(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];SV(i)&&(t=t||{},t[i]=n[i])}return t}function SV(n){return"display"===n||"position"===n}class Bw{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:Dw(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class MV{validateStyleProperty(t){return hw(t)}matchesElement(t,e){return!1}containsElement(t,e){return fw(t,e)}getParentElement(t){return yg(t)}query(t,e,r){return mw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const d={},f=o.filter(_=>_ instanceof Bw);(function P6(n,t){return 0===n||0===t})(r,i)&&f.forEach(_=>{let v=_.currentSnapshot;Object.keys(v).forEach(b=>d[b]=v[b])}),e=function A6(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var i=1;i<t.length;i++){let a=t[i];o.forEach(function(l){a[l]=Dw(n,l)})}}return t}(t,e=e.map(_=>Ki(_,!1)),d);const m=function TV(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Lg(t[0]),t.length>1&&(r=Lg(t[t.length-1]))):t&&(e=Lg(t)),e||r?new wV(n,e,r):null}(t,e);return new Bw(t,e,l,m)}}let xV=(()=>{class n extends rw{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:lr.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?iw(e):e;return Vw(this._renderer,null,r,"register",[i]),new EV(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(B(_l),B(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class EV extends class H8{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new IV(this._id,t,e||{},this._renderer)}}class IV{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Vw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Vw(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const Hw="@.disabled";let PV=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new zw("",s,this.engine),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return r.data.animation.forEach(l),new AV(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(B(_l),B(Ld),B(Ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class zw{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==Hw?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class AV extends zw{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Hw?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function OV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function NV(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}let RV=(()=>{class n extends Ld{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(B(It),B(Cg),B(Pg))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const $w=new le("AnimationModuleType"),Uw=[{provide:rw,useClass:xV},{provide:Pg,useFactory:function FV(){return new eV}},{provide:Ld,useClass:RV},{provide:_l,useFactory:function LV(n,t,e){return new PV(n,t,e)},deps:[Hu,Ld,Ct]}],jw=[{provide:Cg,useFactory:()=>new MV},{provide:$w,useValue:"BrowserAnimations"},...Uw],BV=[{provide:Cg,useClass:gw},{provide:$w,useValue:"NoopAnimations"},...Uw];let VV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BV:jw}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:jw,imports:[Ok]}),n})();function HV(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function zV(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const Ww=function(n){return{"is-invalid":n}};function UV(n,t){1&n&&(c(0,"div",15),p(1," peepee "),u())}function jV(n,t){1&n&&(c(0,"div",15),p(1," peepee "),u())}function WV(n,t){1&n&&(c(0,"div",15),p(1," poopoo "),u())}const Bg=function(n){return{"is-invalid":n}},qV=[{path:"login",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.loginInfo=new kt({email:new de(void 0,[U.required,U.minLength(5)]),password:new de(void 0,[U.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.loginInfo.controls}ngOnInit(){}loginUser(){this.submitted=!0,this.loginInfo.invalid?this.submitfail=!0:this._auth.loginUser({email:this.loginInfo.controls.email.value,password:this.loginInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-login"]],decls:19,vars:9,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"body",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.loginUser()}),D(3,"img",3),c(4,"h1",4),p(5,"Input information below."),u(),c(6,"label",5),p(7,"Username/Email address"),u(),D(8,"input",6),y(9,HV,2,0,"div",7),c(10,"label",8),p(11,"Password"),u(),D(12,"input",9),y(13,zV,2,0,"div",7),c(14,"button",10),p(15,"Login"),u(),c(16,"p",11),p(17,"Faris Al-khatahtbeh \xa9 2017-2018"),u()()(),D(18,"div",12),u()),2&e&&(h(2),g("formGroup",r.loginInfo),h(6),g("ngClass",Le(5,Ww,r.submitted&&r.f.email.errors)),h(1),g("ngIf",r.submitted&&r.f.email.errors),h(3),g("ngClass",Le(7,Ww,r.submitted&&r.f.password.errors)),h(1),g("ngIf",r.submitted&&r.f.password.errors))},directives:[_n,gn,cn,at,Ze,vn,Ui,zt,me],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"register",component:(()=>{class n{constructor(e,r){this._auth=e,this._router=r,this.registerInfo=new kt({email:new de(void 0,[U.required,U.minLength(5)]),username:new de(void 0,[U.required,U.minLength(5)]),password:new de(void 0,[U.required,U.minLength(8)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.registerInfo.controls}ngOnInit(){}registerUser(){this.submitted=!0,this.registerInfo.invalid?this.submitfail=!0:this._auth.registerUser({username:this.registerInfo.controls.username.value,email:this.registerInfo.controls.email.value,password:this.registerInfo.controls.password.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-register"]],decls:23,vars:13,consts:[[1,"text-center"],[1,"container-sm"],[3,"formGroup","ngSubmit"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],[1,"h3","mb-3","font-weight-normal"],["for","inputUser",1,"sr-only"],["formControlName","username","name","username","type","username","id","inputUsername","placeholder","Username","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngClass"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"mt-5","mb-3","text-muted"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"body",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.registerUser()}),D(3,"img",3),c(4,"h1",4),p(5,"Input information below."),u(),c(6,"label",5),p(7,"Username"),u(),D(8,"input",6),y(9,UV,2,0,"div",7),c(10,"label",8),p(11,"Email address"),u(),D(12,"input",9),y(13,jV,2,0,"div",7),c(14,"label",10),p(15,"Password"),u(),D(16,"input",11),y(17,WV,2,0,"div",7),c(18,"button",12),p(19,"Register"),u(),c(20,"p",13),p(21,"Faris Al-khatahtbeh \xa9 2017-2018"),u()()(),D(22,"div",14),u()),2&e&&(h(2),g("formGroup",r.registerInfo),h(6),g("ngClass",Le(7,Bg,r.submitted&&r.f.username.errors)),h(1),g("ngIf",r.submitted&&r.f.username.errors),h(3),g("ngClass",Le(9,Bg,r.submitted&&r.f.email.errors)),h(1),g("ngIf",r.submitted&&r.f.email.errors),h(3),g("ngClass",Le(11,Bg,r.submitted&&r.f.password.errors)),h(1),g("ngIf",r.submitted&&r.f.password.errors))},directives:[_n,gn,cn,at,Ze,vn,Ui,zt,me],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})()},{path:"reset-password",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-reset-password"]],decls:2,vars:0,template:function(e,r){1&e&&(c(0,"p"),p(1,"reset-password works!"),u())},styles:[""]}),n})()}];let GV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[[ad.forChild(qV)],ad]}),n})(),KV=(()=>{class n{constructor(e){this.injector=e}intercept(e,r){let i=this.injector.get(ye),s=e.clone({setHeaders:{Authorization:`Bearer ${i.getToken()}`}});return r.handle(s)}}return n.\u0275fac=function(e){return new(e||n)(B(_t))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:[ye,{provide:Dm,useClass:KV,multi:!0}],imports:[[na,GV,vd,ql]]}),n})();function XV(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",138),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function YV(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function JV(n,t){if(1&n&&(c(0,"p"),D(1,"img",139),p(2),D(3,"img",140),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function ZV(n,t){if(1&n&&(c(0,"span"),D(1,"img",139),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function e7(n,t){if(1&n&&(c(0,"p"),D(1,"img",138),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function t7(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function n7(n,t){if(1&n&&(c(0,"div",136)(1,"p")(2,"b"),p(3),y(4,XV,4,2,"span",137),y(5,YV,2,1,"span",137),u()(),c(6,"b"),y(7,JV,5,3,"p",137),u(),y(8,ZV,3,2,"span",137),c(9,"b"),y(10,e7,3,2,"p",137),y(11,t7,2,2,"p",137),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function r7(n,t){1&n&&(c(0,"div")(1,"p",144),p(2,"Umm Draft Title required idiot."),u()())}function i7(n,t){if(1&n&&(c(0,"div",143),y(1,r7,3,0,"div",137),u()),2&n){const e=C(2);h(1),g("ngIf",e.f.draftTitle.errors.required)}}const s7=function(n){return{"is-invalid":n}};function o7(n,t){if(1&n){const e=L();c(0,"div",6)(1,"label",7),p(2,"Draft Name"),u(),c(3,"input",141),T("ngModelChange",function(i){return S(e),C().draftName=i}),u(),y(4,i7,2,1,"div",142),u()}if(2&n){const e=C();h(3),g("ngClass",Le(3,s7,e.submitted&&e.f.draftTitle.errors))("ngModel",e.draftName),h(1),g("ngIf",e.submitted&&e.f.draftTitle.errors)}}function a7(n,t){1&n&&D(0,"option",13)}function l7(n,t){1&n&&(c(0,"option",145),p(1,"Effect"),u())}function c7(n,t){1&n&&(c(0,"option",146),p(1,"Flip"),u())}function u7(n,t){1&n&&(c(0,"option",147),p(1,"Tuner"),u())}function d7(n,t){1&n&&(c(0,"option",148),p(1,"Gemini"),u())}function p7(n,t){1&n&&(c(0,"option",149),p(1,"Fusion"),u())}function h7(n,t){1&n&&(c(0,"option",150),p(1,"Ritual"),u())}function f7(n,t){1&n&&(c(0,"option",151),p(1,"Union"),u())}function m7(n,t){1&n&&(c(0,"option",152),p(1,"Xyz"),u())}function g7(n,t){1&n&&(c(0,"option",153),p(1,"Synchro Monster"),u())}function _7(n,t){1&n&&D(0,"option",13)}function v7(n,t){1&n&&(c(0,"option",154),p(1,"Normal"),u())}function y7(n,t){1&n&&(c(0,"option",155),p(1,"Continuous"),u())}function C7(n,t){1&n&&(c(0,"option",156),p(1,"Quick"),u())}function b7(n,t){1&n&&(c(0,"option",157),p(1,"Ritual"),u())}function k7(n,t){1&n&&(c(0,"option",158),p(1,"Equip"),u())}function D7(n,t){1&n&&(c(0,"option",159),p(1,"Field"),u())}function T7(n,t){1&n&&D(0,"option",13)}function w7(n,t){1&n&&(c(0,"option",160),p(1,"Normal"),u())}function S7(n,t){1&n&&(c(0,"option",161),p(1,"Continuous"),u())}function M7(n,t){1&n&&(c(0,"option",162),p(1,"Counter"),u())}function x7(n,t){1&n&&(c(0,"option",163),p(1,"Level ASC"),u())}function E7(n,t){1&n&&(c(0,"option",164),p(1,"Level DESC"),u())}function I7(n,t){1&n&&(c(0,"option",165),p(1,"ATK ASC"),u())}function P7(n,t){1&n&&(c(0,"option",166),p(1,"ATK DESC"),u())}function A7(n,t){1&n&&(c(0,"option",167),p(1,"DEF ASC"),u())}function O7(n,t){1&n&&(c(0,"option",168),p(1,"DEF DESC"),u())}function N7(n,t){if(1&n){const e=L();c(0,"span")(1,"button",169),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightAddDraftCard(i,o.id)})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",170),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function R7(n,t){if(1&n){const e=L();c(0,"button",172),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function F7(n,t){if(1&n&&(c(0,"span"),y(1,R7,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Monster"))}}function L7(n,t){if(1&n){const e=L();c(0,"button",172),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function B7(n,t){if(1&n&&(c(0,"span"),y(1,L7,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Spell"))}}function V7(n,t){if(1&n){const e=L();c(0,"button",172),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function H7(n,t){if(1&n&&(c(0,"span"),y(1,V7,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Trap"))}}function z7(n,t){if(1&n){const e=L();c(0,"button",172),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",170),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function $7(n,t){if(1&n&&(c(0,"span"),y(1,z7,2,1,"button",171),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Fusion"))}}function U7(n,t){if(1&n){const e=L();c(0,"button",173),T("click",function(){return S(e),C().saveDraft()}),p(1,"Save Draft"),u()}2&n&&g("disabled",1==C().done)}function j7(n,t){1&n&&(c(0,"div",174),p(1," Submission failed! Fix errors above. "),u())}function W7(n,t){if(1&n){const e=L();c(0,"button",131),T("click",function(){return S(e),C().deleteDraftCard()}),p(1,"Delete Card"),u()}}const q7=function(){return[]};let G7=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.currentPage=1,this.currentDraft=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.draftMode=!0,this.draftData=new kt({draftTitle:new de(" ",[U.required,U.minLength(1),U.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"}}get f(){return this.draftData.controls}SetDraftMode(e){this.draftMode=e}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingDraft()?this.customcardsService.getEditDraft()&&-1!=this.customcardsService.getEditDraftID()&&this.customcardsService.getDraftCardsbyID(this.customcardsService.getEditDraftID()).subscribe(r=>{r&&(this.currentDraft=r,this.customcardsService.setProcessingDraft(!0),this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDraftName()))}):(this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{e&&(this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader())})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}addSearchResults(){for(const e in this.currentCards)this.addCardfromDraft(this.currentCards[e])}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}selectDraftImage(e){this.draftImage=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(){if(null!=this.card){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.card)||void 0===i?void 0:i.id)});if(console.log(e),e>-1)return;this.currentDraft.push(this.card)}}addCardfromDraft(e){if(null!=e){const r=this.currentDraft.findIndex(i=>i.id===(null==e?void 0:e.id));if(console.log(r),r>-1)return;this.currentDraft.push(e)}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(){if(null!=this.draftCard){const e=this.currentDraft.findIndex(r=>{var i;return r.id===(null===(i=this.draftCard)||void 0===i?void 0:i.id)});e>-1&&this.currentDraft.splice(e,1),this.draftCard=void 0}}saveDraft(){this.submitted=!0;var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.draftData.invalid||this.currentDraft.length<100)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0;const r={};if(r.ownerid=this.id,null!=this.draftImage)r.draftimage=this.draftImage.drive_id;else if(this.customcardsService.getEditDraft())r.draftimage=this.customcardsService.getEditDraftImage();else{const s=this.randomIntFromInterval(0,this.currentDraft.length-1);r.draftimage=this.currentDraft[s].drive_id}this.customcardsService.getEditDraft()?(r.title=this.draftData.controls.draftTitle.value,r.id=this.customcardsService.getEditDraftID()):r.title=this.draftData.controls.draftTitle.value;const i=[];for(let s=0;s<=this.currentDraft.length-1;s++)i.push(this.currentDraft[s].id);r.cardIDs=i,console.log("this is finaldata id:"+r.id),console.log("this is final data"),console.log(r),this.customcardsService.getEditDraft()?(this.customcardsService.resubmitDraft(r).subscribe(s=>{this.customcardsService.setProcessingDraft(!1),this.customcardsService.editDraft(!1),this.customcardsService.setEditDraftID(-1),this.customcardsService.setEditDraftName(""),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1):(this.customcardsService.submitDraft(r).subscribe(s=>{console.log("JOBS DONE"),console.log(s),this._router.navigate(["/drafts"])},s=>{console.log(s)}),this.submitfail=!1)}}rightAddDraftCard(e,r){this.draftMode?(this.selectCard(r),e.preventDefault(),this.addCard()):(this.selectDraftImage(r),e.preventDefault())}rightDeleteDraftCard(e,r){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard()}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-draft-maker"]],decls:290,vars:64,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],["class","col-auto",4,"ngIf"],[1,"row",3,"keydown.enter"],[1,"col-auto"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"col","btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","addcard",3,"click"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],["type","button","class","btn btn-success addcard",3,"click",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["id","drafTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(y(0,n7,16,13,"div",0),c(1,"div",1)(2,"h2"),p(3,"Drafts require "),c(4,"i"),p(5,"at least 100 cards."),u(),p(6," Submission will not work otherwise."),u(),c(7,"form",2),T("ngSubmit",function(){return r.saveDraft()}),c(8,"div",3),y(9,o7,5,5,"div",4),u()(),c(10,"div",5),T("keydown.enter",function(){return r.submitSearch()}),c(11,"div",6)(12,"label",7),p(13,"Name"),u(),c(14,"input",8),T("ngModelChange",function(s){return r.filters.name=s}),u()(),c(15,"div",6)(16,"label",9),p(17,"Desc"),u(),c(18,"input",8),T("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(19,"div",6)(20,"label",10),p(21,"Creator"),u(),c(22,"input",8),T("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(23,"div",6)(24,"label",11),p(25,"Tag"),u(),c(26,"select",12),T("ngModelChange",function(s){return r.filters.tag=s}),D(27,"option",13),c(28,"option",14),p(29,"Attack Directly"),u(),c(30,"option",15),p(31,"Battle"),u(),c(32,"option",16),p(33,"Boost"),u(),c(34,"option",17),p(35,"Bounce"),u(),c(36,"option",18),p(37,"Burn"),u(),c(38,"option",19),p(39,"Counters"),u(),c(40,"option",20),p(41,"Cripple"),u(),c(42,"option",21),p(43,"Draw "),u(),c(44,"option",22),p(45,"Disrupt"),u(),c(46,"option",23),p(47,"Equip"),u(),c(48,"option",24),p(49,"Excavate"),u(),c(50,"option",25),p(51,"Flip"),u(),c(52,"option",26),p(53,"Fusion"),u(),c(54,"option",27),p(55,"Gain"),u(),c(56,"option",28),p(57,"Gamble"),u(),c(58,"option",29),p(59,"Generic"),u(),c(60,"option",30),p(61,"Hand Protection"),u(),c(62,"option",31),p(63,"Ignore"),u(),c(64,"option",32),p(65,"Lingering"),u(),c(66,"option",33),p(67,"Lockdown"),u(),c(68,"option",34),p(69,"Mill"),u(),c(70,"option",35),p(71,"Mimic"),u(),c(72,"option",36),p(73,"Non-Targeted Removal"),u(),c(74,"option",37),p(75,"Piercing"),u(),c(76,"option",38),p(77,"Position"),u(),c(78,"option",39),p(79,"Protection"),u(),c(80,"option",40),p(81,"Quick"),u(),c(82,"option",41),p(83,"Recycle"),u(),c(84,"option",42),p(85,"Restriction"),u(),c(86,"option",43),p(87,"Ritual"),u(),c(88,"option",44),p(89,"Searcher"),u(),c(90,"option",45),p(91,"Special Summon"),u(),c(92,"option",46),p(93,"Spin"),u(),c(94,"option",47),p(95,"Targeted Removal"),u(),c(96,"option",48),p(97,"Token"),u(),c(98,"option",49),p(99,"Tribute"),u()()(),c(100,"div",6)(101,"label",50),p(102,"Card"),u(),c(103,"select",51),T("ngModelChange",function(s){return r.filters.initial=s}),D(104,"option",13),c(105,"option",52),p(106,"Monster"),u(),c(107,"option",53),p(108,"Spell"),u(),c(109,"option",54),p(110,"Trap"),u()()(),c(111,"div",6)(112,"label",50),p(113,"Card Type 2"),u(),c(114,"select",55),T("ngModelChange",function(s){return r.filters.cardtype=s}),y(115,a7,1,0,"option",56),y(116,l7,2,0,"option",57),y(117,c7,2,0,"option",58),y(118,u7,2,0,"option",59),y(119,d7,2,0,"option",60),y(120,p7,2,0,"option",61),y(121,h7,2,0,"option",62),y(122,f7,2,0,"option",63),y(123,m7,2,0,"option",64),y(124,g7,2,0,"option",65),y(125,_7,1,0,"option",56),y(126,v7,2,0,"option",66),y(127,y7,2,0,"option",67),y(128,C7,2,0,"option",68),y(129,b7,2,0,"option",69),y(130,k7,2,0,"option",70),y(131,D7,2,0,"option",71),y(132,T7,1,0,"option",56),y(133,w7,2,0,"option",72),y(134,S7,2,0,"option",73),y(135,M7,2,0,"option",74),u()(),c(136,"div",6)(137,"label",75),p(138,"Monster Type"),u(),c(139,"select",76),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(140,"option",13),c(141,"option",77),p(142,"Aqua"),u(),c(143,"option",78),p(144,"Beast"),u(),c(145,"option",79),p(146,"Beast-Warrior"),u(),c(147,"option",80),p(148,"Dinosaur"),u(),c(149,"option",81),p(150,"Dragon"),u(),c(151,"option",82),p(152,"Fairy"),u(),c(153,"option",83),p(154,"Fiend"),u(),c(155,"option",84),p(156,"Fish"),u(),c(157,"option",85),p(158,"Insect"),u(),c(159,"option",86),p(160,"Machine"),u(),c(161,"option",87),p(162,"Plant"),u(),c(163,"option",88),p(164,"Psychic"),u(),c(165,"option",89),p(166,"Pyro"),u(),c(167,"option",90),p(168,"Reptile"),u(),c(169,"option",91),p(170,"Rock"),u(),c(171,"option",92),p(172,"Sea Serpent"),u(),c(173,"option",93),p(174,"Spellcaster"),u(),c(175,"option",94),p(176,"Thunder"),u(),c(177,"option",95),p(178,"Warrior"),u(),c(179,"option",96),p(180,"Winged-Beast"),u(),c(181,"option",97),p(182,"Zombie"),u()()()(),c(183,"div",5),T("keydown.enter",function(){return r.submitSearch()}),c(184,"div",6)(185,"label",11),p(186,"Attribute"),u(),c(187,"select",98),T("ngModelChange",function(s){return r.filters.attribute=s}),D(188,"option",13),c(189,"option",99),p(190,"DARK"),u(),c(191,"option",100),p(192,"DIVINE"),u(),c(193,"option",101),p(194,"EARTH"),u(),c(195,"option",102),p(196,"FIRE"),u(),c(197,"option",103),p(198,"LIGHT"),u(),c(199,"option",104),p(200,"WATER"),u(),c(201,"option",105),p(202,"WIND"),u()()(),c(203,"div",6)(204,"label",106),p(205,"Level <= "),u(),c(206,"input",107),T("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(207,"div",6)(208,"label",108),p(209," Level "),u(),c(210,"input",107),T("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(211,"div",6)(212,"label",109),p(213,"Atk <="),u(),c(214,"input",107),T("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(215,"div",6)(216,"label",110),p(217,"Atk"),u(),c(218,"input",107),T("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(219,"div",6)(220,"label",111),p(221,"Def <="),u(),c(222,"input",107),T("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(223,"div",6)(224,"label",112),p(225,"Def"),u(),c(226,"input",107),T("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(227,"div",6)(228,"label",113),p(229,"Sort By"),u(),c(230,"select",51),T("ngModelChange",function(s){return r.filters.sort=s}),c(231,"option",114),p(232,"Release Date ASC"),u(),c(233,"option",115),p(234,"Release Date DESC"),u(),c(235,"option",116),p(236,"Alphabetical ASC"),u(),c(237,"option",117),p(238,"Alphabetical DESC"),u(),y(239,x7,2,0,"option",118),y(240,E7,2,0,"option",119),y(241,I7,2,0,"option",120),y(242,P7,2,0,"option",121),y(243,A7,2,0,"option",122),y(244,O7,2,0,"option",123),u()(),c(245,"button",124),T("click",function(){return r.submitSearch()}),p(246,"Search"),u(),c(247,"div",3)(248,"button",125),T("click",function(){return r.SetDraftMode(!1)}),p(249,"Select Draft Image"),u(),c(250,"button",125),T("click",function(){return r.SetDraftMode(!0)}),p(251,"Select Draft Cards"),u()()(),c(252,"div",126)(253,"div",6)(254,"div",6)(255,"div",127)(256,"div",128),D(257,"span",129),u()()(),y(258,N7,3,1,"span",130),c(259,"div",3)(260,"button",124),T("click",function(){return r.nextPage()}),p(261,"Next"),u(),c(262,"button",124),T("click",function(){return r.prevPage()}),p(263,"Previous"),u()()()(),c(264,"div",3)(265,"h1")(266,"b"),p(267),u(),c(268,"button",131),T("click",function(){return r.addSearchResults()}),p(269,"Add Search Results"),u()(),c(270,"div",132)(271,"h2"),p(272,"Monsters"),u(),y(273,F7,2,1,"span",130),u(),c(274,"div",132)(275,"h2"),p(276,"Spells"),u(),y(277,B7,2,1,"span",130),u(),c(278,"div",132)(279,"h2"),p(280,"Traps"),u(),y(281,H7,2,1,"span",130),u(),c(282,"div",132)(283,"h2"),p(284,"Extra"),u(),y(285,$7,2,1,"span",130),u()(),c(286,"div",3),y(287,U7,2,1,"button",133),y(288,j7,2,0,"div",134),y(289,W7,2,0,"button",135),u()()),2&e&&(g("ngIf",!0===r.isHovering),h(7),g("formGroup",r.draftData),h(2),g("ngIf",!r.customcardsService.getEditDraft()),h(5),g("ngModel",r.filters.name),h(4),g("ngModel",r.filters.desc),h(4),g("ngModel",r.filters.creator),h(4),g("ngModel",r.filters.tag),h(77),g("ngModel",r.filters.initial),h(11),g("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),g("ngModel",r.filters.sort),h(9),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(14),g("ngForOf",r.currentCards),h(9),I("Current Draft (",r.currentDraft.length,")"),h(6),g("ngForOf",r.currentDraft),h(4),g("ngForOf",r.currentDraft),h(4),g("ngForOf",r.currentDraft),h(4),g("ngForOf",r.currentDraft),h(2),g("ngIf",r.currentDraft!=Tf(63,q7)),h(1),g("ngIf",r.submitfail&&r.submitted),h(1),g("ngIf",null!=r.draftCard))},directives:[me,_n,gn,cn,at,Ze,vn,zt,Ut,yn,Yn,Jn,Hs,be],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}"]}),n})();var Vd=ps(327);function K7(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",12),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Q7(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function X7(n,t){if(1&n&&(c(0,"p"),D(1,"img",13),p(2),D(3,"img",14),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function Y7(n,t){if(1&n&&(c(0,"span"),D(1,"img",13),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function J7(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function Z7(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function eH(n,t){if(1&n&&(c(0,"div",10)(1,"p")(2,"b"),p(3),y(4,K7,4,2,"span",11),y(5,Q7,2,1,"span",11),u()(),c(6,"b"),y(7,X7,5,3,"p",11),u(),y(8,Y7,3,2,"span",11),c(9,"b"),y(10,J7,3,2,"p",11),y(11,Z7,2,2,"p",11),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.cardid,"")}}function tH(n,t){if(1&n){const e=L();c(0,"span")(1,"button",15),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.cardid)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightAddDraftCard(i,o)}),c(2,"div",16)(3,"div",17),D(4,"img",18),u(),c(5,"div",19),D(6,"img",20),u()()()()}if(2&n){const e=t.$implicit,r=C();h(2),g("@cardFlip",r.state),h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function nH(n,t){if(1&n){const e=L();c(0,"span")(1,"button",21),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.cardid)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHoverDrafted(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()}),D(2,"img",22),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function rH(n,t){if(1&n&&(c(0,"ul")(1,"li")(2,"b"),p(3),u(),p(4),c(5,"b"),p(6),u()()()),2&n){const e=t.$implicit;h(3),N(null==e?null:e.name),h(1),I(", ",null==e?null:e.cardtype,", "),h(2),N(null==e?null:e.creator)}}let iH=(()=>{class n{constructor(e,r){this.router=e,this.customcardsService=r,this.xml_file="",this.draftMode="generic",this.customEnabled=!1,this.customDraft=[],this.shuffleStyle="nothing",this.customButton1="nothing",this.customButton2="nothing",this.round=0,this.cardsRemaining=15,this.currentDraft=[],this.sortedList=[],this.state="default",this.cardsSelected=0,this.draftCardSelected=!1,this.firstTime=!0,this.draftArray=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}rotate(){this.state="default"===this.state?"flipped":"default"}rightAddDraftCard(e,r){"default"!=this.state&&(this.card=r,e.preventDefault(),this.addCard())}addCard(){this.card&&(this.currentDraft.push(this.card),this.sortedList.push(this.card),this.sortedList.sort((e,r)=>e.name.localeCompare(r.name)),this.sortedList.sort((e,r)=>e.creator.localeCompare(r.creator)),this.card=void 0,this.cardsRemaining--,this.cardsSelected++,this.draftCardSelected=!1,this.cardsRemaining<=0?(this.round++,this.round>=5?this.clearCards():(this.cardsRemaining=15,this.shuffleCards())):this.shuffleCards())}clearCards(){this.randomCards=void 0}ngOnInit(){this.draftMode=this.customcardsService.getDraftType(),this.customEnabled=this.customcardsService.getCustomEnabled(),console.log(this.draftMode),console.log(this.customEnabled),this.customcardsService.getCustomCardsByDraft(this.draftMode).subscribe(e=>{this.customDraft=e,this.cards=e,console.log(this.customDraft),this.shuffleCards()})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}shuffleUnique(e){this.shuffleStyle=e,this.customButton1="nothing",this.customButton2="nothing",this.shuffleCards()}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;switch(console.log(this.shuffleStyle),this.shuffleStyle){case"nothing":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.firstTime?this.firstTime=!1:(this.randomizeButtons(),this.shuffleStyle="nothing");break;case"afres":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.afres.length-1);this.randomCards.push(this.afres[r]),e++}this.shuffleStyle="nothing";break;case"gergoos":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.gergoos.length-1);this.randomCards.push(this.gergoos[r]),e++}this.shuffleStyle="nothing";break;case"swampus":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.swampus.length-1);this.randomCards.push(this.swampus[r]),e++}this.shuffleStyle="nothing";break;case"richie":for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.richie.length-1);this.randomCards.push(this.richie[r]),e++}this.shuffleStyle="nothing";break;case"spells":for(console.log("IN CASE SPELLS");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.spells.length-1);this.randomCards.push(this.spells[r]),e++}this.shuffleStyle="nothing";break;case"traps":for(console.log("IN CASE traps");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.traps.length-1);this.randomCards.push(this.traps[r]),e++}this.shuffleStyle="nothing";break;case"monsters":for(console.log("IN CASE monsters");e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.monsters.length-1);this.randomCards.push(this.monsters[r]),e++}this.shuffleStyle="nothing";break;default:for(;e<this.cardsRemaining;){const r=this.randomIntFromInterval(0,this.cards.length-1);this.randomCards.push(this.cards[r]),e++}this.shuffleStyle="nothing",this.randomizeButtons()}console.log(this.randomCards)}randomizeButtons(){let e=this.randomIntFromInterval(0,12),r=this.randomIntFromInterval(0,12);for(;r==e;)r=this.randomIntFromInterval(0,12);this.findButton(1,e),this.findButton(2,r)}findButton(e,r){switch(r){case 0:1==e?this.customButton1="nothing":this.customButton2="nothing";break;case 1:1==e?this.customButton1="afres":this.customButton2="afres";break;case 2:1==e?this.customButton1="gergoos":this.customButton2="gergoos";break;case 3:1==e?this.customButton1="swampus":this.customButton2="swampus";break;case 4:1==e?this.customButton1="spells":this.customButton2="spells";break;case 5:1==e?this.customButton1="traps":this.customButton2="traps";break;case 6:1==e?this.customButton1="monsters":this.customButton2="monsters";break;case 7:1==e?this.customButton1="richie":this.customButton2="richie";break;default:this.customButton1="nothing"}}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.customButton1="nothing",this.customButton2="nothing",this.rotate()}openNextPack(){this.shuffleCards(),this.rotate()}showDetails2(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.draftCardSelected=!1,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if("default"!=this.state)if(this.draftCardSelected=!0,this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.currentDraft)"Fusion Monster"!=r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side></side><extra>";for(const r of this.currentDraft)"Fusion Monster"==r.cardtype&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Vd.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-draft-form"]],decls:23,vars:5,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"text-center"],[1,"container-fluid"],[1,"row"],[1,"btn","btn-success",3,"click"],[1,"col-md-8","text-center","colRand"],[4,"ngFor","ngForOf"],[1,"colDraft","col"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave","contextmenu"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"],[1,"btn","btn-default","btncard",3,"click","mouseenter","mouseleave"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(y(0,eH,16,13,"div",0),c(1,"div",1)(2,"h1",2),p(3,"This is a Pseudo Draft. You open a pack of 15 from the entire database, select 1, then open a pack with one less card, and you repeat the process until you have 60 cards. "),u()(),c(4,"div",3)(5,"div",4)(6,"div",1)(7,"button",5),T("click",function(){return r.revealCards()}),p(8,"Reveal Cards"),u()()(),c(9,"div",4)(10,"div",6)(11,"div"),y(12,tH,7,2,"span",7),u()(),c(13,"div",8)(14,"h2"),p(15),u(),y(16,nH,3,1,"span",7),u()(),c(17,"div",9)(18,"button",5),T("click",function(){return r.exportList()}),p(19,"Export XML"),u(),c(20,"h2"),p(21,"Card List"),u(),y(22,rH,7,3,"ul",7),u()()),2&e&&(g("ngIf",!0===r.isHovering),h(12),g("ngForOf",r.randomCards),h(3),I("Current Cards ( ",r.cardsSelected,"/60)"),h(1),g("ngForOf",r.currentDraft),h(6),g("ngForOf",r.sortedList))},directives:[me,be],styles:[".bigcard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:1px;width:150px;height:225px;cursor:pointer;position:relative;transform-style:preserve-3d}.colRand[_ngcontent-%COMP%]{width:1000px}.colDraft[_ngcontent-%COMP%]{width:500px}.colCardInfo[_ngcontent-%COMP%]{width:400px}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.btncard[_ngcontent-%COMP%]{padding:0;margin:0}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}"],data:{animation:[yd("cardFlip",[Wi("default",$r({transform:"none"})),Wi("flipped",$r({transform:"rotateY(180deg)"})),qi("default => flipped",[ji("400ms")]),qi("flipped => default",[ji("0ms")])])]}}),n})();function sH(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),p(4),u()(),c(5,"td")(6,"a",5),p(7),u()(),c(8,"td"),p(9),u()()()),2&n){const e=t.$implicit;h(2),A("routerLink","/players/",null==e?null:e.creatorid,""),h(2),N(null==e?null:e.creator),h(2),A("routerLink","/decklist/",e.id,""),h(1),N(null==e?null:e.name),h(2),N(null==e?null:e.description)}}let oH=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getDecklists().subscribe(e=>{this.decklists=e,console.log(this.decklists)})}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Public Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Creator"),u(),c(8,"th",3),p(9,"Decklist"),u(),c(10,"th",3),p(11,"Description"),u()()(),y(12,sH,10,5,"tbody",4),u()()),2&e&&(h(12),g("ngForOf",r.decklists))},directives:[be,an],styles:[""]}),n})();function aH(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",5),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function lH(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function cH(n,t){if(1&n&&(c(0,"p"),D(1,"img",6),p(2),D(3,"img",7),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function uH(n,t){if(1&n&&(c(0,"span"),D(1,"img",6),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function dH(n,t){if(1&n&&(c(0,"p"),D(1,"img",5),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function pH(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function hH(n,t){if(1&n&&(c(0,"div",3)(1,"p")(2,"b"),p(3),y(4,aH,4,2,"span",4),y(5,lH,2,1,"span",4),u()(),c(6,"b"),y(7,cH,5,3,"p",4),u(),y(8,uH,3,2,"span",4),c(9,"b"),y(10,dH,3,2,"p",4),y(11,pH,2,2,"p",4),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function fH(n,t){if(1&n){const e=L();c(0,"button",9),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",10),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function mH(n,t){if(1&n&&(c(0,"span"),y(1,fH,2,1,"button",8),u()),2&n){const e=t.$implicit;h(1),g("ngIf","Limited"==e.tag)}}function gH(n,t){if(1&n){const e=L();c(0,"button",9),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",10),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _H(n,t){if(1&n&&(c(0,"span"),y(1,gH,2,1,"button",8),u()),2&n){const e=t.$implicit;h(1),g("ngIf","Semi-Limited"==e.tag)}}let vH=(()=>{class n{constructor(e,r){this.customcardsService=e,this._router=r,this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.customcardsService.getBanlist().subscribe(e=>{this.cards=e})}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-banlist"]],decls:12,vars:3,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["class","btn btn-default",3,"mouseenter","mouseleave","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","click"],[1,"smallcard",3,"src"]],template:function(e,r){1&e&&(y(0,hH,16,13,"div",0),c(1,"div",1)(2,"h1"),p(3,"Banlist"),u(),c(4,"h2"),p(5,"Banned"),u(),c(6,"h2"),p(7,"Limited"),u(),y(8,mH,2,1,"span",2),c(9,"h2"),p(10,"Semi-Limited"),u(),y(11,_H,2,1,"span",2),u()),2&e&&(g("ngIf",!0===r.isHovering),h(8),g("ngForOf",r.cards),h(3),g("ngForOf",r.cards))},directives:[me,be],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}"]}),n})();function yH(n,t){if(1&n&&(c(0,"div",3)(1,"div",4),D(2,"img",5),c(3,"div",6)(4,"h5",7),p(5),u(),c(6,"p",8),p(7),u(),c(8,"p",8),p(9),u()()()()),2&n){const e=t.$implicit;h(1),A("routerLink","/articles/",null==e?null:e.id,""),h(1),H("src",e.header_img,P),h(3),N(e.title),h(2),N(e.header),h(2),I("By ",e.username,"")}}let CH=(()=>{class n{constructor(e){this._customCardsService=e}ngOnInit(){this._customCardsService.getArticles().subscribe(e=>{this.articles=e,console.log(this.articles)},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-articles"]],decls:5,vars:1,consts:[[1,"container","center"],[1,"row"],["class","col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4"],[1,"card",2,"width","302px",3,"routerLink"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Recent Articles"),u(),c(3,"div",1),y(4,yH,10,5,"div",2),u()()),2&e&&(h(4),g("ngForOf",r.articles))},directives:[be,on],styles:[".card-img-top[_ngcontent-%COMP%]{width:300px;height:150px;object-fit:cover}.card[_ngcontent-%COMP%]{margin:5px;padding:auto;cursor:pointer}"]}),n})();function bH(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",12),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function kH(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function DH(n,t){if(1&n&&(c(0,"p"),D(1,"img",13),p(2),D(3,"img",14),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function TH(n,t){if(1&n&&(c(0,"span"),D(1,"img",13),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function wH(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function SH(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function MH(n,t){if(1&n&&(c(0,"div",10)(1,"p")(2,"b"),p(3),y(4,bH,4,2,"span",11),y(5,kH,2,1,"span",11),u()(),c(6,"b"),y(7,DH,5,3,"p",11),u(),y(8,TH,3,2,"span",11),c(9,"b"),y(10,wH,3,2,"p",11),y(11,SH,2,2,"p",11),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function xH(n,t){if(1&n&&(c(0,"option",15),p(1),u()),2&n){const e=t.$implicit;H("value",e.id),h(1),N(e.title)}}function EH(n,t){if(1&n&&(c(0,"div",19),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function IH(n,t){1&n&&D(0,"img",26)}function PH(n,t){1&n&&D(0,"img",27)}function AH(n,t){1&n&&D(0,"img",28)}function OH(n,t){if(1&n&&(c(0,"div",22),y(1,IH,1,0,"img",23),y(2,PH,1,0,"img",24),y(3,AH,1,0,"img",25),D(4,"img",20),c(5,"div",21),p(6),u()()),2&n){const e=C().$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),g("ngIf","super"==e.rarity),h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function NH(n,t){if(1&n){const e=L();c(0,"span")(1,"button",16),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()}),y(2,EH,4,2,"div",17),y(3,OH,7,5,"div",18),u()()}if(2&n){const e=t.$implicit;h(2),g("ngIf","common"==e.rarity),h(1),g("ngIf","common"!=e.rarity)}}let RH=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.binders=[],this.cards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getBindersByOwner(this.creatorid).subscribe(r=>{r&&(this.binders=r,console.log(this.binders))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}selectBinder(){this.customcardsService.getCardsByBinderID(this.binderID).subscribe(e=>{e&&(this.cards=e,console.log(this.cards))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-binders"]],decls:15,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[1,"row"],[1,"col","justify-content-between"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(y(0,MH,16,13,"div",0),c(1,"h1",1),p(2,"Card Binder Management"),u(),c(3,"h2",1),p(4,"Your Binders"),u(),c(5,"div",2)(6,"span",3),p(7,"Binder: "),u(),c(8,"select",4),T("ngModelChange",function(s){return r.binderID=s}),y(9,xH,2,2,"option",5),u(),c(10,"button",6),T("click",function(){return r.selectBinder()}),p(11,"Select Binder"),u()(),c(12,"div",7)(13,"div",8),y(14,NH,4,2,"span",9),u()()),2&e&&(g("ngIf",!0===r.isHovering),h(8),g("ngModel",r.binderID),h(1),g("ngForOf",r.binders),h(5),g("ngForOf",r.cards))},directives:[me,yn,Ze,Ut,be,Yn,Jn],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-100%)}to{transform:translate(80%)}}']}),n})();function FH(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",16),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function LH(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function BH(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),D(3,"img",18),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function VH(n,t){if(1&n&&(c(0,"span"),D(1,"img",17),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function HH(n,t){if(1&n&&(c(0,"p"),D(1,"img",16),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function zH(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function $H(n,t){if(1&n&&(c(0,"div",14)(1,"p")(2,"b"),p(3),y(4,FH,4,2,"span",15),y(5,LH,2,1,"span",15),u()(),c(6,"b"),y(7,BH,5,3,"p",15),u(),y(8,VH,3,2,"span",15),c(9,"b"),y(10,HH,3,2,"p",15),y(11,zH,2,2,"p",15),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function UH(n,t){if(1&n&&(c(0,"div",29),D(1,"img",30),u()),2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function jH(n,t){1&n&&D(0,"img",35)}function WH(n,t){1&n&&D(0,"img",36)}function qH(n,t){1&n&&D(0,"img",37)}function GH(n,t){if(1&n&&(c(0,"div",31),y(1,jH,1,0,"img",32),y(2,WH,1,0,"img",33),y(3,qH,1,0,"img",34),D(4,"img",30),u()),2&n){const e=C().$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),g("ngIf","super"==e.rarity),h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function KH(n,t){if(1&n&&(c(0,"span")(1,"b"),p(2),u()()),2&n){const e=C().$implicit;h(2),N(null==e?null:e.rarity)}}function QH(n,t){if(1&n&&(c(0,"span",38)(1,"b"),p(2),u()()),2&n){const e=C().$implicit;h(2),N(null==e?null:e.rarity)}}function XH(n,t){if(1&n&&(c(0,"span",39)(1,"b"),p(2),u()()),2&n){const e=C().$implicit;h(2),N(null==e?null:e.rarity)}}function YH(n,t){if(1&n&&(c(0,"span",40)(1,"b"),p(2),u()()),2&n){const e=C().$implicit;h(2),N(null==e?null:e.rarity)}}function JH(n,t){if(1&n&&(c(0,"span",41)(1,"b"),p(2),u()()),2&n){const e=C().$implicit;h(2),N(null==e?null:e.rarity)}}function ZH(n,t){if(1&n){const e=L();c(0,"span")(1,"button",19),T("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),c(2,"div",20),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()}),c(3,"div",21),D(4,"img",22),u(),y(5,UH,2,1,"div",23),y(6,GH,5,4,"div",24),u(),y(7,KH,3,1,"span",15),y(8,QH,3,1,"span",25),y(9,XH,3,1,"span",26),y(10,YH,3,1,"span",27),y(11,JH,3,1,"span",28),u()()}if(2&n){const e=t.$implicit,r=C();h(2),g("@cardFlip",r.state),h(3),g("ngIf","common"==e.rarity),h(1),g("ngIf","common"!=e.rarity),h(1),g("ngIf",1==r.revealed&&"common"==e.rarity),h(1),g("ngIf",1==r.revealed&&"rare"==e.rarity),h(1),g("ngIf",1==r.revealed&&"super"==e.rarity),h(1),g("ngIf",1==r.revealed&&"ultra"==e.rarity),h(1),g("ngIf",1==r.revealed&&"secret"==e.rarity)}}function e9(n,t){if(1&n){const e=L();c(0,"button",9),T("click",function(){return S(e),C().revealCards()}),p(1),u()}if(2&n){const e=C();g("disabled",1==e.finishedPacks||1==e.revealed),h(1),Me("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function t9(n,t){if(1&n){const e=L();c(0,"button",9),T("click",function(){return S(e),C().revealDraftCards()}),p(1),u()}if(2&n){const e=C();g("disabled",1==e.finishedPacks||1==e.revealed),h(1),Me("Open Pack ",e.packsOpened,"/",e.packAmount,"")}}function n9(n,t){if(1&n&&(c(0,"option",44),p(1),u()),2&n){const e=t.$implicit;H("value",e.id),h(1),N(e.title)}}function r9(n,t){if(1&n){const e=L();c(0,"select",42),T("ngModelChange",function(i){return S(e),C().binderID=i}),y(1,n9,2,2,"option",43),u()}if(2&n){const e=C();g("ngModel",e.binderID),h(1),g("ngForOf",e.binders)}}function i9(n,t){if(1&n){const e=L();c(0,"button",9),T("click",function(){return S(e),C().addToBinder()}),p(1,"Save to binder"),u()}if(2&n){const e=C();g("disabled",0==e.finishedPacks||0==e.revealed)}}function s9(n,t){1&n&&(c(0,"div")(1,"p",52),p(2,"Give Binder name"),u()())}function o9(n,t){if(1&n&&(c(0,"div",51),y(1,s9,3,0,"div",15),u()),2&n){const e=C(2);h(1),g("ngIf",e.f.binderName.errors.required)}}const a9=function(n){return{"is-invalid":n}};function l9(n,t){if(1&n){const e=L();c(0,"form",45),T("ngSubmit",function(){return S(e),C().submitBinder()}),c(1,"div",2)(2,"div",46)(3,"label",47),p(4,"Binder Name"),u(),c(5,"input",48),T("ngModelChange",function(i){return S(e),C().binderName=i}),u(),y(6,o9,2,1,"div",49),u()(),c(7,"button",50),p(8,"Save new binder"),u()()}if(2&n){const e=C();g("formGroup",e.binderData),h(5),g("ngClass",Le(5,a9,e.submitted&&e.f.binderName.errors))("ngModel",e.binderName),h(1),g("ngIf",e.submitted&&e.f.binderName.errors),h(1),g("disabled",0==e.finishedPacks||0==e.revealed)}}function c9(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),D(3,"img",18),p(4),u()),2&n){const e=C(2);h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," "),h(2),I(" ",null==e.card?null:e.card.level," ")}}function u9(n,t){if(1&n&&(c(0,"p"),D(1,"img",17),p(2),u()),2&n){const e=C(2);h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," ")}}function d9(n,t){if(1&n&&(c(0,"h4"),D(1,"img",16),p(2),u()),2&n){const e=C(2);h(1),H("src",e.stType,P),h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function p9(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=C(2);h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function h9(n,t){if(1&n&&(c(0,"p"),D(1,"img",16),p(2),u()),2&n){const e=C(2);h(1),H("src",e.mType,P),h(1),I(" ",null==e.card?null:e.card.type,"")}}function f9(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function m9(n,t){if(1&n&&(c(0,"div",4)(1,"div",53),D(2,"img",54),u(),c(3,"div",55)(4,"b"),y(5,c9,5,3,"p",15),u(),y(6,u9,3,2,"p",15),c(7,"h3"),p(8),u(),y(9,d9,3,2,"h4",15),y(10,p9,2,1,"h4",15),c(11,"b"),y(12,h9,3,2,"p",15),y(13,f9,2,2,"p",15),c(14,"p"),p(15),u()()()()),2&n){const e=C();h(2),A("routerLink","/cards/",e.card.id,"")("src","https://drive.google.com/uc?export=view&id=",null==e.card?null:e.card.drive_id,"",P),h(3),g("ngIf","True"==e.monster),h(1),g("ngIf","False"==e.monster),h(2),N(null==e.card?null:e.card.name),h(1),g("ngIf","False"==e.monster),h(1),g("ngIf","True"==e.monster),h(2),g("ngIf","True"==e.monster),h(1),g("ngIf","True"==e.monster),h(2),I(" ",null==e.card?null:e.card.effect,"")}}function g9(n,t){if(1&n){const e=L();c(0,"span")(1,"img",56),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)}),u()()}if(2&n){const e=t.$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _9(n,t){if(1&n&&(c(0,"ul")(1,"li")(2,"b"),p(3),u(),p(4),c(5,"b"),p(6),u()()()),2&n){const e=t.$implicit;h(3),N(null==e?null:e.name),h(1),I(", ",null==e?null:e.cardtype,", "),h(2),N(null==e?null:e.creator)}}let v9=(()=>{class n{constructor(e,r,i,s){this.authService=e,this.customcardsService=r,this.route=i,this.router=s,this.randomCards=[],this.commonCards=[],this.rareCards=[],this.superCards=[],this.ultraCards=[],this.secretCards=[],this.packsOpened=0,this.packAmount=0,this.cardsRemaining=9,this.currentOpened=[],this.openedPack=[],this.revealed=!1,this.state="default",this.submitted=!1,this.submitfail=!1,this.sealedmode=!1,this.binders=[],this.binderData=new kt({binderName:new de(" ",[U.required,U.minLength(5),U.maxLength(100)])}),this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.finishedPacks=!1}ngOnChanges(e){console.log(e),this.queueNextPack()}get f(){return this.binderData.controls}rotate(){this.state="default"===this.state?"flipped":"default"}queueNextPack(){var e;this.currentPack=this.packQueue[0],this.packQueue=this.packQueue.slice(1),console.log(this.packQueue);let r=null===(e=this.currentPack)||void 0===e?void 0:e.packid;this.packID=r,zl(this.customcardsService.getPackInfoByID(this.packID),this.customcardsService.getCustomCardsByPack(this.packID)).subscribe(([i,s])=>{if(this.packInfo=i,this.cards=s,this.secretCards=[],this.ultraCards=[],this.superCards=[],this.rareCards=[],this.commonCards=[],"small"==this.packInfo.packsize){this.cardsRemaining=3;let o=0;for(;2!=o;o++)this.ultraCards.push(this.cards[o]);for(;6!=o;o++)this.superCards.push(this.cards[o]);for(;7!=o;o++)this.secretCards.push(this.cards[o]);for(;16!=o;o++)this.rareCards.push(this.cards[o]);for(;31!=o;o++)this.commonCards.push(this.cards[o])}if("medium"==this.packInfo.packsize){this.cardsRemaining=9;let o=0;for(;10!=o;o++)this.ultraCards.push(this.cards[o]);for(;25!=o;o++)this.superCards.push(this.cards[o]);for(;27!=o;o++)this.secretCards.push(this.cards[o]);for(;52!=o;o++)this.rareCards.push(this.cards[o]);for(;100!=o;o++)this.commonCards.push(this.cards[o])}if("large"==this.packInfo.packsize){this.cardsRemaining=13;let o=0;for(;14!=o;o++)this.ultraCards.push(this.cards[o]);for(;34!=o;o++)this.superCards.push(this.cards[o]);for(;40!=o;o++)this.secretCards.push(this.cards[o]);for(;100!=o;o++)this.rareCards.push(this.cards[o]);for(;200!=o;o++)this.commonCards.push(this.cards[o])}this.shuffleCards()}),this.packAmount=this.currentPack.amount}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),"flipped"==this.state&&(this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails())}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.sealedmode=this.customcardsService.getSealedDraftMode(),0==this.sealedmode&&this.customcardsService.getBindersByOwner(this.id).subscribe(r=>{this.binders=r})}),console.log(this.cards)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}shuffleCards(){"flipped"===this.state&&(this.state="default"),this.randomCards=[];let e=0;for(;e<this.cardsRemaining;){if(e<this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.commonCards.length-1);let i=this.commonCards[r];for(;this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.commonCards.length-1);i=this.commonCards[s]}this.randomCards.push(i)}if(e==this.cardsRemaining-2){const r=this.randomIntFromInterval(0,this.rareCards.length-1);this.randomCards.push(this.rareCards[r])}if(e==this.cardsRemaining-1){const r=this.randomIntFromInterval(0,5),i=this.randomIntFromInterval(0,11),s=this.randomIntFromInterval(0,30),o=this.randomIntFromInterval(0,this.commonCards.length-1);let a=this.commonCards[o];for(;this.randomCards.findIndex(l=>l.id===(null==a?void 0:a.id))>-1;){const l=this.randomIntFromInterval(0,this.commonCards.length-1);a=this.commonCards[l]}if(console.log(r,i,s),0==r){const l=this.randomIntFromInterval(0,this.superCards.length-1);a=this.superCards[l]}if(0==i){const l=this.randomIntFromInterval(0,this.ultraCards.length-1);a=this.ultraCards[l]}if(0==s){const l=this.randomIntFromInterval(0,this.secretCards.length-1);a=this.secretCards[l]}this.randomCards.push(a)}e++}this.packsOpened++,console.log(this.randomCards)}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}revealCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.authService.subtractCurrency(this.currentPack.cost),this.addPackToCollection(),this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}openNextPack(){this.revealed=!1,this.openedPack=[],this.packsOpened==this.packAmount?(this.packsOpened=0,this.queueNextPack()):(this.rotate(),this.shuffleCards(),this.card=void 0)}revealDraftCards(){this.rotate(),this.revealed=!0;for(const e of this.randomCards)this.currentOpened.push(e),this.openedPack.push(e);this.currentOpened.sort((e,r)=>e.name.localeCompare(r.name)),this.currentOpened.sort((e,r)=>e.creator.localeCompare(r.creator)),0!=this.packQueue.length||this.packsOpened!=this.packAmount||(this.finishedPacks=!0)}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if("default"!=this.state)if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}submitBinder(){if(this.submitted=!0,this.binderData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");const e={};e.title=this.binderData.controls.binderName.value,e.creatorid=this.id,e.cards=this.currentOpened,e.packid=this.packID,this.customcardsService.submitBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}addPackToCollection(){const e={};e.cards=this.openedPack,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToCollection(e).subscribe(r=>{console.log(r)},r=>{console.log(r)})}addToBinder(){const e={};e.cards=this.currentOpened,e.packid=this.packID,e.creatorid=this.id,e.binderid=this.binderID,this.customcardsService.addToBinder(e).subscribe(r=>{console.log(r),this.router.navigate(["/packs"])},r=>{console.log(r)})}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(sn),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-pack-opener"]],inputs:{packQueue:"packQueue"},features:[Lt],decls:27,vars:12,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"text-center"],[1,"row","justify-content-center"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],[1,"container"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],["aria-label","Default select example",3,"ngModel","ngModelChange",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click"],[1,"card",3,"click","mouseenter","mouseleave"],[1,"face","back"],["src","assets/cardimages/Default.png"],["class","face front",4,"ngIf"],["class","face front rare-card",4,"ngIf"],["style","color:blue;",4,"ngIf"],["style","color:orangered;",4,"ngIf"],["style","color:red;",4,"ngIf"],["style","color:purple;",4,"ngIf"],[1,"face","front"],[3,"src"],[1,"face","front","rare-card"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"sparkle"],[2,"color","blue"],[2,"color","orangered"],[2,"color","red"],[2,"color","purple"],["aria-label","Default select example",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","binderName","formControlName","binderName","type","text",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-success",3,"disabled"],[1,"invalid-feedback"],[1,"red"],[1,"col-sm-2"],["href","",1,"bigcard",3,"routerLink","src"],[1,"col-md-4","cardeffect"],["href","",1,"smallcard",3,"src","click"]],template:function(e,r){1&e&&(y(0,$H,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"h1",3),p(4),u()(),c(5,"div",4)(6,"div",5)(7,"div"),y(8,ZH,12,8,"span",6),u()()(),c(9,"div",7),y(10,e9,2,3,"button",8),y(11,t9,2,3,"button",8),c(12,"button",9),T("click",function(){return r.openNextPack()}),p(13,"Open Next Pack"),u(),y(14,r9,2,2,"select",10),y(15,i9,2,1,"button",8),u(),c(16,"div",7),y(17,l9,9,7,"form",11),u(),y(18,m9,16,10,"div",12),c(19,"div",13)(20,"h2"),p(21,"Current Cards"),u(),y(22,g9,2,1,"span",6),u(),c(23,"div",13)(24,"h2"),p(25,"Card List"),u(),y(26,_9,7,3,"ul",6),u()()),2&e&&(g("ngIf",!0===r.isHovering),h(4),N(r.currentPack.title),h(4),g("ngForOf",r.randomCards),h(2),g("ngIf",0==r.sealedmode),h(1),g("ngIf",1==r.sealedmode),h(1),g("disabled",1==r.finishedPacks||0==r.revealed),h(2),g("ngIf",r.binders.length>0&&0==r.sealedmode),h(1),g("ngIf",r.binders.length>0&&0==r.sealedmode),h(2),g("ngIf",0==r.sealedmode),h(1),g("ngIf",null!=r.card),h(4),g("ngForOf",r.currentOpened),h(4),g("ngForOf",r.currentOpened))},directives:[me,be,yn,Ze,Ut,Yn,Jn,_n,gn,cn,at,vn,zt,on],styles:['.bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.sparkle[_ngcontent-%COMP%]{position:absolute}.rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;width:75%;height:100%;position:absolute;z-index:1;animation:slide 1.5s infinite 1s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-170%)}to{transform:translate(-20%)}}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:200px}'],data:{animation:[yd("cardFlip",[Wi("default",$r({transform:"none"})),Wi("flipped",$r({transform:"rotateY(180deg)"})),qi("default => flipped",[ji("400ms")]),qi("flipped => default",[ji("0ms")])])]}}),n})();const y9=["packtracker"];function C9(n,t){if(1&n&&D(0,"img",11),2&n){const e=C().$implicit;A("routerLink","/packs/",e.packid,"")("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",P)}}function b9(n,t){1&n&&D(0,"img",12),2&n&&A("routerLink","/packs/",C().$implicit.packid,"")}function k9(n,t){if(1&n){const e=L();c(0,"p"),p(1),c(2,"select",13),T("ngModelChange",function(i){S(e);const s=C().$implicit;return C(2).queuePack(s,i)}),c(3,"option",14),p(4,"0"),u(),c(5,"option",15),p(6,"1"),u(),c(7,"option",16),p(8,"2"),u(),c(9,"option",17),p(10,"3"),u(),c(11,"option",18),p(12,"4"),u(),c(13,"option",19),p(14,"5"),u(),c(15,"option",20),p(16,"6"),u(),c(17,"option",21),p(18,"7"),u(),c(19,"option",22),p(20,"8"),u(),c(21,"option",23),p(22,"9"),u(),c(23,"option",24),p(24,"10"),u(),c(25,"option",25),p(26,"12"),u(),c(27,"option",26),p(28,"15"),u(),c(29,"option",27),p(30,"24"),u(),c(31,"option",28),p(32,"30"),u()()()}if(2&n){const e=C().$implicit,r=C(2);h(1),I("Cost: ",e.cost,""),h(1),g("ngModel",r.chosenPack)}}function D9(n,t){if(1&n){const e=L();c(0,"p"),p(1,"Amount:"),c(2,"select",13),T("ngModelChange",function(i){S(e);const s=C().$implicit;return C(2).queuePack(s,i)}),c(3,"option",14),p(4,"0"),u(),c(5,"option",15),p(6,"1"),u(),c(7,"option",16),p(8,"2"),u(),c(9,"option",17),p(10,"3"),u(),c(11,"option",18),p(12,"4"),u(),c(13,"option",19),p(14,"5"),u(),c(15,"option",20),p(16,"6"),u(),c(17,"option",21),p(18,"7"),u(),c(19,"option",22),p(20,"8"),u(),c(21,"option",23),p(22,"9"),u(),c(23,"option",24),p(24,"10"),u(),c(25,"option",25),p(26,"12"),u(),c(27,"option",26),p(28,"15"),u(),c(29,"option",27),p(30,"24"),u(),c(31,"option",28),p(32,"30"),u()()()}if(2&n){const e=C(3);h(2),g("ngModel",e.chosenPack)}}function T9(n,t){if(1&n&&(c(0,"div",7),y(1,C9,1,2,"img",8),y(2,b9,1,1,"img",9),y(3,k9,33,2,"p",10),y(4,D9,33,1,"p",10),u()),2&n){const e=t.$implicit,r=C(2);h(1),g("ngIf","placeholder"!=e.pack),h(1),g("ngIf","placeholder"==e.pack),h(1),g("ngIf",0==r.sealedmode),h(1),g("ngIf",1==r.sealedmode)}}function w9(n,t){1&n&&(c(0,"span"),p(1,">>"),u())}function S9(n,t){1&n&&(c(0,"span"),p(1," << "),u())}function M9(n,t){if(1&n&&(c(0,"p",36),p(1),u()),2&n){const e=C().$implicit;h(1),Me("",e.title," x",e.amount,"")}}function x9(n,t){if(1&n&&(c(0,"div"),y(1,M9,2,2,"p",35),u()),2&n){const e=t.$implicit;h(1),g("ngIf",null!=e)}}function E9(n,t){if(1&n){const e=L();c(0,"div",29,30)(2,"button",31),T("click",function(){return S(e),C(2).minimizePackTracker()}),y(3,w9,2,0,"span",10),y(4,S9,2,0,"span",10),u(),c(5,"p"),p(6,"Packs Selected"),u(),y(7,x9,2,1,"div",32),c(8,"p",33),p(9),u(),c(10,"button",34),T("click",function(){return S(e),C(2).openPack()}),p(11,"Open Packs"),u()()}if(2&n){const e=C(2);g("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),h(3),g("ngIf",e.maximized),h(1),g("ngIf",!e.maximized),h(3),g("ngForOf",e.packTrackerArray),h(2),I("Total Cost: ",e.totalCost,""),h(1),g("disabled",0==e.packLength||e.totalCost>e.currency||0==e.totalCost)}}function I9(n,t){1&n&&(c(0,"span"),p(1,">>"),u())}function P9(n,t){1&n&&(c(0,"span"),p(1," << "),u())}function A9(n,t){if(1&n&&(c(0,"p",36),p(1),u()),2&n){const e=C().$implicit;h(1),Me("",e.title," x",e.amount,"")}}function O9(n,t){if(1&n&&(c(0,"div"),y(1,A9,2,2,"p",35),u()),2&n){const e=t.$implicit;h(1),g("ngIf",null!=e)}}function N9(n,t){if(1&n){const e=L();c(0,"div",29,30)(2,"button",31),T("click",function(){return S(e),C(2).minimizePackTracker()}),y(3,I9,2,0,"span",10),y(4,P9,2,0,"span",10),u(),c(5,"p"),p(6,"Packs Selected"),u(),y(7,O9,2,1,"div",32),c(8,"button",34),T("click",function(){return S(e),C(2).openPack()}),p(9,"Open Packs"),u()()}if(2&n){const e=C(2);g("ngClass",e.maximized?"position-fixed bottom-0 end-0":"sidepush position-fixed bottom-0 end-0"),h(3),g("ngIf",e.maximized),h(1),g("ngIf",!e.maximized),h(3),g("ngForOf",e.packTrackerArray),h(1),g("disabled",0==e.packLength)}}function R9(n,t){if(1&n&&(c(0,"div",3)(1,"div",4),y(2,T9,5,4,"div",5),u(),y(3,E9,12,6,"div",6),y(4,N9,10,5,"div",6),u()),2&n){const e=C();h(2),g("ngForOf",e.packs),h(1),g("ngIf",0==e.sealedmode),h(1),g("ngIf",1==e.sealedmode)}}function F9(n,t){1&n&&D(0,"app-pack-opener",37),2&n&&g("packQueue",C().packTrackerArray)}let L9=(()=>{class n{constructor(e,r,i){this.router=e,this._authService=r,this.customcardsService=i,this.openingPacks=!1,this.packLength=0,this.maximized=!0,this.packs=[],this.packSelected=!1,this.packAmount=0,this.packsSelected=new Map,this.packTrackerArray=[],this.totalCost=0,this.sealedmode=!1}queuePack(e,r){let i={packid:e.packid,title:e.title,cost:e.cost,amount:r};const s=this.packTrackerArray.findIndex(o=>o.packid===(null==i?void 0:i.packid));if(s>-1)console.log("im in index "+s),0==i.amount?(this.packTrackerArray.splice(s,1),this.packLength--):this.packTrackerArray[s].amount=i.amount;else{if(0==i.amount)return;console.log("im in else"),this.packTrackerArray.push(i)}this.packLength++,this.totalCost=0;for(let o in this.packTrackerArray)this.totalCost+=this.packTrackerArray[o].cost*this.packTrackerArray[o].amount}ngOnInit(){this.sealedmode=this.customcardsService.getSealedDraftMode(),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}SetPackNo(e,r){this.packSelected=!0,this.packAmount=e,this.customcardsService.SetPackNo(e,r)}openPack(){this.customcardsService.setPackQueue(this.packTrackerArray),this.openingPacks=!0}minimizePackTracker(){this.maximized=!this.maximized}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-packs"]],viewQuery:function(e,r){if(1&e&&gu(y9,5,yt),2&e){let i;Jo(i=Zo())&&(r.packtracker=i.first)}},decls:4,vars:2,consts:[[1,"selectedPacks"],["class","container justify-content-center",4,"ngIf"],[3,"packQueue",4,"ngIf"],[1,"container","justify-content-center"],[1,"row","align-items-center"],["class","col",4,"ngFor","ngForOf"],["class","packtracker ",3,"ngClass",4,"ngIf"],[1,"col"],["routerLinkActive","active","class","pack",3,"routerLink","src",4,"ngIf"],["routerLinkActive","active","class","pack","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",3,"routerLink",4,"ngIf"],[4,"ngIf"],["routerLinkActive","active",1,"pack",3,"routerLink","src"],["routerLinkActive","active","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack",3,"routerLink"],["id","attribute",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","12"],["value","15"],["value","24"],["value","30"],[1,"packtracker",3,"ngClass"],["packtracker",""],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"tinytext","bottom-1"],[1,"btn","position-fixed","bottom-0",3,"disabled","click"],["class","tinytext",4,"ngIf"],[1,"tinytext"],[3,"packQueue"]],template:function(e,r){1&e&&(c(0,"div",0),p(1,"Test"),u(),y(2,R9,5,3,"div",1),y(3,F9,1,1,"app-pack-opener",2)),2&e&&(h(2),g("ngIf",0==r.openingPacks),h(1),g("ngIf",1==r.openingPacks))},directives:[me,be,od,on,yn,Ze,Ut,Yn,Jn,zt,v9],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.sidepush[_ngcontent-%COMP%]{left:95%}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:#04713fe6;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();const qw=n=>{const t=(n=>{const t={};return Object.keys(n).forEach(e=>{n[e]&&(t[e]=n[e])}),t})(n);return Object.entries(t).map(([e,r])=>`${(n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))(e)}:${r}`).join(";")};class Vg extends Error{constructor(t){super(t),this.name=this.constructor.name}}function jt(n){this.content=n}jt.prototype={constructor:jt,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return-1==t?void 0:this.content[t+1]},update:function(n,t,e){var r=e&&e!=n?this.remove(e):this,i=r.find(n),s=r.content.slice();return-1==i?s.push(e||n,t):(s[i+1]=t,e&&(s[i]=e)),new jt(s)},remove:function(n){var t=this.find(n);if(-1==t)return this;var e=this.content.slice();return e.splice(t,2),new jt(e)},addToStart:function(n,t){return new jt([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new jt(e)},addBefore:function(n,t,e){var r=this.remove(t),i=r.content.slice(),s=r.find(n);return i.splice(-1==s?i.length:s,0,t,e),new jt(i)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return(n=jt.from(n)).size?new jt(n.content.concat(this.subtract(n).content)):this},append:function(n){return(n=jt.from(n)).size?new jt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=jt.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},get size(){return this.content.length>>1}},jt.from=function(n){if(n instanceof jt)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new jt(t)};const Gw=jt;function Kw(n,t,e){for(let r=0;;r++){if(r==n.childCount||r==t.childCount)return n.childCount==t.childCount?null:e;let i=n.child(r),s=t.child(r);if(i!=s){if(!i.sameMarkup(s))return e;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)e++;return e}if(i.content.size||s.content.size){let o=Kw(i.content,s.content,e+1);if(null!=o)return o}e+=i.nodeSize}else e+=i.nodeSize}}function Qw(n,t,e,r){for(let i=n.childCount,s=t.childCount;;){if(0==i||0==s)return i==s?null:{a:e,b:r};let o=n.child(--i),a=t.child(--s),l=o.nodeSize;if(o!=a){if(!o.sameMarkup(a))return{a:e,b:r};if(o.isText&&o.text!=a.text){let d=0,f=Math.min(o.text.length,a.text.length);for(;d<f&&o.text[o.text.length-d-1]==a.text[a.text.length-d-1];)d++,e--,r--;return{a:e,b:r}}if(o.content.size||a.content.size){let d=Qw(o.content,a.content,e-1,r-1);if(d)return d}e-=l,r-=l}else e-=l,r-=l}}class F{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,e,r,i=0,s){for(let o=0,a=0;a<e;o++){let l=this.content[o],d=a+l.nodeSize;if(d>t&&!1!==r(l,i+a,s||null,o)&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,t-f),Math.min(l.content.size,e-f),r,i+f)}a=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,i){let s="",o=!0;return this.nodesBetween(t,e,(a,l)=>{a.isText?(s+=a.text.slice(Math.max(t,l)-l,e-l),o=!r):a.isLeaf&&i?(s+="function"==typeof i?i(a):i,o=!r):!o&&a.isBlock&&(s+=r,o=!0)},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(r)&&(i[i.length-1]=e.withText(e.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new F(i,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],i=0;if(e>t)for(let s=0,o=0;o<e;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),r.push(a),i+=a.nodeSize),o=l}return new F(r,i)}cutByIndex(t,e){return t==e?F.empty:0==t&&e==this.content.length?this:new F(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let i=this.content.slice(),s=this.size+e.nodeSize-r.nodeSize;return i[t]=e,new F(i,s)}addToStart(t){return new F([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new F(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let i=this.content[e];t(i,r,e),r+=i.nodeSize}}findDiffStart(t,e=0){return Kw(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return Qw(this,t,e,r)}findIndex(t,e=-1){if(0==t)return Hd(0,t);if(t==this.size)return Hd(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t)return o==t||e>0?Hd(r+1,o):Hd(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return F.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return F.empty;let e,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(e||(e=t.slice(0,i)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new F(e||t,r)}static from(t){if(!t)return F.empty;if(t instanceof F)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new F([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Hg={index:0,offset:0};function Hd(n,t){return Hg.index=n,Hg.offset=t,Hg}function zd(n,t){if(n===t)return!0;if(!n||"object"!=typeof n||!t||"object"!=typeof t)return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!zd(n[r],t[r]))return!1}else{for(let r in n)if(!(r in t)||!zd(n[r],t[r]))return!1;for(let r in t)if(!(r in n))return!1}return!0}let qe=(()=>{class n{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))r||(r=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),i=!0),r&&r.push(o)}}return r||(r=e.slice()),i||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(r[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return n.none;if(e instanceof n)return[e];let r=e.slice();return r.sort((i,s)=>i.type.rank-s.type.rank),r}}return n.none=[],n})();class Xl extends Error{}class j{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=Yw(this.content,t+this.openStart,e);return r&&new j(r,this.openStart,this.openEnd)}removeBetween(t,e){return new j(Xw(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return j.empty;let r=e.openStart||0,i=e.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new j(F.fromJSON(t,e.content),r,i)}static maxOpen(t,e=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)i++;return new j(t,r,i)}}function Xw(n,t,e){let{index:r,offset:i}=n.findIndex(t),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(e);if(i==t||s.isText){if(a!=e&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(Xw(s.content,t-i-1,e-i-1)))}function Yw(n,t,e,r){let{index:i,offset:s}=n.findIndex(t),o=n.maybeChild(i);if(s==t||o.isText)return r&&!r.canReplace(i,i,e)?null:n.cut(0,t).append(e).append(n.cut(t));let a=Yw(o.content,t-s-1,e);return a&&n.replaceChild(i,o.copy(a))}function $9(n,t,e){if(e.openStart>n.depth)throw new Xl("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new Xl("Inconsistent open depths");return Jw(n,t,e,0)}function Jw(n,t,e,r){let i=n.index(r),s=n.node(r);if(i==t.index(r)&&r<n.depth-e.openStart){let o=Jw(n,t,e,r+1);return s.copy(s.content.replaceChild(i,o))}if(e.content.size){if(e.openStart||e.openEnd||n.depth!=r||t.depth!=r){let{start:o,end:a}=function U9(n,t){let e=t.depth-n.openStart,i=t.node(e).copy(n.content);for(let s=e-1;s>=0;s--)i=t.node(s).copy(F.from(i));return{start:i.resolveNoCache(n.openStart+e),end:i.resolveNoCache(i.content.size-n.openEnd-e)}}(e,n);return Gs(s,eS(n,o,a,t,r))}{let o=n.parent,a=o.content;return Gs(o,a.cut(0,n.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}}return Gs(s,$d(n,t,r))}function Zw(n,t){if(!t.type.compatibleContent(n.type))throw new Xl("Cannot join "+t.type.name+" onto "+n.type.name)}function zg(n,t,e){let r=n.node(e);return Zw(r,t.node(e)),r}function qs(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function Yl(n,t,e,r){let i=(t||n).node(e),s=0,o=t?t.index(e):i.childCount;n&&(s=n.index(e),n.depth>e?s++:n.textOffset&&(qs(n.nodeAfter,r),s++));for(let a=s;a<o;a++)qs(i.child(a),r);t&&t.depth==e&&t.textOffset&&qs(t.nodeBefore,r)}function Gs(n,t){if(!n.type.validContent(t))throw new Xl("Invalid content for node "+n.type.name);return n.copy(t)}function eS(n,t,e,r,i){let s=n.depth>i&&zg(n,t,i+1),o=r.depth>i&&zg(e,r,i+1),a=[];return Yl(null,n,i,a),s&&o&&t.index(i)==e.index(i)?(Zw(s,o),qs(Gs(s,eS(n,t,e,r,i+1)),a)):(s&&qs(Gs(s,$d(n,t,i+1)),a),Yl(t,e,i,a),o&&qs(Gs(o,$d(e,r,i+1)),a)),Yl(r,null,i,a),new F(a)}function $d(n,t,e){let r=[];return Yl(null,n,e,r),n.depth>e&&qs(Gs(zg(n,t,e+1),$d(n,t,e+1)),r),Yl(t,null,e,r),new F(r)}j.empty=new j(F.empty,0,0);class Jl{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(e);return r?t.child(e).cut(r):i}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],i=0==e?0:this.path[3*e-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return qe.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),i=t.maybeChild(e);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)!1===s[o].type.spec.inclusive&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)!1===r[s].type.spec.inclusive&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new Ud(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],i=0,s=e;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),d=s-l;if(r.push(o,a,i+l),!d||(o=o.child(a),o.isText))break;s=d-1,i+=l+1}return new Jl(e,r,s)}static resolveCached(t,e){for(let i=0;i<$g.length;i++){let s=$g[i];if(s.pos==e&&s.doc==t)return s}let r=$g[Ug]=Jl.resolve(t,e);return Ug=(Ug+1)%j9,r}}let $g=[],Ug=0,j9=12;class Ud{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const W9=Object.create(null);class jr{constructor(t,e,r,i=qe.none){this.type=t,this.attrs=e,this.marks=i,this.content=r||F.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,i=0){this.content.nodesBetween(t,e,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.textBetween(0,this.content.size,"")}textBetween(t,e,r,i){return this.content.textBetween(t,e,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&zd(this.attrs,e||t.defaultAttrs||W9)&&qe.sameSet(this.marks,r||qe.none)}copy(t=null){return t==this.content?this:new jr(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new jr(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return j.empty;let i=this.resolve(t),s=this.resolve(e),o=r?0:i.sharedDepth(e),a=i.start(o),d=i.node(o).content.cut(i.pos-a,s.pos-a);return new j(d,i.depth-o,s.depth-o)}replace(t,e,r){return $9(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:i}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(i==t||e.isText)return e;t-=i+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let i=this.content.child(e-1);return{node:i,index:e-1,offset:r-i.nodeSize}}resolve(t){return Jl.resolveCached(this,t)}resolveNoCache(t){return Jl.resolve(this,t)}rangeHasMark(t,e,r){let i=!1;return e>t&&this.nodesBetween(t,e,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),tS(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=F.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,e,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=qe.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!qe.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let i=F.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,r)}}jr.prototype.text=void 0;class jd extends jr{constructor(t,e,r,i){if(super(t,e,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new jd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new jd(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function tS(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}class Ks{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new q9(t,e);if(null==r.next)return Ks.empty;let i=nS(r);r.next&&r.err("Unexpected trailing text");let s=function Z9(n){let t=Object.create(null);return function e(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let d;for(let f=0;f<i.length;f++)i[f][0]==a&&(d=i[f][1]);sS(n,l).forEach(f=>{d||i.push([a,d=[]]),-1==d.indexOf(f)&&d.push(f)})})});let s=t[r.join(",")]=new Ks(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(iS);s.next.push({type:i[o][0],next:t[a.join(",")]||e(a)})}return s}(sS(n,0))}(function J9(n){let t=[[]];return i(function s(o,a){if("choice"==o.type)return o.exprs.reduce((l,d)=>l.concat(s(d,a)),[]);if("seq"!=o.type){if("star"==o.type){let l=e();return r(a,l),i(s(o.expr,l),l),[r(l)]}if("plus"==o.type){let l=e();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}if("opt"==o.type)return[r(a)].concat(s(o.expr,a));if("range"==o.type){let l=a;for(let d=0;d<o.min;d++){let f=e();i(s(o.expr,l),f),l=f}if(-1==o.max)i(s(o.expr,l),l);else for(let d=o.min;d<o.max;d++){let f=e();r(l,f),i(s(o.expr,l),f),l=f}return[r(l)]}if("name"==o.type)return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let d=s(o.exprs[l],a);if(l==o.exprs.length-1)return d;i(d,a=e())}}(n,0),e()),t;function e(){return t.push([])-1}function r(o,a,l){let d={term:l,to:a};return t[o].push(d),d}function i(o,a){o.forEach(l=>l.to=a)}}(i));return function ez(n,t){for(let e=0,r=[n];e<r.length;e++){let i=r[e],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:d}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),-1==r.indexOf(d)&&r.push(d)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,r),s}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let i=this;for(let s=e;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let i=[this];return function s(o,a){let l=o.matchFragment(t,r);if(l&&(!e||l.validEnd))return F.from(a.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:m}=o.next[d];if(!f.isText&&!f.hasRequiredAttrs()&&-1==i.indexOf(m)){i.push(m);let _=s(m,a.concat(f));if(_)return _}}return null}(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&e(r.next[i].next)}(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join("\n")}}Ks.empty=new Ks(!0);class q9{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function nS(n){let t=[];do{t.push(G9(n))}while(n.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function G9(n){let t=[];do{t.push(K9(n))}while(n.next&&")"!=n.next&&"|"!=n.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function K9(n){let t=function Y9(n){if(n.eat("(")){let t=nS(n);return n.eat(")")||n.err("Missing closing paren"),t}if(!/\W/.test(n.next)){let t=function X9(n,t){let e=n.nodeTypes,r=e[t];if(r)return[r];let i=[];for(let s in e){let o=e[s];o.groups.indexOf(t)>-1&&i.push(o)}return 0==i.length&&n.err("No node type or group '"+t+"' found"),i}(n,n.next).map(e=>(null==n.inline?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}n.err("Unexpected token '"+n.next+"'")}(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else{if(!n.eat("{"))break;t=Q9(n,t)}return t}function rS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function Q9(n,t){let e=rS(n),r=e;return n.eat(",")&&(r="}"!=n.next?rS(n):-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:r,expr:t}}function iS(n,t){return t-n}function sS(n,t){let e=[];return function r(i){let s=n[i];if(1==s.length&&!s[0].term)return r(s[0].to);e.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&-1==e.indexOf(l)&&r(l)}}(t),e.sort(iS)}function oS(n){let t=Object.create(null);for(let e in n){let r=n[e];if(!r.hasDefault)return null;t[e]=r.default}return t}function aS(n,t){let e=Object.create(null);for(let r in n){let i=t&&t[r];if(void 0===i){let s=n[r];if(!s.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=s.default}e[r]=i}return e}function lS(n){let t=Object.create(null);if(n)for(let e in n)t[e]=new tz(n[e]);return t}class Wd{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=lS(r.attrs),this.defaultAttrs=oS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ks.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:aS(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jr(this,this.computeAttrs(t),F.from(e),qe.setFrom(r))}createChecked(t=null,e,r){if(e=F.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new jr(this,this.computeAttrs(t),e,qe.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),(e=F.from(e)).size){let o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}let i=this.contentMatch.matchFragment(e),s=i&&i.fillBefore(F.empty,!0);return s?new jr(this,t,e.append(s),qe.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:qe.none:t}static compile(t,e){let r=Object.create(null);t.forEach((s,o)=>r[s]=new Wd(s,e,o));let i=e.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class tz{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class qd{constructor(t,e,r,i){this.name=t,this.rank=e,this.schema=r,this.spec=i,this.attrs=lS(i.attrs),this.excluded=null;let s=oS(this.attrs);this.instance=s?new qe(this,s):null}create(t=null){return!t&&this.instance?this.instance:new qe(this,aS(this.attrs,t))}static compile(t,e){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new qd(s,i++,e,o)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}function cS(n,t){let e=[];for(let r=0;r<t.length;r++){let i=t[r],s=n.marks[i],o=s;if(s)e.push(s);else for(let a in n.marks){let l=n.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&e.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return e}class Qs{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,e={}){let r=new hS(this,e,!1);return r.addAll(t,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new hS(this,e,!0);return r.addAll(t,e.from,e.to),j.maxOpen(r.finish())}matchTag(t,e,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(sz(t,s.tag)&&(void 0===s.namespace||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(!1===o)continue;s.attrs=o||void 0}return s}}}matchStyle(t,e,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(0!=a.indexOf(t)||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(61!=a.charCodeAt(t.length)||a.slice(t.length+1)!=e))){if(o.getAttrs){let l=o.getAttrs(e);if(!1===l)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let e=[];function r(i){let s=null==i.priority?50:i.priority,o=0;for(;o<e.length;o++){let a=e[o];if((null==a.priority?50:a.priority)<s)break}e.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=fS(o)),o.mark=i})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=fS(o)),o.node=i})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Qs(t,Qs.schemaRules(t)))}}const uS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},dS={ol:!0,ul:!0};function pS(n,t,e){return null!=t?(t?1:0)|("full"===t?2:0):n&&"pre"==n.whitespace?3:-5&e}class Qd{constructor(t,e,r,i,s,o,a){this.type=t,this.attrs=e,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=qe.none,this.stashMarks=[],this.match=o||(4&a?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(F.from(t));if(!e){let i,r=this.type.contentMatch;return(i=r.findWrapping(t.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let i,r=this.content[this.content.length-1];if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let e=F.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,r=this.pendingMarks;e<r.length;e++){let i=r[e];(this.type?this.type.allowsMarkType(i.type):az(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!uS.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class hS{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let s,i=e.topNode,o=pS(null,e.preserveWhitespace,0)|(r?4:0);s=i?new Qd(i.type,i.attrs,qe.none,qe.none,!0,e.topMatch||i.type.contentMatch,o):new Qd(r?null:t.schema.topNodeType,null,qe.none,qe.none,!0,null,o),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),r=e?this.readStyles(function oz(n){let e,t=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=t.exec(n);)r.push(e[1],e[2].trim());return r}(e)):null,i=this.top;if(null!=r)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(t),null!=r)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(t){let e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&"BR"==s.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let i,r=t.nodeName.toLowerCase();dS.hasOwnProperty(r)&&this.parser.normalizeLists&&function iz(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&dS.hasOwnProperty(r)&&e?(e.appendChild(t),t=e):"li"==r?e=t:r&&(e=null)}}(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,e));if(s?s.ignore:rz.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(uS.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=l}else this.addElementByRule(t,s,!1===s.consuming?i:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"==t.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=qe.none;e:for(let r=0;r<t.length;r+=2)for(let i;;){let s=this.parser.matchStyle(t[r],t[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(e=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(e),!1!==s.consuming)break;i=s}return e}addElementByRule(t,e,r){let i,s,o;e.node?(s=this.parser.schema.nodes[e.node],s.isLeaf?this.insertNode(s.create(e.attrs))||this.leafFallback(t):i=this.enter(s,e.attrs||null,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;"string"==typeof e.contentElement?l=t.querySelector(e.contentElement):"function"==typeof e.contentElement?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,r){let i=e||0;for(let s=e?t.childNodes[e]:t.firstChild,o=null==r?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let e,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,r=s,!o.length)||s.solid)break}if(!e)return!1;this.sync(r);for(let i=0;i<e.length;i++)this.enterInner(e[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let r=e.activeMarks;for(let i=0;i<t.marks.length;i++)(!e.type||e.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return e.content.push(t.mark(r)),!0}return!1}enter(t,e,r){let i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,r),i}enterInner(t,e=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=pS(t,i,s.options);4&s.options&&0==s.content.length&&(o|=4),this.nodes.push(new Qd(t,e,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&e.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),s=(i?0:1)-(r?r.depth+1:0),o=(a,l)=>{for(;a>=0;a--){let d=e[a];if(""==d){if(a==e.length-1||0==a)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}{let f=l>0||0==l&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=d&&-1==f.groups.indexOf(d))return!1;l--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let e in this.parser.schema.nodes){let r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let e=function lz(n,t){for(let e=0;e<t.length;e++)if(n.eq(t[e]))return t[e]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==e)break}}}function sz(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function fS(n){let t={};for(let e in n)t[e]=n[e];return t}function az(n,t){let e=t.schema.nodes;for(let r in e){let i=e[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:d,next:f}=a.edge(l);if(d==t||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class Wr{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=jg(e).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let d=o.marks[l];if(this.marks[d.type.name]){if(!d.eq(s[a][0])||!1===d.type.spec.spanning)break;a++,l++}else l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let d=o.marks[l++],f=this.serializeMark(d,o.isInline,e);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,e))}),r}serializeNodeInner(t,e){let{dom:r,contentDOM:i}=Wr.renderSpec(jg(e),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,i)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,e,r={}){let i=this.marks[t.type.name];return i&&Wr.renderSpec(jg(r),i(t,e))}static renderSpec(t,e,r=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let i=e[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,a=r?t.createElementNS(r,i):t.createElement(i),l=e[1],d=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){d=2;for(let f in l)if(null!=l[f]){let m=f.indexOf(" ");m>0?a.setAttributeNS(f.slice(0,m),f.slice(m+1),l[f]):a.setAttribute(f,l[f])}}for(let f=d;f<e.length;f++){let m=e[f];if(0===m){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:_,contentDOM:v}=Wr.renderSpec(t,m,r);if(a.appendChild(_),v){if(o)throw new RangeError("Multiple content holes");o=v}}}return{dom:a,contentDOM:o}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Wr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=mS(t.nodes);return e.text||(e.text=r=>r.text),e}static marksFromSchema(t){return mS(t.marks)}}function mS(n){let t={};for(let e in n){let r=n[e].spec.toDOM;r&&(t[e]=r)}return t}function jg(n){return n.document||window.document}const _S=Math.pow(2,16);function cz(n,t){return n+t*_S}function vS(n){return 65535&n}class Wg{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class tr{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&tr.empty)return tr.empty}recover(t){let e=0,r=vS(t);if(!this.inverted)for(let i=0;i<r;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+e+function uz(n){return(n-(65535&n))/_S}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let d=this.ranges[a+s],f=this.ranges[a+o],m=l+d;if(t<=m){let v=l+i+((d?t==l?-1:t==m?1:e:e)<0?0:f);if(r)return v;let b=t==(e<0?l:m)?null:cz(a/3,t-l),k=t==l?2:t==m?1:4;return(e<0?t!=l:t!=m)&&(k|=8),new Wg(v,k,b)}i+=f-d}return r?t+i:new Wg(t+i,0,null)}touches(t,e){let r=0,i=vS(e),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let d=this.ranges[a+s];if(t<=l+d&&a==3*i)return!0;r+=this.ranges[a+o]-d}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),d=this.ranges[i+e],f=this.ranges[i+r];t(a,a+d,l,l+f),s+=f-d}}invert(){return new tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?tr.empty:new tr(t<0?[0,-t,0]:[0,0,t])}}tr.empty=new tr([]);class da{constructor(t=[],e,r=0,i=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=i}slice(t=0,e=this.maps.length){return new da(this.maps,this.mirror,t,e)}copy(){return new da(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?r+i:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?r-i-1:void 0)}}invert(){let t=new da;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s].mapResult(t,e);if(null!=a.recover){let l=this.getMirror(s);if(null!=l&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new Wg(t,i,null)}}const qg=Object.create(null);class Cn{getMap(){return tr.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qg[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in qg)throw new RangeError("Duplicate use of step JSON ID "+t);return qg[t]=e,e.prototype.jsonID=t,e}}class Dt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Dt(t,null)}static fail(t){return new Dt(null,t)}static fromReplace(t,e,r,i){try{return Dt.ok(t.replace(e,r,i))}catch(s){if(s instanceof Xl)return Dt.fail(s.message);throw s}}}function Gg(n,t,e){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Gg(s.content,t,s))),s.isInline&&(s=t(s,e,i)),r.push(s)}return F.fromArray(r)}class Qi extends Cn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new j(Gg(e.content,(o,a)=>o.isAtom&&a.type.allowsMarkType(this.mark.type)?o.mark(this.mark.addToSet(o.marks)):o,i),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,s)}invert(){return new qr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new Qi(e.pos,r.pos,this.mark)}merge(t){return t instanceof Qi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Qi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qi(e.from,e.to,t.markFromJSON(e.mark))}}Cn.jsonID("addMark",Qi);class qr extends Cn{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new j(Gg(e.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,r)}invert(){return new Qi(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new qr(e.pos,r.pos,this.mark)}merge(t){return t instanceof qr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new qr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qr(e.from,e.to,t.markFromJSON(e.mark))}}Cn.jsonID("removeMark",qr);class Xi extends Cn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new j(F.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let r=this.mark.addToSet(e.marks);if(r.length==e.marks.length){for(let i=0;i<e.marks.length;i++)if(!e.marks[i].isInSet(r))return new Xi(this.pos,e.marks[i]);return new Xi(this.pos,this.mark)}}return new pa(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Xi(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xi(e.pos,t.markFromJSON(e.mark))}}Cn.jsonID("addNodeMark",Xi);class pa extends Cn{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new j(F.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new Xi(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new pa(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pa(e.pos,t.markFromJSON(e.mark))}}Cn.jsonID("removeNodeMark",pa);class Wt extends Cn{constructor(t,e,r,i=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=i}apply(t){return this.structure&&Kg(t,this.from,this.to)?Dt.fail("Structure replace would overwrite content"):Dt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new tr([this.from,this.to-this.from,this.slice.size])}invert(t){return new Wt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new Wt(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Wt)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?j.empty:new j(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Wt(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?j.empty:new j(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Wt(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Wt(e.from,e.to,j.fromJSON(t,e.slice),!!e.structure)}}Cn.jsonID("replace",Wt);class At extends Cn{constructor(t,e,r,i,s,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Kg(t,this.from,this.gapFrom)||Kg(t,this.gapTo,this.to)))return Dt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?Dt.fromReplace(t,this.from,this.to,r):Dt.fail("Content does not fit in gap")}getMap(){return new tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new At(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||i<e.pos||s>r.pos?null:new At(e.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new At(e.from,e.to,e.gapFrom,e.gapTo,j.fromJSON(t,e.slice),e.insert,!!e.structure)}}function Kg(n,t,e){let r=n.resolve(t),i=e-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function fz(n,t,e){return(0==t||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function ec(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,e))return r;if(0==r||i.type.spec.isolating||!fz(i,s,o))break}return null}function Qg(n,t,e=null,r=n){let i=function gz(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.contentMatchAt(r).findWrapping(t);return s&&e.canReplaceWith(r,i,s.length?s[0]:t)?s:null}(n,t),s=i&&function _z(n,t){let{parent:e,startIndex:r,endIndex:i}=n,s=e.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let d=r;l&&d<i;d++)l=l.matchType(e.child(d).type);return l&&l.validEnd?o:null}(r,t);return s?i.map(kS).concat({type:t,attrs:e}).concat(s.map(kS)):null}function kS(n){return{type:n,attrs:null}}function ha(n,t,e=1,r){let i=n.resolve(t),s=i.depth-e,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=e-2;d>s;d--,f--){let m=i.node(d),_=i.index(d);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(_,m.childCount),b=r&&r[f+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let k=r&&r[f]||m;if(!m.canReplace(_+1,m.childCount)||!k.type.validContent(v))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Xg(n,t){let e=n.resolve(t),r=e.index();return function DS(n,t){return!(!n||!t||n.isLeaf||!n.canAppend(t))}(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(r,r+1)}function Yg(n,t,e=t,r=j.empty){if(t==e&&!r.size)return null;let i=n.resolve(t),s=n.resolve(e);return TS(i,s,r)?new Wt(t,e,r):new Sz(i,s,r).fit()}function TS(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}Cn.jsonID("replaceAround",At);class Sz{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=F.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&1==s.childCount;)s=s.firstChild.content,o--,a--;let l=new j(s,o,a);return t>-1?new At(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new Wt(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=e.firstChild;if(e.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}e=s.content}for(let e=1;e<=2;e++)for(let r=1==e?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Jg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let f,{type:l,match:d}=this.frontier[a],m=null;if(1==e&&(o?d.matchType(o.type)||(m=d.fillBefore(F.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:m};if(2==e&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=Jg(t,e);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new j(t,e+1,Math.max(r,i.size+e>=t.size-r?e+1:0)),0))}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=Jg(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new j(tc(t,e-1,1),e-1,s?e-1:r)}else this.unplaced=new j(tc(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,d=0,f=[],{match:m,type:_}=this.frontier[e];if(i){for(let k=0;k<i.childCount;k++)f.push(i.child(k));m=m.matchFragment(i)}let v=a.size+t-(o.content.size-o.openEnd);for(;d<a.childCount;){let k=a.child(d),M=m.matchType(k.type);if(!M)break;d++,(d>1||0==l||k.content.size)&&(m=M,f.push(wS(k.mark(_.allowedMarks(k.marks)),1==d?l:0,d==a.childCount?v:-1)))}let b=d==a.childCount;b||(v=-1),this.placed=nc(this.placed,e,F.from(f)),this.frontier[e].match=m,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,M=a;k<v;k++){let E=M.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),M=E.content}this.unplaced=b?0==t?j.empty:new j(tc(o.content,t-1,1),t-1,v<0?o.openEnd:t-1):new j(tc(o.content,t,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Zg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:i}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=Zg(t,e,i,r,s);if(o){for(let a=e-1;a>=0;a--){let{match:l,type:d}=this.frontier[a],f=Zg(t,a,d,l,!0);if(!f||f.childCount)continue e}return{depth:e,fit:o,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=nc(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,e=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=nc(this.placed,this.depth,F.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(F.empty,!0);e.childCount&&(this.placed=nc(this.placed,this.frontier.length,e))}}function tc(n,t,e){return 0==t?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(tc(n.firstChild.content,t-1,e)))}function nc(n,t,e){return 0==t?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(nc(n.lastChild.content,t-1,e)))}function Jg(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function wS(n,t,e){if(t<=0)return n;let r=n.content;return t>1&&(r=r.replaceChild(0,wS(r.firstChild,t-1,1==r.childCount?e-1:0))),t>0&&(r=n.type.contentMatch.fillBefore(r).append(r),e<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),n.copy(r)}function Zg(n,t,e,r,i){let s=n.node(t),o=i?n.indexAfter(t):n.index(t);if(o==s.childCount&&!e.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!function Mz(n,t,e){for(let r=e;r<t.childCount;r++)if(!n.allowsMarks(t.child(r).marks))return!0;return!1}(e,s.content,o)?a:null}function xz(n){return n.spec.defining||n.spec.definingForContent}function SS(n,t,e,r,i){if(t<e){let s=n.firstChild;n=n.replaceChild(0,s.copy(SS(s.content,t+1,e,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(F.empty,!0))}return n}function MS(n,t){let e=[];for(let i=Math.min(n.depth,t.depth);i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||t.end(i)>t.pos+(t.depth-i)||n.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==n.depth&&i==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&e.push(i)}return e}class fa extends Cn{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let i=e.type.create(r,null,e.marks);return Dt.fromReplace(t,this.pos,this.pos+1,new j(F.from(i),0,e.isLeaf?0:1))}getMap(){return tr.empty}invert(t){return new fa(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new fa(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new fa(e.pos,e.attr,e.value)}}Cn.jsonID("attr",fa);let ma=class extends Error{};ma=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e},(ma.prototype=Object.create(Error.prototype)).constructor=ma,ma.prototype.name="TransformError";const e_=Object.create(null);class Pe{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new Oz(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=j.empty){let r=e.content.lastChild,i=null;for(let a=0;a<e.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:d}=o[a],f=t.mapping.slice(s);t.replaceRange(f.map(l.pos),f.map(d.pos),a?j.empty:e),0==a&&IS(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),d=l.map(o.pos),f=l.map(a.pos);s?t.deleteRange(d,f):(t.replaceRangeWith(d,f,e),IS(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let i=t.parent.inlineContent?new Ne(t):ga(t.node(0),t.parent,t.pos,t.index(),e,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=e<0?ga(t.node(0),t.node(s),t.before(s+1),t.index(s),e,r):ga(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,r);if(o)return o}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Fn(t.node(0))}static atStart(t){return ga(t,t,0,0,1)||new Fn(t)}static atEnd(t){return ga(t,t,t.content.size,t.childCount,-1)||new Fn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=e_[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in e_)throw new RangeError("Duplicate use of selection JSON ID "+t);return e_[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Ne.between(this.$anchor,this.$head).getBookmark()}}Pe.prototype.visible=!0;class Oz{constructor(t,e){this.$from=t,this.$to=e}}let xS=!1;function ES(n){!xS&&!n.parent.inlineContent&&(xS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ne extends Pe{constructor(t,e=t){ES(t),ES(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return Pe.near(r);let i=t.resolve(e.map(this.anchor));return new Ne(i.parent.inlineContent?i:r,r)}replace(t,e=j.empty){if(super.replace(t,e),e==j.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ne&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Yd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ne(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let i=t.resolve(e);return new this(i,r==e?i:t.resolve(r))}static between(t,e,r){let i=t.pos-e.pos;if((!r||i)&&(r=i>=0?1:-1),!e.parent.inlineContent){let s=Pe.findFrom(e,r,!0)||Pe.findFrom(e,-r,!0);if(!s)return Pe.near(e,r);e=s.$head}return t.parent.inlineContent||(0==i||(t=(Pe.findFrom(t,-r,!0)||Pe.findFrom(t,r,!0)).$anchor).pos<e.pos!=i<0)&&(t=e),new Ne(t,e)}}Pe.jsonID("text",Ne);class Yd{constructor(t,e){this.anchor=t,this.head=e}map(t){return new Yd(t.map(this.anchor),t.map(this.head))}resolve(t){return Ne.between(t.resolve(this.anchor),t.resolve(this.head))}}class re extends Pe{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:i}=e.mapResult(this.anchor),s=t.resolve(i);return r?Pe.near(s):new re(s)}content(){return new j(F.from(this.node),0,0)}eq(t){return t instanceof re&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t_(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new re(t.resolve(e.anchor))}static create(t,e){return new re(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}re.prototype.visible=!1,Pe.jsonID("node",re);class t_{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new Yd(r,r):new t_(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&re.isSelectable(r)?new re(e):Pe.near(e)}}class Fn extends Pe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=j.empty){if(e==j.empty){t.delete(0,t.doc.content.size);let r=Pe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new Fn(t)}map(t){return new Fn(t)}eq(t){return t instanceof Fn}getBookmark(){return Nz}}Pe.jsonID("all",Fn);const Nz={map(){return this},resolve:n=>new Fn(n)};function ga(n,t,e,r,i,s=!1){if(t.inlineContent)return Ne.create(n,e);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&re.isSelectable(a))return re.create(n,e-(i<0?a.nodeSize:0))}else{let l=ga(n,a,e+i,i<0?a.childCount:0,i,s);if(l)return l}e+=a.nodeSize*i}return null}function IS(n,t,e){let r=n.steps.length-1;if(r<t)return;let o,i=n.steps[r];(i instanceof Wt||i instanceof At)&&(n.mapping.maps[r].forEach((a,l,d,f)=>{null==o&&(o=f)}),n.setSelection(Pe.near(n.doc.resolve(o),e)))}class Rz extends class Az{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new da}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new ma(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=j.empty){let i=Yg(this.doc,t,e,r);return i&&this.step(i),this}replaceWith(t,e,r){return this.replace(t,e,new j(F.from(r),0,0))}delete(t,e){return this.replace(t,e,j.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return function Ez(n,t,e,r){if(!r.size)return n.deleteRange(t,e);let i=n.doc.resolve(t),s=n.doc.resolve(e);if(TS(i,s,r))return n.step(new Wt(t,e,r));let o=MS(i,n.doc.resolve(e));0==o[o.length-1]&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let _=i.depth,v=i.pos-1;_>0;_--,v--){let b=i.node(_).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(_)>-1?a=_:i.before(_)==v&&o.splice(1,0,-_)}let l=o.indexOf(a),d=[],f=r.openStart;for(let _=r.content,v=0;;v++){let b=_.firstChild;if(d.push(b),v==r.openStart)break;_=b.content}for(let _=f-1;_>=0;_--){let v=d[_],b=xz(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(a)-1)))f=_;else if(b||!v.type.isTextblock)break}for(let _=r.openStart;_>=0;_--){let v=(_+f+1)%(r.openStart+1),b=d[v];if(b)for(let k=0;k<o.length;k++){let M=o[(k+l)%o.length],E=!0;M<0&&(E=!1,M=-M);let x=i.node(M-1),R=i.index(M-1);if(x.canReplaceWith(R,R,b.type,b.marks))return n.replace(i.before(M),E?s.after(M):e,new j(SS(r.content,0,r.openStart,v),v,r.openEnd))}}let m=n.steps.length;for(let _=o.length-1;_>=0&&(n.replace(t,e,r),!(n.steps.length>m));_--){let v=o[_];v<0||(t=i.before(v),e=s.after(v))}}(this,t,e,r),this}replaceRangeWith(t,e,r){return function Iz(n,t,e,r){if(!r.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let i=function Tz(n,t,e){let r=n.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),e))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,e))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,e))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}(n.doc,t,r.type);null!=i&&(t=e=i)}n.replaceRange(t,e,new j(F.from(r),0,0))}(this,t,e,r),this}deleteRange(t,e){return function Pz(n,t,e){let r=n.doc.resolve(t),i=n.doc.resolve(e),s=MS(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&e>r.end(o)&&i.end(o)-e!=i.depth-o)return n.delete(r.before(o),e);n.delete(t,e)}(this,t,e),this}lift(t,e){return function mz(n,t,e){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,d=a,f=F.empty,m=0;for(let b=s,k=!1;b>e;b--)k||r.index(b)>0?(k=!0,f=F.from(r.node(b).copy(f)),m++):l--;let _=F.empty,v=0;for(let b=s,k=!1;b>e;b--)k||i.after(b+1)<i.end(b)?(k=!0,_=F.from(i.node(b).copy(_)),v++):d++;n.step(new At(l,d,o,a,new j(f.append(_),m,v),f.size-m,!0))}(this,t,e),this}join(t,e=1){return function Dz(n,t,e){let r=new Wt(t-e,t+e,j.empty,!0);n.step(r)}(this,t,e),this}wrap(t,e){return function vz(n,t,e){let r=F.empty;for(let o=e.length-1;o>=0;o--){if(r.size){let a=e[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(e[o].type.create(e[o].attrs,r))}let i=t.start,s=t.end;n.step(new At(i,s,i,s,new j(r,0,0),e.length,!0))}(this,t,e),this}setBlockType(t,e=t,r,i=null){return function yz(n,t,e,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(t,e,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&function Cz(n,t,e){let r=n.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,e)}(n.doc,n.mapping.slice(s).map(a),r)){n.clearIncompatible(n.mapping.slice(s).map(a,1),r);let l=n.mapping.slice(s),d=l.map(a,1),f=l.map(a+o.nodeSize,1);return n.step(new At(d,f,d+1,f-1,new j(F.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}(this,t,e,r,i),this}setNodeMarkup(t,e,r=null,i){return function bz(n,t,e,r,i){let s=n.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");e||(e=s.type);let o=e.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(t,t+s.nodeSize,o);if(!e.validContent(s.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new At(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new j(F.from(o),0,0),1,!0))}(this,t,e,r,i),this}setNodeAttribute(t,e,r){return this.step(new fa(t,e,r)),this}addNodeMark(t,e){return this.step(new Xi(t,e)),this}removeNodeMark(t,e){if(!(e instanceof qe)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(r.marks)))return this}return this.step(new pa(t,e)),this}split(t,e=1,r){return function kz(n,t,e=1,r){let i=n.doc.resolve(t),s=F.empty,o=F.empty;for(let a=i.depth,l=i.depth-e,d=e-1;a>l;a--,d--){s=F.from(i.node(a).copy(s));let f=r&&r[d];o=F.from(f?f.type.create(f.attrs,o):i.node(a).copy(o))}n.step(new Wt(t,t,new j(s.append(o),e,e),!0))}(this,t,e,r),this}addMark(t,e,r){return function dz(n,t,e,r){let o,a,i=[],s=[];n.doc.nodesBetween(t,e,(l,d,f)=>{if(!l.isInline)return;let m=l.marks;if(!r.isInSet(m)&&f.type.allowsMarkType(r.type)){let _=Math.max(d,t),v=Math.min(d+l.nodeSize,e),b=r.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(b)||(o&&o.to==_&&o.mark.eq(m[k])?o.to=v:i.push(o=new qr(_,v,m[k])));a&&a.to==_?a.to=v:s.push(a=new Qi(_,v,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}(this,t,e,r),this}removeMark(t,e,r){return function pz(n,t,e,r){let i=[],s=0;n.doc.nodesBetween(t,e,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof qd){let f,d=o.marks;for(;f=r.isInSet(d);)(l||(l=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let d=Math.min(a+o.nodeSize,e);for(let f=0;f<l.length;f++){let _,m=l[f];for(let v=0;v<i.length;v++){let b=i[v];b.step==s-1&&m.eq(i[v].style)&&(_=b)}_?(_.to=d,_.step=s):i.push({style:m,from:Math.max(a,t),to:d,step:s})}}}),i.forEach(o=>n.step(new qr(o.from,o.to,o.style)))}(this,t,e,r),this}clearIncompatible(t,e,r){return function hz(n,t,e,r=e.contentMatch){let i=n.doc.nodeAt(t),s=[],o=t+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),d=o+l.nodeSize,f=r.matchType(l.type);if(f){r=f;for(let m=0;m<l.marks.length;m++)e.allowsMarkType(l.marks[m].type)||n.step(new qr(o,d,l.marks[m]));if(l.isText&&!e.spec.code){let m,v,_=/\r?\n|\r/g;for(;m=_.exec(l.text);)v||(v=new j(F.from(e.schema.text(" ",e.allowedMarks(l.marks))),0,0)),s.push(new Wt(o+m.index,o+m.index+m[0].length,v))}}else s.push(new Wt(o,d,j.empty));o=d}if(!r.validEnd){let a=r.fillBefore(F.empty,!0);n.replace(o,o,new j(a,0,0))}for(let a=s.length-1;a>=0;a--)n.step(s[a])}(this,t,e,r),this}}{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return qe.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||qe.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=e),r=null==r?e:r,!t)return this.deleteRange(e,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(e);s=r==e?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,i.text(t,s)),this.selection.empty||this.setSelection(Pe.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function OS(n,t){return t&&n?n.bind(t):n}class rc{constructor(t,e,r){this.name=t,this.init=OS(e.init,r),this.apply=OS(e.apply,r)}}const Fz=[new rc("doc",{init:n=>n.doc||n.schema.topNodeType.createAndFill(),apply:n=>n.doc}),new rc("selection",{init:(n,t)=>n.selection||Pe.atStart(t.doc),apply:n=>n.selection}),new rc("storedMarks",{init:n=>n.storedMarks||null,apply:(n,t,e,r)=>r.selection.$cursor?n.storedMarks:null}),new rc("scrollToSelection",{init:()=>0,apply:(n,t)=>n.scrolledIntoView?t+1:t})];class n_{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Fz.slice(),e&&e.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rc(r.key,r.spec.state,r))})}}class _a{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,d=i?i[o].state:this,f=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,d,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<o?{state:r,n:e.length}:{state:this,n:0})}e.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:e.length})}}if(!s)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new _a(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];e[s.name]=s.apply(t,this[s.name],this,e)}return e}get tr(){return new Rz(this)}static create(t){let e=new n_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new _a(e);for(let i=0;i<e.fields.length;i++)r[e.fields[i].name]=e.fields[i].init(t,r);return r}reconfigure(t){let e=new n_(this.schema,t.plugins),r=e.fields,i=new _a(e);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(e[r]=s.toJSON.call(i,this[i.key]))}return e}static fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new n_(t.schema,t.plugins),s=new _a(i);return i.fields.forEach(o=>{if("doc"==o.name)s.doc=jr.fromJSON(t.schema,e.doc);else if("selection"==o.name)s.selection=Pe.fromJSON(s.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],d=l.spec.state;if(l.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(s[o.name]=d.fromJSON.call(l,t,e[a],s))}s[o.name]=o.init(t,s)}}),s}}function NS(n,t,e){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=NS(i,t,{})),e[r]=i}return e}class Gr{constructor(t){this.spec=t,this.props={},t.props&&NS(t.props,this,this.props),this.key=t.key?t.key.key:RS("plugin")}getState(t){return t[this.key]}}const r_=Object.create(null);function RS(n){return n in r_?n+"$"+ ++r_[n]:(r_[n]=0,n+"$")}class bi{constructor(t="key"){this.key=RS(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Yi="undefined"!=typeof navigator?navigator:null,FS="undefined"!=typeof document?document:null,Ji=Yi&&Yi.userAgent||"",i_=/Edge\/(\d+)/.exec(Ji),LS=/MSIE \d/.exec(Ji),s_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ji),Ln=!!(LS||s_||i_),Zi=LS?document.documentMode:s_?+s_[1]:i_?+i_[1]:0,Kr=!Ln&&/gecko\/(\d+)/i.test(Ji);Kr&&/Firefox\/(\d+)/.exec(Ji);const o_=!Ln&&/Chrome\/(\d+)/.exec(Ji),un=!!o_,Lz=o_?+o_[1]:0,bn=!Ln&&!!Yi&&/Apple Computer/.test(Yi.vendor),va=bn&&(/Mobile\/\w+/.test(Ji)||!!Yi&&Yi.maxTouchPoints>2),nr=va||!!Yi&&/Mac/.test(Yi.platform),Qr=/Android \d/.test(Ji),Zd=!!FS&&"webkitFontSmoothing"in FS.documentElement.style,Bz=Zd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Bn=function(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t},a_=function(n){let t=n.assignedSlot||n.parentNode;return t&&11==t.nodeType?t.host:t};let BS=null;const ki=function(n,t,e){let r=BS||(BS=document.createRange());return r.setEnd(n,null==e?n.nodeValue.length:e),r.setStart(n,t||0),r},ic=function(n,t,e,r){return e&&(VS(n,t,e,r,-1)||VS(n,t,e,r,1))},Vz=/^(img|br|input|textarea|hr)$/i;function VS(n,t,e,r,i){for(;;){if(n==e&&t==r)return!0;if(t==(i<0?0:Xr(n))){let s=n.parentNode;if(!s||1!=s.nodeType||zz(n)||Vz.test(n.nodeName)||"false"==n.contentEditable)return!1;t=Bn(n)+(i<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if("false"==(n=n.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?Xr(n):0}}}function Xr(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function zz(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const l_=function(n){let t=n.isCollapsed;return t&&un&&n.rangeCount&&!n.getRangeAt(0).collapsed&&(t=!1),t};function ya(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function $z(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function es(n,t){return"number"==typeof n?n:n[t]}function Uz(n){let t=n.getBoundingClientRect();return{left:t.left,right:t.left+n.clientWidth*(t.width/n.offsetWidth||1),top:t.top,bottom:t.top+n.clientHeight*(t.height/n.offsetHeight||1)}}function HS(n,t,e){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=e||n.dom;o;o=a_(o)){if(1!=o.nodeType)continue;let a=o,l=a==s.body,d=l?$z(s):Uz(a),f=0,m=0;if(t.top<d.top+es(r,"top")?m=-(d.top-t.top+es(i,"top")):t.bottom>d.bottom-es(r,"bottom")&&(m=t.bottom-d.bottom+es(i,"bottom")),t.left<d.left+es(r,"left")?f=-(d.left-t.left+es(i,"left")):t.right>d.right-es(r,"right")&&(f=t.right-d.right+es(i,"right")),f||m)if(l)s.defaultView.scrollBy(f,m);else{let _=a.scrollLeft,v=a.scrollTop;m&&(a.scrollTop+=m),f&&(a.scrollLeft+=f);let b=a.scrollLeft-_,k=a.scrollTop-v;t={left:t.left-b,top:t.top-k,right:t.right-b,bottom:t.bottom-k}}if(l)break}}function zS(n){let t=[],e=n.ownerDocument;for(let r=n;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=e);r=a_(r));return t}function $S(n,t){for(let e=0;e<n.length;e++){let{dom:r,top:i,left:s}=n[e];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ca=null;function US(n,t){let e,i,r=2e8,s=0,o=t.top,a=t.top;for(let l=n.firstChild,d=0;l;l=l.nextSibling,d++){let f;if(1==l.nodeType)f=l.getClientRects();else{if(3!=l.nodeType)continue;f=ki(l).getClientRects()}for(let m=0;m<f.length;m++){let _=f[m];if(_.top<=o&&_.bottom>=a){o=Math.max(_.bottom,o),a=Math.min(_.top,a);let v=_.left>t.left?_.left-t.left:_.right<t.left?t.left-_.right:0;if(v<r){e=l,r=v,i=v&&3==e.nodeType?{left:_.right<t.left?_.right:_.left,top:t.top}:t,1==l.nodeType&&v&&(s=d+(t.left>=(_.left+_.right)/2?1:0));continue}}!e&&(t.left>=_.right&&t.top>=_.top||t.left>=_.left&&t.top>=_.bottom)&&(s=d+1)}}return e&&3==e.nodeType?function Gz(n,t){let e=n.nodeValue.length,r=document.createRange();for(let i=0;i<e;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=ts(r,1);if(s.top!=s.bottom&&c_(t,s))return{node:n,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}(e,i):!e||r&&1==e.nodeType?{node:n,offset:s}:US(e,i)}function c_(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function jS(n,t,e){let r=n.childNodes.length;if(r&&e.top<e.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-e.top)/(e.bottom-e.top))-2)),s=i;;){let o=n.childNodes[s];if(1==o.nodeType){let a=o.getClientRects();for(let l=0;l<a.length;l++){let d=a[l];if(c_(t,d))return jS(o,t,d)}}if((s=(s+1)%r)==i)break}return n}function Yz(n,t){let r,e=n.dom.ownerDocument,i=0;if(e.caretPositionFromPoint)try{let l=e.caretPositionFromPoint(t.left,t.top);l&&({offsetNode:r,offset:i}=l)}catch(l){}if(!r&&e.caretRangeFromPoint){let l=e.caretRangeFromPoint(t.left,t.top);l&&({startContainer:r,startOffset:i}=l)}let o,s=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top+1);if(!s||!n.dom.contains(1!=s.nodeType?s.parentNode:s)){let l=n.dom.getBoundingClientRect();if(!c_(t,l)||(s=jS(n.dom,t,l),!s))return null}if(bn)for(let l=s;r&&l;l=a_(l))l.draggable&&(r=void 0);if(s=function Kz(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}(s,t),r){if(Kr&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d,l=r.childNodes[i];"IMG"==l.nodeName&&(d=l.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}r==n.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?o=n.state.doc.content.size:(0==i||1!=r.nodeType||"BR"!=r.childNodes[i-1].nodeName)&&(o=function Xz(n,t,e,r){let i=-1;for(let s=t;s!=n.dom;){let o=n.docView.nearestDesc(s,!0);if(!o)return null;if(o.node.isBlock&&o.parent){let a=o.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=o.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;i=o.posAfter}}s=o.dom.parentNode}return i>-1?i:n.docView.posFromDOM(t,e,1)}(n,r,i,t))}null==o&&(o=function Qz(n,t,e){let{node:r,offset:i}=US(t,e),s=-1;if(1==r.nodeType&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&e.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}(n,s,t));let a=n.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function ts(n,t){let e=n.getClientRects();return e.length?e[t<0?0:e.length-1]:n.getBoundingClientRect()}const Jz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function WS(n,t,e){let{node:r,offset:i}=n.docView.domFromPos(t,e<0?-1:1),s=Zd||Kr;if(3==r.nodeType){if(!s||!Jz.test(r.nodeValue)&&(e<0?i:i!=r.nodeValue.length)){let o=i,a=i,l=e<0?1:-1;return e<0&&!i?(a++,l=-1):e>=0&&i==r.nodeValue.length?(o--,l=1):e<0?o--:a++,sc(ts(ki(r,o,a),l),l<0)}{let o=ts(ki(r,i,i),e);if(Kr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=ts(ki(r,i-1,i-1),-1);if(a.top==o.top){let l=ts(ki(r,i,i+1),-1);if(l.top!=o.top)return sc(l,l.left<a.left)}}return o}}if(!n.state.doc.resolve(t).parent.inlineContent){if(i&&(e<0||i==Xr(r))){let o=r.childNodes[i-1];if(1==o.nodeType)return u_(o.getBoundingClientRect(),!1)}if(i<Xr(r)){let o=r.childNodes[i];if(1==o.nodeType)return u_(o.getBoundingClientRect(),!0)}return u_(r.getBoundingClientRect(),e>=0)}if(i&&(e<0||i==Xr(r))){let o=r.childNodes[i-1],a=3==o.nodeType?ki(o,Xr(o)-(s?0:1)):1!=o.nodeType||"BR"==o.nodeName&&o.nextSibling?null:o;if(a)return sc(ts(a,1),!1)}if(i<Xr(r)){let o=r.childNodes[i];for(;o.pmViewDesc&&o.pmViewDesc.ignoreForCoords;)o=o.nextSibling;let a=o?3==o.nodeType?ki(o,0,s?0:1):1==o.nodeType?o:null:null;if(a)return sc(ts(a,-1),!0)}return sc(ts(3==r.nodeType?ki(r):r,-e),e>=0)}function sc(n,t){if(0==n.width)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function u_(n,t){if(0==n.height)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function qS(n,t,e){let r=n.state,i=n.root.activeElement;r!=t&&n.updateState(t),i!=n.dom&&n.focus();try{return e()}finally{r!=t&&n.updateState(r),i!=n.dom&&i&&i.focus()}}const e$=/[\u0590-\u08ac]/;let GS=null,KS=null,QS=!1;class oc{constructor(t,e,r,i){this.parent=t,this.children=e,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let i=this.children[e];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}{let s,o;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&(!(o=s.pmViewDesc)||o.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}}let i;if(t==this.dom&&this.contentDOM)i=e>Bn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(null==i&&e==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(null==i?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,i=t;i;i=i.parentNode){let o,s=this.getDesc(i);if(s&&(!e||s.node)){if(!r||!(o=s.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return s;r=!1}}}getDesc(t){let e=t.pmViewDesc;for(let r=e;r;r=r.parent)if(r==this)return e}posFromDOM(t,e,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let i=this.children[e],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};let s,r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof ZS){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(s=this.children[r-1]).size&&s instanceof YS&&s.side>=0;r--);if(e<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,s&&s.dom.parentNode!=this.contentDOM;r--,o=!1);return s&&e&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,e):{node:this.contentDOM,offset:s?Bn(s.dom)+1:0}}{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,s&&s.dom.parentNode!=this.contentDOM;r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,e):{node:this.contentDOM,offset:s?Bn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],d=o+l.size;if(-1==i&&t<=d){let f=o+l.border;if(t>=f&&e<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,f);t=o;for(let m=a;m>0;m--){let _=this.children[m-1];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(1)){i=Bn(_.dom)+1;break}t-=_.size}-1==i&&(i=0)}if(i>-1&&(d>e||a==this.children.length-1)){e=d;for(let f=a+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Bn(m.dom);break}e+=m.size}-1==s&&(s=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(1!=e.nodeType||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,i=!1){let s=Math.min(t,e),o=Math.max(t,e);for(let _=0,v=0;_<this.children.length;_++){let b=this.children[_],k=v+b.size;if(s>v&&o<k)return b.setSelection(t-v-b.border,e-v-b.border,r,i);v=k}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),d=r.getSelection(),f=!1;if((Kr||bn)&&t==e){let{node:_,offset:v}=a;if(3==_.nodeType){if(f=!(!v||"\n"!=_.nodeValue[v-1]),f&&v==_.nodeValue.length)for(let k,b=_;b;b=b.parentNode){if(k=b.nextSibling){"BR"==k.nodeName&&(a=l={node:k.parentNode,offset:Bn(k)+1});break}let M=b.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let b=_.childNodes[v-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Kr&&d.focusNode&&d.focusNode!=l.node&&1==d.focusNode.nodeType){let _=d.focusNode.childNodes[d.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(!(i||f&&bn)&&ic(a.node,a.offset,d.anchorNode,d.anchorOffset)&&ic(l.node,l.offset,d.focusNode,d.focusOffset))return;let m=!1;if((d.extend||t==e)&&!f){d.collapse(a.node,a.offset);try{t!=e&&d.extend(l.node,l.offset),m=!0}catch(_){if(!(_ instanceof DOMException))throw _}}if(!m){if(t>e){let v=a;a=l,l=v}let _=document.createRange();_.setEnd(l.node,l.offset),_.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(_)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&e>=r:t<o&&e>r){let a=r+s.border,l=o-s.border;if(t>=a&&e<=l)return this.dirty=t==r||e==o?2:1,void(t!=a||e!=l||!s.contentLost&&s.dom.parentNode==this.contentDOM?s.markDirty(t-a,e-a):s.dirty=3);s.dirty=s.dom!=s.contentDOM||s.dom.parentNode!=this.contentDOM||s.children.length?3:2}r=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=1==t?2:1;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class YS extends oc{constructor(t,e,r,i){let s,o=e.type.toDOM;if("function"==typeof o&&(o=o(r,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i)),!e.type.spec.raw){if(1!=o.nodeType){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,s=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class r$ extends oc{constructor(t,e,r,i){super(t,[],e,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class Xs extends oc{constructor(t,e,r,i){super(t,[],r,i),this.mark=e}static create(t,e,r,i){let s=i.nodeViews[e.type.name],o=s&&s(e,i,r);return(!o||!o.dom)&&(o=Wr.renderSpec(document,e.type.spec.toDOM(e,r))),new Xs(t,e,o.dom,o.contentDOM||o.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(t,e,r){let i=Xs.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;e<o&&(s=h_(s,e,o,r)),t>0&&(s=h_(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Ys extends oc{constructor(t,e,r,i,s,o,a,l,d){super(t,[],s,o),this.node=e,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,o&&this.updateChildren(l,d)}static create(t,e,r,i,s,o){let l,a=s.nodeViews[e.type.name],d=a&&a(e,s,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:o,r,i),f=d&&d.dom,m=d&&d.contentDOM;if(e.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(e.text);else f||({dom:f,contentDOM:m}=Wr.renderSpec(document,e.type.spec.toDOM(e)));!m&&!e.isText&&"BR"!=f.nodeName&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),e.type.spec.draggable&&(f.draggable=!0));let _=f;return f=nM(f,r,e),d?l=new i$(t,e,r,i,f,m||null,_,d,s,o+1):e.isText?new ep(t,e,r,i,f,_,s):new Ys(t,e,r,i,f,m||null,_,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>F.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,r){return 0==this.dirty&&t.eq(this.node)&&p_(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,i=e,s=t.composing?this.localCompositionInfo(t,e):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new o$(this,o&&o.node);(function c$(n,t,e,r){let i=t.locals(n),s=0;if(0==i.length){for(let d=0;d<n.childCount;d++){let f=n.child(d);r(f,i,t.forChild(s,f),d),s+=f.nodeSize}return}let o=0,a=[],l=null;for(let d=0;;){if(o<i.length&&i[o].to==s){let k,b=i[o++];for(;o<i.length&&i[o].to==s;)(k||(k=[b])).push(i[o++]);if(k){k.sort(l$);for(let M=0;M<k.length;M++)e(k[M],d,!!l)}else e(b,d,!!l)}let f,m;if(l)m=-1,f=l,l=null;else{if(!(d<n.childCount))break;m=d,f=n.child(d++)}for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let _=s+f.nodeSize;if(f.isText){let b=_;o<i.length&&i[o].from<b&&(b=i[o].from);for(let k=0;k<a.length;k++)a[k].to<b&&(b=a[k].to);b<_&&(l=f.cut(b-s),f=f.cut(0,b-s),_=b,m=-1)}r(f,f.isInline&&!f.isLeaf?a.filter(b=>!b.inline):a.slice(),t.forChild(s,f),m),s=_}})(this.node,this.innerDeco,(d,f,m)=>{d.spec.marks?l.syncToMarks(d.spec.marks,r,t):d.type.side>=0&&!m&&l.syncToMarks(f==this.node.childCount?qe.none:this.node.child(f).marks,r,t),l.placeWidget(d,t,i)},(d,f,m,_)=>{let v;l.syncToMarks(d.marks,r,t),l.findNodeMatch(d,f,m,_)||a&&t.state.selection.from>i&&t.state.selection.to<i+d.nodeSize&&(v=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(d,f,m,v,t)||l.updateNextNode(d,f,m,t,_)||l.addNode(d,f,m,t,i),i+=d.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(o&&this.protectLocalComposition(t,o),eM(this.contentDOM,this.children,t),va&&function u$(n){if("UL"==n.nodeName||"OL"==n.nodeName){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n),n.style.cssText=t}}(this.dom))}localCompositionInfo(t,e){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ne)||r<e||i>e+this.node.content.size)return null;let s=t.domSelection(),o=function d$(n,t){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&t>0){if(n.childNodes.length>t&&3==n.childNodes[t].nodeType)return n.childNodes[t];t=Xr(n=n.childNodes[t-1])}else{if(!(1==n.nodeType&&t<n.childNodes.length))return null;n=n.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=function p$(n,t,e,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;l+=d.text}if(s>=e){let d=a<r?l.lastIndexOf(t,r-a-1):-1;if(d>=0&&d+t.length+a>=e)return a+d;if(e==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,a,r-e,i-e);return l<0?null:{node:o,pos:l,text:a}}return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:i}){if(this.getDesc(e))return;let s=e;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new r$(this,s,e,i);t.input.compositionNodes.push(o),this.children=h_(this.children,r,r+i.length,t,o)}update(t,e,r,i){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,r,i),0))}updateInner(t,e,r,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(p_(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=tM(this.dom,this.nodeDOM,d_(this.outerDeco,this.node,e),d_(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function JS(n,t,e,r,i){return nM(r,t,n),new Ys(void 0,n,t,e,r,r,r,i,0)}class ep extends Ys{constructor(t,e,r,i,s,o,a){super(t,e,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),(0!=this.dirty||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,r){let i=this.node.cut(t,e),s=document.createTextNode(i.text);return new ep(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(0==t||e==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class ZS extends oc{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class i$ extends Ys{constructor(t,e,r,i,s,o,a,l,d,f){super(t,e,r,i,s,o,a,d,f),this.spec=l}update(t,e,r,i){if(3==this.dirty)return!1;if(this.spec.update){let s=this.spec.update(t,e,r);return s&&this.updateInner(t,e,r,i),s}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,i){this.spec.setSelection?this.spec.setSelection(t,e,r):super.setSelection(t,e,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function eM(n,t,e){let r=n.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=rM(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Xs){let l=r?r.previousSibling:n.lastChild;eM(o.contentDOM,o.children,e),r=l?l.nextSibling:n.firstChild}}for(;r;)r=rM(r),i=!0;i&&e.trackWrites==n&&(e.trackWrites=null)}const ac=function(n){n&&(this.nodeName=n)};ac.prototype=Object.create(null);const Js=[new ac];function d_(n,t,e){if(0==n.length)return Js;let r=e?Js[0]:new ac,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new ac(o.nodeName));for(let a in o){let l=o[a];null!=l&&(e&&1==i.length&&i.push(r=new ac(t.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return i}function tM(n,t,e,r){if(e==Js&&r==Js)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=e[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Js[0]),i=l}s$(i,a||Js[0],o)}return i}function s$(n,t,e){for(let r in t)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in e)&&n.removeAttribute(r);for(let r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&e[r]!=t[r]&&n.setAttribute(r,e[r]);if(t.class!=e.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=e.class?e.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)-1==i.indexOf(r[s])&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)-1==r.indexOf(i[s])&&n.classList.add(i[s]);0==n.classList.length&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;i=r.exec(t.style);)n.style.removeProperty(i[1])}e.style&&(n.style.cssText+=e.style)}}function nM(n,t,e){return tM(n,n,Js,d_(t,e,1!=n.nodeType))}function p_(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function rM(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class o${constructor(t,e){this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function a$(n,t){let e=t,r=e.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let d=e.children[r-1];if(!(d instanceof Xs)){a=d,r--;break}e=d,r=d.children.length}else{if(e==t)break e;r=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(t[s])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Xs.create(this.top,t[s],e,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,e,r,i){let o,s=-1;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let d=this.top.children[a];if(d.matchesNode(t,e,r)&&!this.preMatch.matched.has(d)){s=a;break}}return!(s<0||(this.destroyBetween(this.index,s),this.index++,0))}updateNodeAt(t,e,r,i,s){let o=this.top.children[i];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,r,s)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let r=t.pmViewDesc;if(r)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}t=e}}updateNextNode(t,e,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof Ys){let l=this.preMatch.matched.get(a);if(null!=l&&l!=s)return!1;let d=a.dom;if((!this.lock||!(d==this.lock||1==d.nodeType&&d.contains(this.lock.parentNode))||t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&p_(e,a.outerDeco))&&a.update(t,e,r,i))return this.destroyBetween(this.index,o),a.dom!=d&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,r,i,s){this.top.children.splice(this.index++,0,Ys.create(this.top,t,e,r,i,s)),this.changed=!0}placeWidget(t,e,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){let s=new YS(this.top,t,e,r);this.top.children.splice(this.index++,0,s),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Xs;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof ep)||/\n$/.test(t.node.text))&&((bn||un)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);"IMG"==t&&(r.className="ProseMirror-separator",r.alt=""),"BR"==t&&(r.className="ProseMirror-trailingBreak");let i=new ZS(this.top,[],r,null);e!=this.top?e.children.push(i):e.children.splice(this.index++,0,i),this.changed=!0}}}function l$(n,t){return n.type.side-t.type.side}function h_(n,t,e,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],d=a,f=a+=l.size;d>=e||f<=t?s.push(l):(d<t&&s.push(l.slice(0,t-d,r)),i&&(s.push(i),i=void 0),f>e&&s.push(l.slice(e-d,l.size,r)))}return s}function iM(n,t=null){let e=n.domSelection(),r=n.state.doc;if(!e.focusNode)return null;let i=n.docView.nearestDesc(e.focusNode),s=i&&0==i.size,o=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(o<0)return null;let l,d,a=r.resolve(o);if(l_(e)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&re.isSelectable(f)&&i.parent&&(!f.isInline||!function Hz(n,t,e){for(let r=0==t,i=t==Xr(n);r||i;){if(n==e)return!0;let s=Bn(n);if(!(n=n.parentNode))return!1;r=r&&0==s,i=i&&s==Xr(n)}}(e.focusNode,e.focusOffset,i.dom))){let m=i.posBefore;d=new re(o==m?a:r.resolve(m))}}else{let f=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(f<0)return null;l=r.resolve(f)}return d||(d=m_(n,l,a,"pointer"==t||n.state.selection.head<a.pos&&!s?1:-1)),d}function sM(n){return n.editable?n.hasFocus():pM(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ns(n,t=!1){let e=n.state.selection;if(cM(n,e),sM(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&un){let r=n.domSelection(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ic(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return n.input.mouseDown.delayedSelectionSync=!0,void n.domObserver.setCurSelection()}if(n.domObserver.disconnectSelection(),n.cursorWrapper)!function f$(n){let t=n.domSelection(),e=document.createRange(),r=n.cursorWrapper.dom,i="IMG"==r.nodeName;i?e.setEnd(r.parentNode,Bn(r)+1):e.setEnd(r,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!i&&!n.state.selection.visible&&Ln&&Zi<=11&&(r.disabled=!0,r.disabled=!1)}(n);else{let s,o,{anchor:r,head:i}=e;oM&&!(e instanceof Ne)&&(e.$from.parent.inlineContent||(s=aM(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(o=aM(n,e.to))),n.docView.setSelection(r,i,n.root,t),oM&&(s&&lM(s),o&&lM(o)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function h$(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelection(),r=e.anchorNode,i=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=r||e.anchorOffset!=i)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!sM(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const oM=bn||un&&Lz<63;function aM(n,t){let{node:e,offset:r}=n.docView.domFromPos(t,0),i=r<e.childNodes.length?e.childNodes[r]:null,s=r?e.childNodes[r-1]:null;if(bn&&i&&"false"==i.contentEditable)return f_(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return f_(i);if(s)return f_(s)}}function f_(n){return n.contentEditable="true",bn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function lM(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function cM(n,t){if(t instanceof re){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(uM(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else uM(n)}function uM(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function m_(n,t,e,r){return n.someProp("createSelectionBetween",i=>i(n,t,e))||Ne.between(t,e,r)}function dM(n){return(!n.editable||n.root.activeElement==n.dom)&&pM(n)}function pM(n){let t=n.domSelection();if(!t.anchorNode)return!1;try{return n.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function g_(n,t){let{$anchor:e,$head:r}=n.selection,i=t>0?e.max(r):e.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Pe.findFrom(s,t)}function Zs(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function hM(n,t,e){let r=n.state.selection;if(!(r instanceof Ne)){if(r instanceof re&&r.node.isInline)return Zs(n,new Ne(t>0?r.$to:r.$from));{let i=g_(n.state,t);return!!i&&Zs(n,i)}}if(!r.empty||e.indexOf("s")>-1)return!1;if(n.endOfTextblock(t>0?"right":"left")){let i=g_(n.state,t);return!!(i&&i instanceof re)&&Zs(n,i)}if(!(nr&&e.indexOf("m")>-1)){let o,i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM)&&(re.isSelectable(s)?Zs(n,new re(t<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):!!Zd&&Zs(n,new Ne(n.state.doc.resolve(t<0?a:a+s.nodeSize))))}}function tp(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}function lc(n){let t=n.pmViewDesc;return t&&0==t.size&&(n.nextSibling||"BR"!=n.nodeName)}function __(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let i,s,o=!1;for(Kr&&1==e.nodeType&&r<tp(e)&&lc(e.childNodes[r])&&(o=!0);;)if(r>0){if(1!=e.nodeType)break;{let a=e.childNodes[r-1];if(lc(a))i=e,s=--r;else{if(3!=a.nodeType)break;e=a,r=e.nodeValue.length}}}else{if(fM(e))break;{let a=e.previousSibling;for(;a&&lc(a);)i=e.parentNode,s=Bn(a),a=a.previousSibling;if(a)e=a,r=tp(e);else{if(e=e.parentNode,e==n.dom)break;r=0}}}o?y_(n,t,e,r):i&&y_(n,t,i,s)}function v_(n){let t=n.domSelection(),e=t.focusNode,r=t.focusOffset;if(!e)return;let s,o,i=tp(e);for(;;)if(r<i){if(1!=e.nodeType)break;if(!lc(e.childNodes[r]))break;s=e,o=++r}else{if(fM(e))break;{let a=e.nextSibling;for(;a&&lc(a);)s=a.parentNode,o=Bn(a)+1,a=a.nextSibling;if(a)e=a,r=0,i=tp(e);else{if(e=e.parentNode,e==n.dom)break;r=i=0}}}s&&y_(n,t,s,o)}function fM(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function y_(n,t,e,r){if(l_(t)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),t.removeAllRanges(),t.addRange(s)}else t.extend&&t.extend(e,r);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ns(n)},50)}function mM(n,t,e){let r=n.state.selection;if(r instanceof Ne&&!r.empty||e.indexOf("s")>-1||nr&&e.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let o=g_(n.state,t);if(o&&o instanceof re)return Zs(n,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Fn?Pe.near(o,t):Pe.findFrom(o,t);return!!a&&Zs(n,a)}return!1}function gM(n,t){if(!(n.state.selection instanceof Ne))return!0;let{$head:e,$anchor:r,empty:i}=n.state.selection;if(!e.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return t<0?o.delete(e.pos-s.nodeSize,e.pos):o.delete(e.pos,e.pos+s.nodeSize),n.dispatch(o),!0}return!1}function _M(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function vM(n,t){let e=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,s--;let v=r.firstChild;e.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let o=n.someProp("clipboardSerializer")||Wr.fromSchema(n.state.schema),a=SM(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let f,d=l.firstChild,m=0;for(;d&&1==d.nodeType&&(f=TM[d.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let b=a.createElement(f[v]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),m++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(e)}`),{dom:l,text:n.someProp("clipboardTextSerializer",v=>v(t))||t.content.textBetween(0,t.content.size,"\n\n")}}function yM(n,t,e,r,i){let o,a,s=i.parent.type.spec.code;if(!e&&!t)return null;let l=t&&(r||s||!e);if(l){if(n.someProp("transformPastedText",_=>{t=_(t,s||r)}),s)return t?new j(F.from(n.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):j.empty;let m=n.someProp("clipboardTextParser",_=>_(t,i,r));if(m)a=m;else{let _=i.marks(),{schema:v}=n.state,b=Wr.fromSchema(v);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(k=>{let M=o.appendChild(document.createElement("p"));k&&M.appendChild(b.serializeNode(v.text(k,_)))})}}else n.someProp("transformPastedHTML",m=>{e=m(e)}),o=function b$(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let i,e=SM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n);if((i=r&&TM[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=n,i)for(let s=0;s<i.length;s++)e=e.querySelector(i[s])||e;return e}(e),Zd&&function k$(n){let t=n.querySelectorAll(un?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let r=t[e];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0&&o.firstChild;m--)o=o.firstChild;if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Qs.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!(!l&&!f),context:i,ruleFromNode:_=>"BR"!=_.nodeName||_.nextSibling||!_.parentNode||y$.test(_.parentNode.nodeName)?null:{ignore:!0}})),f)a=function D$(n,t){if(!n.size)return n;let r,e=n.content.firstChild.type.schema;try{r=JSON.parse(t)}catch(a){return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=e.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=F.from(l.create(r[a+1],i)),s++,o++}return new j(i,s,o)}(DM(a,+f[1],+f[2]),f[4]);else if(a=j.maxOpen(function C$(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let s,i=t.node(e).contentMatchAt(t.index(e)),o=[];if(n.forEach(a=>{if(!o)return;let d,l=i.findWrapping(a.type);if(!l)return o=null;if(d=o.length&&s.length&&bM(l,s,a,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=kM(o[o.length-1],s.length));let f=CM(a,l);o.push(f),i=i.matchType(f.type),s=l}}),o)return F.from(o)}return n}(a.content,i),!0),a.openStart||a.openEnd){let m=0,_=0;for(let v=a.content.firstChild;m<a.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=a.content.lastChild;_<a.openEnd&&!v.type.spec.isolating;_++,v=v.lastChild);a=DM(a,m,_)}return n.someProp("transformPasted",m=>{a=m(a)}),a}const y$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function CM(n,t,e=0){for(let r=t.length-1;r>=e;r--)n=t[r].create(null,F.from(n));return n}function bM(n,t,e,r,i){if(i<n.length&&i<t.length&&n[i]==t[i]){let s=bM(n,t,e,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?e.type:n[i+1]))return r.copy(r.content.append(F.from(CM(e,n,i+1))))}}function kM(n,t){if(0==t)return n;let e=n.content.replaceChild(n.childCount-1,kM(n.lastChild,t-1)),r=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(e.append(r))}function C_(n,t,e,r,i,s){let o=t<0?n.firstChild:n.lastChild,a=o.content;return i<r-1&&(a=C_(a,t,e,r,i+1,s)),i>=e&&(a=t<0?o.contentMatchAt(0).fillBefore(a,n.childCount>1||s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(F.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,o.copy(a))}function DM(n,t,e){return t<n.openStart&&(n=new j(C_(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new j(C_(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const TM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wM=null;function SM(){return wM||(wM=document.implementation.createHTMLDocument("title"))}const kn={};let dn={};class T${constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function eo(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function b_(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>k_(n,r))})}function k_(n,t){return n.someProp("handleDOMEvents",e=>{let r=e[t.type];return!!r&&(r(n,t)||t.defaultPrevented)})}function M$(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function np(n){return{left:n.clientX,top:n.clientY}}function D_(n,t,e,r,i){if(-1==r)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(t,a=>o>s.depth?a(n,e,s.nodeAfter,s.before(o),i,!0):a(n,e,s.node(o),s.before(o),i,!1)))return!0;return!1}function ka(n,t,e){n.focused||n.focus();let r=n.state.tr.setSelection(t);"pointer"==e&&r.setMeta("pointer",!0),n.dispatch(r)}function O$(n,t,e,r){return D_(n,"handleDoubleClickOn",t,e,r)||n.someProp("handleDoubleClick",i=>i(n,t,r))}function N$(n,t,e,r){return D_(n,"handleTripleClickOn",t,e,r)||n.someProp("handleTripleClick",i=>i(n,t,r))||function R$(n,t,e){if(0!=e.button)return!1;let r=n.state.doc;if(-1==t)return!!r.inlineContent&&(ka(n,Ne.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)ka(n,Ne.create(r,a+1,a+1+o.content.size),"pointer");else{if(!re.isSelectable(o))continue;ka(n,re.create(r,a),"pointer")}return!0}}(n,e,r)}function T_(n){return rp(n)}dn.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=16==e.keyCode||e.shiftKey,!xM(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!Qr||!un||13!=e.keyCode))if(229!=e.keyCode&&n.domObserver.forceFlush(),!va||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)n.someProp("handleKeyDown",r=>r(n,e))||function v$(n,t){let e=t.keyCode,r=function _$(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}(t);return 8==e||nr&&72==e&&"c"==r?gM(n,-1)||__(n):46==e||nr&&68==e&&"c"==r?gM(n,1)||v_(n):13==e||27==e||(37==e||nr&&66==e&&"c"==r?hM(n,-1,r)||__(n):39==e||nr&&70==e&&"c"==r?hM(n,1,r)||v_(n):38==e||nr&&80==e&&"c"==r?mM(n,-1,r)||__(n):40==e||nr&&78==e&&"c"==r?function g$(n){if(!bn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelection();if(t&&1==t.nodeType&&0==e&&t.firstChild&&"false"==t.firstChild.contentEditable){let r=t.firstChild;_M(n,r,"true"),setTimeout(()=>_M(n,r,"false"),20)}return!1}(n)||mM(n,1,r)||v_(n):r==(nr?"m":"c")&&(66==e||73==e||89==e||90==e))}(n,e)?e.preventDefault():eo(n,"key");else{let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,ya(13,"Enter"))),n.input.lastIOSEnter=0)},200)}},dn.keyup=(n,t)=>{16==t.keyCode&&(n.input.shiftKey=!1)},dn.keypress=(n,t)=>{let e=t;if(xM(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||nr&&e.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,e)))return void e.preventDefault();let r=n.state.selection;if(!(r instanceof Ne&&r.$from.sameParent(r.$to))){let i=String.fromCharCode(e.charCode);n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}};const MM=nr?"metaKey":"ctrlKey";kn.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let r=T_(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&function E$(n,t){let e=t.x-n.clientX,r=t.y-n.clientY;return e*e+r*r<100}(e,n.input.lastClick)&&!e[MM]&&("singleClick"==n.input.lastClick.type?s="doubleClick":"doubleClick"==n.input.lastClick.type&&(s="tripleClick")),n.input.lastClick={time:i,x:e.clientX,y:e.clientY,type:s};let o=n.posAtCoords(np(e));!o||("singleClick"==s?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new F$(n,o,e,!!r)):("doubleClick"==s?O$:N$)(n,o.pos,o.inside,e)?e.preventDefault():eo(n,"pointer"))};class F${constructor(t,e,r,i){let s,o;if(this.view=t,this.pos=e,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[MM],this.allowDefault=r.shiftKey,e.inside>-1)s=t.state.doc.nodeAt(e.inside),o=e.inside;else{let f=t.state.doc.resolve(e.pos);s=f.parent,o=f.depth?f.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:d}=t.state;(0==r.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||d instanceof re&&d.from<=o&&d.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Kr||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),eo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ns(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(np(t))),this.allowDefault||!e?eo(this.view,"pointer"):function A$(n,t,e,r,i){return D_(n,"handleClickOn",t,e,r)||n.someProp("handleClick",s=>s(n,t,r))||(i?function P$(n,t){if(-1==t)return!1;let r,i,e=n.state.selection;e instanceof re&&(r=e.node);let s=n.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(re.isSelectable(a)){i=r&&e.$from.depth>0&&o>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?s.before(e.$from.depth):s.before(o);break}}return null!=i&&(ka(n,re.create(n.state.doc,i),"pointer"),!0)}(n,e):function I$(n,t){if(-1==t)return!1;let e=n.state.doc.resolve(t),r=e.nodeAfter;return!!(r&&r.isAtom&&re.isSelectable(r))&&(ka(n,new re(e),"pointer"),!0)}(n,e))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||bn&&this.mightDrag&&!this.mightDrag.node.isAtom||un&&!(this.view.state.selection instanceof Ne)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ka(this.view,Pe.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):eo(this.view,"pointer")}move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),eo(this.view,"pointer"),0==t.buttons&&this.done()}}function xM(n,t){return!!n.composing||!!(bn&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500)&&(n.input.compositionEndedAt=-2e8,!0)}kn.touchdown=n=>{T_(n),eo(n,"pointer")},kn.contextmenu=n=>T_(n);const L$=Qr?5e3:-1;function EM(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>rp(n),t))}function IM(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=function B$(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function rp(n,t=!1){if(!(Qr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),IM(n),t||n.docView&&n.docView.dirty){let e=iM(n);return e&&!e.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(e)):n.updateState(n.state),!0}return!1}}dn.compositionstart=dn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(r=>!1===r.type.spec.inclusive)))n.markCursor=n.state.storedMarks||e.marks(),rp(n,!0),n.markCursor=null;else if(rp(n),Kr&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let r=n.domSelection();for(let i=r.focusNode,s=r.focusOffset;i&&1==i.nodeType&&0!=s;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(3==o.nodeType){r.collapse(o,o.nodeValue.length);break}i=o,s=-1}}n.input.composing=!0}EM(n,L$)},dn.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,EM(n,20))};const Da=Ln&&Zi<15||va&&Bz<604;function w_(n,t,e,r){let i=yM(n,t,e,n.input.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",a=>a(n,r,i||j.empty)))return!0;if(!i)return!1;let s=function H$(n){return 0==n.openStart&&0==n.openEnd&&1==n.content.childCount?n.content.firstChild:null}(i),o=s?n.state.tr.replaceSelectionWith(s,n.input.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}kn.copy=dn.cut=(n,t)=>{let e=t,r=n.state.selection,i="cut"==e.type;if(r.empty)return;let s=Da?null:e.clipboardData,o=r.content(),{dom:a,text:l}=vM(n,o);s?(e.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):function V$(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},dn.paste=(n,t)=>{let e=t;if(n.composing&&!Qr)return;let r=Da?null:e.clipboardData;r&&w_(n,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function z$(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),e?w_(n,r.value,null,t):w_(n,r.textContent,r.innerHTML,t)},50)}(n,e)};class $${constructor(t,e){this.slice=t,this.move=e}}const PM=nr?"altKey":"ctrlKey";kn.dragstart=(n,t)=>{let e=t,r=n.input.mouseDown;if(r&&r.done(),!e.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(np(e));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof re?i.to-1:i.to)))if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(re.create(n.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){let d=n.docView.nearestDesc(e.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&n.dispatch(n.state.tr.setSelection(re.create(n.state.doc,d.posBefore)))}let o=n.state.selection.content(),{dom:a,text:l}=vM(n,o);e.dataTransfer.clearData(),e.dataTransfer.setData(Da?"Text":"text/html",a.innerHTML),e.dataTransfer.effectAllowed="copyMove",Da||e.dataTransfer.setData("text/plain",l),n.dragging=new $$(o,!e[PM])},kn.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)},dn.dragover=dn.dragenter=(n,t)=>t.preventDefault(),dn.drop=(n,t)=>{let e=t,r=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let i=n.posAtCoords(np(e));if(!i)return;let s=n.state.doc.resolve(i.pos);if(!s)return;let o=r&&r.slice;o?n.someProp("transformPasted",b=>{o=b(o)}):o=yM(n,e.dataTransfer.getData(Da?"Text":"text/plain"),Da?null:e.dataTransfer.getData("text/html"),!1,s);let a=!(!r||e[PM]);if(n.someProp("handleDrop",b=>b(n,e,o||j.empty,a)))return void e.preventDefault();if(!o)return;e.preventDefault();let l=o?function wz(n,t,e){let r=n.resolve(t);if(!e.content.size)return t;let i=e.content;for(let s=0;s<e.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(0==e.openStart&&e.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),d=r.node(o),f=!1;if(1==s)f=d.canReplace(l,l,i);else{let m=d.contentMatchAt(l).findWrapping(i.firstChild.type);f=m&&d.canReplaceWith(l,l,m[0])}if(f)return 0==a?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}(n.state.doc,s.pos,o):s.pos;null==l&&(l=s.pos);let d=n.state.tr;a&&d.deleteSelection();let f=d.mapping.map(l),m=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,_=d.doc;if(m?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(_))return;let v=d.doc.resolve(f);if(m&&re.isSelectable(o.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new re(v));else{let b=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((k,M,E,x)=>b=x),d.setSelection(m_(n,v,d.doc.resolve(b)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))},kn.focus=n=>{n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelection())&&ns(n)},20))},kn.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)},kn.beforeinput=(n,t)=>{if(un&&Qr&&"deleteContentBackward"==t.inputType){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,ya(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in dn)kn[n]=dn[n];function cc(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class S_{constructor(t,e){this.toDOM=t,this.spec=e||to,this.side=this.spec.side||0}map(t,e,r,i){let{pos:s,deleted:o}=t.mapResult(e.from+i,this.side<0?-1:1);return o?null:new rr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof S_&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&cc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class rs{constructor(t,e){this.attrs=t,this.spec=e||to}map(t,e,r,i){let s=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new rr(s,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof rs&&cc(this.attrs,t.attrs)&&cc(this.spec,t.spec)}static is(t){return t.type instanceof rs}destroy(){}}class M_{constructor(t,e){this.attrs=t,this.spec=e||to}map(t,e,r,i){let s=t.mapResult(e.from+i,1);if(s.deleted)return null;let o=t.mapResult(e.to+i,-1);return o.deleted||o.pos<=s.pos?null:new rr(s.pos-r,o.pos-r,this)}valid(t,e){let s,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(s=t.child(r)).isText&&i+s.nodeSize==e.to}eq(t){return this==t||t instanceof M_&&cc(this.attrs,t.attrs)&&cc(this.spec,t.spec)}destroy(){}}class rr{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new rr(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new rr(t,t,new S_(e,r))}static inline(t,e,r,i){return new rr(t,e,new rs(r,i))}static node(t,e,r,i){return new rr(t,e,new M_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof rs}}const Ta=[],to={};class Et{constructor(t,e){this.local=t.length?t:Ta,this.children=e.length?e:Ta}static create(t,e){return e.length?ip(e,t,0,to):qt}find(t,e,r){let i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,r),i}findInner(t,e,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,r,i+a,s)}}map(t,e,r){return this==qt||0==t.maps.length?this:this.mapInner(t,e,0,0,r||to)}mapInner(t,e,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(e,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?function U$(n,t,e,r,i,s,o){let a=n.slice(),l=(f,m,_,v)=>{for(let b=0;b<a.length;b+=3){let M,k=a[b+1];if(k<0||f>k+s)continue;let E=a[b]+s;m>=E?a[b+1]=f<=E?-2:-1:_>=i&&(M=v-_-(m-f))&&(a[b]+=M,a[b+1]+=M)}};for(let f=0;f<e.maps.length;f++)e.maps[f].forEach(l);let d=!1;for(let f=0;f<a.length;f+=3)if(a[f+1]<0){if(-2==a[f+1]){d=!0,a[f+1]=-1;continue}let m=e.map(n[f]+s),_=m-i;if(_<0||_>=r.content.size){d=!0;continue}let b=e.map(n[f+1]+s,-1)-i,{index:k,offset:M}=r.content.findIndex(_),E=r.maybeChild(k);if(E&&M==_&&M+E.nodeSize==b){let x=a[f+2].mapInner(e,E,m+1,n[f]+s+1,o);x!=qt?(a[f]=_,a[f+1]=b,a[f+2]=x):(a[f+1]=-2,d=!0)}else d=!0}if(d){let f=function j$(n,t,e,r,i,s,o){function a(l,d){for(let f=0;f<l.local.length;f++){let m=l.local[f].map(r,i,d);m?e.push(m):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+d+1)}for(let l=0;l<n.length;l+=3)-1==n[l+1]&&a(n[l+2],t[l]+s+1);return e}(a,n,t,e,i,s,o),m=ip(f,r,0,o);t=m.local;for(let _=0;_<a.length;_+=3)a[_+1]<0&&(a.splice(_,3),_-=3);for(let _=0,v=0;_<m.children.length;_+=3){let b=m.children[_];for(;v<a.length&&a[v]<b;)v+=3;a.splice(v,0,m.children[_],m.children[_+1],m.children[_+2])}}return new Et(t.sort(no),a)}(this.children,o||[],t,e,r,i,s):o?new Et(o.sort(no),Ta):qt}add(t,e){return e.length?this==qt?Et.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let i,s=0;t.forEach((a,l)=>{let f,d=l+r;if(f=OM(e,a,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,f,d+1):i.splice(s,0,l,l+a.nodeSize,ip(f,a,d+1,to)),s+=3}});let o=AM(s?NM(e):e,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new Et(o.length?this.local.concat(o).sort(no):this.local,i||this.children)}remove(t){return 0==t.length||this==qt?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+e,l=r[s+1]+e;for(let m,f=0;f<t.length;f++)(m=t[f])&&m.from>a&&m.to<l&&(t[f]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(o,a+1);d!=qt?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length)for(let o,s=0;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,e)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1));return r==this.children&&i==this.local?this:i.length||r.length?new Et(i,r):qt}forChild(t,e){if(this==qt)return this;if(e.isLeaf)return Et.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof rs){let d=Math.max(s,l.from)-s,f=Math.min(o,l.to)-s;d<f&&(i||(i=[])).push(l.copy(d,f))}}if(i){let a=new Et(i.sort(no),Ta);return r?new is([a,r]):a}return r||qt}eq(t){if(this==t)return!0;if(!(t instanceof Et)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return x_(this.localsInner(t))}localsInner(t){if(this==qt)return Ta;if(t.inlineContent||!this.local.some(rs.is))return this.local;let e=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof rs||e.push(this.local[r]);return e}}Et.empty=new Et([],[]),Et.removeOverlap=x_;const qt=Et.empty;class is{constructor(t){this.members=t}map(t,e){const r=this.members.map(i=>i.map(t,e,to));return is.from(r)}forChild(t,e){if(e.isLeaf)return Et.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,e);s!=qt&&(s instanceof is?r=r.concat(s.members):r.push(s))}return is.from(r)}eq(t){if(!(t instanceof is)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(e){r&&(e=e.slice(),r=!1);for(let o=0;o<s.length;o++)e.push(s[o])}else e=s}return e?x_(r?e:e.sort(no)):Ta}static from(t){switch(t.length){case 0:return qt;case 1:return t[0];default:return new is(t)}}}function AM(n,t){if(!t||!n.length)return n;let e=[];for(let r=0;r<n.length;r++){let i=n[r];e.push(new rr(i.from+t,i.to+t,i.type))}return e}function OM(n,t,e){if(t.isLeaf)return null;let r=e+t.nodeSize,i=null;for(let o,s=0;s<n.length;s++)(o=n[s])&&o.from>e&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function NM(n){let t=[];for(let e=0;e<n.length;e++)null!=n[e]&&t.push(n[e]);return t}function ip(n,t,e,r){let i=[],s=!1;t.forEach((a,l)=>{let d=OM(n,a,l+e);if(d){s=!0;let f=ip(d,a,e+l+1,r);f!=qt&&i.push(l,l+a.nodeSize,f)}});let o=AM(s?NM(n):n,-e).sort(no);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Et(o,i):qt}function no(n,t){return n.from-t.from||n.to-t.to}function x_(n){let t=n;for(let e=0;e<t.length-1;e++){let r=t[e];if(r.from!=r.to)for(let i=e+1;i<t.length;i++){let s=t[i];if(s.from!=r.from){s.from<r.to&&(t==n&&(t=n.slice()),t[e]=r.copy(r.from,s.from),RM(t,i,r.copy(s.from,r.to)));break}s.to!=r.to&&(t==n&&(t=n.slice()),t[i]=s.copy(s.from,r.to),RM(t,i+1,s.copy(r.to,s.to)))}}return t}function RM(n,t,e){for(;t<n.length&&no(e,n[t])>0;)t++;n.splice(t,0,e)}function E_(n){let t=[];return n.someProp("decorations",e=>{let r=e(n.state);r&&r!=qt&&t.push(r)}),n.cursorWrapper&&t.push(Et.create(n.state.doc,[n.cursorWrapper.deco])),is.from(t)}const W$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},q$=Ln&&Zi<=11;class G${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class K${constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new G$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ln&&Zi<=11&&r.some(i=>"childList"==i.type&&i.removedNodes.length||"characterData"==i.type&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),q$&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,W$),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dM(this.view)){if(this.suppressingSelectionUpdates)return ns(this.view);if(Ln&&Zi<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&ic(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(0==t.rangeCount)return!0;let e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let e=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&dM(this.view)&&!this.ignoreSelectionChange(e),i=-1,s=-1,o=!1,a=[];if(this.view.editable)for(let l=0;l<t.length;l++){let d=this.registerMutation(t[l],a);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(o=!0))}if(Kr&&a.length>1){let l=a.filter(d=>"BR"==d.nodeName);if(2==l.length){let d=l[0],f=l[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,s),function Q$(n){FM||(FM=!0,"normal"==getComputedStyle(n.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(i,s,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||ns(this.view),this.currentSelection.set(e))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(let f=0;f<t.addedNodes.length;f++)e.push(t.addedNodes[f]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Ln&&Zi<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:m,nextSibling:_}=t.addedNodes[f];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!_||Array.prototype.indexOf.call(t.addedNodes,_)<0)&&(s=_)}let o=i&&i.parentNode==t.target?Bn(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?Bn(s):t.target.childNodes.length;return{from:a,to:r.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let FM=!1;function Y$(n){let t=n.pmViewDesc;if(t)return t.parseRule();if("BR"==n.nodeName&&n.parentNode){if(bn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(n.parentNode.lastChild==n||bn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}function LM(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:m_(n,t.resolve(e.anchor),t.resolve(e.head))}function I_(n,t,e){let r=n.depth,i=t?n.end():n.pos;for(;r>0&&(t||n.indexAfter(r)==n.node(r).childCount);)r--,i++,t=!1;if(e){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}class nU{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new T$,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach($M),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=HM(this),VM(this),this.nodeViews=zM(this),this.docView=JS(this.state.doc,BM(this),E_(this),this.dom,this),this.domObserver=new K$(this,(r,i,s,o)=>function J$(n,t,e,r,i){if(t<0){let Y=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Ye=iM(n,Y);if(Ye&&!n.state.selection.eq(Ye)){let Tt=n.state.tr.setSelection(Ye);"pointer"==Y?Tt.setMeta("pointer",!0):"key"==Y&&Tt.scrollIntoView(),n.dispatch(Tt)}return}let s=n.state.doc.resolve(t),o=s.sharedDepth(e);t=s.before(o+1),e=n.state.doc.resolve(e).after(o+1);let a=n.state.selection,l=function X$(n,t,e){let d,{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(t,e),l=n.domSelection(),f=l.anchorNode;if(f&&n.dom.contains(1==f.nodeType?f:f.parentNode)&&(d=[{node:f,offset:l.anchorOffset}],l_(l)||d.push({node:l.focusNode,offset:l.focusOffset})),un&&8===n.input.lastKeyCode)for(let M=s;M>i;M--){let E=r.childNodes[M-1],x=E.pmViewDesc;if("BR"==E.nodeName&&!x){s=M;break}if(!x||x.size)break}let m=n.state.doc,_=n.someProp("domParser")||Qs.fromSchema(n.state.schema),v=m.resolve(o),b=null,k=_.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=v.parent.type.whitespace||"full",findPositions:d,ruleFromNode:Y$,context:v});if(d&&null!=d[0].pos){let M=d[0].pos,E=d[1]&&d[1].pos;null==E&&(E=M),b={anchor:M+o,head:E+o}}return{doc:k,sel:b,from:o,to:a}}(n,t,e);if(un&&n.cursorWrapper&&l.sel&&l.sel.anchor==n.cursorWrapper.deco.from){let Y=n.cursorWrapper.deco.type.toDOM.nextSibling,Ye=Y&&Y.nodeValue?Y.nodeValue.length:1;l.sel={anchor:l.sel.anchor+Ye,head:l.sel.anchor+Ye}}let m,_,d=n.state.doc,f=d.slice(l.from,l.to);8===n.input.lastKeyCode&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,_="end"):(m=n.state.selection.from,_="start"),n.input.lastKeyCode=null;let v=function tU(n,t,e,r,i){let s=n.findDiffStart(t,e);if(null==s)return null;let{a:o,b:a}=n.findDiffEnd(t,e+n.size,e+t.size);return"end"==i&&(r-=o+Math.max(0,s-Math.min(o,a))-s),o<s&&n.size<t.size?(s-=r<=s&&r>=o?s-r:0,a=s+(a-o),o=s):a<s&&(s-=r<=s&&r>=a?s-r:0,o=s+(o-a),a=s),{start:s,endA:o,endB:a}}(f.content,l.doc.content,l.from,m,_);if((va&&n.input.lastIOSEnter>Date.now()-225||Qr)&&i.some(Y=>"DIV"==Y.nodeName||"P"==Y.nodeName)&&(!v||v.endA>=v.endB)&&n.someProp("handleKeyDown",Y=>Y(n,ya(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(!v){if(!(r&&a instanceof Ne&&!a.empty&&a.$head.sameParent(a.$anchor))||n.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let Y=LM(n,n.state.doc,l.sel);Y&&!Y.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(Y))}return}v={start:a.from,endA:a.to,endB:a.to}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&v.start==v.endB&&n.state.selection instanceof Ne&&(v.start>n.state.selection.from&&v.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?v.start=n.state.selection.from:v.endA<n.state.selection.to&&v.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(v.endB+=n.state.selection.to-v.endA,v.endA=n.state.selection.to)),Ln&&Zi<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>l.from&&" \xa0"==l.doc.textBetween(v.start-l.from-1,v.start-l.from+1)&&(v.start--,v.endA--,v.endB--);let x,b=l.doc.resolveNoCache(v.start-l.from),k=l.doc.resolveNoCache(v.endB-l.from),M=d.resolve(v.start),E=b.sameParent(k)&&b.parent.inlineContent&&M.end()>=v.endA;if((va&&n.input.lastIOSEnter>Date.now()-225&&(!E||i.some(Y=>"DIV"==Y.nodeName||"P"==Y.nodeName))||!E&&b.pos<l.doc.content.size&&(x=Pe.findFrom(l.doc.resolve(b.pos+1),1,!0))&&x.head==k.pos)&&n.someProp("handleKeyDown",Y=>Y(n,ya(13,"Enter"))))return void(n.input.lastIOSEnter=0);if(n.state.selection.anchor>v.start&&function eU(n,t,e,r,i){if(!r.parent.isTextblock||e-t<=i.pos-r.pos||I_(r,!0,!1)<i.pos)return!1;let s=n.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(I_(s,!0,!0));return!(!o.parent.isTextblock||o.pos>e||I_(o,!0,!1)<e)&&r.parent.content.cut(r.parentOffset).eq(o.parent.content)}(d,v.start,v.endA,b,k)&&n.someProp("handleKeyDown",Y=>Y(n,ya(8,"Backspace"))))return void(Qr&&un&&n.domObserver.suppressSelectionUpdates());un&&Qr&&v.endB==v.start&&(n.input.lastAndroidDelete=Date.now()),Qr&&!E&&b.start()!=k.start()&&0==k.parentOffset&&b.depth==k.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==v.endA&&(v.endB-=2,k=l.doc.resolveNoCache(v.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(Y){return Y(n,ya(13,"Enter"))})},20));let K,xe,Ee,R=v.start,V=v.endA;if(E)if(b.pos==k.pos)Ln&&Zi<=11&&0==b.parentOffset&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ns(n),20)),K=n.state.tr.delete(R,V),xe=d.resolve(v.start).marksAcross(d.resolve(v.endA));else if(v.endA==v.endB&&(Ee=function Z$(n,t){let o,a,l,e=n.firstChild.marks,r=t.firstChild.marks,i=e,s=r;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<e.length;f++)s=e[f].removeFromSet(s);if(1==i.length&&0==s.length)a=i[0],o="add",l=f=>f.mark(a.addToSet(f.marks));else{if(0!=i.length||1!=s.length)return null;a=s[0],o="remove",l=f=>f.mark(a.removeFromSet(f.marks))}let d=[];for(let f=0;f<t.childCount;f++)d.push(l(t.child(f)));if(F.from(d).eq(n))return{mark:a,type:o}}(b.parent.content.cut(b.parentOffset,k.parentOffset),M.parent.content.cut(M.parentOffset,v.endA-M.start()))))K=n.state.tr,"add"==Ee.type?K.addMark(R,V,Ee.mark):K.removeMark(R,V,Ee.mark);else if(b.parent.child(b.index()).isText&&b.index()==k.index()-(k.textOffset?0:1)){let Y=b.parent.textBetween(b.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",Ye=>Ye(n,R,V,Y)))return;K=n.state.tr.insertText(Y,R,V)}if(K||(K=n.state.tr.replace(R,V,l.doc.slice(v.start-l.from,v.endB-l.from))),l.sel){let Y=LM(n,K.doc,l.sel);Y&&!(un&&Qr&&n.composing&&Y.empty&&(v.start!=v.endB||n.input.lastAndroidDelete<Date.now()-100)&&(Y.head==R||Y.head==K.mapping.map(V)-1)||Ln&&Y.empty&&Y.head==R)&&K.setSelection(Y)}xe&&K.ensureMarks(xe),n.dispatch(K.scrollIntoView())}(this,r,i,s,o)),this.domObserver.start(),function w$(n){for(let t in kn){let e=kn[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>{M$(n,r)&&!k_(n,r)&&(n.editable||!(r.type in dn))&&e(n,r)})}bn&&n.dom.addEventListener("input",()=>null),b_(n)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&b_(this),this._props=t,t.plugins&&(t.plugins.forEach($M),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}setProps(t){let e={};for(let r in this._props)e[r]=this._props[r];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}updateStateInner(t,e){let r=this.state,i=!1,s=!1;if(t.storedMarks&&this.composing&&(IM(this),s=!0),this.state=t,e){let m=zM(this);(function iU(n,t){let e=0,r=0;for(let i in n){if(n[i]!=t[i])return!0;e++}for(let i in t)r++;return e!=r})(m,this.nodeViews)&&(this.nodeViews=m,i=!0),b_(this)}this.editable=HM(this),VM(this);let o=E_(this),a=BM(this),l=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,a,o);(d||!t.selection.eq(r.selection))&&(s=!0);let f="preserve"==l&&s&&null==this.dom.style.overflowAnchor&&function jz(n){let r,i,t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top);for(let s=(t.left+t.right)/2,o=e+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:zS(n.dom)}}(this);if(s){this.domObserver.stop();let m=d&&(Ln||un)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&function rU(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}(r.selection,t.selection);if(d){let _=un?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(t.doc,a,o,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=JS(t.doc,a,o,this.dom,this)),_&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function m$(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelection();return ic(t.node,t.offset,e.anchorNode,e.anchorOffset)}(this))?ns(this,m):(cM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){let m=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",_=>_(this)))if(t.selection instanceof re){let _=this.docView.domAfterPos(t.selection.from);1==_.nodeType&&HS(this,_.getBoundingClientRect(),m)}else HS(this,this.coordsAtPos(t.selection.head,1),m)}else f&&function Wz({refDOM:n,refTop:t,stack:e}){let r=n?n.getBoundingClientRect().top:0;$S(e,0==r?0:r-t)}(f)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let r=this.state.plugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}}someProp(t,e){let i,r=this._props&&this._props[t];if(null!=r&&(i=e?e(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(null!=a&&(i=e?e(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(null!=a&&(i=e?e(a):a))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function qz(n){if(n.setActive)return n.setActive();if(Ca)return n.focus(Ca);let t=zS(n);n.focus(null==Ca?{get preventScroll(){return Ca={preventScroll:!0},!0}}:void 0),Ca||(Ca=!1,$S(t,0))}(this.dom),ns(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return t||document}posAtCoords(t){return Yz(this,t)}coordsAtPos(t,e=1){return WS(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let i=this.docView.posFromDOM(t,e,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,e){return function n$(n,t,e){return GS==t&&KS==e?QS:(GS=t,KS=e,QS="up"==e||"down"==e?function Zz(n,t,e){let r=t.selection,i="up"==e?r.$from:r.$to;return qS(n,t,()=>{let{node:s}=n.docView.domFromPos(i.pos,"up"==e?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}let o=WS(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=ki(a,0,a.nodeValue.length).getClientRects()}for(let d=0;d<l.length;d++){let f=l[d];if(f.bottom>f.top+1&&("up"==e?o.top-f.top>2*(f.bottom-o.top):f.bottom-o.bottom>2*(o.bottom-f.top)))return!1}}return!0})}(n,t,e):function t$(n,t,e){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return e$.test(r.parent.textContent)&&a.modify?qS(n,t,()=>{let l=a.getRangeAt(0),d=a.focusNode,f=a.focusOffset,m=a.caretBidiLevel;a.modify("move",e,"character");let v=!(r.depth?n.docView.domAfterPos(r.before()):n.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||d==a.focusNode&&f==a.focusOffset;return a.removeAllRanges(),a.addRange(l),null!=m&&(a.caretBidiLevel=m),v}):"left"==e||"backward"==e?s:o}(n,t,e))}(this,e||this.state,t)}destroy(){!this.docView||(function S$(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],E_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function x$(n,t){!k_(n,t)&&kn[t.type]&&(n.editable||!(t.type in dn))&&kn[t.type](n,t)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function BM(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),t.translate="no",n.someProp("attributes",e=>{if("function"==typeof e&&(e=e(n.state)),e)for(let r in e)"class"==r&&(t.class+=" "+e[r]),"style"==r?t.style=(t.style?t.style+";":"")+e[r]:!t[r]&&"contenteditable"!=r&&"nodeName"!=r&&(t[r]=String(e[r]))}),[rr.node(0,n.state.doc.content.size,t)]}function VM(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:rr.widget(n.state.selection.head,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function HM(n){return!n.someProp("editable",t=>!1===t(n.state))}function zM(n){let t=Object.create(null);return n.someProp("nodeViews",e=>{for(let r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r])}),t}function $M(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const sU=["ol",0],oU=["ul",0],aU=["li",0],UM={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:n=>({order:n.hasAttribute("start")?+n.getAttribute("start"):1})}],toDOM:n=>1==n.attrs.order?sU:["ol",{start:n.attrs.order},0]},jM={parseDOM:[{tag:"ul"}],toDOM:()=>oU};function uU(n){return function(t,e){let{$from:r,$to:i,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(i))return!1;let o=r.node(-1);if(o.type!=n)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){let f=F.empty,m=r.index(-1)?1:r.index(-2)?2:3;for(let M=r.depth-m;M>=r.depth-3;M--)f=F.from(r.node(M).copy(f));let _=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;f=f.append(F.from(n.createAndFill()));let v=r.before(r.depth-(m-1)),b=t.tr.replace(v,r.after(-_),new j(f,4-m,0)),k=-1;b.doc.nodesBetween(v,b.doc.content.size,(M,E)=>{if(k>-1)return!1;M.isTextblock&&0==M.content.size&&(k=E+1)}),k>-1&&b.setSelection(Pe.near(b.doc.resolve(k))),e(b.scrollIntoView())}return!0}let a=i.pos==r.end()?o.contentMatchAt(0).defaultType:null,l=t.tr.delete(r.pos,i.pos),d=a?[null,{type:a}]:void 0;return!!ha(l.doc,r.pos,2,d)&&(e&&e(l.split(r.pos,2,d).scrollIntoView()),!0)}}function qM(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return!!s&&(!e||(r.node(s.depth-1).type==n?function dU(n,t,e,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);return s<o&&(i.step(new At(s-1,o,s,o,new j(F.from(e.create(null,r.parent.copy())),1,0),1,!0)),r=new Ud(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth)),t(i.lift(r,ec(r)).scrollIntoView()),!0}(t,e,n,s):function pU(n,t,e){let r=n.tr,i=e.parent;for(let v=e.end,b=e.endIndex-1,k=e.startIndex;b>k;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(e.start),o=s.nodeAfter;if(r.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let a=0==e.startIndex,l=e.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(a?0:1),f+1,o.content.append(l?F.empty:F.from(i))))return!1;let m=s.pos,_=m+o.nodeSize;return r.step(new At(m-(a?1:0),_+(l?1:0),m+1,_-1,new j((a?F.empty:F.from(i.copy(F.empty))).append(l?F.empty:F.from(i.copy(F.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,e,s)))}}function GM(n){return function(t,e){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(0==o)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(e){let d=l.lastChild&&l.lastChild.type==a.type,f=F.from(d?n.create():null),m=new j(F.from(n.create(null,F.from(a.type.create(null,f)))),d?3:1,0),_=s.start,v=s.end;e(t.tr.step(new At(_-(d?3:1),v,_,v,m,1,!0)).scrollIntoView())}return!0}}const hU={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:n=>({href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")})}],toDOM(n){const{href:t,title:e,target:r}=n.attrs;return["a",{href:t,title:e,target:r},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>"normal"!==n.style.fontWeight&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){const{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){const{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}}},SU={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(n){const{textAlign:t}=n.style;return{align:n.getAttribute("align")||t||null}}}],toDOM(n){const{align:t}=n.attrs;return["p",{style:qw({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){const{textAlign:t}=n.style;return{level:1,align:n.getAttribute("align")||t||null}}},{tag:"h2",getAttrs(n){const{textAlign:t}=n.style;return{level:2,align:n.getAttribute("align")||t||null}}},{tag:"h3",getAttrs(n){const{textAlign:t}=n.style;return{level:3,align:n.getAttribute("align")||t||null}}},{tag:"h4",getAttrs(n){const{textAlign:t}=n.style;return{level:4,align:n.getAttribute("align")||t||null}}},{tag:"h5",getAttrs(n){const{textAlign:t}=n.style;return{level:5,align:n.getAttribute("align")||t||null}}},{tag:"h6",getAttrs(n){const{textAlign:t}=n.style;return{level:6,align:n.getAttribute("align")||t||null}}}],toDOM(n){const{level:t,align:e}=n.attrs;return[`h${t}`,{style:qw({textAlign:"left"!==e?e:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:n=>({src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")})}],toDOM(n){const{src:t,alt:e,title:r,width:i}=n.attrs;return["img",{src:t,alt:e,title:r,width:i}]}},list_item:Object.assign(Object.assign({},{parseDOM:[{tag:"li"}],toDOM:()=>aU,defining:!0}),{content:"paragraph block*"}),ordered_list:Object.assign(Object.assign({},UM),{content:"list_item+",group:"block"}),bullet_list:Object.assign(Object.assign({},jM),{content:"list_item+",group:"block"})},sp=new class nz{constructor(t){this.cached=Object.create(null),this.spec={nodes:Gw.from(t.nodes),marks:Gw.from(t.marks||{}),topNode:t.topNode},this.nodes=Wd.compile(this.spec.nodes,this),this.marks=qd.compile(this.spec.marks,this);let e=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",o=i.spec.marks;i.contentMatch=e[s]||(e[s]=Ks.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==o?null:o?cS(this,o.split(" ")):""!=o&&i.inlineContent?null:[]}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=null==s?[i]:""==s?[]:cS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Wd))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,i)}text(t,e){let r=this.nodes.text;return new jd(r,r.defaultAttrs,t,qe.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return jr.fromJSON(this,t)}markFromJSON(t){return qe.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}({marks:hU,nodes:SU}),KM=(n,t)=>!n.selection.empty&&(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function wa(n,t,e=!1){for(let r=n;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&1!=r.childCount)return!1}return!1}function QM(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function XM(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const YM=(n,t)=>{let{$head:e,$anchor:r}=n.selection;return!(!e.parent.type.spec.code||!e.sameParent(r)||(t&&t(n.tr.insertText("\n").scrollIntoView()),0))};function A_(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const JM=(n,t)=>{let{$head:e,$anchor:r}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(r))return!1;let i=e.node(-1),s=e.indexAfter(-1),o=A_(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=e.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Pe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},ZM=(n,t)=>{let e=n.selection,{$from:r,$to:i}=e;if(e instanceof Fn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=A_(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Ne.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},e2=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(ha(n.doc,s))return t&&t(n.tr.split(s).scrollIntoView()),!0}let r=e.blockRange(),i=r&&ec(r);return null!=i&&(t&&t(n.tr.lift(r,i).scrollIntoView()),!0)},O_=(n,t)=>{let{$from:e,$to:r}=n.selection;if(n.selection instanceof re&&n.selection.node.isBlock)return!(!e.parentOffset||!ha(n.doc,e.pos)||(t&&t(n.tr.split(e.pos).scrollIntoView()),0));if(!e.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,s=n.tr;(n.selection instanceof Ne||n.selection instanceof Fn)&&s.deleteSelection();let o=0==e.depth?null:A_(e.node(-1).contentMatchAt(e.indexAfter(-1))),a=i&&o?[{type:o}]:void 0,l=ha(s.doc,s.mapping.map(e.pos),1,a);if(!a&&!l&&ha(s.doc,s.mapping.map(e.pos),1,o?[{type:o}]:void 0)&&(o&&(a=[{type:o}]),l=!0),l&&(s.split(s.mapping.map(e.pos),1,a),!i&&!e.parentOffset&&e.parent.type!=o)){let d=s.mapping.map(e.before()),f=s.doc.resolve(d);o&&e.node(-1).canReplaceWith(f.index(),f.index()+1,o)&&s.setNodeMarkup(s.mapping.map(e.before()),o)}t(s.scrollIntoView())}return!0};function t2(n,t,e){let s,o,r=t.nodeBefore,i=t.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function OU(n,t,e){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(s-1,s)?(e&&e(n.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!Xg(n.doc,t.pos)||(e&&e(n.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(n,t,e))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(e){let m=t.pos+i.nodeSize,_=F.empty;for(let k=s.length-1;k>=0;k--)_=F.from(s[k].create(null,_));_=F.from(r.copy(_));let v=n.tr.step(new At(t.pos-1,m,t.pos,m,new j(_,1,0),s.length,!0)),b=m+2*s.length;Xg(v.doc,b)&&v.join(b),e(v.scrollIntoView())}return!0}let l=Pe.findFrom(t,1),d=l&&l.$from.blockRange(l.$to),f=d&&ec(d);if(null!=f&&f>=t.depth)return e&&e(n.tr.lift(d,f).scrollIntoView()),!0;if(a&&wa(i,"start",!0)&&wa(r,"end")){let m=r,_=[];for(;_.push(m),!m.isTextblock;)m=m.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(e){let k=F.empty;for(let E=_.length-1;E>=0;E--)k=F.from(_[E].copy(k));e(n.tr.step(new At(t.pos-_.length,t.pos+i.nodeSize,t.pos+b,t.pos+i.nodeSize-b,new j(k,_.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function n2(n){return function(t,e){let r=t.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(e&&e(t.tr.setSelection(Ne.create(t.doc,n<0?i.start(s):i.end(s)))),!0)}}const NU=n2(-1),RU=n2(1);function N_(n,t=null){return function(e,r){let{from:i,to:s}=e.selection,o=!1;return e.doc.nodesBetween(i,s,(a,l)=>{if(o)return!1;if(a.isTextblock&&!a.hasMarkup(n,t))if(a.type==n)o=!0;else{let d=e.doc.resolve(l),f=d.index();o=d.parent.canReplaceWith(f,f+1,n)}}),!!o&&(r&&r(e.tr.setBlockType(i,s,n,t).scrollIntoView()),!0)}}function Sa(n,t=null){return function(e,r){let{empty:i,$cursor:s,ranges:o}=e.selection;if(i&&!s||!function LU(n,t,e){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=0==i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(e)}),o)return!0}return!1}(e.doc,o,n))return!1;if(r)if(s)n.isInSet(e.storedMarks||s.marks())?r(e.tr.removeStoredMark(n)):r(e.tr.addStoredMark(n.create(t)));else{let a=!1,l=e.tr;for(let d=0;!a&&d<o.length;d++){let{$from:f,$to:m}=o[d];a=e.doc.rangeHasMark(f.pos,m.pos,n)}for(let d=0;d<o.length;d++){let{$from:f,$to:m}=o[d];if(a)l.removeMark(f.pos,m.pos,n);else{let _=f.pos,v=m.pos,b=f.nodeAfter,k=m.nodeBefore,M=b&&b.isText?/^\s*/.exec(b.text)[0].length:0,E=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;_+M<v&&(_+=M,v-=E),l.addMark(_,v,n.create(t))}}r(l.scrollIntoView())}return!0}}function uc(...n){return function(t,e,r){for(let i=0;i<n.length;i++)if(n[i](t,e,r))return!0;return!1}}let R_=uc(KM,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("backward",n):r.parentOffset>0))return!1;let i=QM(r);if(!i){let o=r.blockRange(),a=o&&ec(o);return null!=a&&(t&&t(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&t2(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"end")||re.isSelectable(s))){let o=Yg(n.doc,r.before(),r.after(),j.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"end")?Pe.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):re.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=QM(r)}let o=s&&s.nodeBefore;return!(!o||!re.isSelectable(o)||(t&&t(n.tr.setSelection(re.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),0))}),r2=uc(KM,(n,t,e)=>{let{$cursor:r}=n.selection;if(!r||(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size))return!1;let i=XM(r);if(!i)return!1;let s=i.nodeAfter;if(t2(n,i,t))return!0;if(0==r.parent.content.size&&(wa(s,"start")||re.isSelectable(s))){let o=Yg(n.doc,r.before(),r.after(),j.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=n.tr.step(o);a.setSelection(wa(s,"start")?Pe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):re.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return!(!s.isAtom||i.depth!=r.depth-1||(t&&t(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),0))},(n,t,e)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=XM(r)}let o=s&&s.nodeAfter;return!(!o||!re.isSelectable(o)||(t&&t(n.tr.setSelection(re.create(n.doc,s.pos)).scrollIntoView()),0))});const Di={Enter:uc(YM,ZM,e2,O_),"Mod-Enter":JM,Backspace:R_,"Mod-Backspace":R_,"Shift-Backspace":R_,Delete:r2,"Mod-Delete":r2,"Mod-a":(n,t)=>(t&&t(n.tr.setSelection(new Fn(n.doc))),!0)},i2={"Ctrl-h":Di.Backspace,"Alt-Backspace":Di["Mod-Backspace"],"Ctrl-d":Di.Delete,"Ctrl-Alt-Backspace":Di["Mod-Delete"],"Alt-Delete":Di["Mod-Delete"],"Alt-d":Di["Mod-Delete"],"Ctrl-a":NU,"Ctrl-e":RU};for(let n in Di)i2[n]=Di[n];const VU=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?i2:Di;class Ti{constructor(t,e){this.match=t,this.match=t,this.handler="string"==typeof e?function HU(n){return function(t,e,r,i){let s=n;if(e[1]){let o=e[0].lastIndexOf(e[1]);s+=e[0].slice(o+e[1].length);let a=(r+=o)-i;a>0&&(s=e[0].slice(o-a,o)+s,r=i)}return t.tr.insertText(s,r,i)}}(e):e}}function s2(n,t,e,r,i,s){if(n.composing)return!1;let o=n.state,a=o.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r;for(let d=0;d<i.length;d++){let f=i[d].match.exec(l),m=f&&i[d].handler(o,f,t-(f[0].length-r.length),e);if(m)return n.dispatch(m.setMeta(s,{transform:m,from:t,to:e,text:r})),!0}return!1}const UU=new Ti(/--$/,"\u2014"),jU=new Ti(/\.\.\.$/,"\u2026"),QU=[new Ti(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Ti(/"$/,"\u201d"),new Ti(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Ti(/'$/,"\u2019")];function F_(n,t,e=null,r){return new Ti(n,(i,s,o,a)=>{let l=e instanceof Function?e(s):e,d=i.tr.delete(o,a),m=d.doc.resolve(o).blockRange(),_=m&&Qg(m,t,l);if(!_)return null;d.wrap(m,_);let v=d.doc.resolve(o-1).nodeBefore;return v&&v.type==t&&Xg(d.doc,o-1)&&(!r||r(s,v))&&d.join(o-1),d})}function o2(n,t,e=null){return new Ti(n,(r,i,s,o)=>{let a=r.doc.resolve(s),l=e instanceof Function?e(i):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?r.tr.delete(s,o).setBlockType(s,s,t,l):null})}const L_=(n,t)=>{const{from:e,$from:r,to:i,empty:s}=n.selection;return s?Boolean(t.isInSet(n.storedMarks||r.marks())):n.doc.rangeHasMark(e,i,t)},a2=(n,t,e={})=>{const{selection:r}=n,{$from:i,to:s}=r,o=((n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null})(t,i);return Object.entries(e).length&&o?s<=i.end()&&i.parent.hasMarkup(t,e):Boolean(o)},l2=n=>{const t=[],{selection:{from:e,to:r}}=n;return n.doc.nodesBetween(e,r,i=>{t.push(i)}),t},c2=(n,t,e)=>{for(const r of t){const{$from:i,$to:s}=r;let o=0===i.depth&&n.type.allowsMarkType(e);if(n.nodesBetween(i.pos,s.pos,a=>!o&&(o=a.inlineContent&&a.type.allowsMarkType(e),!0)),o)return!0}return!1},u2=(n,t,e)=>new Ti(n,(r,i,s,o)=>{const{tr:a}=r,l=s;let d=o;if(i[2]){const f=s+i[0].indexOf(i[2]),m=f+i[2].length;m<o&&a.delete(m,o),f>s&&a.delete(s,f),d=s+i[2].length}return a.addMark(l,d,t.create(e))}),d2=(n,t={})=>(e,r)=>{const{tr:i,selection:s}=e,{empty:o,ranges:a,$from:l,$to:d}=s;if(o&&s instanceof Ne){const{$cursor:f}=s;if(!f||!c2(e.doc,a,n)||(i.addStoredMark(n.create(t)),!i.storedMarksSet))return!1;null==r||r(i)}else{if(i.addMark(l.pos,d.pos,n.create(t)),!i.docChanged)return!1;null==r||r(i.scrollIntoView())}return!0};for(var ss={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},op={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tj="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),nj="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ot=0;Ot<10;Ot++)ss[48+Ot]=ss[96+Ot]=String(Ot);for(Ot=1;Ot<=24;Ot++)ss[Ot+111]="F"+Ot;for(Ot=65;Ot<=90;Ot++)ss[Ot]=String.fromCharCode(Ot+32),op[Ot]=String.fromCharCode(Ot);for(var B_ in ss)op.hasOwnProperty(B_)||(op[B_]=ss[B_]);const ij="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function sj(n){let r,i,s,o,t=n.split(/-(?!$)/),e=t[t.length-1];"Space"==e&&(e=" ");for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);ij?o=!0:i=!0}}return r&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function V_(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),!1!==e&&t.shiftKey&&(n="Shift-"+n),n}function ap(n){return new Gr({props:{handleKeyDown:aj(n)}})}function aj(n){let t=function oj(n){let t=Object.create(null);for(let e in n)t[sj(e)]=n[e];return t}(n);return function(e,r){let o,i=function rj(n){var e=!(tj&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||nj&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?op:ss)[n.keyCode]||n.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),s=1==i.length&&" "!=i,a=t[V_(i,r,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ss[r.keyCode])&&o!=i){let l=t[V_(o,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(s&&r.shiftKey){let l=t[V_(i,r,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Nt=function(){};Nt.prototype.append=function(t){return t.length?(t=Nt.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Nt.prototype.prepend=function(t){return t.length?Nt.from(t).append(this):this},Nt.prototype.appendInner=function(t){return new lj(this,t)},Nt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Nt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Nt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Nt.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},Nt.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},e,r),i},Nt.from=function(t){return t instanceof Nt?t:t&&t.length?new p2(t):Nt.empty};var p2=function(n){function t(r){n.call(this),this.values=r}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return 0==i&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(!1===i(this.values[l],a+l))return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(!1===i(this.values[l],a+l))return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new t(i.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Nt);Nt.empty=new p2([]);var lj=function(n){function t(e,r){n.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(s,a),o)||s>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a))return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)||s<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),s,o))return!1},t.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Nt);const h2=Nt;class Tr{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let i,s,r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}e&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a,l,o=t.tr,d=[],f=[];return this.items.forEach((m,_)=>{if(!m.step)return i||(i=this.remapping(r,_+1),s=i.maps.length),s--,void f.push(m);if(i){f.push(new Jr(m.map));let b,v=m.step.map(i.slice(s));v&&o.maybeStep(v).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new Jr(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else o.maybeStep(m.step);return m.selection?(a=i?m.selection.map(i.slice(s)):m.selection,l=new Tr(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,e,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<t.steps.length;f++){let v,m=t.steps[f].invert(t.docs[f]),_=new Jr(t.mapping.maps[f],m,e);(v=l&&l.merge(_))&&(_=v,f?s.pop():a=a.slice(0,a.length-1)),s.push(_),e&&(o++,e=void 0),i||(l=_)}let d=o-r.depth;return d>dj&&(a=function uj(n,t){let e;return n.forEach((r,i)=>{if(r.selection&&0==t--)return e=i,!1}),n.slice(e)}(a,d),o-=d),new Tr(a.append(s),o)}remapping(t,e){let r=new da;return this.items.forEach((i,s)=>{r.appendMap(i.map,null!=i.mirrorOffset&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0)},t,e),r}addMaps(t){return 0==this.eventCount?this:new Tr(this.items.append(t.map(e=>new Jr(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-e),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(_=>{_.selection&&a--},i);let l=e;this.items.forEach(_=>{let v=s.getMirror(--l);if(null==v)return;o=Math.min(o,v);let b=s.maps[v];if(_.step){let k=t.steps[v].invert(t.docs[v]),M=_.selection&&_.selection.map(s.slice(l+1,v));M&&a++,r.push(new Jr(b,k,M))}else r.push(new Jr(b))},i);let d=[];for(let _=e;_<o;_++)d.push(new Jr(s.maps[_]));let f=this.items.slice(0,i).append(d).append(r),m=new Tr(f,a);return m.emptyItemCount()>500&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(e.slice(r)),d=l&&l.getMap();if(r--,d&&e.appendMap(d,r),l){let f=o.selection&&o.selection.map(e.slice(r));f&&s++;let _,m=new Jr(d.invert(),l,f),v=i.length-1;(_=i.length&&i[v].merge(m))?i[v]=_:i.push(m)}}else o.map&&r--},this.items.length,0),new Tr(h2.from(i.reverse()),s)}}Tr.empty=new Tr(h2.empty,0);class Jr{constructor(t,e,r,i){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Jr(e.getMap().invert(),e,this.selection)}}}class as{constructor(t,e,r,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=i}}const dj=20;function f2(n){let t=[];return n.forEach((e,r,i,s)=>t.push(i,s)),t}function H_(n,t){if(!n)return null;let e=[];for(let r=0;r<n.length;r+=2){let i=t.map(n[r],1),s=t.map(n[r+1],-1);i<=s&&e.push(i,s)}return e}function m2(n,t,e,r){let i=cp(t),s=Zr.get(t).spec.config,o=(r?n.undone:n.done).popEvent(t,i);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(r?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),s,i),d=new as(r?l:o.remaining,r?o.remaining:l,null,0);e(o.transform.setSelection(a).setMeta(Zr,{redo:r,historyState:d}).scrollIntoView())}let z_=!1,g2=null;function cp(n){let t=n.plugins;if(g2!=t){z_=!1,g2=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){z_=!0;break}}return z_}const Zr=new bi("history"),_2=new bi("closeHistory");const v2=(n,t)=>{let e=Zr.getState(n);return!(!e||0==e.done.eventCount||(t&&m2(e,n,t,!1),0))},$_=(n,t)=>{let e=Zr.getState(n);return!(!e||0==e.undone.eventCount||(t&&m2(e,n,t,!0),0))},mj=["imgEl"];function gj(n,t){if(1&n){const e=L();c(0,"span",4)(1,"span",5),T("mousedown",function(i){return S(e),C().startResizing(i,"left")}),u(),c(2,"span",6),T("mousedown",function(i){return S(e),C().startResizing(i,"right")}),u(),c(3,"span",7),T("mousedown",function(i){return S(e),C().startResizing(i,"left")}),u(),c(4,"span",8),T("mousedown",function(i){return S(e),C().startResizing(i,"right")}),u()()}}const _j=function(n){return{"NgxEditor__Resizer--Active":n}},vj=["ngxEditor"],yj=["*"];function Cj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=C(2);h(1),I(" ",(null==e.href.errors?null:e.href.errors.pattern)&&"Please enter valid url."," ")}}function bj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=C(2);h(1),I(" ",(null==e.text.errors?null:e.text.errors.required)&&"This is required"," ")}}function kj(n,t){if(1&n){const e=L();c(0,"div",2)(1,"form",3),T("ngSubmit",function(i){return S(e),C().insertLink(i)}),c(2,"div",4)(3,"div",5)(4,"label",6),p(5),u(),D(6,"input",7),y(7,Cj,2,1,"div",8),u()(),c(8,"div",4)(9,"div",5)(10,"label",6),p(11),u(),D(12,"input",9),y(13,bj,2,1,"div",8),u()(),c(14,"div",4)(15,"div",5)(16,"label"),D(17,"input",10),p(18),u()()(),c(19,"button",11),p(20),u()()()}if(2&n){const e=C();h(1),g("formGroup",e.form),h(4),N(e.getLabel("url")),h(2),g("ngIf",e.href.touched&&e.href.invalid),h(4),N(e.getLabel("text")),h(2),g("ngIf",e.text.touched&&e.text.invalid),h(5),I(" ",e.getLabel("openInNewTab")," "),h(1),g("disabled",!e.form.valid),h(1),N(e.getLabel("insert"))}}function Dj(n,t){if(1&n&&(c(0,"div",12),p(1),u()),2&n){const e=C(2);h(1),I(" ",(null==e.src.errors?null:e.src.errors.pattern)&&"Please enter valid url."," ")}}function Tj(n,t){if(1&n){const e=L();c(0,"div",2)(1,"form",3),T("ngSubmit",function(i){return S(e),C().insertLink(i)}),c(2,"div",4)(3,"div",5)(4,"label",6),p(5),u(),D(6,"input",7),y(7,Dj,2,1,"div",8),u()(),c(8,"div",4)(9,"div",5)(10,"label",6),p(11),u(),D(12,"input",9),u()(),c(13,"div",4)(14,"div",5)(15,"label",6),p(16),u(),D(17,"input",10),u()(),c(18,"button",11),p(19),u()()()}if(2&n){const e=C();h(1),g("formGroup",e.form),h(4),N(e.getLabel("url")),h(2),g("ngIf",e.src.touched&&e.src.invalid),h(4),N(e.getLabel("altText")),h(5),N(e.getLabel("title")),h(2),g("disabled",!e.form.valid||!e.form.dirty),h(1),N(e.getLabel("insert"))}}const wj=function(n,t){return{"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t}};function Sj(n,t){if(1&n){const e=L();c(0,"div",4),T("mousedown",function(i){const o=S(e).$implicit;return C(2).onClick(i,o)}),p(1),u()}if(2&n){const e=t.$implicit,r=C(2);g("ngClass",fu(2,wj,e===r.activeItem,r.disabledItems.includes(e))),h(1),I(" ",r.getName(e)," ")}}function Mj(n,t){if(1&n&&(c(0,"div",2),y(1,Sj,2,5,"div",3),u()),2&n){const e=C();h(1),g("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}const xj=function(n,t){return{backgroundColor:n,color:t}},Ej=function(n){return{"NgxEditor__Color--Active":n}};function Ij(n,t){if(1&n){const e=L();c(0,"button",7),T("mousedown",function(i){const o=S(e).$implicit;return C(3).onColorSelect(i,o)}),u()}if(2&n){const e=t.$implicit,r=C(3);g("ngStyle",fu(3,xj,e,r.getContrastYIQ(e)))("title",e)("ngClass",Le(6,Ej,r.activeColors.includes(e)))}}function Pj(n,t){if(1&n&&(c(0,"div",5),y(1,Ij,1,8,"button",6),u()),2&n){const e=t.$implicit,r=C(2);h(1),g("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function Aj(n,t){if(1&n){const e=L();c(0,"div",2),y(1,Pj,2,2,"div",3),c(2,"button",4),T("mousedown",function(i){return S(e),C().remove(i)}),p(3),u()()}if(2&n){const e=C();h(1),g("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),h(1),g("disabled",!e.isActive),h(1),I(" ",e.getLabel("remove")," ")}}function Oj(n,t){if(1&n&&D(0,"ngx-toggle-command",7),2&n){const e=C().$implicit;pi(C(2).iconContainerClass),g("toolbarItem",e)}}function Nj(n,t){if(1&n&&D(0,"ngx-insert-command",7),2&n){const e=C().$implicit;pi(C(2).iconContainerClass),g("toolbarItem",e)}}function Rj(n,t){1&n&&D(0,"ngx-link"),2&n&&pi(C(3).iconContainerClass)}function Fj(n,t){1&n&&D(0,"ngx-image"),2&n&&pi(C(3).iconContainerClass)}function Lj(n,t){if(1&n&&D(0,"ngx-dropdown",9),2&n){const e=t.$implicit;pi(C(4).dropdownContainerClass),g("group",e.key)("items",e.value)}}function Bj(n,t){if(1&n&&(Ss(0),y(1,Lj,1,4,"ngx-dropdown",8),Es(2,"keyvalue"),Ms()),2&n){const e=C().$implicit,r=C(2);h(1),g("ngForOf",Is(2,2,r.getDropdownItems(e)))("ngForTrackBy",r.trackByIndex)}}function Vj(n,t){if(1&n&&D(0,"ngx-color-picker",10),2&n){const e=C(3);pi(e.iconContainerClass),g("presets",e.presets)}}function Hj(n,t){if(1&n&&D(0,"ngx-color-picker",11),2&n){const e=C(3);pi(e.iconContainerClass),g("presets",e.presets)}}function zj(n,t){1&n&&D(0,"div"),2&n&&pi(C(3).seperatorClass)}function $j(n,t){if(1&n&&(Ss(0),y(1,Oj,1,3,"ngx-toggle-command",3),y(2,Nj,1,3,"ngx-insert-command",3),y(3,Rj,1,2,"ngx-link",4),y(4,Fj,1,2,"ngx-image",4),y(5,Bj,3,4,"ng-container",2),y(6,Vj,1,3,"ngx-color-picker",5),y(7,Hj,1,3,"ngx-color-picker",6),y(8,zj,1,2,"div",4),Ms()),2&n){const e=t.$implicit,r=t.last,i=C().last,s=C();h(1),g("ngIf",s.toggleCommands.includes(e)),h(1),g("ngIf",s.insertCommands.includes(e)),h(1),g("ngIf","link"===e),h(1),g("ngIf","image"===e),h(1),g("ngIf",s.isDropDown(e)),h(1),g("ngIf","text_color"===e),h(1),g("ngIf","background_color"===e),h(1),g("ngIf",r&&!i)}}function Uj(n,t){if(1&n&&(Ss(0),y(1,$j,9,8,"ng-container",1),Ms()),2&n){const e=t.$implicit,r=C();h(1),g("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function jj(n,t){if(1&n&&(Ss(0),df(1,12),Ms()),2&n){const e=C();h(1),g("ngTemplateOutlet",e.customMenuRef)}}const Wj=function(n,t){return{"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t}},Xj=(n=!0)=>new Gr({key:new bi("editable"),state:{init:()=>n,apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_EDITABLE"))&&void 0!==r?r:e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),Jj=n=>new Gr({key:new bi("placeholder"),state:{init:()=>null!=n?n:"",apply(t,e){var r;return null!==(r=t.getMeta("UPDATE_PLACEHOLDER"))&&void 0!==r?r:e}},props:{decorations(t){const{doc:e}=t,{textContent:r,childCount:i}=e,s=this.getState(t);if(!s||i>1)return Et.empty;const o=[];return e.descendants((l,d)=>{var f;if(l.type.isBlock&&0===l.childCount&&0===r.length){const v=rr.node(d,d+l.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":s,"data-align":null!==(f=l.attrs.align)&&void 0!==f?f:null});o.push(v)}return!1}),Et.create(e,o)}}});let nW=(()=>{class n{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new Ke}startResizing(e,r){e.preventDefault(),this.resizeImage(e,r)}resizeImage(e,r){const i=e.pageX,s=this.imgEl.nativeElement.clientWidth,o="left"===r,{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),d=m=>{const v=m.pageX-i,b=o?s-v:s+v;b>l||b<20||(this.outerWidth=`${b}px`)},f=m=>{m.preventDefault(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),this.imageResize.emit()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ngx-image-view"]],viewQuery:function(e,r){if(1&e&&gu(mj,7),2&e){let i;Jo(i=Zo())&&(r.imgEl=i.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(e,r){1&e&&(c(0,"span",0),y(1,gj,5,0,"span",1),D(2,"img",2,3),u()),2&e&&(tn("width",r.outerWidth),g("ngClass",Le(7,_j,r.selected)),h(1),g("ngIf",r.selected),h(1),g("src",r.src,P)("alt",r.alt)("title",r.title))},directives:[zt,me],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),n})();class rW{constructor(t,e,r,i){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:a,dispatch:l}=this.view,{tr:d}=a,f=d.setNodeMarkup(this.getPos(),void 0,Object.assign(Object.assign({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),m=f.doc.resolve(this.getPos()),_=new re(m);f.setSelection(_),l(f)};const s=i.get(Qo);this.applicationRef=i.get(bu);const o=s.resolveComponentFactory(nW);this.imageComponentRef=o.create(i,[]),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}update(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const sW=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,y2=n=>{const t=[];return n.forEach(e=>{if(e.isText){const r=e.text;let i=0;const s=sW.exec(r);if(s){const o=s.index,a=o+s[0].length,{link:l}=e.type.schema.marks;o>0&&t.push(e.cut(i,o));const d=r.slice(o,a);t.push(e.cut(o,a).mark(l.create({href:d}).addToSet(e.marks))),i=a}i<r.length&&t.push(e.cut(i))}else t.push(e.copy(y2(e.content)))}),F.fromArray(t)},aW={type:"doc",content:[{type:"paragraph"}]},U_=(n,t)=>{const e=null!=t?t:sp,r=e.nodeFromJSON(n),i=Wr.fromSchema(e).serializeFragment(r.content),s=document.createElement("div");return s.appendChild(i),s.innerHTML},dc=(n,t)=>{if(!n)return t.nodeFromJSON(aW);if("string"!=typeof n)return t.nodeFromJSON(n);const e=((n,t)=>{const e=null!=t?t:sp,r=document.createElement("div");return r.innerHTML=n,Qs.fromSchema(e).parse(r).toJSON()})(n,t);return t.nodeFromJSON(e)};let j_=(()=>{class n{constructor(e,r,i){this.renderer=e,this.injector=r,this.elementRef=i,this.placeholder="Type Here...",this.focusOut=new Ke,this.focusIn=new Ke,this.unsubscribe=new Tn,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){!this.outputFormat&&"string"==typeof e&&(this.outputFormat="html"),this.editor.setContent(null!=e?e:"")}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if("html"!==this.outputFormat)this.onChange(e);else{const r=U_(e,this.editor.schema);this.onChange(r)}}setMeta(e,r){const{dispatch:i,state:{tr:s}}=this.editor.view;i(s.setMeta(e,r))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(Xj()),this.editor.registerPlugin(Jj(this.placeholder)),this.editor.registerPlugin(((n={})=>new Gr({key:new bi("attributes"),props:{attributes:n}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((n=>new Gr({key:new bi("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((n=>new Gr({key:new bi("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((n=>new Gr({key:new bi("image-resize"),props:{nodeViews:{image:(t,e,r)=>new rW(t,e,r,n)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new Gr({key:new bi("linkify"),props:{transformPasted:n=>new j(y2(n.content),n.openStart,n.openEnd)}}))}ngOnInit(){if(!this.editor)throw new Vg("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(function B9(n){return wt((t,e)=>{or(n).subscribe(ht(e,()=>e.complete(),hn)),!e.closed&&t.subscribe(e)})}(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(Br),w(_t),w(yt))},n.\u0275cmp=G({type:n,selectors:[["ngx-editor"]],viewQuery:function(e,r){if(1&e&&gu(vj,7),2&e){let i;Jo(i=Zo())&&(r.ngxEditor=i.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[je([{provide:kr,useExisting:He(()=>n),multi:!0}]),Lt],ngContentSelectors:yj,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(e,r){1&e&&(function xC(n){const t=O()[16][6];if(!t.projection){const r=t.projection=qa(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=n?JA(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),c(0,"div",0,1),function EC(n,t=0,e){const r=O(),i=we(),s=Io(i,20+n,16,null,e||null);null===s.projection&&(s.projection=t),Up(),64!=(64&s.flags)&&function JI(n,t,e){ny(t[11],0,t,e,q1(n,e,t),X1(e.parent||t[6],e,t))}(i,r,s)}(2),u())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),n})(),ls=(()=>{class n{constructor(){this.customMenuRefChange=new Tn}setCustomMenuRef(e){this.customMenuRefChange.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IW={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n'};class pc{static get(t,e="currentColor"){return`\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill=${e}\n        height=20\n        width=20\n      >\n        ${IW[t]||"<path></path>"}\n      </svg>\n    `}}class Ma{constructor(t){this.name=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&d2(i)(t,e)}}toggle(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&Sa(i)(t,e)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&L_(t,r)}canExecute(t){return this.toggle()(t)}}class up{constructor(t=!1){this.isBulletList=!1,this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{const{schema:r}=t,i=this.getType(r);return!!i&&(this.isActive(t)?qM(r.nodes.list_item)(t,e):function lU(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(n)&&0==o.startIndex){if(0==i.index(o.depth-1))return!1;let f=e.doc.resolve(o.start-2);l=new Ud(f,f,o.depth),o.endIndex<o.parent.childCount&&(o=new Ud(i,e.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let d=Qg(l,n,t,o);return!!d&&(r&&r(function cU(n,t,e,r,i){let s=F.empty;for(let f=e.length-1;f>=0;f--)s=F.from(e[f].type.create(e[f].attrs,s));n.step(new At(t.start-(r?2:0),t.end,t.start,t.end,new j(s,0,0),e.length,!0));let o=0;for(let f=0;f<e.length;f++)e[f].type==i&&(o=f+1);let a=e.length-o,l=t.start+e.length-(r?2:0),d=t.parent;for(let f=t.startIndex,m=t.endIndex,_=!0;f<m;f++,_=!1)!_&&ha(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=d.child(f).nodeSize;return n}(e.tr,o,d,a,n).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=this.getType(e);return!!r&&a2(t,r)}canExecute(t){return this.toggle()(t)}}class ro{constructor(t){this.level=t}apply(){return(t,e)=>{const{schema:r}=t,i=r.nodes.heading;return!!i&&N_(i)(t,e)}}toggle(){return(t,e)=>{var r;const{schema:i,selection:s,doc:o}=t,a=i.nodes.heading;if(!a)return!1;const l=s.$from.before(1),d=o.nodeAt(l),f=null!==(r=null==d?void 0:d.attrs)&&void 0!==r?r:{};return this.isActive(t)?N_(i.nodes.paragraph,f)(t,e):N_(a,Object.assign(Object.assign({},f),{level:this.level}))(t,e)}}isActive(t){const{schema:e}=t,r=l2(t),i=e.nodes.heading;if(!i)return!1;const s=[i,e.nodes.text,e.nodes.blockquote],a=r.filter(l=>s.includes(l.type)).find(l=>l.attrs.level===this.level);return Boolean(a)}canExecute(t){return this.toggle()(t)}}class hc{constructor(t){this.align=t}toggle(){return(t,e)=>{const{doc:r,selection:i,tr:s,schema:o}=t,{from:a,to:l}=i;let d=!1;return r.nodesBetween(a,l,(f,m)=>{const _=f.type;return[o.nodes.paragraph,o.nodes.heading].includes(_)&&(d=!0,s.setNodeMarkup(m,_,Object.assign(Object.assign({},f.attrs),{align:this.align}))),!0}),!!d&&(s.docChanged&&(null==e||e(s)),!0)}}isActive(t){const r=l2(t).find(i=>i.attrs.align===this.align);return Boolean(r)}canExecute(t){return this.toggle()(t)}}const OW={strict:!0};class W_{update(t){return(e,r)=>{const{schema:i,selection:s}=e,o=i.marks.link;return!(!o||s.empty)&&Sa(o,t)(e,r)}}insert(t,e){return(r,i)=>{var s,o;const{schema:a,tr:l}=r;if(!a.marks.link)return!1;const f={href:e.href,title:null!==(s=e.title)&&void 0!==s?s:t,target:null!==(o=e.target)&&void 0!==o?o:"_blank"},m=a.text(t,[a.marks.link.create(f)]);return l.replaceSelectionWith(m,!1).scrollIntoView(),!!l.docChanged&&(null==i||i(l),!0)}}isActive(t,e=OW){if(e.strict)return!0;const{schema:r}=t,i=r.marks.link;return!!i&&L_(t,i)}remove(t,e){return((n,t)=>{const{doc:e,selection:r,tr:i}=n,{$head:{pos:s},from:o,to:a}=r;if(o===a){const l=e.resolve(s),d=s-l.textOffset,f=d+l.parent.child(l.index()).nodeSize;i.removeMark(d,f)}else i.removeMark(o,a);return!!i.docChanged&&(null==t||t(i),!0)})(t,e)}canExecute(t){const e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}}class C2{insert(t,e){return(r,i)=>{const{schema:s,tr:o,selection:a}=r,l=s.nodes.image;if(!l)return!1;const d=Object.assign({width:null,src:t},e);!d.width&&a instanceof re&&a.node.type===l&&(d.width=a.node.attrs.width),o.replaceSelectionWith(l.createAndFill(d));const f=o.doc.resolve(o.selection.anchor-o.selection.$anchor.nodeBefore.nodeSize);return o.setSelection(new re(f)).scrollIntoView(),!!o.docChanged&&(null==i||i(o),!0)}}isActive(t){const{selection:e}=t;return e instanceof re&&"image"===e.node.type.name}}class xa{constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,r)=>{const{schema:i,selection:s,doc:o}=e,a=i.marks[this.name];if(!a)return!1;const{from:l,to:d,empty:f}=s;if(!f&&l+1===d){const m=o.nodeAt(l);if((null==m?void 0:m.isAtom)&&!m.isText&&m.isLeaf)return!1}return d2(a,t)(e,r)}}isActive(t){const{schema:e}=t,r=e.marks[this.name];return!!r&&L_(t,r)}getActiveColors(t){if(!this.isActive(t))return[];const{schema:e}=t;return(n=>{let t=[];const{selection:e,storedMarks:r}=n,{from:i,to:s,empty:o,$from:a}=e;return o?t=r||a.marks():n.doc.nodesBetween(i,s,l=>{t=[...t,...l.marks]}),t})(t).filter(s=>s.type===e.marks[this.name]).map(s=>s.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{const{schema:r}=t,i=r.marks[this.name];return!!i&&(n=i,(t,e)=>{const{tr:r,selection:i,storedMarks:s,doc:o}=t,{empty:a,ranges:l}=i;if(a&&i instanceof Ne){const{$cursor:d}=i;if(!d||!c2(t.doc,l,n))return!1;if(n.isInSet(s||d.marks()))return r.removeStoredMark(n),null==e||e(r),!0}else{for(const d of l){const{$from:f,$to:m}=d;o.rangeHasMark(f.pos,m.pos,n)&&r.removeMark(f.pos,m.pos,n)}if(!r.docChanged)return!1;null==e||e(r.scrollIntoView())}return!1})(t,e);var n}}canExecute(t){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(t)}}const NW=new Ma("strong"),RW=new Ma("em"),FW=new Ma("code"),LW=new Ma("u"),BW=new Ma("s"),VW=new class PW{toggle(){return(t,e)=>{const{schema:r}=t,i=r.nodes.blockquote;return!!i&&(this.isActive(t)?((n,t)=>{let{$from:e,$to:r}=n.selection,i=e.blockRange(r),s=i&&ec(i);return null!=s&&(t&&t(n.tr.lift(i,s).scrollIntoView()),!0)})(t,e):function FU(n,t=null){return function(e,r){let{$from:i,$to:s}=e.selection,o=i.blockRange(s),a=o&&Qg(o,n,t);return!!a&&(r&&r(e.tr.wrap(o,a).scrollIntoView()),!0)}}(i)(t,e))}}isActive(t){const{schema:e}=t,r=e.nodes.blockquote;return!!r&&a2(t,r)}canExecute(t){return this.toggle()(t)}},HW=new class AW{insert(){return(t,e)=>{const{schema:r,tr:i}=t,s=r.nodes.horizontal_rule;return!!s&&(e(i.replaceSelectionWith(s.create()).scrollIntoView()),!0)}}canExecute(t){return((n,t)=>{const{$from:e}=n.selection;for(let r=e.depth;r>=0;r-=1){const i=e.index(r);if(e.node(r).canReplaceWith(i,i,t))return!0}return!1})(t,t.schema.nodes.horizontal_rule)}},zW=new up(!0),$W=new up(!1),UW=new ro(1),jW=new ro(2),WW=new ro(3),qW=new ro(4),GW=new ro(5),KW=new ro(6),QW=new hc("left"),XW=new hc("center"),YW=new hc("right"),JW=new hc("justify"),ZW=new W_,eq=new C2,tq=new xa("text_color","color"),nq=new xa("text_background_color","backgroundColor"),dp={bold:NW,italic:RW,code:FW,underline:LW,strike:BW,blockquote:VW,bullet_list:zW,ordered_list:$W,h1:UW,h2:jW,h3:WW,h4:qW,h5:GW,h6:KW,align_left:QW,align_center:XW,align_right:YW,align_justify:JW},b2={horizontal_rule:HW},fc=ZW,k2=eq,rq=tq,iq=nq,q_={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class sq{constructor(t={}){this.locals=q_,this.get=e=>{var r;return null!==(r=this.locals[e])&&void 0!==r?r:""},this.locals=Object.assign(Object.assign({},q_),t)}}let G_=(()=>{class n{constructor(){this.locals={}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),io=(()=>{class n{constructor(e){this.config=e}get locals(){return new sq(this.config.locals)}}return n.\u0275fac=function(e){return new(e||n)(B(G_,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D2=n=>{var t;return{locals:null!==(t=n.locals)&&void 0!==t?t:{}}};let Ea=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Fk,16))},n.\u0275pipe=Yt({name:"sanitizeHtml",type:n,pure:!0}),n})(),oq=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.isActive=!1,this.disabled=!1,this.update=i=>{const{state:s}=i,o=dp[this.name];this.isActive=o.isActive(s),this.disabled=!o.canExecute(s)}}get name(){return this.toolbarItem}toggle(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;dp[this.name].toggle()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=pc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(io),w(ls))},n.\u0275cmp=G({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.toggle(s)}),Es(1,"sanitizeHtml"),u()),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),g("innerHTML",Is(1,6,r.html),Ir)("title",r.getTitle(r.name)))},pipes:[Ea],styles:[""]}),n})(),aq=(()=>{class n{constructor(e,r){this.ngxeService=e,this.menuService=r,this.disabled=!1,this.update=i=>{const{state:s}=i;this.disabled=!b2[this.name].canExecute(s)}}get name(){return this.toolbarItem}insert(e){if(e.preventDefault(),0!==e.button)return;const{state:r,dispatch:i}=this.editorView;b2[this.name].insert()(r,i)}getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=pc.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(io),w(ls))},n.\u0275cmp=G({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:6,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.insert(s)}),Es(1,"sanitizeHtml"),u()),2&e&&(Rr("NgxEditor--Disabled",r.disabled),g("innerHTML",Is(1,4,r.html),Ir)("title",r.getTitle(r.name)))},pipes:[Ea],styles:[""]}),n})(),lq=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new kt({href:new de("",[U.required,U.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),text:new de("",[U.required]),openInNewTab:new de(!0)}),this.setText=()=>{const{state:{selection:s,doc:o}}=this.editorView,{empty:a,from:l,to:d}=s,f=a?"":o.textBetween(l,d);f&&(this.text.patchValue(f),this.text.disable())},this.update=s=>{const{state:o}=s;this.isActive=fc.isActive(o,{strict:!1}),this.canExecute=fc.canExecute(o)}}get icon(){return pc.get(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(e){if(0!==e.button)return;const{state:r,dispatch:i}=this.editorView;this.isActive?fc.remove(r,i):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(e){e.preventDefault();const{text:r,href:i,openInNewTab:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView,{selection:l}=a,d={title:i,href:i,target:s?"_blank":"_self"};l.empty?(fc.insert(r,d)(a,o),this.editorView.focus()):fc.update(d)(a,o),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(io),w(ls))},n.\u0275cmp=G({type:n,selectors:[["ngx-link"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.onMouseDown(s)}),Es(1,"sanitizeHtml"),u(),y(2,kj,21,8,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),g("innerHTML",Is(1,7,r.icon),Ir)("title",r.title),h(2),g("ngIf",r.showPopup))},directives:[me,_n,gn,cn,at,Ze,vn,Km],pipes:[Ea],styles:[""]}),n})(),cq=(()=>{class n{constructor(e,r,i){this.el=e,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.form=new kt({src:new de("",[U.required,U.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new de(""),title:new de("")}),this.update=s=>{const{state:o}=s;this.isActive=k2.isActive(o)}}get icon(){return pc.get("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(e){0===e.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:e}=this.editorView,{selection:r}=e;if(r instanceof re&&this.isActive){const{src:i,alt:s="",title:o=""}=r.node.attrs;this.form.setValue({src:i,alt:s,title:o})}}insertLink(e){e.preventDefault();const{src:r,alt:i,title:s}=this.form.getRawValue(),{dispatch:o,state:a}=this.editorView;k2.insert(r,{alt:i,title:s})(a,o),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(io),w(ls))},n.\u0275cmp=G({type:n,selectors:[["ngx-image"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},decls:3,vars:7,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.onMouseDown(s)}),Es(1,"sanitizeHtml"),u(),y(2,Tj,20,7,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),g("innerHTML",Is(1,5,r.icon),Ir)("title",r.getLabel("insertImage")),h(2),g("ngIf",r.showPopup))},directives:[me,_n,gn,cn,at,Ze,vn],pipes:[Ea],styles:[""]}),n})(),uq=(()=>{class n{constructor(e,r,i){this.ngxeService=e,this.menuService=r,this.el=i,this.isDropdownOpen=!1,this.disabledItems=[],this.update=s=>{const{state:o}=s;this.disabledItems=[];const a=[];this.items.forEach(l=>{const d=dp[l];d.isActive(o)&&a.push(l),d.canExecute(o)||this.disabledItems.push(l)}),1===a.length?[this.activeItem]=a:this.activeItem=null}}get isSelected(){return Boolean(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}toggleDropdown(e){e.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(e){return e}onClick(e,r){if(e.preventDefault(),0!==e.button)return;const i=dp[r],{state:s,dispatch:o}=this.editorView;i.toggle()(s,o),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(io),w(ls),w(yt))},n.\u0275cmp=G({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s.target)},!1,rl)},inputs:{group:"group",items:"items"},decls:3,vars:6,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.toggleDropdown(s)}),p(1),u(),y(2,Mj,2,2,"div",1)),2&e&&(Rr("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),h(1),I(" ",r.getName(r.activeItem||r.group),"\n"),h(1),g("ngIf",r.isDropdownOpen))},directives:[me,be,zt],styles:[""]}),n})(),dq=(()=>{class n{constructor(e,r,i){this.el=e,this.menuService=r,this.ngxeService=i,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=s=>{const{state:o}=s;this.canExecute=this.command.canExecute(o),this.isActive=this.command.isActive(o),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(o))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return pc.get("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?rq:iq}getContrastYIQ(e){const r=e.replace("#","");return(299*parseInt(r.substring(0,2),16)+587*parseInt(r.substring(2,4),16)+114*parseInt(r.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup)}remove(e){e.preventDefault();const{state:r,dispatch:i}=this.editorView;this.command.remove()(r,i),this.hidePopup()}trackByIndex(e){return e}onColorSelect(e,r){if(e.preventDefault(),0!==e.button)return;const{state:i,dispatch:s}=this.editorView;"text_color"===this.type?this.command.apply({color:r})(i,s):this.command.apply({backgroundColor:r})(i,s),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(yt),w(ls),w(io))},n.\u0275cmp=G({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(e,r){1&e&&T("mousedown",function(s){return r.onDocumentClick(s)},!1,rl)},inputs:{presets:"presets",type:"type"},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(e,r){1&e&&(c(0,"div",0),T("mousedown",function(s){return r.togglePopup(s)}),Es(1,"sanitizeHtml"),u(),y(2,Aj,4,4,"div",1)),2&e&&(Rr("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),g("innerHTML",Is(1,7,r.icon),Ir)("title",r.title),h(2),g("ngIf",r.showPopup))},directives:[me,be,gk,zt],pipes:[Ea],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),n})();const pq=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],hq=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let K_=(()=>{class n{constructor(e){this.menuService=e,this.toolbar=pq,this.colorPresets=hq,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const r=[];return this.colorPresets.forEach((i,s)=>{const o=Math.floor(s/8);r[o]||r.push([]),r[o].push(i)}),r}trackByIndex(e){return e}isDropDown(e){return!!(null==e?void 0:e.heading)}getDropdownItems(e){return e}ngOnInit(){if(!this.editor)throw new Vg("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return n.\u0275fac=function(e){return new(e||n)(w(ls))},n.\u0275cmp=G({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[je([ls])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,Uj,2,2,"ng-container",1),y(2,jj,2,1,"ng-container",2),u()),2&e&&(g("ngClass",fu(4,Wj,r.disabled,"top"===r.dropdownPlacement)),h(1),g("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),h(1),g("ngIf",r.customMenuRef))},directives:[oq,aq,lq,cq,uq,dq,zt,be,me,_k],pipes:[vk],styles:[""]}),n})(),fq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:[Ea],imports:[[na,ql]]}),n})();const pp=new le("NgxEditorConfig"),T2={locals:q_};let mq=(()=>{class n{static forRoot(e=T2){return{ngModule:n,providers:[{provide:pp,useValue:e},{provide:G_,useFactory:D2,deps:[pp]}]}}static forChild(e=T2){return{ngModule:n,providers:[{provide:pp,useValue:e},{provide:G_,useFactory:D2,deps:[pp]},io]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({providers:[],imports:[[na,fq]]}),n})();const ir=(n,t=!1)=>(e,r)=>{const i=new Ma(n);return t?i.toggle()(e,r):i.apply()(e,r)};class vq{constructor(t){if(this.applyTrx=e=>{this.state=this.state.apply(null!=e?e:this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=e=>{this.applyTrx(e)},!t)throw new Vg("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(){return this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return uc(YM,ZM,e2,O_)(this.state,this.dispatch),this}applyMark(t){return ir(t,!1)(this.state,this.dispatch),this}toggleMark(t){return ir(t,!0)(this.state,this.dispatch),this}bold(){return ir("strong")(this.state,this.dispatch),this}toggleBold(){return ir("strong",!0)(this.state,this.dispatch),this}italics(){return ir("em")(this.state,this.dispatch),this}toggleItalics(){return ir("em",!0)(this.state,this.dispatch),this}underline(){return ir("u")(this.state,this.dispatch),this}toggleUnderline(){return ir("u",!0)(this.state,this.dispatch),this}strike(){return ir("s")(this.state,this.dispatch),this}toggleStrike(){return ir("s",!0)(this.state,this.dispatch),this}code(){return ir("code")(this.state,this.dispatch),this}toggleCode(){return ir("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new up(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new up(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new ro(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return(new W_).insert(t,e)(this.state,this.dispatch),this}updateLink(t){return(new W_).update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return(new C2).insert(t,e)(this.state,this.dispatch),this}textColor(t){return new xa("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new xa("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new xa("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new xa("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new hc(t).toggle()(this.state,this.dispatch),this}insertHTML(t){const{selection:e,schema:r,tr:i}=this.state,{from:s,to:o}=e,a=document.createElement("div");a.innerHTML=t.trim();const l=Qs.fromSchema(r).parseSlice(a),d=i.replaceRange(s,o,l);return this.applyTrx(d),this}}const yq="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Mq=n=>{const t=QU.concat(jU,UU);return t.push((n=>u2(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,n))(n.marks.strong)),t.push((n=>u2(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,n))(n.marks.em)),t.push((n=>F_(/^\s*>\s$/,n))(n.nodes.blockquote)),t.push((n=>F_(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])))(n.nodes.ordered_list)),t.push((n=>F_(/^\s*(?:[-+*])\s$/,n))(n.nodes.bullet_list)),t.push((n=>o2(/^```$/,n))(n.nodes.code_block)),t.push(((n,t)=>o2(new RegExp("^(#{1,6})\\s$"),n,e=>({level:e[1].length})))(n.nodes.heading)),function $U({rules:n}){let t=new Gr({state:{init:()=>null,apply(e,r){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:r)}},props:{handleTextInput:(e,r,i,s)=>s2(e,r,i,s,n,t),handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:r}=e.state.selection;r&&s2(e,r.pos,r.pos,"",n,t)})}}},isInputRules:!0});return t}({rules:t})},Eq=(n,t)=>{const e=[];return t.keyboardShortcuts&&e.push(...((n,t)=>{const e={};e["Mod-z"]=v2,yq?e["Shift-Mod-z"]=$_:e["Mod-y"]=$_;const r=[ap({"Mod-b":Sa(n.marks.strong),"Mod-i":Sa(n.marks.em),"Mod-u":Sa(n.marks.u),"Mod-`":Sa(n.marks.code)}),ap({Enter:uU(n.nodes.list_item),"Shift-Enter":uc(JM,(i,s)=>{const{tr:o}=i;return s(o.replaceSelectionWith(n.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":qM(n.nodes.list_item),"Mod-]":GM(n.nodes.list_item),Tab:GM(n.nodes.list_item)}),ap(VU)];return t.history&&r.push(ap(e)),r})(n,{history:t.history})),t.history&&e.push(function fj(n={}){return new Gr({key:Zr,state:{init:()=>new as(Tr.empty,Tr.empty,null,0),apply:(t,e,r)=>function pj(n,t,e,r){let s,i=e.getMeta(Zr);if(i)return i.historyState;e.getMeta(_2)&&(n=new as(n.done,n.undone,null,0));let o=e.getMeta("appendedTransaction");if(0==e.steps.length)return n;if(o&&o.getMeta(Zr))return o.getMeta(Zr).redo?new as(n.done.addTransform(e,void 0,r,cp(t)),n.undone,f2(e.mapping.maps[e.steps.length-1]),n.prevTime):new as(n.done,n.undone.addTransform(e,void 0,r,cp(t)),null,n.prevTime);if(!1===e.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))return(s=e.getMeta("rebased"))?new as(n.done.rebased(e,s),n.undone.rebased(e,s),H_(n.prevRanges,e.mapping),n.prevTime):new as(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),H_(n.prevRanges,e.mapping),n.prevTime);{let a=0==n.prevTime||!o&&(n.prevTime<(e.time||0)-r.newGroupDelay||!function hj(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(e=!0)}),e}(e,n.prevRanges)),l=o?H_(n.prevRanges,e.mapping):f2(e.mapping.maps[e.steps.length-1]);return new as(n.done.addTransform(e,a?t.selection.getBookmark():void 0,r,cp(t)),Tr.empty,l,e.time)}}(e,r,t,n)},config:n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,i="historyUndo"==r?v2:"historyRedo"==r?$_:null;return!!i&&(e.preventDefault(),i(t.state,t.dispatch))}}}})}()),t.inputRules&&e.push(Mq(n)),e},S2={linkOnPaste:!0,resizeImage:!0},M2={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:sp,plugins:[],nodeViews:{},attributes:{},features:S2,handleScrollToSelection:null};class Q_{constructor(t=M2){this.valueChangesSubject=new Tn,this.updateSubject=new Tn,this.options=Object.assign(Object.assign({},M2),t),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||sp}get commands(){return new vq(this.view)}get features(){return Object.assign(Object.assign({},S2),this.options.features)}handleTransactions(t){const e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;const r=e.doc.toJSON();this.valueChangesSubject.next(r)}createEditor(){var t,e;const{options:r,schema:i}=this,{content:s=null,nodeViews:o}=r,{history:a=!0,keyboardShortcuts:l=!0,inputRules:d=!0}=r,f=dc(s,i),m=null!==(t=r.plugins)&&void 0!==t?t:[],_=null!==(e=r.attributes)&&void 0!==e?e:{},v=Eq(i,{history:a,keyboardShortcuts:l,inputRules:d});this.view=new nU(null,{state:_a.create({doc:f,schema:i,plugins:[...v,...m]}),nodeViews:o,dispatchTransaction:this.handleTransactions.bind(this),attributes:_,handleScrollToSelection:r.handleScrollToSelection})}setContent(t){if(null==t)return;const{state:e}=this.view,{tr:r,doc:i}=e,s=dc(t,this.schema);r.replaceWith(0,e.doc.content.size,s),!i.eq(r.doc)&&(!r.docChanged||this.view.dispatch(r))}registerPlugin(t){const{state:e}=this.view,r=[...e.plugins,t],i=e.reconfigure({plugins:r});this.view.updateState(i)}destroy(){this.view.destroy()}}function Iq(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",145),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Pq(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function Aq(n,t){if(1&n&&(c(0,"p"),D(1,"img",146),p(2),D(3,"img",147),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function Oq(n,t){if(1&n&&(c(0,"span"),D(1,"img",146),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function Nq(n,t){if(1&n&&(c(0,"p"),D(1,"img",145),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function Rq(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function Fq(n,t){if(1&n&&(c(0,"div",143)(1,"p")(2,"b"),p(3),y(4,Iq,4,2,"span",144),y(5,Pq,2,1,"span",144),u()(),c(6,"b"),y(7,Aq,5,3,"p",144),u(),y(8,Oq,3,2,"span",144),c(9,"b"),y(10,Nq,3,2,"p",144),y(11,Rq,2,2,"p",144),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function Lq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"Umm Draft Title required idiot."),u()())}function Bq(n,t){if(1&n&&(c(0,"div",148),y(1,Lq,3,0,"div",144),u()),2&n){const e=C();h(1),g("ngIf",e.f.draftTitle.errors.required)}}function Vq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"Umm Discord Tag required idiot."),u()())}function Hq(n,t){if(1&n&&(c(0,"div",148),y(1,Vq,3,0,"div",144),u()),2&n){const e=C();h(1),g("ngIf",e.f.discordname.errors.required)}}function zq(n,t){1&n&&(c(0,"div")(1,"p",149),p(2,"You need to input a value of at LEAST 100"),u()())}function $q(n,t){if(1&n&&(c(0,"div",148),y(1,zq,3,0,"div",144),u()),2&n){const e=C();h(1),g("ngIf",e.f.cost.errors.cost)}}function Uq(n,t){1&n&&D(0,"option",23)}function jq(n,t){1&n&&(c(0,"option",150),p(1,"Effect"),u())}function Wq(n,t){1&n&&(c(0,"option",151),p(1,"Flip"),u())}function qq(n,t){1&n&&(c(0,"option",152),p(1,"Tuner"),u())}function Gq(n,t){1&n&&(c(0,"option",153),p(1,"Gemini"),u())}function Kq(n,t){1&n&&(c(0,"option",154),p(1,"Fusion"),u())}function Qq(n,t){1&n&&(c(0,"option",155),p(1,"Ritual"),u())}function Xq(n,t){1&n&&(c(0,"option",156),p(1,"Union"),u())}function Yq(n,t){1&n&&(c(0,"option",157),p(1,"Xyz"),u())}function Jq(n,t){1&n&&(c(0,"option",158),p(1,"Synchro Monster"),u())}function Zq(n,t){1&n&&D(0,"option",23)}function eG(n,t){1&n&&(c(0,"option",159),p(1,"Normal"),u())}function tG(n,t){1&n&&(c(0,"option",160),p(1,"Continuous"),u())}function nG(n,t){1&n&&(c(0,"option",161),p(1,"Quick"),u())}function rG(n,t){1&n&&(c(0,"option",162),p(1,"Ritual"),u())}function iG(n,t){1&n&&(c(0,"option",163),p(1,"Equip"),u())}function sG(n,t){1&n&&(c(0,"option",164),p(1,"Field"),u())}function oG(n,t){1&n&&D(0,"option",23)}function aG(n,t){1&n&&(c(0,"option",165),p(1,"Normal"),u())}function lG(n,t){1&n&&(c(0,"option",166),p(1,"Continuous"),u())}function cG(n,t){1&n&&(c(0,"option",167),p(1,"Counter"),u())}function uG(n,t){1&n&&(c(0,"option",168),p(1,"Level ASC"),u())}function dG(n,t){1&n&&(c(0,"option",169),p(1,"Level DESC"),u())}function pG(n,t){1&n&&(c(0,"option",170),p(1,"ATK ASC"),u())}function hG(n,t){1&n&&(c(0,"option",171),p(1,"ATK DESC"),u())}function fG(n,t){1&n&&(c(0,"option",172),p(1,"DEF ASC"),u())}function mG(n,t){1&n&&(c(0,"option",173),p(1,"DEF DESC"),u())}function gG(n,t){if(1&n){const e=L();c(0,"span")(1,"button",174),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightAddPackCard(i,o)})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _G(n,t){if(1&n){const e=L();c(0,"span")(1,"button",176),T("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o,"common")})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function vG(n,t){if(1&n){const e=L();c(0,"span")(1,"button",176),T("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o,"rare")})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function yG(n,t){if(1&n){const e=L();c(0,"span")(1,"button",176),T("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o,"super")})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function CG(n,t){if(1&n){const e=L();c(0,"span")(1,"button",176),T("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o,"ultra")})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function bG(n,t){if(1&n){const e=L();c(0,"span")(1,"button",176),T("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o,"secret")})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",175),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function kG(n,t){if(1&n){const e=L();c(0,"button",177),T("click",function(){return S(e),C().saveDraft()}),p(1,"Save Pack"),u()}2&n&&g("disabled",1==C().done)}function DG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=C(2);h(1),I("Not enough commons!(",e.currentCommons.length,"/48)")}}function TG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=C(2);h(1),I("Not enough rares!(",e.currentRare.length,"/25)")}}function wG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=C(2);h(1),I("Not enough supers!(",e.currentSuper.length,"/15)")}}function SG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=C(2);h(1),I("Not enough ultras!(",e.currentUltra.length,"/10)")}}function MG(n,t){if(1&n&&(c(0,"li"),p(1),u()),2&n){const e=C(2);h(1),I("Not enough secrets!(",e.currentSecret.length,"/2)")}}function xG(n,t){if(1&n&&(c(0,"div",178),p(1," Submission failed! Fix the following errors: "),c(2,"ul"),y(3,DG,2,1,"li",144),y(4,TG,2,1,"li",144),y(5,wG,2,1,"li",144),y(6,SG,2,1,"li",144),y(7,MG,2,1,"li",144),u()()),2&n){const e=C();h(3),g("ngIf",48!=e.currentCommons.length),h(1),g("ngIf",25!=e.currentRare.length),h(1),g("ngIf",15!=e.currentSuper.length),h(1),g("ngIf",10!=e.currentUltra.length),h(1),g("ngIf",2!=e.currentSecret.length)}}const hp=function(n){return{"is-invalid":n}},EG=function(){return[]};let IG=(()=>{class n{constructor(e,r,i,s){this.http=e,this._authService=r,this.customcardsService=i,this._router=s,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.currentPage=1,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.packSize="medium",this.cost=50,this.rarity="common",this.draftData=new kt({draftTitle:new de(" ",[U.required,U.minLength(1),U.maxLength(100)]),discordname:new de(" ",[U.required,U.minLength(1),U.maxLength(100)]),cost:new de(50,[U.required,U.min(50)]),packImage:new de(File),packdescription:new de(null,[U.required,U.min(1)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.done=!1,this.fileChanged=!1}get f(){return this.draftData.controls}ngOnDestroy(){this.editor.destroy()}ngOnInit(){this.editor=new Q_,this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,0==this.customcardsService.getProcessingPack()?this.customcardsService.getEditPack()&&-1!=this.customcardsService.getEditPackID()&&(zl(this.customcardsService.getPackInfoByID(this.customcardsService.getEditPackID()),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID())).subscribe(([r,i])=>{if(this.packInfo=r,this.cards=i,this.packSize=this.packInfo.packsize,console.log(this.packInfo),this.draftData.controls.draftTitle.setValue(this.packInfo.title),this.draftData.controls.discordname.setValue(this.packInfo.discordname),this.draftData.controls.cost.setValue(this.packInfo.cost),null!=this.packInfo.packdescription&&this.draftData.controls.packdescription.setValue(this.packInfo.packdescription),this.customcardsService.setProcessingPack(!0),"small"==this.packInfo.packsize){this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1,this.common=15,this.rare=9,this.super=4,this.ultra=2,this.secret=1;let s=0;for(;2!=s;s++)this.currentUltra.push(this.cards[s]);for(;6!=s;s++)this.currentSuper.push(this.cards[s]);for(;7!=s;s++)this.currentSecret.push(this.cards[s]);for(;16!=s;s++)this.currentRare.push(this.cards[s]);for(;31!=s;s++)this.currentCommons.push(this.cards[s])}if("medium"==this.packInfo.packsize){this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2,this.common=48,this.rare=25,this.super=15,this.ultra=10,this.secret=2;let s=0;for(;10!=s;s++)this.currentUltra.push(this.cards[s]);for(;25!=s;s++)this.currentSuper.push(this.cards[s]);for(;27!=s;s++)this.currentSecret.push(this.cards[s]);for(;52!=s;s++)this.currentRare.push(this.cards[s]);for(;100!=s;s++)this.currentCommons.push(this.cards[s])}if("large"==this.packInfo.packsize){this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6,this.common=100,this.rare=60,this.super=20,this.ultra=14,this.secret=6;let s=0;for(;14!=s;s++)this.currentUltra.push(this.cards[s]);for(;34!=s;s++)this.currentSuper.push(this.cards[s]);for(;40!=s;s++)this.currentSecret.push(this.cards[s]);for(;100!=s;s++)this.currentRare.push(this.cards[s]);for(;200!=s;s++)this.currentCommons.push(this.cards[s])}}),this.customcardsService.getCustomCardsByPack(this.customcardsService.getEditPackID()).subscribe(r=>{r&&(this.currentDraft=r)}),this.customcardsService.setProcessingPack(!0)):(this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""))},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/drafts"])}):this._router.navigate(["/login"]),this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=30*(e-1),i=30*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}selectCard(e){this.card=this.cards.find(r=>r.id==e)}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=e,this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}resetPack(e){console.log("Ah!"),this.packSize=e,this.currentDraft=[],this.currentCommons=[],this.currentRare=[],this.currentSuper=[],this.currentUltra=[],this.currentSecret=[],this.common=0,this.rare=0,this.super=0,this.ultra=0,this.secret=0,"small"==e&&(console.log("smallfry"),this.maxCommon=15,this.maxRare=9,this.maxSuper=4,this.maxUltra=2,this.maxSecret=1),"medium"==e&&(this.maxCommon=48,this.maxRare=25,this.maxSuper=15,this.maxUltra=10,this.maxSecret=2),"large"==e&&(this.maxCommon=100,this.maxRare=60,this.maxSuper=20,this.maxUltra=14,this.maxSecret=6)}addCard(e){const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.card)||void 0===s?void 0:s.id)});if(console.log(r),!(r>-1)&&null!=this.card)if("common"==e){if(this.common==this.maxCommon)return;this.currentCommons.push(this.card),this.currentDraft.push(this.card),this.common++}else if("rare"==e){if(this.rare==this.maxRare)return;this.currentRare.push(this.card),this.currentDraft.push(this.card),this.rare++}else if("super"==e){if(this.super==this.maxSuper)return;this.currentSuper.push(this.card),this.currentDraft.push(this.card),this.super++}else if("ultra"==e){if(this.ultra==this.maxUltra)return;this.currentUltra.push(this.card),this.currentDraft.push(this.card),this.ultra++}else if("secret"==e){if(this.secret==this.maxSecret)return;this.currentSecret.push(this.card),this.currentDraft.push(this.card),this.secret++}}selectDraftCard(e){this.draftCard=e}deleteDraftCard(e){if(null!=this.draftCard){if(console.log(this.draftCard),console.log(e),"common"==e){const i=this.currentCommons.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentCommons.splice(i,1),this.common--)}else if("rare"==e){const i=this.currentRare.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentRare.splice(i,1),this.rare--)}else if("super"==e){const i=this.currentSuper.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSuper.splice(i,1),this.super--)}else if("ultra"==e){const i=this.currentUltra.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentUltra.splice(i,1),this.ultra--)}else if("secret"==e){const i=this.currentSecret.findIndex(s=>{var o;return s.id===(null===(o=this.draftCard)||void 0===o?void 0:o.id)});i>-1&&(this.currentSecret.splice(i,1),this.secret--)}const r=this.currentDraft.findIndex(i=>{var s;return i.id===(null===(s=this.draftCard)||void 0===s?void 0:s.id)});r>-1&&this.currentDraft.splice(r,1),this.draftCard=void 0}}rightAddPackCard(e,r){e.preventDefault(),this.card=r,console.log(r.name),this.addCard(this.rarity)}autoSelect(e){this.rarity=e}saveDraft(){var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.draftData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");if(this.currentCommons.length==this.maxCommon&&this.currentRare.length==this.maxRare&&this.currentSuper.length==this.maxSuper&&this.currentUltra.length==this.maxUltra&&this.currentSecret.length==this.maxSecret){if(this.done=!0,this.packInfo){const r={};r.packID=this.packInfo.id,r.title=this.draftData.controls.draftTitle.value,r.discordname=this.draftData.controls.discordname.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.packurl=this.packInfo.pack,r.packdescription=this.draftData.controls.packdescription.value;const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.resubmitPack(r).subscribe(m=>{console.log(m),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},m=>{console.log(m)})},f=>{console.log(f)})}else this.customcardsService.resubmitPack(r).subscribe(d=>{console.log(d),this.customcardsService.setProcessingPack(!1),this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName(""),this._router.navigate(["/packs"])},d=>{console.log(d)})}else{const r={};r.title=this.draftData.controls.draftTitle.value,r.creator=this.username,r.creatorid=this.id,r.cost=this.draftData.controls.cost.value,r.discordname=this.draftData.controls.discordname.value,r.packdescription=U_(this.draftData.controls.packdescription.value);const i=[],s=[],o=[],a=[],l=[];for(let d=0;d<=this.currentCommons.length-1;d++)i.push(this.currentCommons[d].id);for(let d=0;d<=this.currentRare.length-1;d++)s.push(this.currentRare[d].id);for(let d=0;d<=this.currentSuper.length-1;d++)o.push(this.currentSuper[d].id);for(let d=0;d<=this.currentUltra.length-1;d++)a.push(this.currentUltra[d].id);for(let d=0;d<=this.currentSecret.length-1;d++)l.push(this.currentSecret[d].id);if(r.commonIDs=i,r.rareIDs=s,r.superIDs=o,r.ultraIDs=a,r.secretIDs=l,r.packSize=this.packSize,r.packurl="placeholder",this.fileChanged){const d=new FormData;d.append("thumbnail",this.file),d.append("name",r.title),this.customcardsService.uploadImage(d).subscribe(f=>{r.packurl=f,this.customcardsService.submitPack(r).subscribe(m=>{console.log(m),this._router.navigate(["/packs"])},m=>{console.log(m)})},f=>{console.log(f)})}else this.customcardsService.submitPack(r).subscribe(d=>{console.log(d),this._router.navigate(["/packs"])},d=>{console.log(d)})}this.submitfail=!1}else this.submitfail=!0}rightDeleteDraftCard(e,r,i){this.selectDraftCard(r),e.preventDefault(),this.deleteDraftCard(i)}onFileSelected(e){this.file=e.target.files[0],this.fileChanged=!0}}return n.\u0275fac=function(e){return new(e||n)(w($u),w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-pack-maker"]],decls:332,vars:93,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],["type","button",1,"btn","btn-success","addcard",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-auto"],["for","Name"],["id","draftTitle","formControlName","draftTitle","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","discordname"],["id","discordname","formControlName","discordname","type","text",1,"form-control",3,"ngClass"],["id","cost","formControlName","cost","type","text",1,"form-control",3,"ngClass"],["for","customFile"],["id","packImage","formControlName","packImage","type","file",1,"form-control",3,"ngClass","change"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","packdescription",3,"editor","ngModel","disabled","placeholder"],[1,"row",3,"keydown.enter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["for","Creator"],["for","attribute"],["id","attribute",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Attack Directly"],["value","Battle"],["value","Boost"],["value","Bounce"],["value","Burn"],["value","Counters"],["value","Cripple"],["value","Draw"],["value","Disrupt"],["value","Equip"],["value","Excavate"],["value","Flip"],["value","Fusion"],["value","Gain"],["value","Gamble"],["value","Generic"],["value","Hand Protection"],["value","Ignore"],["value","Lingering"],["value","Lockdown"],["value","Mill"],["value","Mimic"],["value","Non-Targeted Removal"],["value","Piercing"],["value","Position"],["value","Protection"],["value","Quick"],["value","Recycle"],["value","Restriction"],["value","Ritual"],["value","Searcher"],["value","Special Summon"],["value","Spin"],["value","Targeted Removal"],["value","Token"],["value","Tribute"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"col-lg-12"],["type","button","class","btn btn-success addcard",3,"disabled","click",4,"ngIf"],["class","submit-text-fail",4,"ngIf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"invalid-feedback"],[1,"red"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Fusion Monster"],["value","Ritual Monster"],["value","Union Monster"],["value","Xyz Monster"],["value","Synchro Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"],[1,"smallcard",3,"src"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["type","button",1,"btn","btn-success","addcard",3,"disabled","click"],[1,"submit-text-fail"]],template:function(e,r){1&e&&(y(0,Fq,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.resetPack("small")}),p(4,"Small"),u(),c(5,"button",3),T("click",function(){return r.resetPack("medium")}),p(6,"Medium"),u(),c(7,"button",3),T("click",function(){return r.resetPack("large")}),p(8,"Large"),u(),c(9,"h4")(10,"ul")(11,"li"),p(12,"Small: 31 Cards, 3 per pack (15 Common, 9 Rare, 4 Super, 2 Ultra, 1 Secret)"),u(),c(13,"li"),p(14,"Medium: 100 cards, 9 per pack (48 Common, 25 Rare, 15 Super, 10 Ultra, 2 Secret)"),u(),c(15,"li"),p(16,"Large: 200 cards, 13 per pack (100 Common, 60 Rare, 20 Super, 14 Ultra, 6 Secret)"),u(),c(17,"li"),p(18,"DISCLAIMER: Changing the pack size will remove ALL CARDS in your current pack. Be careful!"),u()()()(),c(19,"form",4),T("ngSubmit",function(){return r.saveDraft()}),c(20,"div",2)(21,"div",5)(22,"label",6),p(23,"Pack Name"),u(),D(24,"input",7),y(25,Bq,2,1,"div",8),u(),c(26,"div",5)(27,"label",9),p(28,"Discord Name"),u(),D(29,"input",10),y(30,Hq,2,1,"div",8),u(),c(31,"div",5)(32,"label",6),p(33,"Pack Cost"),u(),D(34,"input",11),y(35,$q,2,1,"div",8),u(),c(36,"div",5)(37,"label",12),p(38,"Upload Image"),u(),c(39,"input",13),T("change",function(s){return r.onFileSelected(s)}),u()()(),c(40,"div",2)(41,"div",14),D(42,"ngx-editor-menu",15)(43,"ngx-editor",16),u()()(),c(44,"div",17),T("keydown.enter",function(){return r.submitSearch()}),c(45,"div",5)(46,"label",6),p(47,"Name"),u(),c(48,"input",18),T("ngModelChange",function(s){return r.filters.name=s}),u()(),c(49,"div",5)(50,"label",19),p(51,"Desc"),u(),c(52,"input",18),T("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(53,"div",5)(54,"label",20),p(55,"Creator"),u(),c(56,"input",18),T("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(57,"div",5)(58,"label",21),p(59,"Tag"),u(),c(60,"select",22),T("ngModelChange",function(s){return r.filters.tag=s}),D(61,"option",23),c(62,"option",24),p(63,"Attack Directly"),u(),c(64,"option",25),p(65,"Battle"),u(),c(66,"option",26),p(67,"Boost"),u(),c(68,"option",27),p(69,"Bounce"),u(),c(70,"option",28),p(71,"Burn"),u(),c(72,"option",29),p(73,"Counters"),u(),c(74,"option",30),p(75,"Cripple"),u(),c(76,"option",31),p(77,"Draw "),u(),c(78,"option",32),p(79,"Disrupt"),u(),c(80,"option",33),p(81,"Equip"),u(),c(82,"option",34),p(83,"Excavate"),u(),c(84,"option",35),p(85,"Flip"),u(),c(86,"option",36),p(87,"Fusion"),u(),c(88,"option",37),p(89,"Gain"),u(),c(90,"option",38),p(91,"Gamble"),u(),c(92,"option",39),p(93,"Generic"),u(),c(94,"option",40),p(95,"Hand Protection"),u(),c(96,"option",41),p(97,"Ignore"),u(),c(98,"option",42),p(99,"Lingering"),u(),c(100,"option",43),p(101,"Lockdown"),u(),c(102,"option",44),p(103,"Mill"),u(),c(104,"option",45),p(105,"Mimic"),u(),c(106,"option",46),p(107,"Non-Targeted Removal"),u(),c(108,"option",47),p(109,"Piercing"),u(),c(110,"option",48),p(111,"Position"),u(),c(112,"option",49),p(113,"Protection"),u(),c(114,"option",50),p(115,"Quick"),u(),c(116,"option",51),p(117,"Recycle"),u(),c(118,"option",52),p(119,"Restriction"),u(),c(120,"option",53),p(121,"Ritual"),u(),c(122,"option",54),p(123,"Searcher"),u(),c(124,"option",55),p(125,"Special Summon"),u(),c(126,"option",56),p(127,"Spin"),u(),c(128,"option",57),p(129,"Targeted Removal"),u(),c(130,"option",58),p(131,"Token"),u(),c(132,"option",59),p(133,"Tribute"),u()()(),c(134,"div",5)(135,"label",60),p(136,"Card"),u(),c(137,"select",61),T("ngModelChange",function(s){return r.filters.initial=s}),D(138,"option",23),c(139,"option",62),p(140,"Monster"),u(),c(141,"option",63),p(142,"Spell"),u(),c(143,"option",64),p(144,"Trap"),u()()(),c(145,"div",5)(146,"label",60),p(147,"Card Type 2"),u(),c(148,"select",65),T("ngModelChange",function(s){return r.filters.cardtype=s}),y(149,Uq,1,0,"option",66),y(150,jq,2,0,"option",67),y(151,Wq,2,0,"option",68),y(152,qq,2,0,"option",69),y(153,Gq,2,0,"option",70),y(154,Kq,2,0,"option",71),y(155,Qq,2,0,"option",72),y(156,Xq,2,0,"option",73),y(157,Yq,2,0,"option",74),y(158,Jq,2,0,"option",75),y(159,Zq,1,0,"option",66),y(160,eG,2,0,"option",76),y(161,tG,2,0,"option",77),y(162,nG,2,0,"option",78),y(163,rG,2,0,"option",79),y(164,iG,2,0,"option",80),y(165,sG,2,0,"option",81),y(166,oG,1,0,"option",66),y(167,aG,2,0,"option",82),y(168,lG,2,0,"option",83),y(169,cG,2,0,"option",84),u()(),c(170,"div",5)(171,"label",85),p(172,"Monster Type"),u(),c(173,"select",86),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(174,"option",23),c(175,"option",87),p(176,"Aqua"),u(),c(177,"option",88),p(178,"Beast"),u(),c(179,"option",89),p(180,"Beast-Warrior"),u(),c(181,"option",90),p(182,"Dinosaur"),u(),c(183,"option",91),p(184,"Dragon"),u(),c(185,"option",92),p(186,"Fairy"),u(),c(187,"option",93),p(188,"Fiend"),u(),c(189,"option",94),p(190,"Fish"),u(),c(191,"option",95),p(192,"Insect"),u(),c(193,"option",96),p(194,"Machine"),u(),c(195,"option",97),p(196,"Plant"),u(),c(197,"option",98),p(198,"Psychic"),u(),c(199,"option",99),p(200,"Pyro"),u(),c(201,"option",100),p(202,"Reptile"),u(),c(203,"option",101),p(204,"Rock"),u(),c(205,"option",102),p(206,"Sea Serpent"),u(),c(207,"option",103),p(208,"Spellcaster"),u(),c(209,"option",104),p(210,"Thunder"),u(),c(211,"option",105),p(212,"Warrior"),u(),c(213,"option",106),p(214,"Winged-Beast"),u(),c(215,"option",107),p(216,"Zombie"),u()()()(),c(217,"div",17),T("keydown.enter",function(){return r.submitSearch()}),c(218,"div",5)(219,"label",21),p(220,"Attribute"),u(),c(221,"select",108),T("ngModelChange",function(s){return r.filters.attribute=s}),D(222,"option",23),c(223,"option",109),p(224,"DARK"),u(),c(225,"option",110),p(226,"DIVINE"),u(),c(227,"option",111),p(228,"EARTH"),u(),c(229,"option",112),p(230,"FIRE"),u(),c(231,"option",113),p(232,"LIGHT"),u(),c(233,"option",114),p(234,"WATER"),u(),c(235,"option",115),p(236,"WIND"),u()()(),c(237,"div",5)(238,"label",116),p(239,"Level <= "),u(),c(240,"input",117),T("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(241,"div",5)(242,"label",118),p(243," Level "),u(),c(244,"input",117),T("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(245,"div",5)(246,"label",119),p(247,"Atk <="),u(),c(248,"input",117),T("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(249,"div",5)(250,"label",120),p(251,"Atk"),u(),c(252,"input",117),T("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(253,"div",5)(254,"label",121),p(255,"Def <="),u(),c(256,"input",117),T("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(257,"div",5)(258,"label",122),p(259,"Def"),u(),c(260,"input",117),T("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(261,"div",5)(262,"label",123),p(263,"Sort By"),u(),c(264,"select",61),T("ngModelChange",function(s){return r.filters.sort=s}),c(265,"option",124),p(266,"Release Date ASC"),u(),c(267,"option",125),p(268,"Release Date DESC"),u(),c(269,"option",126),p(270,"Alphabetical ASC"),u(),c(271,"option",127),p(272,"Alphabetical DESC"),u(),y(273,uG,2,0,"option",128),y(274,dG,2,0,"option",129),y(275,pG,2,0,"option",130),y(276,hG,2,0,"option",131),y(277,fG,2,0,"option",132),y(278,mG,2,0,"option",133),u()(),c(279,"button",134),T("click",function(){return r.submitSearch()}),p(280,"Search"),u()(),c(281,"div",135)(282,"div")(283,"button",3),T("click",function(){return r.autoSelect("common")}),p(284,"Add Common"),u(),c(285,"button",3),T("click",function(){return r.autoSelect("rare")}),p(286,"Add Rare"),u(),c(287,"button",3),T("click",function(){return r.autoSelect("super")}),p(288,"Add Super"),u(),c(289,"button",3),T("click",function(){return r.autoSelect("ultra")}),p(290,"Add Ultra"),u(),c(291,"button",3),T("click",function(){return r.autoSelect("secret")}),p(292,"Add Secret"),u()()(),c(293,"div",135)(294,"div",5)(295,"div",5)(296,"div",136)(297,"div",137),D(298,"span",138),u()()(),y(299,gG,3,1,"span",139),c(300,"div",2)(301,"button",134),T("click",function(){return r.nextPage()}),p(302,"Next"),u(),c(303,"button",134),T("click",function(){return r.prevPage()}),p(304,"Previous"),u()()()(),c(305,"div",2)(306,"h1")(307,"b"),p(308,"Current Pack"),u()(),c(309,"div",140)(310,"h2"),p(311),u(),y(312,_G,3,1,"span",139),u(),c(313,"div",140)(314,"h2"),p(315),u(),y(316,vG,3,1,"span",139),u(),c(317,"div",140)(318,"h2"),p(319),u(),y(320,yG,3,1,"span",139),u(),c(321,"div",140)(322,"h2"),p(323),u(),y(324,CG,3,1,"span",139),u(),c(325,"div",140)(326,"h2"),p(327),u(),y(328,bG,3,1,"span",139),u()(),c(329,"div",2),y(330,kG,2,1,"button",141),y(331,xG,8,5,"div",142),u()()),2&e&&(g("ngIf",!0===r.isHovering),h(19),g("formGroup",r.draftData),h(5),g("ngClass",Le(84,hp,r.submitted&&r.f.draftTitle.errors)),h(1),g("ngIf",r.submitted&&r.f.draftTitle.errors),h(4),g("ngClass",Le(86,hp,r.submitted&&r.f.discordname.errors)),h(1),g("ngIf",r.submitted&&r.f.discordname.errors),h(4),g("ngClass",Le(88,hp,r.submitted&&r.f.cost.errors)),h(1),g("ngIf",r.submitted&&r.f.cost.errors),h(4),g("ngClass",Le(90,hp,r.submitted&&r.f.packImage.errors)),h(3),g("toolbar",r.toolbar)("editor",r.editor),h(1),g("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(5),g("ngModel",r.filters.name),h(4),g("ngModel",r.filters.desc),h(4),g("ngModel",r.filters.creator),h(4),g("ngModel",r.filters.tag),h(77),g("ngModel",r.filters.initial),h(11),g("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),g("ngModel",r.filters.sort),h(9),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(21),g("ngForOf",r.currentCards),h(12),Me("Commons (",r.currentCommons.length,"/",r.maxCommon,")"),h(1),g("ngForOf",r.currentCommons),h(3),Me("Rares (",r.currentRare.length,"/",r.maxRare,")"),h(1),g("ngForOf",r.currentRare),h(3),Me("Super (",r.currentSuper.length,"/",r.maxSuper,")"),h(1),g("ngForOf",r.currentSuper),h(3),Me("Ultra (",r.currentUltra.length,"/",r.maxUltra,")"),h(1),g("ngForOf",r.currentUltra),h(3),Me("Secret(",r.currentSecret.length,"/",r.maxSecret,")"),h(1),g("ngForOf",r.currentSecret),h(2),g("ngIf",r.currentDraft!=Tf(92,EG)),h(1),g("ngIf",r.submitfail&&r.submitted))},directives:[me,_n,gn,cn,at,Ze,vn,zt,K_,j_,Ut,yn,Yn,Jn,Hs,be],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;padding-right:10px}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.submit-text-fail[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:20pt}ul[_ngcontent-%COMP%]{font-weight:700;font-size:20pt}h4[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.extrapadding[_ngcontent-%COMP%]{padding-left:10px}.row[_ngcontent-%COMP%]{padding-left:0}"]}),n})();function PG(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",98),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function AG(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function OG(n,t){if(1&n&&(c(0,"p"),D(1,"img",99),p(2),D(3,"img",100),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function NG(n,t){if(1&n&&(c(0,"span"),D(1,"img",99),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function RG(n,t){if(1&n&&(c(0,"p"),D(1,"img",98),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function FG(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function LG(n,t){if(1&n&&(c(0,"div",97)(1,"p")(2,"b"),p(3),y(4,PG,4,2,"span",95),y(5,AG,2,1,"span",95),u()(),c(6,"b"),y(7,OG,5,3,"p",95),u(),y(8,NG,3,2,"span",95),c(9,"b"),y(10,RG,3,2,"p",95),y(11,FG,2,2,"p",95),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function BG(n,t){1&n&&D(0,"option",12)}function VG(n,t){1&n&&(c(0,"option",101),p(1,"Effect"),u())}function HG(n,t){1&n&&(c(0,"option",102),p(1,"Flip"),u())}function zG(n,t){1&n&&(c(0,"option",103),p(1,"Tuner"),u())}function $G(n,t){1&n&&(c(0,"option",104),p(1,"Gemini"),u())}function UG(n,t){1&n&&(c(0,"option",105),p(1,"Spirit"),u())}function jG(n,t){1&n&&(c(0,"option",106),p(1,"Union"),u())}function WG(n,t){1&n&&(c(0,"option",107),p(1,"Ritual"),u())}function qG(n,t){1&n&&(c(0,"option",108),p(1,"Fusion"),u())}function GG(n,t){1&n&&(c(0,"option",109),p(1,"Synchro"),u())}function KG(n,t){1&n&&(c(0,"option",110),p(1,"Xyz"),u())}function QG(n,t){1&n&&D(0,"option",12)}function XG(n,t){1&n&&(c(0,"option",111),p(1,"Normal"),u())}function YG(n,t){1&n&&(c(0,"option",112),p(1,"Continuous"),u())}function JG(n,t){1&n&&(c(0,"option",113),p(1,"Quick"),u())}function ZG(n,t){1&n&&(c(0,"option",114),p(1,"Ritual"),u())}function eK(n,t){1&n&&(c(0,"option",115),p(1,"Equip"),u())}function tK(n,t){1&n&&(c(0,"option",116),p(1,"Field"),u())}function nK(n,t){1&n&&D(0,"option",12)}function rK(n,t){1&n&&(c(0,"option",117),p(1,"Normal"),u())}function iK(n,t){1&n&&(c(0,"option",118),p(1,"Continuous"),u())}function sK(n,t){1&n&&(c(0,"option",119),p(1,"Counter"),u())}function oK(n,t){1&n&&(c(0,"option",120),p(1,"Level ASC"),u())}function aK(n,t){1&n&&(c(0,"option",121),p(1,"Level DESC"),u())}function lK(n,t){1&n&&(c(0,"option",122),p(1,"ATK ASC"),u())}function cK(n,t){1&n&&(c(0,"option",123),p(1,"ATK DESC"),u())}function uK(n,t){1&n&&(c(0,"option",124),p(1,"DEF ASC"),u())}function dK(n,t){1&n&&(c(0,"option",125),p(1,"DEF DESC"),u())}function pK(n,t){if(1&n){const e=L();c(0,"button",127),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightAddDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),D(1,"img",128),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function hK(n,t){if(1&n&&(c(0,"span"),y(1,pK,2,1,"button",126),u()),2&n){const e=t.$implicit;h(1),g("ngIf",null!=e)}}function fK(n,t){if(1&n){const e=L();c(0,"button",87),T("click",function(){return S(e),C().uploadList()}),p(1,"Upload Decklist"),u()}}function mK(n,t){1&n&&(c(0,"span"),p(1," Need at least 40 cards to upload."),u())}function gK(n,t){if(1&n){const e=L();c(0,"button",130),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _K(n,t){if(1&n&&(c(0,"span"),y(1,gK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Monster"))}}function vK(n,t){if(1&n){const e=L();c(0,"button",130),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function yK(n,t){if(1&n&&(c(0,"span"),y(1,vK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Spell"))}}function CK(n,t){if(1&n){const e=L();c(0,"button",130),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",128),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function bK(n,t){if(1&n&&(c(0,"span"),y(1,CK,2,1,"button",129),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Trap"))}}function kK(n,t){if(1&n){const e=L();c(0,"span")(1,"button",130),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteSideCard(i,o)})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",128),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function DK(n,t){if(1&n){const e=L();c(0,"span")(1,"button",130),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return C().selectDraftCard(s)}),D(2,"img",128),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}let TK=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new kt({draftTitle:new de(" ",[U.required,U.minLength(1),U.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCustomCards().subscribe(e=>{if(this.cards=e,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader(),0==this.customcardsService.getProcessingDeck()?this.customcardsService.getEditDecklist()&&-1!=this.customcardsService.getEditDeckID()&&(zl(this.customcardsService.getDecklistInfo(this.customcardsService.getEditDeckID()),this.customcardsService.getDecklist(this.customcardsService.getEditDeckID())).subscribe(([r,i])=>{this.decklistinfo=r,this.decklist=i;for(let s in i)"maindeck"==i[s].deck||"extradeck"==i[s].deck?this.addCard(i[s]):this.addSideCard(i[s]);this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDeckName())}),this.customcardsService.setProcessingDeck(!0)):(this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName("")),this.uploadedMain.length>0||this.uploadedSide.length>0||this.uploadedExtra.length>0){console.log(this.uploadedMain);for(let r in this.uploadedMain)this.addCard(this.uploadedMain[r]);for(let r in this.uploadedSide)this.addSideCard(this.uploadedSide[r]);for(let r in this.uploadedExtra)this.addCard(this.uploadedExtra[r])}}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.produceSearchRes()}produceSearchRes(){let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;this.mainDeck.push(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.mainDeck.splice(r,1),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(o.id);this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(o.id);this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(o.id);this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Vd.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Lt],decls:216,vars:69,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",3,"keydown.enter"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"btn","btn-success","small","text-center",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],[1,"smallcard",3,"src"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,LG,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Deck Name"),u(),c(6,"input",5),T("ngModelChange",function(s){return r.deckname=s}),u()(),c(7,"div",3)(8,"label",6),p(9,"Deck Description"),u(),c(10,"input",7),T("ngModelChange",function(s){return r.deckdescription=s}),u()()(),c(11,"div",8),T("keydown.enter",function(){return r.submitSearch()}),c(12,"div",3)(13,"label",4),p(14,"Name"),u(),c(15,"input",7),T("ngModelChange",function(s){return r.filters.name=s}),u()(),c(16,"div",3)(17,"label",6),p(18,"Desc"),u(),c(19,"input",7),T("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(20,"div",3)(21,"label",9),p(22,"Creator"),u(),c(23,"input",7),T("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(24,"div",3)(25,"label",10),p(26,"Card"),u(),c(27,"select",11),T("ngModelChange",function(s){return r.filters.initial=s}),D(28,"option",12),c(29,"option",13),p(30,"Monster"),u(),c(31,"option",14),p(32,"Spell"),u(),c(33,"option",15),p(34,"Trap"),u()()(),c(35,"div",3)(36,"label",10),p(37,"Card Type 2"),u(),c(38,"select",16),T("ngModelChange",function(s){return r.filters.cardtype=s}),y(39,BG,1,0,"option",17),y(40,VG,2,0,"option",18),y(41,HG,2,0,"option",19),y(42,zG,2,0,"option",20),y(43,$G,2,0,"option",21),y(44,UG,2,0,"option",22),y(45,jG,2,0,"option",23),y(46,WG,2,0,"option",24),y(47,qG,2,0,"option",25),y(48,GG,2,0,"option",26),y(49,KG,2,0,"option",27),y(50,QG,1,0,"option",17),y(51,XG,2,0,"option",28),y(52,YG,2,0,"option",29),y(53,JG,2,0,"option",30),y(54,ZG,2,0,"option",31),y(55,eK,2,0,"option",32),y(56,tK,2,0,"option",33),y(57,nK,1,0,"option",17),y(58,rK,2,0,"option",34),y(59,iK,2,0,"option",35),y(60,sK,2,0,"option",36),u()(),c(61,"div",3)(62,"label",37),p(63,"Monster Type"),u(),c(64,"select",38),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(65,"option",12),c(66,"option",39),p(67,"Aqua"),u(),c(68,"option",40),p(69,"Beast"),u(),c(70,"option",41),p(71,"Beast-Warrior"),u(),c(72,"option",42),p(73,"Dinosaur"),u(),c(74,"option",43),p(75,"Dragon"),u(),c(76,"option",44),p(77,"Fairy"),u(),c(78,"option",45),p(79,"Fiend"),u(),c(80,"option",46),p(81,"Fish"),u(),c(82,"option",47),p(83,"Insect"),u(),c(84,"option",48),p(85,"Machine"),u(),c(86,"option",49),p(87,"Plant"),u(),c(88,"option",50),p(89,"Psychic"),u(),c(90,"option",51),p(91,"Pyro"),u(),c(92,"option",52),p(93,"Reptile"),u(),c(94,"option",53),p(95,"Rock"),u(),c(96,"option",54),p(97,"Sea Serpent"),u(),c(98,"option",55),p(99,"Spellcaster"),u(),c(100,"option",56),p(101,"Thunder"),u(),c(102,"option",57),p(103,"Warrior"),u(),c(104,"option",58),p(105,"Winged-Beast"),u(),c(106,"option",59),p(107,"Zombie"),u()()()(),c(108,"div",8),T("keydown.enter",function(){return r.submitSearch()}),c(109,"div",3)(110,"label",60),p(111,"Attribute"),u(),c(112,"select",61),T("ngModelChange",function(s){return r.filters.attribute=s}),D(113,"option",12),c(114,"option",62),p(115,"DARK"),u(),c(116,"option",63),p(117,"DIVINE"),u(),c(118,"option",64),p(119,"EARTH"),u(),c(120,"option",65),p(121,"FIRE"),u(),c(122,"option",66),p(123,"LIGHT"),u(),c(124,"option",67),p(125,"WATER"),u(),c(126,"option",68),p(127,"WIND"),u()()(),c(128,"div",3)(129,"label",69),p(130,"Level <= "),u(),c(131,"input",70),T("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(132,"div",3)(133,"label",71),p(134," Level "),u(),c(135,"input",70),T("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(136,"div",3)(137,"label",72),p(138,"Atk <="),u(),c(139,"input",70),T("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(140,"div",3)(141,"label",73),p(142,"Atk"),u(),c(143,"input",70),T("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(144,"div",3)(145,"label",74),p(146,"Def <="),u(),c(147,"input",70),T("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(148,"div",3)(149,"label",75),p(150,"Def"),u(),c(151,"input",70),T("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(152,"div",3)(153,"label",76),p(154,"Sort By"),u(),c(155,"select",11),T("ngModelChange",function(s){return r.filters.sort=s}),c(156,"option",77),p(157,"Release Date ASC"),u(),c(158,"option",78),p(159,"Release Date DESC"),u(),c(160,"option",79),p(161,"Alphabetical ASC"),u(),c(162,"option",80),p(163,"Alphabetical DESC"),u(),y(164,oK,2,0,"option",81),y(165,aK,2,0,"option",82),y(166,lK,2,0,"option",83),y(167,cK,2,0,"option",84),y(168,uK,2,0,"option",85),y(169,dK,2,0,"option",86),u()(),c(170,"button",87),T("click",function(){return r.submitSearch()}),p(171,"Search"),u()(),c(172,"div",88)(173,"div")(174,"button",89),T("click",function(){return r.addTo("Main")}),p(175,"Main Deck"),u(),c(176,"button",89),T("click",function(){return r.addTo("Side")}),p(177,"Side Deck"),u()(),c(178,"div",3)(179,"div",90)(180,"div",91),D(181,"span",92),u()(),y(182,hK,2,1,"span",93),c(183,"div",2)(184,"button",87),T("click",function(){return r.nextPage()}),p(185,"Next"),u(),c(186,"button",87),T("click",function(){return r.prevPage()}),p(187,"Previous"),u()()()(),c(188,"div",2)(189,"h1")(190,"b"),p(191),u(),c(192,"button",87),T("click",function(){return r.exportList()}),p(193,"Export XML"),u(),y(194,fK,2,0,"button",94),y(195,mK,2,0,"span",95),u(),c(196,"div",96)(197,"h2"),p(198),u(),y(199,_K,2,1,"span",93),u(),c(200,"div",96)(201,"h2"),p(202),u(),y(203,yK,2,1,"span",93),u(),c(204,"div",96)(205,"h2"),p(206),u(),y(207,bK,2,1,"span",93),u(),c(208,"div",96)(209,"h2"),p(210),u(),y(211,kK,3,1,"span",93),u(),c(212,"div",96)(213,"h2"),p(214),u(),y(215,DK,3,1,"span",93),u()()()),2&e&&(g("ngIf",!0===r.isHovering),h(6),g("ngModel",r.deckname),h(4),g("ngModel",r.deckdescription),h(5),g("ngModel",r.filters.name),h(4),g("ngModel",r.filters.desc),h(4),g("ngModel",r.filters.creator),h(4),g("ngModel",r.filters.initial),h(11),g("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),g("ngModel",r.filters.sort),h(9),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(13),g("ngForOf",r.currentCards),h(9),Me("Current Decklist (",r.mainDeck.length,"/60) (",r.sideDeck.length,"/15)"),h(3),g("ngIf",r._authService.loggedIn()),h(1),g("ngIf",0==r.uploadCorrectly),h(3),I("Monsters (",r.monsterCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Spells (",r.spellCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Traps (",r.trapCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Side Deck (",r.sideCounter,")"),h(1),g("ngForOf",r.sideDeck),h(3),I("Extra (",r.edCounter,")"),h(1),g("ngForOf",r.extraDeck))},directives:[me,at,Ze,Ut,yn,Yn,Jn,Hs,be],styles:[".smallcard[_ngcontent-%COMP%]{width:100px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}"]}),n})();function wK(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",8),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function SK(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function MK(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),D(3,"img",10),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function xK(n,t){if(1&n&&(c(0,"span"),D(1,"img",9),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function EK(n,t){if(1&n&&(c(0,"p"),D(1,"img",8),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function IK(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function PK(n,t){if(1&n&&(c(0,"div",6)(1,"p")(2,"b"),p(3),y(4,wK,4,2,"span",7),y(5,SK,2,1,"span",7),u()(),c(6,"b"),y(7,MK,5,3,"p",7),u(),y(8,xK,3,2,"span",7),c(9,"b"),y(10,EK,3,2,"p",7),y(11,IK,2,2,"p",7),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function AK(n,t){if(1&n){const e=L();c(0,"button",11),T("click",function(){return S(e),C().delete()}),p(1,"Delete"),u()}}function OK(n,t){if(1&n){const e=L();c(0,"button",12),T("click",function(){return S(e),C().edit()}),p(1,"Edit"),u()}}function NK(n,t){if(1&n){const e=L();c(0,"span")(1,"img",13),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),u()()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function RK(n,t){if(1&n&&(c(0,"span"),y(1,NK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),g("ngIf","maindeck"==(null==e?null:e.deck))}}function FK(n,t){if(1&n){const e=L();c(0,"span")(1,"img",13),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),u()()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function LK(n,t){if(1&n&&(c(0,"span"),y(1,FK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),g("ngIf","sidedeck"==(null==e?null:e.deck))}}function BK(n,t){if(1&n){const e=L();c(0,"span")(1,"img",13),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),u()()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function VK(n,t){if(1&n&&(c(0,"span"),y(1,BK,2,1,"span",7),u()),2&n){const e=t.$implicit;h(1),g("ngIf","extradeck"==(null==e?null:e.deck))}}let HK=(()=>{class n{constructor(e,r,i,s){this._router=e,this._authService=r,this.route=i,this.customcardService=s,this.xml_file="",this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}mouseHovering(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseHoverDrafted(e,r){this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id},e=>{console.log(e),this.username="",this.id=-99999}),this.route.paramMap.subscribe(e=>{this.deckid=Number(e.get("deckid")),this.customcardService.getDecklist(this.deckid).subscribe(r=>{this.decklist=r,this.decklist.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.decklist)}),this.customcardService.getDecklistInfo(this.deckid).subscribe(r=>{this.decklistinfo=r})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}download(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';for(const r of this.decklist)"maindeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</main><side>";for(const r of this.decklist)"sidedeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</side><extra>";for(const r of this.decklist)"extradeck"==r.deck&&(this.xml_file+='<card id="'+String(r.id)+'" passcode="">'+r.name+"</card>");this.xml_file+="</extra></deck>",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Vd.saveAs(e,"cardlist.xml")}delete(){this.customcardService.deleteDecklists(this.deckid).subscribe(e=>{this._router.navigate(["/decklists"])},e=>{console.log(e)})}edit(){this.customcardService.editDeck(!0),this.customcardService.setEditDeckID(this.deckid),this.customcardService.setEditDeckName(this.decklistinfo.name),this.customcardService.uploadDecklist([],[],[]),this._router.navigate(["/deck-editor"])}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(sn),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-decklist-details"]],decls:27,vars:8,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"btn","btn-success",3,"click"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"smallcard",3,"src","mouseenter","mouseleave","click"]],template:function(e,r){1&e&&(y(0,PK,16,13,"div",0),c(1,"div",1)(2,"h1")(3,"b")(4,"u"),p(5),u()()(),c(6,"h2"),p(7),u(),c(8,"button",2),T("click",function(){return r.download()}),p(9,"Download .xml"),u(),y(10,AK,2,0,"button",3),y(11,OK,2,0,"button",4),c(12,"h3")(13,"b")(14,"u"),p(15,"Main Deck"),u()()(),y(16,RK,2,1,"span",5),c(17,"h3")(18,"b")(19,"u"),p(20,"Side Deck"),u()()(),y(21,LK,2,1,"span",5),c(22,"h3")(23,"b")(24,"u"),p(25,"Extra Deck"),u()()(),y(26,VK,2,1,"span",5),u()),2&e&&(g("ngIf",!0===r.isHovering),h(5),N(null==r.decklistinfo?null:r.decklistinfo.name),h(2),I("By ",null==r.decklistinfo?null:r.decklistinfo.creator,""),h(3),g("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),h(1),g("ngIf",(null==r.decklistinfo?null:r.decklistinfo.creatorid)==r.id),h(5),g("ngForOf",r.decklist),h(5),g("ngForOf",r.decklist),h(5),g("ngForOf",r.decklist))},directives:[me,be],styles:[".smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}"]}),n})();function zK(n,t){if(1&n){const e=L();c(0,"span")(1,"button",5),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)}),c(2,"div",6)(3,"div",7),D(4,"img",8),u(),c(5,"div",9),D(6,"img",10),u()()()()}if(2&n){const e=t.$implicit,r=C();h(2),g("@cardFlip",r.state),h(4),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}let $K=(()=>{class n{constructor(e){this.customcardsService=e,this.cards=[],this.state="default",this.randomCards=[],this.DMCount=0}ngOnInit(){this.customcardsService.getDeckMasters().subscribe(e=>{this.cards=e,console.log(this.cards),this.shuffleCards()})}shuffleCards(){"flipped"===this.state&&(this.state="default");let e=0;for(this.randomCards=[];3!=e;){const r=this.randomIntFromInterval(0,this.cards.length-1);let i=this.cards[r];for(console.log(i);this.randomCards.findIndex(s=>s.id===(null==i?void 0:i.id))>-1;){const s=this.randomIntFromInterval(0,this.cards.length-1);i=this.cards[s]}this.randomCards.push(i),e++}}rotate(){this.state="default"===this.state?"flipped":"default"}randomIntFromInterval(e,r){return Math.floor(Math.random()*(r-e+1)+e)}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-deck-master"]],decls:10,vars:3,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"smallbutton","btn","btn-default","btn-success",3,"disabled","click"],[1,"col-lg-8","text-center"],[4,"ngFor","ngForOf"],["href","",1,"btn","btn-default",3,"click"],[1,"card"],[1,"face","back"],["src","assets/cardimages/Default.png"],[1,"face","front"],[3,"src"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"button",2),T("click",function(){return r.rotate()}),p(3,"Reveal Cards"),u(),c(4,"button",2),T("click",function(){return r.shuffleCards()}),p(5,"Shuffle Cards"),u()(),c(6,"div",1)(7,"div",3)(8,"div"),y(9,zK,7,2,"span",4),u()()()()),2&e&&(h(2),g("disabled","flipped"==r.state),h(2),g("disabled","default"==r.state),h(5),g("ngForOf",r.randomCards))},directives:[be],styles:[".bigcard[_ngcontent-%COMP%]{width:371px;height:546px}.col[_ngcontent-%COMP%]{width:371px}.smallcard[_ngcontent-%COMP%]{width:100px;cursor:pointer}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 43px -18px #000000bf;border-radius:5px;height:300px;width:200px;cursor:pointer;position:relative;transform-style:preserve-3d}.face[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;border-radius:inherit;-webkit-backface-visibility:hidden;backface-visibility:hidden}.face[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:inherit}.front[_ngcontent-%COMP%]{transform:rotateY(180deg)}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.bigcard[_ngcontent-%COMP%]{width:330px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px;margin-left:10px}ul[_ngcontent-%COMP%]{padding:0;margin:0}span[_ngcontent-%COMP%]{text-transform:capitalize}button[_ngcontent-%COMP%]{margin:1px}div[_ngcontent-%COMP%]{padding:1px}.pack[_ngcontent-%COMP%]{width:50%}.smallbutton[_ngcontent-%COMP%]{width:200px}"],data:{animation:[yd("cardFlip",[Wi("default",$r({transform:"none"})),Wi("flipped",$r({transform:"rotateY(180deg)"})),qi("default => flipped",[ji("400ms")]),qi("flipped => default",[ji("0ms")])])]}}),n})();function UK(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",11),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function jK(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function WK(n,t){if(1&n&&(c(0,"p"),D(1,"img",12),p(2),D(3,"img",13),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function qK(n,t){if(1&n&&(c(0,"span"),D(1,"img",12),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function GK(n,t){if(1&n&&(c(0,"p"),D(1,"img",11),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function KK(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function QK(n,t){if(1&n&&(c(0,"div",9)(1,"p")(2,"b"),p(3),y(4,UK,4,2,"span",10),y(5,jK,2,1,"span",10),u()(),c(6,"b"),y(7,WK,5,3,"p",10),u(),y(8,qK,3,2,"span",10),c(9,"b"),y(10,GK,3,2,"p",10),y(11,KK,2,2,"p",10),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function XK(n,t){if(1&n&&(c(0,"div",17),D(1,"img",18),c(2,"div",19),p(3),u()()),2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function YK(n,t){1&n&&D(0,"img",24)}function JK(n,t){1&n&&D(0,"img",25)}function ZK(n,t){1&n&&D(0,"img",26)}function eQ(n,t){if(1&n&&(c(0,"div",20),y(1,YK,1,0,"img",21),y(2,JK,1,0,"img",22),y(3,ZK,1,0,"img",23),D(4,"img",18),c(5,"div",19),p(6),u()()),2&n){const e=C().$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),g("ngIf","super"==e.rarity),h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function tQ(n,t){if(1&n){const e=L();c(0,"span")(1,"button",14),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()}),y(2,XK,4,2,"div",15),y(3,eQ,7,5,"div",16),u()()}if(2&n){const e=t.$implicit;h(2),g("ngIf","common"==e.rarity),h(1),g("ngIf","common"!=e.rarity)}}let nQ=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.searching=!1,this.searchName="",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.binders=[],this.cards=[],this.originalCards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getCollectionCardsByCreatorID(this.creatorid).subscribe(r=>{r&&(this.cards=r,this.originalCards=this.cards,console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})},e=>{console.log(e),this.router.navigate(["/home"])}),console.log(this.creatorid)}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),this.searchName=this.filters.name,this.cards=this.originalCards.filter(r=>r.name.toLowerCase().includes(this.searchName.toLowerCase())),this.currentPage=1,this.getCardNumbers(this.currentPage),console.log(this.searchName)}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-collections"]],decls:18,vars:3,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col","justify-content-between"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"hovering"],[4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(y(0,QK,16,13,"div",0),c(1,"h1",1),p(2,"Card Collection"),u(),c(3,"div",2)(4,"div",3)(5,"div",4),T("keydown.enter",function(){return r.submitSearch()}),c(6,"div",2)(7,"label",5),p(8,"Name"),u(),c(9,"input",6),T("ngModelChange",function(s){return r.filters.name=s}),u(),c(10,"button",7),T("click",function(){return r.submitSearch()}),p(11,"Search"),u()()(),y(12,tQ,4,2,"span",8),c(13,"div",2)(14,"button",7),T("click",function(){return r.nextPage()}),p(15,"Next"),u(),c(16,"button",7),T("click",function(){return r.prevPage()}),p(17,"Previous"),u()()()()),2&e&&(g("ngIf",!0===r.isHovering),h(9),g("ngModel",r.filters.name),h(3),g("ngForOf",r.currentCards))},directives:[me,at,Ze,Ut,be],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})();function rQ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",9),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function iQ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function sQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),D(3,"img",11),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function oQ(n,t){if(1&n&&(c(0,"span"),D(1,"img",10),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function aQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function lQ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function cQ(n,t){if(1&n&&(c(0,"div",8)(1,"p")(2,"b"),p(3),y(4,rQ,4,2,"span",7),y(5,iQ,2,1,"span",7),u()(),c(6,"b"),y(7,sQ,5,3,"p",7),u(),y(8,oQ,3,2,"span",7),c(9,"b"),y(10,aQ,3,2,"p",7),y(11,lQ,2,2,"p",7),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function uQ(n,t){if(1&n&&(c(0,"option",12),p(1),u()),2&n){const e=t.$implicit;H("value",e.packid),h(1),N(e.title)}}function dQ(n,t){1&n&&D(0,"img",22)}function pQ(n,t){if(1&n&&(c(0,"div",18),y(1,dQ,1,0,"img",19),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function hQ(n,t){1&n&&D(0,"img",22)}function fQ(n,t){if(1&n&&(c(0,"div",23),y(1,hQ,1,0,"img",19),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function mQ(n,t){if(1&n){const e=L();c(0,"button",15),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),y(1,pQ,5,3,"div",16),y(2,fQ,5,3,"div",17),u()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(1),g("ngIf",e.copies>0),h(1),g("ngIf",0==e.copies)}}function gQ(n,t){if(1&n&&(c(0,"span"),y(1,mQ,3,3,"button",14),u()),2&n){const e=t.$implicit;h(1),g("ngIf","secret"==e.rarity)}}function _Q(n,t){1&n&&D(0,"img",25)}function vQ(n,t){if(1&n&&(c(0,"div",18),y(1,_Q,1,0,"img",24),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function yQ(n,t){1&n&&D(0,"img",25)}function CQ(n,t){if(1&n&&(c(0,"div",23),y(1,yQ,1,0,"img",24),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function bQ(n,t){if(1&n){const e=L();c(0,"button",15),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),y(1,vQ,5,3,"div",16),y(2,CQ,5,3,"div",17),u()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),g("ngIf",e.copies>0),h(1),g("ngIf",0==e.copies)}}function kQ(n,t){if(1&n&&(c(0,"span"),y(1,bQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),g("ngIf","ultra"==e.rarity)}}function DQ(n,t){1&n&&D(0,"img",27)}function TQ(n,t){if(1&n&&(c(0,"div",18),y(1,DQ,1,0,"img",26),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function wQ(n,t){1&n&&D(0,"img",27)}function SQ(n,t){if(1&n&&(c(0,"div",23),y(1,wQ,1,0,"img",26),D(2,"img",20),c(3,"div",21),p(4),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function MQ(n,t){if(1&n){const e=L();c(0,"button",15),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),y(1,TQ,5,3,"div",16),y(2,SQ,5,3,"div",17),u()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),g("ngIf",e.copies>0),h(1),g("ngIf",0==e.copies)}}function xQ(n,t){if(1&n&&(c(0,"span"),y(1,MQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),g("ngIf","super"==e.rarity)}}function EQ(n,t){if(1&n&&(c(0,"div",18),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=C(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function IQ(n,t){if(1&n&&(c(0,"div",23),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=C(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function PQ(n,t){if(1&n){const e=L();c(0,"button",15),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),y(1,EQ,4,2,"div",16),y(2,IQ,4,2,"div",28),u()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),g("ngIf",e.copies>0),h(1),g("ngIf",0==e.copies)}}function AQ(n,t){if(1&n&&(c(0,"span"),y(1,PQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),g("ngIf","rare"==e.rarity)}}function OQ(n,t){if(1&n&&(c(0,"div",31),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=C(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function NQ(n,t){if(1&n&&(c(0,"div",32),D(1,"img",20),c(2,"div",21),p(3),u()()),2&n){const e=C(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function RQ(n,t){if(1&n){const e=L();c(0,"button",15),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),y(1,OQ,4,2,"div",29),y(2,NQ,4,2,"div",30),u()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,"")("routerLink","/cards/",e.id,""),h(1),g("ngIf",e.copies>0),h(1),g("ngIf",0==e.copies)}}function FQ(n,t){if(1&n&&(c(0,"span"),y(1,RQ,3,4,"button",14),u()),2&n){const e=t.$implicit;h(1),g("ngIf","common"==e.rarity)}}function LQ(n,t){if(1&n&&(c(0,"div")(1,"h2"),p(2,"Secret Rares"),u(),y(3,gQ,2,1,"span",13),c(4,"h2"),p(5,"Ultra Rares"),u(),y(6,kQ,2,1,"span",13),c(7,"h2"),p(8,"Super Rares"),u(),y(9,xQ,2,1,"span",13),c(10,"h2"),p(11,"Rares"),u(),y(12,AQ,2,1,"span",13),c(13,"h2"),p(14,"Commons"),u(),y(15,FQ,2,1,"span",13),u()),2&n){const e=C();h(3),g("ngForOf",e.userPackCollection),h(3),g("ngForOf",e.userPackCollection),h(3),g("ngForOf",e.userPackCollection),h(3),g("ngForOf",e.userPackCollection),h(3),g("ngForOf",e.userPackCollection)}}let BQ=(()=>{class n{constructor(e,r,i){this.authService=e,this.router=r,this.customCardService=i,this.packs=[],this.userPackCollection=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100}ngOnInit(){this.authService.getUser().subscribe(e=>{this.userId=e.id},e=>{console.log(e),this.router.navigate(["/home"])}),this.customCardService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}selectPack(){this.customCardService.getChecklist(this.userId,this.packID).subscribe(e=>{this.userPackCollection=e,console.log(this.userPackCollection),this.userPackCollection.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1)})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(te),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-checklist"]],decls:11,vars:4,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[1,"container"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],[4,"ngIf"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[3,"value"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],["class","rare-card",4,"ngIf"],["class","rare-card no-card",4,"ngIf"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],[1,"rare-card","no-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["class","rare-card no-card ",4,"ngIf"],["class","relative",4,"ngIf"],["class","relative no-card",4,"ngIf"],[1,"relative"],[1,"relative","no-card"]],template:function(e,r){1&e&&(y(0,cQ,16,13,"div",0),c(1,"h2",1),p(2,"The Attic Packs"),u(),c(3,"div",2)(4,"span",3),p(5,"Pack: "),u(),c(6,"select",4),T("ngModelChange",function(s){return r.packID=s}),y(7,uQ,2,2,"option",5),u(),c(8,"button",6),T("click",function(){return r.selectPack()}),p(9,"Select Pack"),u(),y(10,LQ,16,5,"div",7),u()),2&e&&(g("ngIf",!0===r.isHovering),h(6),g("ngModel",r.packID),h(1),g("ngForOf",r.packs),h(3),g("ngIf",r.userPackCollection.length>0))},directives:[me,yn,Ze,Ut,be,Yn,Jn,on],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.no-card[_ngcontent-%COMP%]{-moz-filter:grayscale(100%);-o-filter:grayscale(100%);-ms-filter:grayscale(100%);filter:grayscale(100%)}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function VQ(n,t){if(1&n&&(c(0,"h4"),D(1,"img",9),p(2),u()),2&n){const e=C();h(1),H("src",e.stType,P),h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function HQ(n,t){if(1&n&&(c(0,"h4"),p(1),u()),2&n){const e=C();h(1),I(" ",null==e.card?null:e.card.cardtype," ")}}function zQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),D(3,"img",11),p(4),u()),2&n){const e=C();h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," "),h(2),I(" ",null==e.card?null:e.card.level," ")}}function $Q(n,t){if(1&n&&(c(0,"p"),D(1,"img",10),p(2),u()),2&n){const e=C();h(1),H("src",e.attribute,P),h(1),I(" ",null==e.card?null:e.card.attribute," ")}}function UQ(n,t){if(1&n&&(c(0,"p"),D(1,"img",9),p(2),u()),2&n){const e=C();h(1),H("src",e.mType,P),h(1),I(" ",null==e.card?null:e.card.type,"")}}function jQ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C();h(1),Me("ATK/",null==e.card?null:e.card.atk," DEF/",null==e.card?null:e.card.def,"")}}function WQ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=t.$implicit;h(1),I("",e.tag,", ")}}function qQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Unlimited"),u())}function GQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Limited"),u())}function KQ(n,t){1&n&&(c(0,"p"),p(1,"Status: Semi-Limited"),u())}function QQ(n,t){1&n&&(c(0,"p"),p(1,"Status: BANNED"),u())}function XQ(n,t){if(1&n&&(c(0,"p",12),p(1),c(2,"a",13),p(3),u()()),2&n){const e=t.$implicit;h(1),I(" ",e.rarity," : "),h(1),A("routerLink","/packs/",e.id,""),h(1),N(e.title)}}function YQ(n,t){if(1&n){const e=L();c(0,"button",14),T("click",function(){return S(e),C().confirmDelete()}),p(1,"Delete Card?"),u()}}let JQ=(()=>{class n{constructor(e,r,i,s){this.router=e,this._authService=r,this.route=i,this.customcardService=s,this.banned=!1,this.limited=!1,this.semilimited=!1,this.unlimited=!0}ngOnInit(){this.route.paramMap.subscribe(e=>{this.cardid=Number(e.get("cardid")),this.customcardService.getCardDetails(this.cardid).subscribe(r=>{this.carddetails=r,this.card=this.carddetails.carddetails,this.tags=this.carddetails.tags;for(let i in this.tags)"Limited"==this.tags[i].tag&&(this.limited=!0,this.unlimited=!1,this.tags.splice(i,1)),"Semi-Limited"==this.tags[i].tag&&(this.semilimited=!0,this.unlimited=!1,this.tags.splice(i,1)),"Banned"==this.tags[i].tag&&(this.banned=!0,this.unlimited=!1,this.tags.splice(i,1)),console.log(i);console.log(this.carddetails),this.showDetails()})})}goToLink(e){window.open("https://www.duelingbook.com/card?id="+e,"_blank")}showDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(e=this.card)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(s=this.card)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.card)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(_=this.card)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(v=this.card)||void 0===v?void 0:v.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(b=this.card)||void 0===b?void 0:b.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}confirmDelete(){if(this._authService.adminRole())if(0!=this.carddetails.packdetails.length)confirm("You cannot delete this card while it is in a pack!");else{let e="Are you sure you want to delete this card?";1==confirm(e)?this.customcardService.deleteCard(this.card).subscribe(r=>{this.router.navigate(["/deck-editor"])},r=>{this.router.navigate(["/deck-editor"])}):e="You canceled!"}}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(sn),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-card-details"]],decls:36,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-lg-4","cardeffect"],["href","",1,"bigcard",3,"src","click"],[1,"col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-capitalize",4,"ngFor","ngForOf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[1,"text-capitalize"],[1,"text-decoration-none",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),T("click",function(){return r.goToLink(r.card.id)}),u()(),c(4,"div",4)(5,"div",1)(6,"h1"),p(7),u(),y(8,VQ,3,2,"h4",5),y(9,HQ,2,1,"h4",5),c(10,"b"),y(11,zQ,5,3,"p",5),u(),y(12,$Q,3,2,"p",5),c(13,"b"),y(14,UQ,3,2,"p",5),y(15,jQ,2,2,"p",5),c(16,"p"),p(17),u(),c(18,"p"),p(19),u(),c(20,"p"),p(21),u(),c(22,"p"),p(23,"Tags: "),y(24,WQ,2,1,"span",6),u(),y(25,qQ,2,0,"p",5),y(26,GQ,2,0,"p",5),y(27,KQ,2,0,"p",5),y(28,QQ,2,0,"p",5),u()(),c(29,"div",1)(30,"h1"),p(31,"Released In:"),u(),c(32,"h3"),y(33,XQ,4,3,"p",7),u()()()(),c(34,"div"),y(35,YQ,2,0,"button",8),u()()),2&e&&(h(3),A("src","https://drive.google.com/uc?export=view&id=",null==r.card?null:r.card.drive_id,"",P),h(4),N(null==r.card?null:r.card.name),h(1),g("ngIf","False"==r.monster),h(1),g("ngIf","True"==r.monster),h(2),g("ngIf","True"==r.monster),h(1),g("ngIf","False"==r.monster),h(2),g("ngIf","True"==r.monster),h(1),g("ngIf","True"==r.monster),h(2),I(" ",null==r.card?null:r.card.effect,""),h(2),I("ID: ",null==r.card?null:r.card.id,""),h(2),I("Creator: ",null==r.card?null:r.card.creator,""),h(3),g("ngForOf",r.tags),h(1),g("ngIf",1==r.unlimited),h(1),g("ngIf",1==r.limited),h(1),g("ngIf",1==r.semilimited),h(1),g("ngIf",1==r.banned),h(5),g("ngForOf",r.carddetails.packdetails),h(2),g("ngIf",r._authService.adminRole()))},directives:[me,be,an],styles:[".cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.largecard[_ngcontent-%COMP%]{width:50%}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function ZQ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",7),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function eX(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function tX(n,t){if(1&n&&(c(0,"p"),D(1,"img",8),p(2),D(3,"img",9),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function nX(n,t){if(1&n&&(c(0,"span"),D(1,"img",8),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function rX(n,t){if(1&n&&(c(0,"p"),D(1,"img",7),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function iX(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function sX(n,t){if(1&n&&(c(0,"div",6)(1,"p")(2,"b"),p(3),y(4,ZQ,4,2,"span",3),y(5,eX,2,1,"span",3),u()(),c(6,"b"),y(7,tX,5,3,"p",3),u(),y(8,nX,3,2,"span",3),c(9,"b"),y(10,rX,3,2,"p",3),y(11,iX,2,2,"p",3),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function oX(n,t){1&n&&(c(0,"span"),p(1,"200 cards, 13 per pack"),u())}function aX(n,t){1&n&&(c(0,"span"),p(1,"100 cards, 9 per pack"),u())}function lX(n,t){1&n&&(c(0,"span"),p(1,"31 cards, 3 per pack"),u())}function cX(n,t){1&n&&D(0,"img",16)}function uX(n,t){if(1&n){const e=L();c(0,"button",12),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),c(1,"div",13),y(2,cX,1,0,"img",14),D(3,"img",15),u()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(2),g("ngIf","secret"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function dX(n,t){if(1&n&&(c(0,"span"),y(1,uX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),g("ngIf","secret"==e.rarity)}}function pX(n,t){1&n&&D(0,"img",18)}function hX(n,t){if(1&n){const e=L();c(0,"button",12),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),c(1,"div",13),y(2,pX,1,0,"img",17),D(3,"img",15),u()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(2),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function fX(n,t){if(1&n&&(c(0,"span"),y(1,hX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),g("ngIf","ultra"==e.rarity)}}function mX(n,t){1&n&&D(0,"img",20)}function gX(n,t){if(1&n){const e=L();c(0,"button",12),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),c(1,"div",13),y(2,mX,1,0,"img",19),D(3,"img",15),u()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(2),g("ngIf","super"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function _X(n,t){if(1&n&&(c(0,"span"),y(1,gX,4,3,"button",11),u()),2&n){const e=t.$implicit;h(1),g("ngIf","super"==e.rarity)}}function vX(n,t){if(1&n){const e=L();c(0,"button",12),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),c(1,"div",13),D(2,"img",15),u()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function yX(n,t){if(1&n&&(c(0,"span"),y(1,vX,3,2,"button",11),u()),2&n){const e=t.$implicit;h(1),g("ngIf","rare"==e.rarity)}}function CX(n,t){if(1&n){const e=L();c(0,"button",12),T("mouseenter",function(i){S(e);const s=C().$implicit;return C(2).mouseHovering(s,i)})("mouseleave",function(){return S(e),C(3).mouseLeft()}),c(1,"div",21),D(2,"img",15),u()()}if(2&n){const e=C().$implicit;A("routerLink","/cards/",e.id,""),h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function bX(n,t){if(1&n&&(c(0,"span"),y(1,CX,3,2,"button",11),u()),2&n){const e=t.$implicit;h(1),g("ngIf","common"==e.rarity)}}function kX(n,t){if(1&n&&(c(0,"div")(1,"h2"),p(2,"Secret Rares"),u(),y(3,dX,2,1,"span",10),c(4,"h2"),p(5,"Ultra Rares"),u(),y(6,fX,2,1,"span",10),c(7,"h2"),p(8,"Super Rares"),u(),y(9,_X,2,1,"span",10),c(10,"h2"),p(11,"Rares"),u(),y(12,yX,2,1,"span",10),c(13,"h2"),p(14,"Commons"),u(),y(15,bX,2,1,"span",10),u()),2&n){const e=C();h(3),g("ngForOf",e.packcards),h(3),g("ngForOf",e.packcards),h(3),g("ngForOf",e.packcards),h(3),g("ngForOf",e.packcards),h(3),g("ngForOf",e.packcards)}}let DX=(()=>{class n{constructor(e,r,i,s){this.customcardsService=e,this.authService=r,this.router=i,this.route=s,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.packcards=[]}ngOnInit(){this.route.paramMap.subscribe(e=>{this.packid=Number(e.get("packid")),this.customcardsService.getPackInfoByID(this.packid).subscribe(r=>{this.packInfo=r,console.log(this.packInfo)}),this.customcardsService.getCustomCardsByPack(this.packid).subscribe(r=>{this.packcards=r,this.packcards.sort((i,s)=>i.cardtype.includes("Monster")?s.cardtype.includes("Spell")||s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Spell")?s.cardtype.includes("Monster")?1:s.cardtype.includes("Trap")?-1:i.name>s.name?1:-1:i.cardtype.includes("Trap")?s.cardtype.includes("Monster")||s.cardtype.includes("Spell")||i.name>s.name?1:-1:1),console.log(this.packcards)})})}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te),w(sn))},n.\u0275cmp=G({type:n,selectors:[["app-pack-details"]],decls:14,vars:9,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[4,"ngIf"],[1,"container"],[1,"packdescription",3,"innerHTML"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],[4,"ngFor","ngForOf"],["class","btn btn-default",3,"routerLink","mouseenter","mouseleave",4,"ngIf"],[1,"btn","btn-default",3,"routerLink","mouseenter","mouseleave"],[1,"rare-card"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],[1,"smallcard",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],[1,"relative"]],template:function(e,r){1&e&&(y(0,sX,16,13,"div",0),c(1,"h1",1),p(2),u(),c(3,"h4",1),p(4,"Created by "),c(5,"a",2),p(6),u(),p(7," | Pack Size: "),y(8,oX,2,0,"span",3),y(9,aX,2,0,"span",3),y(10,lX,2,0,"span",3),u(),c(11,"div",4),D(12,"span",5),y(13,kX,16,5,"div",3),u()),2&e&&(g("ngIf",!0===r.isHovering),h(2),N(r.packInfo.title),h(3),A("routerLink","/players/",r.packInfo.creatorid,""),h(1),N(r.packInfo.creator),h(2),g("ngIf","large"==r.packInfo.packsize),h(1),g("ngIf","medium"==r.packInfo.packsize),h(1),g("ngIf","small"==r.packInfo.packsize),h(2),g("innerHTML",r.packInfo.packdescription,Ir),h(1),g("ngIf",r.packcards.length>0))},directives:[me,an,be,on],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:70%}.binder[_ngcontent-%COMP%]{font-size:xx-large}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.btn[_ngcontent-%COMP%]{padding:0}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]{width:1600px}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}']}),n})();function TX(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"td")(3,"a",7),p(4),u()(),c(5,"td"),p(6),u()()()),2&n){const e=t.$implicit;h(3),A("routerLink","/players/",e.id,""),h(1),N(null==e?null:e.username),h(2),I(" ",null==e?null:e.role,"")}}let wX=(()=>{class n{constructor(e){this.customcardsService=e,this.players=[]}ngOnInit(){this.customcardsService.getPlayers().subscribe(e=>{this.players=e,console.log(this.players),this.hideloader()})}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player"]],decls:12,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2),D(3,"span",3),u()(),c(4,"table",4)(5,"thead")(6,"tr")(7,"th",5),p(8,"Player"),u(),c(9,"th",5),p(10,"Role"),u()()(),y(11,TX,7,3,"tbody",6),u()()),2&e&&(h(11),g("ngForOf",r.players))},directives:[be,an],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.container[_ngcontent-%COMP%]{width:50%}"]}),n})();function SX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card1,"",P)}}function MX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card2,"",P)}}function xX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card3,"",P)}}function EX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card4,"",P)}}function IX(n,t){if(1&n&&(c(0,"button",13),D(1,"img",14),u()),2&n){const e=C();A("routerLink","/cards/",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,""),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e.userDetails||null==e.userDetails.details?null:e.userDetails.details.favorite_card5,"",P)}}function PX(n,t){if(1&n&&(c(0,"td")(1,"a",15),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name)}}function AX(n,t){if(1&n&&(c(0,"td")(1,"a",15),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name)}}function OX(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function NX(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function RX(n,t){if(1&n){const e=L();c(0,"td")(1,"a",17),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),p(2,"LINK"),u()()}}function FX(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",15),p(7),u(),p(8," vs "),c(9,"a",15),p(10),u()(),y(11,PX,4,2,"td",16),y(12,AX,4,2,"td",16),y(13,OX,2,0,"td",16),y(14,NX,2,0,"td",16),y(15,RX,3,0,"td",16),u()),2&n){const e=t.$implicit;h(2),N(e.date),h(2),N(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name),h(1),g("ngIf","WON"==e.result),h(1),g("ngIf","LOSS"==e.result),h(1),g("ngIf","DRAW"==e.result),h(1),g("ngIf",null==e.optional_link),h(1),g("ngIf",null!=e.optional_link)}}function LX(n,t){if(1&n&&(c(0,"option",18),p(1),u()),2&n){const e=t.$implicit;H("value",e.packid),h(1),N(e.title)}}function BX(n,t){if(1&n&&(c(0,"span",8),p(1),u()),2&n){const e=C();h(1),Me("",e.packOwned," / ",e.packTotal,"")}}let VX=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.details=[],this.packs=[]}ngOnInit(){this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(sn),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player-profile"]],inputs:{userId:"userId"},decls:45,vars:10,consts:[[1,"row"],[1,"col-sm-2"],[1,"col-md-8"],["class","btn ",3,"routerLink",4,"ngIf"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col"],[1,"binder"],["aria-label","Default select example",1,"form-control-lg",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickbutton","btn-success","btn",3,"click"],["class","binder",4,"ngIf"],[1,"btn",3,"routerLink"],[1,"favoritecard",3,"src"],[3,"routerLink"],[4,"ngIf"],[3,"click"],[3,"value"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"h3"),p(3,"About"),u(),c(4,"p"),p(5),u()(),c(6,"div",2)(7,"div",0)(8,"h1"),p(9," Favorite Cards "),u(),c(10,"p"),y(11,SX,2,2,"button",3),y(12,MX,2,2,"button",3),y(13,xX,2,2,"button",3),y(14,EX,2,2,"button",3),y(15,IX,2,2,"button",3),u()(),c(16,"div",0)(17,"h1"),p(18,"Recent Matches"),u(),c(19,"table",4)(20,"thead")(21,"tr")(22,"th",5),p(23,"Date"),u(),c(24,"th",5),p(25,"Game Mode"),u(),c(26,"th",5),p(27,"Duelists"),u(),c(28,"th",5),p(29,"Result"),u(),c(30,"th",5),p(31,"Replay"),u()()(),c(32,"tbody"),y(33,FX,16,11,"tr",6),u()()(),c(34,"div",0)(35,"h1"),p(36," Pack Checklist "),u(),c(37,"div",7)(38,"span",8),p(39,"Pack: "),u(),c(40,"select",9),T("ngModelChange",function(s){return r.packID=s}),y(41,LX,2,2,"option",10),u(),c(42,"button",11),T("click",function(){return r.selectPack()}),p(43,"Select Pack"),u(),y(44,BX,2,2,"span",12),u()()()()),2&e&&(h(5),N(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.about),h(6),g("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),g("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),g("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),g("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(1),g("ngIf",null!=(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.favorite_card1)),h(18),g("ngForOf",null==r.userDetails?null:r.userDetails.matches),h(7),g("ngModel",r.packID),h(1),g("ngForOf",r.packs),h(3),g("ngIf",null!=r.userPackCollection))},directives:[me,on,be,an,yn,Ze,Ut,Yn,Jn],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}']}),n})();function HX(n,t){if(1&n&&(c(0,"div",13),D(1,"img",14),c(2,"div",15),p(3),u()()),2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function zX(n,t){1&n&&D(0,"img",20)}function $X(n,t){1&n&&D(0,"img",21)}function UX(n,t){1&n&&D(0,"img",22)}function jX(n,t){if(1&n&&(c(0,"div",16),y(1,zX,1,0,"img",17),y(2,$X,1,0,"img",18),y(3,UX,1,0,"img",19),D(4,"img",14),c(5,"div",15),p(6),u()()),2&n){const e=C().$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),g("ngIf","super"==e.rarity),h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function WX(n,t){if(1&n){const e=L();c(0,"span")(1,"button",10),T("click",function(){const s=S(e).$implicit;return C(2).goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C(2).mouseHovering(o,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()}),y(2,HX,4,2,"div",11),y(3,jX,7,5,"div",12),u()()}if(2&n){const e=t.$implicit;h(2),g("ngIf","common"==e.rarity),h(1),g("ngIf","common"!=e.rarity)}}function qX(n,t){if(1&n){const e=L();c(0,"div",3)(1,"div",4),T("keydown.enter",function(){return S(e),C().submitSearch()}),c(2,"div",1)(3,"label",5),p(4,"Name"),u(),c(5,"input",6),T("ngModelChange",function(i){return S(e),C().filters.name=i}),u(),c(6,"button",7),T("click",function(){return S(e),C().submitSearch()}),p(7,"Search"),u()()(),y(8,WX,4,2,"span",8),c(9,"div",1)(10,"div",9)(11,"button",7),T("click",function(){return S(e),C().prevPage()}),p(12,"Previous"),u(),c(13,"button",7),T("click",function(){return S(e),C().nextPage()}),p(14,"Next"),u()()()()}if(2&n){const e=C();h(5),g("ngModel",e.filters.name),h(3),g("ngForOf",e.currentCards)}}let GX=(()=>{class n{constructor(e,r,i){this.customcardsService=e,this.authService=r,this.router=i,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.searching=!1,this.searchName="",this.binders=[],this.cards=[],this.originalCards=[],this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.currentPage=1}ngOnInit(){this.customcardsService.getCollectionCardsByCreatorID(this.userId).subscribe(e=>{e&&(this.cards=e,this.cards.sort((r,i)=>r.cardtype.includes("Monster")?i.cardtype.includes("Spell")||i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Spell")?i.cardtype.includes("Monster")?1:i.cardtype.includes("Trap")?-1:r.name>i.name?1:-1:r.cardtype.includes("Trap")?i.cardtype.includes("Monster")||i.cardtype.includes("Spell")||r.name>i.name?1:-1:1),console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage),this.originalCards=this.cards,console.log(this.binders),this.currentPage=1,this.getCardNumbers(this.currentPage))})}goToLink(e){let r="";r=this.router.serializeUrl(this.router.createUrlTree("http://localhost:4200"==this.router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}getCardNumbers(e){this.currentCards=[];const r=54*(e-1),i=54*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),this.searchName=this.filters.name,this.cards=this.originalCards.filter(r=>r.name.toLowerCase().includes(this.searchName.toLowerCase())),this.currentPage=1,this.getCardNumbers(this.currentPage),console.log(this.searchName)}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-player-collection"]],inputs:{userId:"userId"},decls:4,vars:1,consts:[[1,"text-center"],[1,"row"],["class","col justify-content-between",4,"ngIf"],[1,"col","justify-content-between"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[4,"ngFor","ngForOf"],[1,"col","text-center"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"]],template:function(e,r){1&e&&(c(0,"h1",0),p(1,"Card Collection"),u(),c(2,"div",1),y(3,qX,15,2,"div",2),u()),2&e&&(h(3),g("ngIf",r.currentCards.length>0))},directives:[me,at,Ze,Ut,be],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px;width:150px;font-size:24px}']}),n})();function KX(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"td")(3,"a",5),p(4),u()(),c(5,"td"),p(6),u()()()),2&n){const e=t.$implicit;h(3),A("routerLink","/decklist/",e.id,""),h(1),N(null==e?null:e.name),h(2),N(null==e?null:e.description)}}let QX=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this.customcardsService.getDecklistsFromUser(this.userId).subscribe(e=>{this.decklists=e})}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player-decklists"]],inputs:{userId:"userId"},decls:11,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"User Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Decklist"),u(),c(8,"th",3),p(9,"Description"),u()()(),y(10,KX,7,3,"tbody",4),u()()),2&e&&(h(10),g("ngForOf",r.decklists))},directives:[be,an],styles:[""]}),n})();function XX(n,t){if(1&n&&(c(0,"button",5),D(1,"img",6),u()),2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",P)}}function YX(n,t){1&n&&(c(0,"button",5),D(1,"img",7),u())}function JX(n,t){if(1&n&&(c(0,"div",3),y(1,XX,2,1,"button",4),y(2,YX,2,0,"button",4),u()),2&n){const e=t.$implicit;h(1),g("ngIf","placeholder"!=e.pack),h(1),g("ngIf","placeholder"==e.pack)}}let ZX=(()=>{class n{constructor(e){this.customcardsService=e}ngOnInit(){this.customcardsService.getPacksbyOwner(this.userId).subscribe(e=>{e&&(this.packs=e)})}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player-packs"]],inputs:{userId:"userId"},decls:3,vars:1,consts:[[1,"container"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],["class","btn",4,"ngIf"],[1,"btn"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),y(2,JX,3,2,"div",2),u()()),2&e&&(h(2),g("ngForOf",r.packs))},directives:[be,me],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function eY(n,t){if(1&n&&(c(0,"td")(1,"a",4),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name)}}function tY(n,t){if(1&n&&(c(0,"td")(1,"a",4),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name)}}function nY(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function rY(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function iY(n,t){if(1&n){const e=L();c(0,"td")(1,"a",6),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),p(2,"LINK"),u()()}}function sY(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",4),p(7),u(),p(8," vs "),c(9,"a",4),p(10),u()(),y(11,eY,4,2,"td",5),y(12,tY,4,2,"td",5),y(13,nY,2,0,"td",5),y(14,rY,2,0,"td",5),y(15,iY,3,0,"td",5),u()),2&n){const e=t.$implicit;h(2),N(e.date),h(2),N(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name),h(1),g("ngIf","WON"==e.result),h(1),g("ngIf","LOSS"==e.result),h(1),g("ngIf","DRAW"==e.result),h(1),g("ngIf",null==e.optional_link),h(1),g("ngIf",null!=e.optional_link)}}let oY=(()=>{class n{constructor(e){this.customcardsService=e,this.matches=[]}ngOnInit(){this.customcardsService.getMatchesFromUser(this.userId).subscribe(e=>{e&&(this.matches=e)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}}return n.\u0275fac=function(e){return new(e||n)(w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player-matches"]],inputs:{userId:"userId"},decls:18,vars:1,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Matches"),u(),c(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),p(7,"Date"),u(),c(8,"th",2),p(9,"Game Mode"),u(),c(10,"th",2),p(11,"Duelists"),u(),c(12,"th",2),p(13,"Result"),u(),c(14,"th",2),p(15,"Replay"),u()()(),c(16,"tbody"),y(17,sY,16,11,"tr",3),u()()()),2&e&&(h(17),g("ngForOf",r.matches))},directives:[be,an,me],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}"]}),n})();function aY(n,t){1&n&&(c(0,"button",15),p(1,"Edit Profile"),u())}function lY(n,t){1&n&&D(0,"app-player-profile",16),2&n&&g("userId",C().userID)}function cY(n,t){1&n&&D(0,"app-player-collection",16),2&n&&g("userId",C().userID)}function uY(n,t){1&n&&D(0,"app-player-decklists",16),2&n&&g("userId",C().userID)}function dY(n,t){1&n&&D(0,"app-player-packs",16),2&n&&g("userId",C().userID)}function pY(n,t){1&n&&D(0,"app-player-matches",16),2&n&&g("userId",C().userID)}let hY=(()=>{class n{constructor(e,r,i){this.authService=e,this.route=r,this.customcardsService=i,this.page="Profile",this.details=[],this.packs=[]}ngOnInit(){this.page="Profile",this.authService.loggedIn()&&this.authService.getUser().subscribe(e=>{console.log(e.username),this.loggedInID=e.id},e=>{}),this.route.paramMap.subscribe(e=>{this.userID=Number(e.get("playerid")),console.log(this.userID),this.customcardsService.getUserPageDetails(this.userID).subscribe(r=>{this.userDetails=r,console.log(this.userDetails)})}),this.customcardsService.getPacks().subscribe(e=>{this.packs=e,console.log(this.packs)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}setPage(e){this.page=e,console.log(this.page)}selectPack(){this.customcardsService.getChecklist(this.userID,this.packID).subscribe(e=>{this.userPackCollection=e,this.packTotal=this.userPackCollection.length,this.packOwned=0;for(let r in this.userPackCollection)this.userPackCollection[r].copies>0&&this.packOwned++})}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(sn),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-player-details"]],decls:34,vars:8,consts:[[1,"spacing"],[1,"container"],[1,"row"],[1,"col-auto"],[1,"crop"],[3,"src"],[1,"mt-auto","col-auto"],[1,"mt-auto","col","flex-row-reverse","d-flex"],["routerLink","/settings","class","button btn btn-success",4,"ngIf"],[1,"rounded","navbar","navbar-default","navbar-expand-md","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[3,"userId",4,"ngIf"],["routerLink","/settings",1,"button","btn","btn-success"],[3,"userId"]],template:function(e,r){1&e&&(D(0,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"img",5),u()(),c(6,"div",6)(7,"h1"),p(8),u()(),c(9,"div",7),y(10,aY,2,0,"button",8),u()(),c(11,"nav",9)(12,"div",10)(13,"ul",11)(14,"li",12)(15,"a",13),T("click",function(){return r.setPage("Profile")}),p(16,"Profile"),u()(),c(17,"li",12)(18,"a",13),T("click",function(){return r.setPage("Collection")}),p(19,"Collection"),u()(),c(20,"li",12)(21,"a",13),T("click",function(){return r.setPage("Decklists")}),p(22,"Decklists"),u()(),c(23,"li",12)(24,"a",13),T("click",function(){return r.setPage("Packs")}),p(25,"Packs"),u()(),c(26,"li",12)(27,"a",13),T("click",function(){return r.setPage("Matches")}),p(28,"Matches"),u()()()()(),y(29,lY,1,1,"app-player-profile",14),y(30,cY,1,1,"app-player-collection",14),y(31,uY,1,1,"app-player-decklists",14),y(32,dY,1,1,"app-player-packs",14),y(33,pY,1,1,"app-player-matches",14),u()),2&e&&(h(5),A("src","https://drive.google.com/uc?export=view&id=",null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.profile_image,"",P),h(3),N(null==r.userDetails||null==r.userDetails.details?null:r.userDetails.details.username),h(2),g("ngIf",r.loggedInID==r.userID),h(19),g("ngIf","Profile"==r.page),h(1),g("ngIf","Collection"==r.page),h(1),g("ngIf","Decklists"==r.page),h(1),g("ngIf","Packs"==r.page),h(1),g("ngIf","Matches"==r.page))},directives:[me,on,VX,GX,QX,ZX,oY],styles:['.spacing[_ngcontent-%COMP%]{height:75px}.container[_ngcontent-%COMP%]{width:75%}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.avatar[_ngcontent-%COMP%]{width:100px;height:100px}.user[_ngcontent-%COMP%]{font-size:x-large}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}button[_ngcontent-%COMP%]{margin:0;padding:0}.center-cropped[_ngcontent-%COMP%]{width:100px;height:100px;background-repeat:no-repeat;background-size:140px;background-position:center center;overflow:hidden}.center-cropped[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0}.crop[_ngcontent-%COMP%]{width:200px;height:200px;overflow:hidden}.crop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:133%;margin:-72px 500px 0 -33px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:50px;margin-bottom:8px;margin-right:10px;width:100px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.pushdown[_ngcontent-%COMP%]{position:absolute;bottom:0}h3[_ngcontent-%COMP%]{padding-top:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large;margin-top:10px}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}li[_ngcontent-%COMP%]{margin:0 5px}a[_ngcontent-%COMP%]:hover{cursor:pointer}']}),n})();function fY(n,t){if(1&n&&(c(0,"option",19),p(1),u()),2&n){const e=t.$implicit;H("value",e.id),h(1),N(e.username)}}function mY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Umm Duelist required idiot."),u()())}function gY(n,t){if(1&n&&(c(0,"div",20),y(1,mY,3,0,"div",21),u()),2&n){const e=C();h(1),g("ngIf",e.f.duelist.errors.required)}}function _Y(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"You need to input a value of at LEAST 100"),u()())}function vY(n,t){if(1&n&&(c(0,"div",20),y(1,_Y,3,0,"div",21),u()),2&n){const e=C();h(1),g("ngIf",e.f.result.errors.result)}}function yY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Please input a game mode."),u()())}function CY(n,t){if(1&n&&(c(0,"div",20),y(1,yY,3,0,"div",21),u()),2&n){const e=C();h(1),g("ngIf",e.f.gamemode.errors.gamemode)}}function bY(n,t){1&n&&(c(0,"div")(1,"p",22),p(2,"Umm Draft Title required idiot."),u()())}function kY(n,t){if(1&n&&(c(0,"div",20),y(1,bY,3,0,"div",21),u()),2&n){const e=C();h(1),g("ngIf",e.f.replay.errors.replay)}}const fp=function(n){return{"is-invalid":n}};let DY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.matchData=new kt({duelist:new de(" ",[U.required,U.minLength(1),U.maxLength(100)]),result:new de(" ",[U.required,U.minLength(1),U.maxLength(100)]),replay:new de(" ",[]),gamemode:new de(" ",[U.required,U.minLength(1),U.maxLength(100)]),decklist:new de(" ",[])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.players=[]}get f(){return this.matchData.controls}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getPlayers().subscribe(r=>{this.players=r,this.players.sort((s,o)=>s.username.localeCompare(o.username));const i=this.players.findIndex(s=>s.id===this.id);i>-1&&this.players.splice(i,1),console.log(this.players),this.hideloader()})}):this._router.navigate(["/login"])}saveMatch(){console.log("im a poopy butt");var e=document.getElementById("Loading");if(e&&(e.style.display="block",console.log(e)),this.submitted=!0,this.matchData.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");{this.done=!0,this.today=new Date,this.jstoday=sk(this.today,"MM-dd-yyyy hh:mm:ss a zzzz","en-US","-0400");const r={};r.duelist1=this.id,r.duelist2=this.matchData.controls.duelist.value,r.result=this.matchData.controls.result.value,r.replay=this.matchData.controls.replay.value,r.gamemode=this.matchData.controls.gamemode.value,r.date=this.jstoday,this.customcardsService.submitDuel(r).subscribe(i=>{console.log(i),this._router.navigate(["/players"])},i=>{console.log(i)}),this.submitfail=!1}}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-submit-match"]],decls:42,vars:19,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-auto"],["for","Name"],["id","duelist","formControlName","duelist",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["id","result","formControlName","result",1,"form-control",3,"ngClass"],["value","WON"],["value","LOSS"],["value","DRAW"],["id","gamemode","formControlName","gamemode",1,"form-control",3,"ngClass"],["value","Standard"],["value","Sealed Draft"],["value","Deck Master"],["value","Cube"],["id","replay","formControlName","replay","type","text",1,"form-control",3,"ngClass"],[1,"btn","button","btn-success",3,"disabled","click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"form",1),T("ngSubmit",function(){return r.saveMatch()}),c(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Dueled Against:"),u(),c(6,"select",5),y(7,fY,2,2,"option",6),u(),y(8,gY,2,1,"div",7),u(),c(9,"div",3)(10,"label",4),p(11,"Result"),u(),c(12,"select",8)(13,"option",9),p(14,"WON"),u(),c(15,"option",10),p(16,"LOSS"),u(),c(17,"option",11),p(18,"DRAW"),u()(),y(19,vY,2,1,"div",7),u(),c(20,"div",3)(21,"label",4),p(22,"Game Mode"),u(),c(23,"select",12)(24,"option",13),p(25,"Standard"),u(),c(26,"option",14),p(27,"Sealed Draft"),u(),c(28,"option",15),p(29,"Deck Master"),u(),c(30,"option",16),p(31,"Cube"),u()(),y(32,CY,2,1,"div",7),u(),c(33,"div",3)(34,"label",4),p(35,"Optional Replay"),u(),D(36,"input",17),y(37,kY,2,1,"div",7),u()(),c(38,"div",2)(39,"div",3)(40,"button",18),T("click",function(){return r.saveMatch()}),p(41,"Submit"),u()()()()()),2&e&&(h(1),g("formGroup",r.matchData),h(5),g("ngClass",Le(11,fp,r.submitted&&r.f.duelist.errors)),h(1),g("ngForOf",r.players),h(1),g("ngIf",r.submitted&&r.f.duelist.errors),h(4),g("ngClass",Le(13,fp,r.submitted&&r.f.result.errors)),h(7),g("ngIf",r.submitted&&r.f.result.errors),h(4),g("ngClass",Le(15,fp,r.submitted&&r.f.gamemode.errors)),h(9),g("ngIf",r.submitted&&r.f.gamemode.errors),h(4),g("ngClass",Le(17,fp,r.submitted&&r.f.replay.errors)),h(1),g("ngIf",r.submitted&&r.f.replay.errors),h(3),g("disabled",1==r.done))},directives:[_n,gn,cn,yn,Ze,vn,zt,be,Yn,Jn,me,at],styles:["button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function TY(n,t){if(1&n){const e=L();c(0,"button",3),T("click",function(){S(e);const i=C().$implicit;return C().editPack(i.id,i.title)}),D(1,"img",4),c(2,"p"),p(3),u()()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.pack,"",P),h(2),N(e.title)}}function wY(n,t){if(1&n){const e=L();c(0,"button",3),T("click",function(){S(e);const i=C().$implicit;return C().editPack(i.id,i.title)}),D(1,"img",5),c(2,"p"),p(3),u()()}if(2&n){const e=C().$implicit;h(3),N(e.title)}}function SY(n,t){if(1&n&&(c(0,"span"),y(1,TY,4,2,"button",2),y(2,wY,4,1,"button",2),u()),2&n){const e=t.$implicit;h(1),g("ngIf","placeholder"!=e.pack),h(1),g("ngIf","placeholder"==e.pack)}}let MY=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this.resetPack(),this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.customcardsService.getPacksbyOwner(this.id).subscribe(r=>{r&&(this.packs=r,console.log(this.packs),console.log("this is their id: "+this.id))})},e=>{console.log(e),this.username="",this.id=-99999,this._router.navigate(["/login"])}):this._router.navigate(["/login"])}resetPack(){this.customcardsService.editPack(!1),this.customcardsService.setEditPackID(-1),this.customcardsService.setEditPackName("")}editPack(e,r){this.customcardsService.editPack(!0),this.customcardsService.setEditPackID(e),this.customcardsService.setEditPackName(r),this._router.navigate(["/pack-maker"])}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-pack-editor"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","btn",3,"click",4,"ngIf"],[1,"btn",3,"click"],[1,"pack",3,"src"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/packs/placeholder.png",1,"pack"]],template:function(e,r){1&e&&(c(0,"div",0),y(1,SY,3,2,"span",1),u()),2&e&&(h(1),g("ngForOf",r.packs))},directives:[be,me],styles:["button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]{padding:5px;margin:3px;font-size:1.5rem;font-family:Oswald,sans-serif}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#1f1a1f}input[_ngcontent-%COMP%]{width:100px}select[_ngcontent-%COMP%]{display:inline;max-width:60px;margin-left:10px}p[_ngcontent-%COMP%]{font-size:32px}.pack[_ngcontent-%COMP%]{width:200px;cursor:pointer}.selectedPacks[_ngcontent-%COMP%]{background-color:#0ff;position:fixed;bottom:50px;right:0;width:400px;height:150px;display:none}.packtracker[_ngcontent-%COMP%]{width:200px;height:600px;background-color:gray;padding:5px}.tinytext[_ngcontent-%COMP%]{font-size:medium}"]}),n})();function xY(n,t){1&n&&(c(0,"th",2),p(1,"Delete"),u())}function EY(n,t){if(1&n&&(c(0,"td")(1,"a",5),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name)}}function IY(n,t){if(1&n&&(c(0,"td")(1,"a",5),p(2),u(),p(3," WINS!"),u()),2&n){const e=C().$implicit;h(1),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name)}}function PY(n,t){1&n&&(c(0,"td"),p(1,"DRAW!"),u())}function AY(n,t){1&n&&(c(0,"td"),p(1,"N/A"),u())}function OY(n,t){if(1&n){const e=L();c(0,"td")(1,"a",8),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.optional_link)}),p(2,"LINK "),u()()}}function NY(n,t){if(1&n){const e=L();c(0,"button",9),T("click",function(){S(e);const i=C().$implicit;return C().deleteMatch(i.id)}),p(1,"x"),u()}}function RY(n,t){if(1&n&&(c(0,"tr")(1,"td"),p(2),u(),c(3,"td"),p(4),u(),c(5,"td")(6,"a",5),p(7),u(),p(8," vs "),c(9,"a",5),p(10),u()(),y(11,EY,4,2,"td",6),y(12,IY,4,2,"td",6),y(13,PY,2,0,"td",6),y(14,AY,2,0,"td",6),y(15,OY,3,0,"td",6),c(16,"td"),y(17,NY,2,0,"button",7),u()()),2&n){const e=t.$implicit,r=C();h(2),N(e.date),h(2),N(e.gamemode),h(2),A("routerLink","/players/",e.duelist1,""),h(1),N(e.d1Name),h(2),A("routerLink","/players/",e.duelist2,""),h(1),N(e.d2Name),h(1),g("ngIf","WON"==e.result),h(1),g("ngIf","LOSS"==e.result),h(1),g("ngIf","DRAW"==e.result),h(1),g("ngIf",null==e.optional_link),h(1),g("ngIf",null!=e.optional_link),h(2),g("ngIf",r._authService.adminRole())}}let FY=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i,this.matches=[]}ngOnInit(){this.customcardsService.getMatches().subscribe(e=>{this.matches=e,console.log(this.matches)})}goToLink(e){let r=e.substring(0,28);"https://www.duelingbook.com"==e.substring(0,28).trim()?window.open(e,"_blank"):(console.log(r),console.log("Someone's been a naughty boy!"))}deleteMatch(e){let r={id:e};r.id=e,this.customcardsService.deleteMatch(r).subscribe(i=>{i&&location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-matches"]],decls:17,vars:2,consts:[[1,"container"],[1,"table","table-dark","table-striped"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),p(5,"Date"),u(),c(6,"th",2),p(7,"Game Mode"),u(),c(8,"th",2),p(9,"Duelists"),u(),c(10,"th",2),p(11,"Result"),u(),c(12,"th",2),p(13,"Replay"),u(),y(14,xY,2,0,"th",3),u()(),c(15,"tbody"),y(16,RY,18,12,"tr",4),u()()()),2&e&&(h(14),g("ngIf",r._authService.adminRole()),h(2),g("ngForOf",r.matches))},directives:[me,be,an],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%]{color:#fff!important;text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:green!important}.btn-danger[_ngcontent-%COMP%]{margin:0}"]}),n})();function LY(n,t){1&n&&(c(0,"div")(1,"p",24),p(2,"500 characters max for your About"),u()())}function BY(n,t){if(1&n&&(c(0,"div",22),p(1," asd "),y(2,LY,3,0,"div",23),u()),2&n){const e=C();h(2),g("ngIf",e.f.about.errors.required)}}function VY(n,t){if(1&n){const e=L();c(0,"span")(1,"button",3),T("click",function(){const s=S(e).$implicit;return C().setCard(s.drive_id)}),D(2,"img",4),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}const HY=function(n){return{"is-invalid":n}};let zY=(()=>{class n{constructor(e,r,i,s){this.route=e,this._authService=r,this.customcardsService=i,this._router=s,this.cardSelected=0,this.newSettings={id:0,profile_image:"",favorite_card1:"",favorite_card2:"",favorite_card3:"",favorite_card4:"",favorite_card5:"",about:""},this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.aboutMe=new kt({about:new de(" ",[U.required,U.minLength(1),U.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.customcardsService.getCustomCards().subscribe(e=>{this.cards=e,this.getCardNumbers(this.currentPage),this.hideloader()}),this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.customcardsService.getUserPageDetails(Number(this.creatorid)).subscribe(r=>{this.userdata=r,console.log(this.userdata),this.newSettings.id=Number(this.creatorid),this.newSettings.profile_image=this.userdata.details.profile_image,this.newSettings.favorite_card1=this.userdata.details.favorite_card1,this.newSettings.favorite_card2=this.userdata.details.favorite_card2,this.newSettings.favorite_card3=this.userdata.details.favorite_card3,this.newSettings.favorite_card4=this.userdata.details.favorite_card4,this.newSettings.favorite_card5=this.userdata.details.favorite_card5,this.newSettings.about=this.userdata.details.about,this.about=this.userdata.details.about})},e=>{console.log(e),this.creator="",this.creatorid=""})}saveImages(){if(this.submitted=!0,this.aboutMe.invalid)return this.submitfail=!0,void console.log("Basic data not filled.");this.done=!0,this.newSettings.about=this.aboutMe.controls.about.value,this.customcardsService.editProfileImages(this.newSettings).subscribe(e=>{window.location.reload()},e=>{this._router.navigate(["/home"])})}selectCardEdit(e){this.cardSelected=e}setCard(e){console.log(e),0==this.cardSelected&&(this.newSettings.profile_image=e),1==this.cardSelected&&(this.newSettings.favorite_card1=e),2==this.cardSelected&&(this.newSettings.favorite_card2=e),3==this.cardSelected&&(this.newSettings.favorite_card3=e),4==this.cardSelected&&(this.newSettings.favorite_card4=e),5==this.cardSelected&&(this.newSettings.favorite_card5=e)}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.customcardsService.getFilteredCards(this.filters).subscribe(r=>{console.log(r),this.cards=r,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()},r=>{console.log(r)})}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s])}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+e,"_blank")}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}}return n.\u0275fac=function(e){return new(e||n)(w(sn),w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-about"]],decls:50,vars:15,consts:[[1,"row"],[1,"col-md-8"],[1,"text-center"],[1,"btn","btn-default",3,"click"],[1,"smallcard",3,"src"],[1,"button","btn","btn-default",3,"click"],[3,"formGroup"],[1,"form-group"],["for","aboutMe"],["formControlName","about","rows","3",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"smallbtn","btn","button","btn-success",3,"disabled","click"],[1,"col","mr-auto","text-center"],[1,"row",3,"keydown.enter"],["for","Name"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"cards","row-lg-8","overflow-auto"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"red"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",0)(3,"h2"),p(4,"Profile Image"),u(),c(5,"p",2)(6,"button",3),T("click",function(){return r.selectCardEdit(0)}),D(7,"img",4),u()()(),c(8,"div",0)(9,"h2"),p(10,"Favorite Cards"),u(),c(11,"p",2)(12,"button",5),T("click",function(){return r.selectCardEdit(1)}),D(13,"img",4),u(),c(14,"button",5),T("click",function(){return r.selectCardEdit(2)}),D(15,"img",4),u(),c(16,"button",5),T("click",function(){return r.selectCardEdit(3)}),D(17,"img",4),u(),c(18,"button",5),T("click",function(){return r.selectCardEdit(4)}),D(19,"img",4),u(),c(20,"button",5),T("click",function(){return r.selectCardEdit(5)}),D(21,"img",4),u()()(),c(22,"div",0)(23,"form",6)(24,"div",7)(25,"h2")(26,"label",8),p(27,"About"),u()(),c(28,"textarea",9),T("ngModelChange",function(s){return r.about=s}),u()(),y(29,BY,3,1,"div",10),u(),c(30,"button",11),T("click",function(){return r.saveImages()}),p(31,"Save"),u()()(),c(32,"div",12)(33,"div",13),T("keydown.enter",function(){return r.submitSearch()}),c(34,"div",0)(35,"label",14),p(36,"Name"),u(),c(37,"input",15),T("ngModelChange",function(s){return r.filters.name=s}),u(),c(38,"button",16),T("click",function(){return r.submitSearch()}),p(39,"Search"),u()(),c(40,"div",17)(41,"div",18)(42,"div",19),D(43,"span",20),u()(),y(44,VY,3,1,"span",21),u(),c(45,"div",0)(46,"button",16),T("click",function(){return r.nextPage()}),p(47,"Next"),u(),c(48,"button",16),T("click",function(){return r.prevPage()}),p(49,"Previous"),u()()()()()),2&e&&(h(7),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.profile_image,"",P),h(6),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card1,"",P),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card2,"",P),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card3,"",P),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card4,"",P),h(2),A("src","https://drive.google.com/uc?export=view&id=",r.newSettings.favorite_card5,"",P),h(2),g("formGroup",r.aboutMe),h(5),g("ngClass",Le(13,HY,r.submitted&&r.f.about.errors))("ngModel",r.about),h(1),g("ngIf",r.submitted&&r.f.about.errors),h(1),g("disabled",1==r.done),h(7),g("ngModel",r.filters.name),h(7),g("ngForOf",r.currentCards))},directives:[_n,gn,cn,at,Ze,vn,zt,me,Ut,be],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function $Y(n,t){1&n&&(c(0,"div",11),p(1," peepee "),u())}function UY(n,t){1&n&&(c(0,"div",11),p(1," poopoo "),u())}function jY(n,t){1&n&&(c(0,"div",11),p(1," poopoo "),u())}const X_=function(n){return{"is-invalid":n}};let WY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1,this.accountInfo=new kt({email:new de(void 0,[U.required,U.minLength(5)]),newpassword:new de(void 0,[U.required,U.minLength(5)]),password:new de(void 0,[U.required,U.minLength(8)])})}get f(){return this.accountInfo.controls}ngOnInit(){this._authService.getUser().subscribe(e=>{console.log(e),this.creator=e.username,this.creatorid=e.id,this.email=e.email,this.accountInfo.controls.email.setValue(this.email)},e=>{console.log(e),this.creator="",this.creatorid=""})}changeInfo(){this.submitted=!0,this.accountInfo.invalid?this.submitfail=!0:this._authService.changeInfo({user:this.creatorid,email:this.email,newemail:this.accountInfo.controls.email.value,password:this.accountInfo.controls.password.value,newpassword:this.accountInfo.controls.newpassword.value}).subscribe(r=>{localStorage.setItem("token",r.token),this._router.navigate(["/home"]).then(()=>{window.location.reload()})},r=>console.log(r))}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-account"]],decls:19,vars:13,consts:[[1,"col-sm-5"],[3,"formGroup","ngSubmit"],[1,"h2","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["formControlName","email","name","email","type","email","id","inputEmail","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","inputPassword",1,"sr-only"],["formControlName","password","name","password","type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["formControlName","newpassword","name","newpassword","type","password","id","newpassword","placeholder","Password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-lg","btn-success","btn-block"],[1,"extra-space"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"form",1),T("ngSubmit",function(){return r.changeInfo()}),c(2,"h1",2),p(3,"Account"),u(),c(4,"label",3),p(5,"Email address"),u(),D(6,"input",4),y(7,$Y,2,0,"div",5),c(8,"label",6),p(9,"Current Password"),u(),D(10,"input",7),y(11,UY,2,0,"div",5),c(12,"label",6),p(13,"New Password"),u(),D(14,"input",8),y(15,jY,2,0,"div",5),c(16,"button",9),p(17,"Save Changes"),u()()(),D(18,"div",10)),2&e&&(h(1),g("formGroup",r.accountInfo),h(5),g("ngClass",Le(7,X_,r.submitted&&r.f.email.errors)),h(1),g("ngIf",r.submitted&&r.f.email.errors),h(3),g("ngClass",Le(9,X_,r.submitted&&r.f.password.errors)),h(1),g("ngIf",r.submitted&&r.f.password.errors),h(3),g("ngClass",Le(11,X_,r.submitted&&r.f.newpassword.errors)),h(1),g("ngIf",r.submitted&&r.f.newpassword.errors))},directives:[_n,gn,cn,at,Ze,vn,Ui,zt,me],styles:[".container-sm[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function qY(n,t){1&n&&(c(0,"div",5),D(1,"app-about"),u())}function GY(n,t){1&n&&(c(0,"div",5),D(1,"app-account"),u())}let KY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.page="Profile",this.aboutMe=new kt({about:new de(" ",[U.required,U.minLength(1),U.maxLength(500)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.done=!1}get f(){return this.aboutMe.controls}ngOnInit(){this.page="Profile",this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id},e=>{console.log(e),this.creator="",this.creatorid=""})}setPage(e){this.page=e,console.log(this.page)}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-settings"]],decls:14,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-2"],[1,"btn","button","btn-success",3,"click"],["class","col-lg",4,"ngIf"],[1,"col-lg"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"h1"),p(5,"Settings"),u()(),c(6,"div",1)(7,"button",3),T("click",function(){return r.setPage("Profile")}),p(8,"Profile"),u()(),c(9,"div",1)(10,"button",3),T("click",function(){return r.setPage("Account")}),p(11,"Account"),u()()(),y(12,qY,2,0,"div",4),y(13,GY,2,0,"div",4),u()()),2&e&&(h(12),g("ngIf","Profile"==r.page),h(1),g("ngIf","Account"==r.page))},directives:[me,zY,WY],styles:[".smallcard[_ngcontent-%COMP%]{width:75px}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}p[_ngcontent-%COMP%]{padding:0;margin:0;color:#000}.small[_ngcontent-%COMP%]{width:100px}.bigcard[_ngcontent-%COMP%]{width:316px;padding-top:5px;cursor:pointer}.cardeffect[_ngcontent-%COMP%]{padding-top:10px;padding-left:20px}.col[_ngcontent-%COMP%]{width:320px;flex:.6 1 0%}.fixed[_ngcontent-%COMP%]{position:fixed;left:1200px}.container-fluid[_ngcontent-%COMP%]{padding-top:50px}.number[_ngcontent-%COMP%]{width:65px}.star[_ngcontent-%COMP%], .attribute[_ngcontent-%COMP%], .type[_ngcontent-%COMP%]{width:34px;height:34px}.addcard[_ngcontent-%COMP%]{width:100px;height:40px;margin-left:5px}.cards[_ngcontent-%COMP%]{height:200px}.hovering[_ngcontent-%COMP%]{background-color:#05a35ac1;color:#fff;width:300px;position:fixed;padding:2px;pointer-events:none}.favoritecard[_ngcontent-%COMP%]{width:100px;margin:0 5px}.smallbtn[_ngcontent-%COMP%]{width:100px;margin-top:10px}"]}),n})();function QY(n,t){if(1&n&&(c(0,"tbody")(1,"tr")(2,"a",5)(3,"td"),p(4),u()(),c(5,"td")(6,"a",5),p(7),u()(),c(8,"td"),p(9),u()()()),2&n){const e=t.$implicit;h(2),A("routerLink","/players/",null==e?null:e.creatorid,""),h(2),N(null==e?null:e.creator),h(2),A("routerLink","/decklist/",e.id,""),h(1),N(null==e?null:e.name),h(2),N(null==e?null:e.description)}}let XY=(()=>{class n{constructor(e,r){this._authService=e,this.customcardsService=r}ngOnInit(){this._authService.loggedIn()&&this._authService.getUser().subscribe(e=>{console.log("this is user:"+e.id),this.username=e.username,this.id=e.id,this.customcardsService.getDecklistsFromUser(this.id).subscribe(r=>{this.decklists=r})})}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-duelist-decklists"]],decls:13,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Your Decklists"),u(),c(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),p(7,"Creator"),u(),c(8,"th",3),p(9,"Decklist"),u(),c(10,"th",3),p(11,"Description"),u()()(),y(12,QY,10,5,"tbody",4),u()()),2&e&&(h(12),g("ngForOf",r.decklists))},directives:[be,an],styles:[""]}),n})(),YY=(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.cards=[],this.sideDeck=[],this.mainDeck=[],this.extraDeck=[],this.decklistIDs=[]}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{this.username=e.username,this.id=e.id,this.customcardsService.getCustomCards().subscribe(r=>{this.cards=r,this.hideloader()})}):this._router.navigate(["/login"])}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}checkList(){this.mainDeck=[],this.sideDeck=[],this.extraDeck=[];let e="",r=new FileReader;r.onloadend=i=>{if(this.fileString=r.result,r.result){for(var s=this.fileString.split("\n"),o=0;o<s.length;o++)if("<main>"==s[o].substring(1,8))e="main";else if("<side>"==s[o].substring(1,8))e="side";else if("<extra>"==s[o].substring(1,9))e="extra";else if("card id"==s[o].substring(3,10)){let a=Number(s[o].substring(12,19)),l=this.cards.find(d=>Number(d.id)===a);l?"main"==e?this.mainDeck.push(l):"side"==e?this.sideDeck.push(l):"extra"==e&&this.extraDeck.push(l):console.log("lol")}this.customcardsService.uploadDecklist(this.mainDeck,this.sideDeck,this.extraDeck)}this._router.navigate(["/deck-editor"])},r.readAsText(this.file)}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-upload-decklist"]],decls:6,vars:1,consts:[[1,"container"],["type","file","id","customFile","accept","text/xml",1,"form-control",3,"ngModel","change","ngModelChange"],[1,"button","btn","btn-success",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"h1"),p(2,"Upload Decklist"),u(),c(3,"input",1),T("change",function(s){return r.fileChanged(s)})("ngModelChange",function(s){return r.xml_file=s}),u(),c(4,"button",2),T("click",function(){return r.checkList()}),p(5,"Submit"),u()()),2&e&&(h(3),g("ngModel",r.xml_file))},directives:[at,Ze,Ut],styles:["input[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin-top:5px}"]}),n})(),JY=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.decklistIDs=[]}fileChanged(e){let i=e.currentTarget.files;i&&(this.file=i[0])}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}submitCSV(){console.log("Test"),this._ccService.submitCSVFile(this.file).subscribe(e=>{this.router.navigate(["/home"])},e=>{location.reload()})}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-database"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],["type","file","id","customFile","accept","text/csv",1,"form-control",3,"change"],[1,"btn-success","btn",3,"click"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),T("change",function(s){return r.fileChanged(s)}),u(),c(4,"button",4),T("click",function(){return r.submitCSV()}),p(5,"Submit"),u()()()())},styles:[""]}),n})(),ZY=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i}ngOnInit(){this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0,this.router.navigate(["/home"])}):(this.username=void 0,this.id=void 0,this.router.navigate(["/home"]))}updateCOTD(){console.log("lol"),this._ccService.updateCOTD().subscribe(e=>{console.log("lol"),console.log(e)},e=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"btn","btn-success",3,"click"],["routerLink","/editor",1,"btn","btn-success"],["routerLink","/database",1,"btn","btn-success"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.updateCOTD()}),p(4,"Randomize Card of the Day"),u(),c(5,"button",4),p(6,"Create Article"),u(),c(7,"button",5),p(8,"Update Database"),u()()()())},directives:[on],styles:["button[_ngcontent-%COMP%]{margin:1px}"]}),n})();function eJ(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function tJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}function nJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const Y_=function(n){return{"is-invalid":n}};let rJ=(()=>{class n{constructor(e,r,i){this._ccService=e,this._authService=r,this.router=i,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.articleInfo=new kt({title:new de(void 0,[U.required,U.minLength(5)]),about:new de(void 0,[U.required]),header_img:new de(void 0,[U.required]),editorContent:new de(null,[U.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.articleInfo.controls}ngOnInit(){this.editor=new Q_,this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.router.navigate(["/home"])}):this.router.navigate(["/home"])}ngOnDestroy(){this.editor.destroy()}submitArticle(){const e={};this.theInnerHTML=U_(this.articleInfo.controls.editorContent.value),console.log(this.theInnerHTML),e.author=this.id,e.header_img=this.articleInfo.controls.header_img.value,e.title=this.articleInfo.controls.title.value,e.header=this.articleInfo.controls.about.value,e.article=this.theInnerHTML,this._ccService.submitArticle(e).subscribe(r=>{console.log(r);let i="/articles/"+r.article_id.toString();this.router.navigate([i])},r=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-editor"]],decls:22,vars:20,consts:[[1,"container"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"sr-only"],["formControlName","title","name","title","type","text","placeholder","Title","required","","autofocus","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","header_img","name","header_img","type","text","placeholder","header_img","required","",1,"form-control",3,"ngClass"],["formControlName","about","name","about","type","text","placeholder","About","required","",1,"form-control",3,"ngClass"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","editorContent",3,"editor","ngModel","disabled","placeholder"],[1,"btn","btn-success",3,"click"],[3,"innerHTML"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"form",2),T("ngSubmit",function(){return r.submitArticle()}),c(3,"label",3),p(4,"Title"),u(),D(5,"input",4),y(6,eJ,2,0,"div",5),c(7,"label",3),p(8,"Header Image Link"),u(),D(9,"input",6),y(10,tJ,2,0,"div",5),c(11,"label",3),p(12,"About"),u(),D(13,"input",7),y(14,nJ,2,0,"div",5),c(15,"div",8),D(16,"ngx-editor-menu",9)(17,"ngx-editor",10),u()()(),c(18,"button",11),T("click",function(){return r.submitArticle()}),p(19,"Submit"),u(),c(20,"div"),D(21,"p",12),u()()),2&e&&(h(2),g("formGroup",r.articleInfo),h(3),g("ngClass",Le(14,Y_,r.submitted&&r.f.title.errors)),h(1),g("ngIf",r.submitted&&r.f.title.errors),h(3),g("ngClass",Le(16,Y_,r.submitted&&r.f.header_img.errors)),h(1),g("ngIf",r.submitted&&r.f.header_img.errors),h(3),g("ngClass",Le(18,Y_,r.submitted&&r.f.about.errors)),h(1),g("ngIf",r.submitted&&r.f.about.errors),h(2),g("toolbar",r.toolbar)("editor",r.editor),h(1),g("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(4),g("innerHTML",r.theInnerHTML,Ir))},directives:[_n,gn,cn,at,Ze,vn,Ui,zt,me,K_,j_],styles:[".btn-success[_ngcontent-%COMP%]{width:100px;margin-top:5px}.row[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})();function iJ(n,t){if(1&n){const e=L();c(0,"button",10),T("click",function(){return S(e),C().confirmDelete()}),p(1,"Delete"),u()}}function sJ(n,t){1&n&&(c(0,"button",11),p(1,"Edit"),u()),2&n&&A("routerLink","/articles/edit/",C().articleid,"")}let oJ=(()=>{class n{constructor(e,r,i,s){this.router=e,this.route=r,this._customCardsService=i,this._authService=s}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0}):(this.username=void 0,this.id=void 0),console.log(this.id),this.route.paramMap.subscribe(e=>{this.articleid=Number(e.get("articleid")),this._customCardsService.getArticle(this.articleid).subscribe(r=>{this.article=r,console.log(this.article)})})}confirmDelete(){if(this._authService.adminRole()&&this.id==this.article.author){let e="Are you sure you want to delete this article?";1==confirm(e)?(this._customCardsService.deleteArticle(this.article).subscribe(r=>{this.router.navigate(["/articles"])},r=>{}),this.router.navigate(["/articles"])):e="You canceled!"}}edit(){}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(sn),w(ue),w(ye))},n.\u0275cmp=G({type:n,selectors:[["app-article-details"]],decls:19,vars:10,consts:[[1,"container"],[1,"card","center",2,"width","903px"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"text-center"],[1,"card-text","text-center"],[3,"routerLink"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-warning",3,"routerLink",4,"ngIf"],[3,"innerHTML"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"routerLink"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1),D(2,"img",2),c(3,"div",3)(4,"h1",4),p(5),u(),c(6,"p",5),p(7),u()()(),c(8,"p"),p(9,"Article written by "),c(10,"a",6),p(11),u()(),c(12,"h1"),p(13),y(14,iJ,2,0,"button",7),y(15,sJ,2,1,"button",8),u(),c(16,"h2"),p(17),u(),D(18,"span",9),u()),2&e&&(h(2),H("src",r.article.header_img,P),h(3),N(null==r.article?null:r.article.title),h(2),N(r.article.header),h(3),A("routerLink","/players/",null==r.article?null:r.article.author,""),h(1),N(null==r.article?null:r.article.username),h(2),N(null==r.article?null:r.article.title),h(1),g("ngIf",(null==r.article?null:r.article.author)==r.id),h(1),g("ngIf",(null==r.article?null:r.article.author)==r.id),h(2),N(null==r.article?null:r.article.header),h(1),g("innerHTML",r.article.body,Ir))},directives:[an,me,on],styles:[".header-img[_ngcontent-%COMP%]{width:1000px;height:800px}.card-img-top[_ngcontent-%COMP%]{width:900px;height:500px;object-fit:cover}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif!important;font-weight:500!important;font-size:large!important}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}button[_ngcontent-%COMP%]{margin-right:2px}"]}),n})();function aJ(n,t){1&n&&(c(0,"div",13),p(1," peepee "),u())}function lJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}function cJ(n,t){1&n&&(c(0,"div",13),p(1," poopoo "),u())}const J_=function(n){return{"is-invalid":n}};let uJ=(()=>{class n{constructor(e,r,i,s){this.route=e,this._ccService=r,this._authService=i,this.router=s,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.articleInfo=new kt({title:new de(void 0,[U.required,U.minLength(5)]),about:new de(void 0,[U.required]),header_img:new de(void 0,[U.required]),editorContent:new de(null,[U.required])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1}get f(){return this.articleInfo.controls}ngOnInit(){this.editor=new Q_,this._authService.loggedIn()&&this._authService.adminRole()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency,this.route.paramMap.subscribe(r=>{this.articleid=Number(r.get("articleid")),this._ccService.getArticle(this.articleid).subscribe(i=>{this.article=i,this.article.author!=this.id&&this.router.navigate(["/home"]),this.initialBody=this.article.body,this.editor.setContent(this.initialBody),this.articleInfo.setValue({title:this.article.title,about:this.article.header,header_img:this.article.header_img,editorContent:this.initialBody})})})},e=>{console.log(e),this.router.navigate(["/home"])}):this.router.navigate(["/home"])}ngOnDestroy(){this.editor.destroy()}submitArticle(){const e={};this.theInnerHTML=this.articleInfo.controls.editorContent.value,console.log(this.theInnerHTML),e.article_id=this.articleid,e.author=this.id,e.header_img=this.articleInfo.controls.header_img.value,e.title=this.articleInfo.controls.title.value,e.header=this.articleInfo.controls.about.value,e.article=this.theInnerHTML,this._ccService.updateArticle(e).subscribe(r=>{console.log(r);let i="/articles/"+this.articleid.toString();this.router.navigate([i])},r=>{})}}return n.\u0275fac=function(e){return new(e||n)(w(sn),w(ue),w(ye),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-article-edit"]],decls:22,vars:23,consts:[[1,"container"],[1,"row"],[3,"formGroup"],[1,"sr-only"],["formControlName","title","name","title","type","text","required","","autofocus","",1,"form-control",3,"value","ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","header_img","name","header_img","type","text","required","",1,"form-control",3,"value","ngClass"],["formControlName","about","name","about","type","text","required","",1,"form-control",3,"value","ngClass"],[1,"padup","NgxEditor__Wrapper"],[3,"toolbar","editor"],["formControlName","editorContent",3,"editor","ngModel","disabled","placeholder"],[1,"btn","btn-success",3,"click"],[3,"innerHTML"],[1,"invalid-feedback"]],template:function(e,r){1&e&&(c(0,"div",0)(1,"div",1)(2,"form",2)(3,"label",3),p(4,"Title"),u(),D(5,"input",4),y(6,aJ,2,0,"div",5),c(7,"label",3),p(8,"Header Image Link"),u(),D(9,"input",6),y(10,lJ,2,0,"div",5),c(11,"label",3),p(12,"About"),u(),D(13,"input",7),y(14,cJ,2,0,"div",5),c(15,"div",8),D(16,"ngx-editor-menu",9)(17,"ngx-editor",10),u()()(),c(18,"button",11),T("click",function(){return r.submitArticle()}),p(19,"Submit"),u(),c(20,"div"),D(21,"p",12),u()()),2&e&&(h(2),g("formGroup",r.articleInfo),h(3),H("value",null==r.article?null:r.article.title),g("ngClass",Le(17,J_,r.submitted&&r.f.title.errors)),h(1),g("ngIf",r.submitted&&r.f.title.errors),h(3),H("value",null==r.article?null:r.article.header_img),g("ngClass",Le(19,J_,r.submitted&&r.f.header_img.errors)),h(1),g("ngIf",r.submitted&&r.f.header_img.errors),h(3),H("value",null==r.article?null:r.article.header),g("ngClass",Le(21,J_,r.submitted&&r.f.about.errors)),h(1),g("ngIf",r.submitted&&r.f.about.errors),h(2),g("toolbar",r.toolbar)("editor",r.editor),h(1),g("editor",r.editor)("ngModel",r.html)("disabled",!1)("placeholder","Type here..."),h(4),g("innerHTML",r.theInnerHTML,Ir))},directives:[_n,gn,cn,at,Ze,vn,Ui,zt,me,K_,j_],styles:[".btn-success[_ngcontent-%COMP%]{width:100px;margin-top:5px}.row[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})();function dJ(n,t){if(1&n&&(c(0,"span"),p(1,"/ "),D(2,"img",98),p(3),u()),2&n){const e=C(2);h(2),H("src",e.hoverstType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function pJ(n,t){if(1&n&&(c(0,"span"),p(1),u()),2&n){const e=C(2);h(1),I(" /",null==e.hoveredCard?null:e.hoveredCard.cardtype," ")}}function hJ(n,t){if(1&n&&(c(0,"p"),D(1,"img",99),p(2),D(3,"img",100),p(4),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," "),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.level," ")}}function fJ(n,t){if(1&n&&(c(0,"span"),D(1,"img",99),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hoverattribute,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.attribute," ")}}function mJ(n,t){if(1&n&&(c(0,"p"),D(1,"img",98),p(2),u()),2&n){const e=C(2);h(1),H("src",e.hovermType,P),h(1),I(" ",null==e.hoveredCard?null:e.hoveredCard.type,"")}}function gJ(n,t){if(1&n&&(c(0,"p"),p(1),u()),2&n){const e=C(2);h(1),Me("ATK/",null==e.hoveredCard?null:e.hoveredCard.atk," DEF/",null==e.hoveredCard?null:e.hoveredCard.def,"")}}function _J(n,t){if(1&n&&(c(0,"div",97)(1,"p")(2,"b"),p(3),y(4,dJ,4,2,"span",95),y(5,pJ,2,1,"span",95),u()(),c(6,"b"),y(7,hJ,5,3,"p",95),u(),y(8,fJ,3,2,"span",95),c(9,"b"),y(10,mJ,3,2,"p",95),y(11,gJ,2,2,"p",95),c(12,"p"),p(13),u(),c(14,"p"),p(15),u()()()),2&n){const e=C();tn("left",e.leftPosition,"px")("top",e.rightPosition,"px"),h(3),N(null==e.hoveredCard?null:e.hoveredCard.name),h(1),g("ngIf","False"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","False"==e.hovermonster),h(2),g("ngIf","True"==e.hovermonster),h(1),g("ngIf","True"==e.hovermonster),h(2),I(" ",null==e.hoveredCard?null:e.hoveredCard.effect,""),h(2),I("ID: ",null==e.hoveredCard?null:e.hoveredCard.id,"")}}function vJ(n,t){1&n&&D(0,"option",12)}function yJ(n,t){1&n&&(c(0,"option",101),p(1,"Effect"),u())}function CJ(n,t){1&n&&(c(0,"option",102),p(1,"Flip"),u())}function bJ(n,t){1&n&&(c(0,"option",103),p(1,"Tuner"),u())}function kJ(n,t){1&n&&(c(0,"option",104),p(1,"Gemini"),u())}function DJ(n,t){1&n&&(c(0,"option",105),p(1,"Spirit"),u())}function TJ(n,t){1&n&&(c(0,"option",106),p(1,"Union"),u())}function wJ(n,t){1&n&&(c(0,"option",107),p(1,"Ritual"),u())}function SJ(n,t){1&n&&(c(0,"option",108),p(1,"Fusion"),u())}function MJ(n,t){1&n&&(c(0,"option",109),p(1,"Synchro"),u())}function xJ(n,t){1&n&&(c(0,"option",110),p(1,"Xyz"),u())}function EJ(n,t){1&n&&D(0,"option",12)}function IJ(n,t){1&n&&(c(0,"option",111),p(1,"Normal"),u())}function PJ(n,t){1&n&&(c(0,"option",112),p(1,"Continuous"),u())}function AJ(n,t){1&n&&(c(0,"option",113),p(1,"Quick"),u())}function OJ(n,t){1&n&&(c(0,"option",114),p(1,"Ritual"),u())}function NJ(n,t){1&n&&(c(0,"option",115),p(1,"Equip"),u())}function RJ(n,t){1&n&&(c(0,"option",116),p(1,"Field"),u())}function FJ(n,t){1&n&&D(0,"option",12)}function LJ(n,t){1&n&&(c(0,"option",117),p(1,"Normal"),u())}function BJ(n,t){1&n&&(c(0,"option",118),p(1,"Continuous"),u())}function VJ(n,t){1&n&&(c(0,"option",119),p(1,"Counter"),u())}function HJ(n,t){1&n&&(c(0,"option",120),p(1,"Level ASC"),u())}function zJ(n,t){1&n&&(c(0,"option",121),p(1,"Level DESC"),u())}function $J(n,t){1&n&&(c(0,"option",122),p(1,"ATK ASC"),u())}function UJ(n,t){1&n&&(c(0,"option",123),p(1,"ATK DESC"),u())}function jJ(n,t){1&n&&(c(0,"option",124),p(1,"DEF ASC"),u())}function WJ(n,t){1&n&&(c(0,"option",125),p(1,"DEF DESC"),u())}function qJ(n,t){if(1&n&&(c(0,"div",130),D(1,"img",131),c(2,"div",132),p(3),u()()),2&n){const e=C(2).$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function GJ(n,t){1&n&&D(0,"img",137)}function KJ(n,t){1&n&&D(0,"img",138)}function QJ(n,t){1&n&&D(0,"img",139)}function XJ(n,t){if(1&n&&(c(0,"div",133),y(1,GJ,1,0,"img",134),y(2,KJ,1,0,"img",135),y(3,QJ,1,0,"img",136),D(4,"img",131),c(5,"div",132),p(6),u()()),2&n){const e=C(2).$implicit;h(1),g("ngIf","secret"==e.rarity),h(1),g("ngIf","super"==e.rarity),h(1),g("ngIf","ultra"==e.rarity),h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P),h(2),N(e.copies)}}function YJ(n,t){if(1&n){const e=L();c(0,"button",127),T("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightAddDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)}),y(1,qJ,4,2,"div",128),y(2,XJ,7,5,"div",129),u()}if(2&n){const e=C().$implicit;h(1),g("ngIf","common"==e.rarity),h(1),g("ngIf","common"!=e.rarity)}}function JJ(n,t){if(1&n&&(c(0,"span"),y(1,YJ,3,2,"button",126),u()),2&n){const e=t.$implicit;h(1),g("ngIf",null!=e)}}function ZJ(n,t){if(1&n){const e=L();c(0,"button",87),T("click",function(){return S(e),C().uploadList()}),p(1,"Upload Decklist"),u()}}function eZ(n,t){1&n&&(c(0,"span"),p(1," Need at least 40 cards to upload."),u())}function tZ(n,t){if(1&n){const e=L();c(0,"button",141),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function nZ(n,t){if(1&n&&(c(0,"span"),y(1,tZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Monster"))}}function rZ(n,t){if(1&n){const e=L();c(0,"button",141),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function iZ(n,t){if(1&n&&(c(0,"span"),y(1,rZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Spell"))}}function sZ(n,t){if(1&n){const e=L();c(0,"button",141),T("click",function(){S(e);const i=C().$implicit;return C().goToLink(i.id)})("mouseenter",function(i){S(e);const s=C().$implicit;return C().mouseHovering(s,i)})("mouseleave",function(){return S(e),C(2).mouseLeft()})("contextmenu",function(i){S(e);const s=C().$implicit;return C().rightDeleteDraftCard(i,s)})("click",function(){S(e);const i=C().$implicit;return C().showDetails(i)}),D(1,"img",131),u()}if(2&n){const e=C().$implicit;h(1),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function oZ(n,t){if(1&n&&(c(0,"span"),y(1,sZ,2,1,"button",140),u()),2&n){const e=t.$implicit;h(1),g("ngIf",e.cardtype.includes("Trap"))}}function aZ(n,t){if(1&n){const e=L();c(0,"span")(1,"button",141),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteSideCard(i,o)})("click",function(){const s=S(e).$implicit;return C().showDetails(s)}),D(2,"img",131),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}function lZ(n,t){if(1&n){const e=L();c(0,"span")(1,"button",141),T("click",function(){const s=S(e).$implicit;return C().goToLink(s.id)})("mouseenter",function(i){const o=S(e).$implicit;return C().mouseHovering(o,i)})("mouseleave",function(){return S(e),C().mouseLeft()})("contextmenu",function(i){const o=S(e).$implicit;return C().rightDeleteDraftCard(i,o)})("click",function(){const s=S(e).$implicit;return C().selectDraftCard(s)}),D(2,"img",131),u()()}if(2&n){const e=t.$implicit;h(2),A("src","https://drive.google.com/uc?export=view&id=",null==e?null:e.drive_id,"",P)}}const cZ=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:V8},{path:"db-download",component:O8},{path:"customcard-db",component:A8},{path:"drafts",component:R8},{path:"draftmode",component:$8},{path:"draft-maker",component:G7},{path:"draft-form",component:iH},{path:"decklists",component:oH},{path:"banlist",component:vH},{path:"articles",component:CH},{path:"binders",component:RH},{path:"packs",component:L9},{path:"pack-maker",component:IG},{path:"deck-editor",component:TK},{path:"collection-deck-editor",component:(()=>{class n{constructor(e,r,i){this._authService=e,this.customcardsService=r,this._router=i,this.xml_file="",this.currentPage=1,this.mainOrSide="Main",this.currentDraft=[],this.mainDeck=[],this.extraDeck=[],this.sideDeck=[],this.monsterCounter=0,this.spellCounter=0,this.trapCounter=0,this.edCounter=0,this.sideCounter=0,this.isHovering=!1,this.leftPosition=100,this.rightPosition=100,this.uploadCorrectly=!0,this.draftData=new kt({draftTitle:new de(" ",[U.required,U.minLength(1),U.maxLength(100)])}),this.submitVerified=!1,this.submitted=!1,this.submitfail=!1,this.deckname="placeholder",this.deckdescription="placeholder",this.filters={name:"",desc:"",creator:"",attribute:"",initial:"",cardtype:"",monstertype:"",levellow:"",levelhigh:"",atklow:"",atkhigh:"",deflow:"",defhigh:"",tag:"",sort:"c.name ASC"},this.uploadedMain=[],this.uploadedSide=[],this.uploadedExtra=[],this.drafting=!0}get f(){return this.draftData.controls}ngOnChanges(e){for(const r in e){const i=e[r],s=JSON.stringify(i.currentValue),o=JSON.stringify(i.previousValue);console.log(`${r}: currentValue = ${s}, previousValue = ${o}`)}}ngOnInit(){this._authService.getUser().subscribe(e=>{console.log(e.username),this.creator=e.username,this.creatorid=e.id,this.uploadedMain=this.customcardsService.getUploadedMain(),this.uploadedSide=this.customcardsService.getUploadedSide(),this.uploadedExtra=this.customcardsService.getUploadedExtra(),this.customcardsService.getCollectionCardsByCreatorID(this.creatorid).subscribe(r=>{if(this.cards=r,this.all_cards=this.cards,this.getCardNumbers(this.currentPage),this.hideloader(),0==this.customcardsService.getProcessingDeck()?this.customcardsService.getEditDecklist()&&-1!=this.customcardsService.getEditDeckID()&&(zl(this.customcardsService.getDecklistInfo(this.customcardsService.getEditDeckID()),this.customcardsService.getDecklist(this.customcardsService.getEditDeckID())).subscribe(([i,s])=>{this.decklistinfo=i,this.decklist=s;for(let o in s)"maindeck"==s[o].deck||"extradeck"==s[o].deck?this.addCard(s[o]):this.addSideCard(s[o]);this.draftData.controls.draftTitle.setValue(this.customcardsService.getEditDeckName())}),this.customcardsService.setProcessingDeck(!0)):(this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName("")),this.uploadedMain.length>0||this.uploadedSide.length>0||this.uploadedExtra.length>0){console.log(this.uploadedMain);for(let i in this.uploadedMain)this.addCard(this.uploadedMain[i]);for(let i in this.uploadedSide)this.addSideCard(this.uploadedSide[i]);for(let i in this.uploadedExtra)this.addCard(this.uploadedExtra[i])}})},e=>{console.log(e),this._router.navigate(["/home"])})}submitSearch(){var e=document.getElementById("Loading");e&&(e.style.display="block",console.log(e)),console.log(this.filters),this.cards=[],this.attribute="",this.stType="",this.mType="",this.monster="None",null==this.filters.levelhigh&&(this.filters.levelhigh=""),null==this.filters.levellow&&(this.filters.levellow=""),null==this.filters.atklow&&(this.filters.atklow=""),null==this.filters.atkhigh&&(this.filters.atkhigh=""),null==this.filters.deflow&&(this.filters.deflow=""),null==this.filters.defhigh&&(this.filters.defhigh=""),"Monster"!=this.filters.initial&&("c.level ASC"==this.filters.sort||"c.level DESC"==this.filters.sort||"c.ATK ASC"==this.filters.sort||"c.ATK DESC"==this.filters.sort||"c.DEF ASC"==this.filters.sort||"c.DEF DESC"==this.filters.sort)&&(this.filters.sort="c.name ASC"),"Monster"==this.filters.initial&&"Effect Monster"!=this.filters.cardtype&&"Flip Monster"!=this.filters.cardtype&&"Fusion Monster"!=this.filters.cardtype&&"Ritual Monster"!=this.filters.cardtype&&"Union Monster"!=this.filters.cardtype&&"Synchro Monster"!=this.filters.cardtype&&"Tuner Monster"!=this.filters.cardtype&&"Gemini Monster"!=this.filters.cardtype&&"Xyz Monster"!=this.filters.cardtype&&(this.filters.cardtype=""),"Spell"==this.filters.initial&&"Normal Spell"!=this.filters.cardtype&&"Continuous Spell"!=this.filters.cardtype&&"Quick Spell"!=this.filters.cardtype&&"Ritual Spell"!=this.filters.cardtype&&"Equip Spell"!=this.filters.cardtype&&"Field Spell"!=this.filters.cardtype&&(this.filters.cardtype=""),"Trap"==this.filters.initial&&"Normal Trap"!=this.filters.cardtype&&"Continuous Trap"!=this.filters.cardtype&&"Counter Trap"!=this.filters.cardtype&&(this.filters.cardtype=""),this.produceSearchRes()}produceSearchRes(){let e=this.all_cards;if(""!=this.filters.name&&(e=e.filter(r=>r.name.toLowerCase().includes(this.filters.name.toLowerCase()))),""!=this.filters.desc&&(e=e.filter(r=>r.effect.toLowerCase().includes(this.filters.desc.toLowerCase()))),""!=this.filters.creator&&(e=e.filter(r=>r.creator.toLowerCase().includes(this.filters.creator.toLowerCase()))),""!=this.filters.attribute&&(e=e.filter(r=>r.attribute.toLowerCase().includes(this.filters.attribute.toLowerCase()))),""!=this.filters.initial&&(e=e.filter(""!=this.filters.cardtype?r=>r.cardtype.toLowerCase().includes(this.filters.cardtype.toLowerCase()):r=>r.cardtype.toLowerCase().includes(this.filters.initial.toLowerCase()))),""!=this.filters.monstertype&&(e=e.filter(r=>r.type.toLowerCase().includes(this.filters.monstertype.toLowerCase()))),""!=this.filters.levellow)if(""!=this.filters.levelhigh){let r=Number(this.filters.levellow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.level>=r&&s.level<=i)}else{let r=Number(this.filters.levellow);e=e.filter(i=>i.level==r)}else if(""!=this.filters.levelhigh){let r=Number(this.filters.levelhigh);e=e.filter(i=>i.level<=r)}if(""!=this.filters.atklow)if(""!=this.filters.atkhigh){let r=Number(this.filters.atklow),i=Number(this.filters.levelhigh);e=e.filter(s=>s.atk>=r&&s.atk<=i)}else{let r=Number(this.filters.atklow);e=e.filter(i=>i.atk==r)}else if(""!=this.filters.atkhigh){let r=Number(this.filters.atkhigh);e=e.filter(i=>i.atk<=r)}if(""!=this.filters.deflow)if(""!=this.filters.defhigh){let r=Number(this.filters.deflow),i=Number(this.filters.defhigh);e=e.filter(s=>s.def>=r&&s.def<=i)}else{let r=Number(this.filters.deflow);e=e.filter(i=>i.def==r)}else if(""!=this.filters.defhigh){let r=Number(this.filters.defhigh);e=e.filter(i=>i.def<=r)}if(""!=this.filters.sort)switch(this.filters.sort){case"c.id ASC":e.sort((r,i)=>r.id>i.id?1:i.id>r.id?-1:0);break;case"c.id DESC":e.sort((r,i)=>r.id>i.id?-1:i.id>r.id?1:0);break;case"c.name ASC":e.sort((r,i)=>r.name>i.name?1:i.name>r.name?-1:0);break;case"c.name DESC":e.sort((r,i)=>r.name>i.name?-1:i.name>r.name?1:0);break;case"c.level ASC":e.sort((r,i)=>r.level>i.level?1:i.level>r.level?-1:0);break;case"c.level DESC":e.sort((r,i)=>r.level>i.level?-1:i.level>r.level?1:0);break;case"c.ATK ASC":e.sort((r,i)=>r.atk>i.atk?1:i.atk>r.atk?-1:0);break;case"c.ATK DESC":e.sort((r,i)=>r.atk>i.atk?-1:i.atk>r.atk?1:0);break;case"c.DEF ASC":e.sort((r,i)=>r.def>i.def?1:i.def>r.def?-1:0);break;case"c.DEF DESC":e.sort((r,i)=>r.def>i.def?-1:i.def>r.def?1:0)}this.cards=e,this.currentPage=1,this.getCardNumbers(this.currentPage),this.hideloader()}getCardNumbers(e){this.currentCards=[];const r=36*(e-1),i=36*e-1;for(let s=r;s<=i;s++)console.log(r," ",i),this.currentCards.push(this.cards[s]);console.log(this.currentCards)}nextPage(){this.currentPage+=1,this.getCardNumbers(this.currentPage)}prevPage(){this.currentPage-=1,this.getCardNumbers(this.currentPage)}hideloader(){var e=document.getElementById("Loading");e&&(e.style.display="none",console.log(e))}addTo(e){this.mainOrSide=e}goToLink(e){let r="";r=this._router.serializeUrl(this._router.createUrlTree("http://localhost:4200"==this._router.location._platformLocation.location.origin?["/cards/"]:["/CustomCardWebsite/cards/"])),window.open(r+"/"+String(e),"_blank")}mouseHovering(e,r){console.log(r.clientX),console.log(r.clientY),this.isHovering=!0,this.hoveredCard=e,this.leftPosition=r.clientX>=900?r.clientX-200:r.clientX+2,this.rightPosition=r.clientY-170,this.getHoveredCardDetails()}mouseLeft(){this.isHovering=!1}getHoveredCardDetails(){var e,r,i,s,o,a,l,d,f,m,_,v,b;if(this.hoverattribute="",this.hoverstType="",this.hovermType="","Normal Trap"==(null===(e=this.hoveredCard)||void 0===e?void 0:e.cardtype)||"Counter Trap"==(null===(r=this.hoveredCard)||void 0===r?void 0:r.cardtype)||"Continuous Trap"==(null===(i=this.hoveredCard)||void 0===i?void 0:i.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/TRAP.png",null===(s=this.hoveredCard)||void 0===s?void 0:s.cardtype){case"Normal Trap":this.hoverstType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.hoverstType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.hoverstType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(o=this.hoveredCard)||void 0===o?void 0:o.cardtype)||"Quick Spell"==(null===(a=this.hoveredCard)||void 0===a?void 0:a.cardtype)||"Continuous Spell"==(null===(l=this.hoveredCard)||void 0===l?void 0:l.cardtype)||"Ritual Spell"==(null===(d=this.hoveredCard)||void 0===d?void 0:d.cardtype)||"Field Spell"==(null===(f=this.hoveredCard)||void 0===f?void 0:f.cardtype)||"Equip Spell"==(null===(m=this.hoveredCard)||void 0===m?void 0:m.cardtype))switch(this.hovermonster="False",this.hoverattribute="assets/cardstats/SPELL.png",null===(_=this.hoveredCard)||void 0===_?void 0:_.cardtype){case"Normal Spell":this.hoverstType="assets/cardstats/Normal.png";break;case"Quick Spell":this.hoverstType="assets/cardstats/Quick.png";break;case"Field Spell":this.hoverstType="assets/cardstats/Field.png";break;case"Continuous Spell":this.hoverstType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.hoverstType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.hoverstType="assets/cardstats/Ritual.png"}else{switch(this.hovermonster="True",null===(v=this.hoveredCard)||void 0===v?void 0:v.attribute){case"FIRE":this.hoverattribute="assets/cardstats/FIRE.png";break;case"DARK":this.hoverattribute="assets/cardstats/DARK.png";break;case"WIND":this.hoverattribute="assets/cardstats/WIND.png";break;case"WATER":this.hoverattribute="assets/cardstats/WATER.png";break;case"LIGHT":this.hoverattribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.hoverattribute="assets/cardstats/DIVINE.png";break;default:this.hoverattribute="assets/cardstats/EARTH.png"}switch(null===(b=this.hoveredCard)||void 0===b?void 0:b.type){case"Aqua":this.hovermType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.hovermType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.hovermType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.hovermType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.hovermType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.hovermType="assets/monstertypes/Dragon.png";break;case"Fairy":this.hovermType="assets/monstertypes/Fairy.png";break;case"Fiend":this.hovermType="assets/monstertypes/Fiend.png";break;case"Fish":this.hovermType="assets/monstertypes/Fish.png";break;case"Insect":this.hovermType="assets/monstertypes/Insect.png";break;case"Machine":this.hovermType="assets/monstertypes/Machine.png";break;case"Plant":this.hovermType="assets/monstertypes/Plant.png";break;case"Psychic":this.hovermType="assets/monstertypes/Psychic.png";break;case"Pyro":this.hovermType="assets/monstertypes/Pyro.png";break;case"Reptile":this.hovermType="assets/monstertypes/Reptile.png";break;case"Rock":this.hovermType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.hovermType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.hovermType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.hovermType="assets/monstertypes/Thunder.png";break;case"Warrior":this.hovermType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.hovermType="assets/monstertypes/Winged-Beast.png";break;default:this.hovermType="assets/monstertypes/Zombie.png"}}}showDetails(e){var r,i,s,o,a,l,d,f,m,_,v,b,k;if(this.card=e,console.log(this.card),this.attribute="",this.stType="",this.mType="","Normal Trap"==(null===(r=this.card)||void 0===r?void 0:r.cardtype)||"Counter Trap"==(null===(i=this.card)||void 0===i?void 0:i.cardtype)||"Continuous Trap"==(null===(s=this.card)||void 0===s?void 0:s.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/TRAP.png",null===(o=this.card)||void 0===o?void 0:o.cardtype){case"Normal Trap":this.stType="assets/cardstats/Normal.png";break;case"Continuous Trap":this.stType="assets/cardstats/Continuous.png";break;case"Counter Trap":this.stType="assets/cardstats/Counter.png"}else if("Normal Spell"==(null===(a=this.card)||void 0===a?void 0:a.cardtype)||"Quick Spell"==(null===(l=this.card)||void 0===l?void 0:l.cardtype)||"Continuous Spell"==(null===(d=this.card)||void 0===d?void 0:d.cardtype)||"Ritual Spell"==(null===(f=this.card)||void 0===f?void 0:f.cardtype)||"Field Spell"==(null===(m=this.card)||void 0===m?void 0:m.cardtype)||"Equip Spell"==(null===(_=this.card)||void 0===_?void 0:_.cardtype))switch(this.monster="False",this.attribute="assets/cardstats/SPELL.png",null===(v=this.card)||void 0===v?void 0:v.cardtype){case"Normal Spell":this.stType="assets/cardstats/Normal.png";break;case"Quick Spell":this.stType="assets/cardstats/Quick.png";break;case"Field Spell":this.stType="assets/cardstats/Field.png";break;case"Continuous Spell":this.stType="assets/cardstats/Continuous.png";break;case"Equip Spell":this.stType="assets/cardstats/Equip.png";break;case"Ritual Spell":this.stType="assets/cardstats/Ritual.png"}else{switch(this.monster="True",null===(b=this.card)||void 0===b?void 0:b.attribute){case"FIRE":this.attribute="assets/cardstats/FIRE.png";break;case"DARK":this.attribute="assets/cardstats/DARK.png";break;case"WIND":this.attribute="assets/cardstats/WIND.png";break;case"WATER":this.attribute="assets/cardstats/WATER.png";break;case"LIGHT":this.attribute="assets/cardstats/LIGHT.png";break;case"DIVINE":this.attribute="assets/cardstats/DIVINE.png";break;default:this.attribute="assets/cardstats/EARTH.png"}switch(null===(k=this.card)||void 0===k?void 0:k.type){case"Aqua":this.mType="assets/monstertypes/Aqua.png";break;case"Beast-Warrior":this.mType="assets/monstertypes/Beast-Warrior.png";break;case"Beast":this.mType="assets/monstertypes/Beast.png";break;case"Dinosaur":this.mType="assets/monstertypes/Dinosaur.png";break;case"Divine-Beast":this.mType="assets/monstertypes/Divine-Beast.png";break;case"Dragon":this.mType="assets/monstertypes/Dragon.png";break;case"Fairy":this.mType="assets/monstertypes/Fairy.png";break;case"Fiend":this.mType="assets/monstertypes/Fiend.png";break;case"Fish":this.mType="assets/monstertypes/Fish.png";break;case"Insect":this.mType="assets/monstertypes/Insect.png";break;case"Machine":this.mType="assets/monstertypes/Machine.png";break;case"Plant":this.mType="assets/monstertypes/Plant.png";break;case"Psychic":this.mType="assets/monstertypes/Psychic.png";break;case"Pyro":this.mType="assets/monstertypes/Pyro.png";break;case"Reptile":this.mType="assets/monstertypes/Reptile.png";break;case"Rock":this.mType="assets/monstertypes/Rock.png";break;case"Sea Serpent":this.mType="assets/monstertypes/Serpent.png";break;case"Spellcaster":this.mType="assets/monstertypes/Spellcaster.png";break;case"Thunder":this.mType="assets/monstertypes/Thunder.png";break;case"Warrior":this.mType="assets/monstertypes/Warrior.png";break;case"Winged-Beast":this.mType="assets/monstertypes/Winged-Beast.png";break;default:this.mType="assets/monstertypes/Zombie.png"}}}addCard(e){if(null!=e)if(console.log(e),"Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){if(15==this.extraDeck.length)return;var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return;this.extraDeck.push(e),this.edCounter++}else if(60!=this.mainDeck.length){r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;if(0==e.copies)return;e.copies--,this.mainDeck.push(e),e.cardtype.includes("Spell")&&this.spellCounter++,e.cardtype.includes("Monster")&&this.monsterCounter++,e.cardtype.includes("Trap")&&this.trapCounter++}}addSideCard(e){if(console.log(e),null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){var r=0;for(const i of this.extraDeck)if(e.name==i.name&&3==(r+=1))return}else{r=0;for(const s of this.mainDeck)if(e.name==s.name&&3==(r+=1))return;for(const s of this.sideDeck)if(e.name==s.name&&3==(r+=1))return;if(0==e.copies)return;e.copies--,this.sideDeck.push(e),this.sideCounter++}}selectDraftCard(e){this.draftCard=e}rightAddDraftCard(e,r){e.preventDefault(),this.card=r,"Side"==this.mainOrSide?this.addSideCard(this.card):this.addCard(this.card)}leftAddDraftCard(){console.log(this.card),this.addCard(this.card)}leftAddSideCard(){console.log(this.card),this.addSideCard(this.card)}rightDeleteDraftCard(e,r){e.preventDefault(),this.deleteDraftCard(r)}rightDeleteSideCard(e,r){r.copies++,e.preventDefault(),console.log(this.sideDeck);const i=this.sideDeck.findIndex(s=>s.id===(null==r?void 0:r.id));i>-1&&(this.sideDeck.splice(i,1),this.sideCounter--)}deleteDraftCard(e){if(console.log("in deleteDraftCard!"),e.copies++,null!=e)if("Fusion Monster"==e.cardtype||"Xyz Monster"==e.cardtype||"Synchro Monster"==e.cardtype){const r=this.extraDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&(this.extraDeck.splice(r,1),this.edCounter--)}else{console.log("Trying to delete!");const r=this.mainDeck.findIndex(i=>i.id===(null==e?void 0:e.id));r>-1&&this.mainDeck.splice(r,1),e.cardtype.includes("Spell")&&this.spellCounter--,e.cardtype.includes("Monster")&&this.monsterCounter--,e.cardtype.includes("Trap")&&this.trapCounter--}}uploadList(){if(this.mainDeck.length<40||this.mainDeck.length>60)return void(this.uploadCorrectly=!1);this.uploadCorrectly=!0;const e={};e.title=this.deckname,e.desc=this.deckdescription,this.xml_file='<?xml version="1.0" encoding="utf-8" ?> <deck name=".TriType"><main>';const r=[],i=[],s=[];for(const o of this.mainDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",r.push(String(o.id));this.xml_file+="</main><side>";for(const o of this.sideDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",i.push(String(o.id));this.xml_file+="</side><extra>";for(const o of this.extraDeck)this.xml_file+='<card id="'+String(o.id)+'" passcode="">'+o.name+"</card>\n",s.push(String(o.id));this.xml_file+="</extra></deck>\n",e.mainDeck=r,e.sideDeck=i,e.extraDeck=s,e.decklist=this.xml_file,e.creator=this.creator,e.creatorid=Number(this.creatorid),this.decklistinfo?(e.decklistid=this.decklistinfo.id,console.log("resubmitting decklist.."),this.customcardsService.resubmitDecklist(e).subscribe(o=>{console.log("JOBS DONE"),console.log(o),this.customcardsService.setProcessingDeck(!1),this.customcardsService.editDeck(!1),this.customcardsService.setEditDeckID(-1),this.customcardsService.setEditDeckName(""),this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)})):(console.log("submitting decklist.."),this.customcardsService.submitDecklist(e).subscribe(o=>{this.submitfail=!1,this._router.navigate(["/decklists"])},o=>{console.log(o)}))}exportList(){this.xml_file='<?xml version="1.0" encoding="utf-8" ?>\n<deck name=".TriType">\n <main>\n';for(const r of this.mainDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </main>\n <side>\n";for(const r of this.sideDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </side>\n <extra>\n";for(const r of this.extraDeck)this.xml_file+='  <card id="'+String(r.id)+'" passcode="">'+r.name+"</card>\n";this.xml_file+=" </extra>\n</deck>\n",console.log(this.xml_file);let e=new Blob([this.xml_file],{type:"text/xml"});Vd.saveAs(e,"cardlist.xml")}}return n.\u0275fac=function(e){return new(e||n)(w(ye),w(ue),w(te))},n.\u0275cmp=G({type:n,selectors:[["app-collection-deck-editor"]],inputs:{cards:"cards",drafting:"drafting"},features:[Lt],decls:216,vars:69,consts:[["class","hovering",3,"left","top",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-auto"],["for","Name"],["id","drafTitle","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","Desc"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",3,"keydown.enter"],["for","Creator"],["for","cardtype"],["id","initial",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","Monster"],["value","Spell"],["value","Trap"],["id","cardtype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","",4,"ngIf"],["value","Effect Monster",4,"ngIf"],["value","Flip Monster",4,"ngIf"],["value","Tuner Monster",4,"ngIf"],["value","Gemini Monster",4,"ngIf"],["value","Spirit Monster",4,"ngIf"],["value","Union Monster",4,"ngIf"],["value","Ritual Monster",4,"ngIf"],["value","Fusion Monster",4,"ngIf"],["value","Synchro Monster",4,"ngIf"],["value","Xyz Monster",4,"ngIf"],["value","Normal Spell",4,"ngIf"],["value","Continuous Spell",4,"ngIf"],["value","Quick Spell",4,"ngIf"],["value","Ritual Spell",4,"ngIf"],["value","Equip Spell",4,"ngIf"],["value","Field Spell",4,"ngIf"],["value","Normal Trap",4,"ngIf"],["value","Continuous Trap",4,"ngIf"],["value","Counter Trap",4,"ngIf"],["for","gamemode"],["id","monstertype",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","Aqua"],["value","Beast"],["value","Beast-Warrior"],["value","Dinosaur"],["value","Dragon"],["value","Fairy"],["value","Fiend"],["value","Fish"],["value","Insect"],["value","Machine"],["value","Plant"],["value","Psychic"],["value","Pyro"],["value","Reptile"],["value","Rock"],["value","Sea Serpent"],["value","Spellcaster"],["value","Thunder"],["value","Warrior"],["value","Winged-Beast"],["value","Zombie"],["for","attribute"],["id","attribute",1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","DARK"],["value","DIVINE"],["value","EARTH"],["value","FIRE"],["value","LIGHT"],["value","WATER"],["value","WIND"],["for","levellow"],["type","number",1,"form-control","number",3,"disabled","ngModel","ngModelChange"],["for","levelhigh"],["for","atklow"],["for","atkhigh"],["for","deflow"],["for","defhigh"],["for","sort"],["value","c.id ASC"],["value","c.id DESC"],["value","c.name ASC"],["value","c.name DESC"],["value","c.level ASC",4,"ngIf"],["value","c.level DESC",4,"ngIf"],["value","c.ATK ASC",4,"ngIf"],["value","c.ATK DESC",4,"ngIf"],["value","c.DEF ASC",4,"ngIf"],["value","c.DEF DESC",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"row","text-center"],[1,"btn","btn-success","small","text-center",3,"click"],[1,"d-flex","justify-content-center"],["id","Loading","role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"hovering"],[1,"type",3,"src"],[1,"attribute",3,"src"],["src","assets/cardstats/Star.png",1,"star"],["value","Effect Monster"],["value","Flip Monster"],["value","Tuner Monster"],["value","Gemini Monster"],["value","Spirit Monster"],["value","Union Monster"],["value","Ritual Monster"],["value","Fusion Monster"],["value","Synchro Monster"],["value","Xyz Monster"],["value","Normal Spell"],["value","Continuous Spell"],["value","Quick Spell"],["value","Ritual Spell"],["value","Equip Spell"],["value","Field Spell"],["value","Normal Trap"],["value","Continuous Trap"],["value","Counter Trap"],["value","c.level ASC"],["value","c.level DESC"],["value","c.ATK ASC"],["value","c.ATK DESC"],["value","c.DEF ASC"],["value","c.DEF DESC"],["class","btn btn-default",3,"mouseenter","mouseleave","contextmenu","click",4,"ngIf"],[1,"btn","btn-default",3,"mouseenter","mouseleave","contextmenu","click"],["class","relative",4,"ngIf"],["class","rare-card",4,"ngIf"],[1,"relative"],[1,"smallcard",3,"src"],[1,"littlenumber","position-absolute","bottom-0","end-0"],[1,"rare-card"],["class"," smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",4,"ngIf"],["class","smallcard sparkle","src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",4,"ngIf"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/giphy.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/super.gif",1,"smallcard","sparkle"],["src","https://raw.githubusercontent.com/farisalkhat/CustomCardWebsite/master/src/assets/effects/fireworks.gif",1,"smallcard","sparkle"],["class","btn btn-default",3,"click","mouseenter","mouseleave","contextmenu",4,"ngIf"],[1,"btn","btn-default",3,"click","mouseenter","mouseleave","contextmenu"]],template:function(e,r){1&e&&(y(0,_J,16,13,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),p(5,"Deck Name"),u(),c(6,"input",5),T("ngModelChange",function(s){return r.deckname=s}),u()(),c(7,"div",3)(8,"label",6),p(9,"Deck Description"),u(),c(10,"input",7),T("ngModelChange",function(s){return r.deckdescription=s}),u()()(),c(11,"div",8),T("keydown.enter",function(){return r.submitSearch()}),c(12,"div",3)(13,"label",4),p(14,"Name"),u(),c(15,"input",7),T("ngModelChange",function(s){return r.filters.name=s}),u()(),c(16,"div",3)(17,"label",6),p(18,"Desc"),u(),c(19,"input",7),T("ngModelChange",function(s){return r.filters.desc=s}),u()(),c(20,"div",3)(21,"label",9),p(22,"Creator"),u(),c(23,"input",7),T("ngModelChange",function(s){return r.filters.creator=s}),u()(),c(24,"div",3)(25,"label",10),p(26,"Card"),u(),c(27,"select",11),T("ngModelChange",function(s){return r.filters.initial=s}),D(28,"option",12),c(29,"option",13),p(30,"Monster"),u(),c(31,"option",14),p(32,"Spell"),u(),c(33,"option",15),p(34,"Trap"),u()()(),c(35,"div",3)(36,"label",10),p(37,"Card Type 2"),u(),c(38,"select",16),T("ngModelChange",function(s){return r.filters.cardtype=s}),y(39,vJ,1,0,"option",17),y(40,yJ,2,0,"option",18),y(41,CJ,2,0,"option",19),y(42,bJ,2,0,"option",20),y(43,kJ,2,0,"option",21),y(44,DJ,2,0,"option",22),y(45,TJ,2,0,"option",23),y(46,wJ,2,0,"option",24),y(47,SJ,2,0,"option",25),y(48,MJ,2,0,"option",26),y(49,xJ,2,0,"option",27),y(50,EJ,1,0,"option",17),y(51,IJ,2,0,"option",28),y(52,PJ,2,0,"option",29),y(53,AJ,2,0,"option",30),y(54,OJ,2,0,"option",31),y(55,NJ,2,0,"option",32),y(56,RJ,2,0,"option",33),y(57,FJ,1,0,"option",17),y(58,LJ,2,0,"option",34),y(59,BJ,2,0,"option",35),y(60,VJ,2,0,"option",36),u()(),c(61,"div",3)(62,"label",37),p(63,"Monster Type"),u(),c(64,"select",38),T("ngModelChange",function(s){return r.filters.monstertype=s}),D(65,"option",12),c(66,"option",39),p(67,"Aqua"),u(),c(68,"option",40),p(69,"Beast"),u(),c(70,"option",41),p(71,"Beast-Warrior"),u(),c(72,"option",42),p(73,"Dinosaur"),u(),c(74,"option",43),p(75,"Dragon"),u(),c(76,"option",44),p(77,"Fairy"),u(),c(78,"option",45),p(79,"Fiend"),u(),c(80,"option",46),p(81,"Fish"),u(),c(82,"option",47),p(83,"Insect"),u(),c(84,"option",48),p(85,"Machine"),u(),c(86,"option",49),p(87,"Plant"),u(),c(88,"option",50),p(89,"Psychic"),u(),c(90,"option",51),p(91,"Pyro"),u(),c(92,"option",52),p(93,"Reptile"),u(),c(94,"option",53),p(95,"Rock"),u(),c(96,"option",54),p(97,"Sea Serpent"),u(),c(98,"option",55),p(99,"Spellcaster"),u(),c(100,"option",56),p(101,"Thunder"),u(),c(102,"option",57),p(103,"Warrior"),u(),c(104,"option",58),p(105,"Winged-Beast"),u(),c(106,"option",59),p(107,"Zombie"),u()()()(),c(108,"div",8),T("keydown.enter",function(){return r.submitSearch()}),c(109,"div",3)(110,"label",60),p(111,"Attribute"),u(),c(112,"select",61),T("ngModelChange",function(s){return r.filters.attribute=s}),D(113,"option",12),c(114,"option",62),p(115,"DARK"),u(),c(116,"option",63),p(117,"DIVINE"),u(),c(118,"option",64),p(119,"EARTH"),u(),c(120,"option",65),p(121,"FIRE"),u(),c(122,"option",66),p(123,"LIGHT"),u(),c(124,"option",67),p(125,"WATER"),u(),c(126,"option",68),p(127,"WIND"),u()()(),c(128,"div",3)(129,"label",69),p(130,"Level <= "),u(),c(131,"input",70),T("ngModelChange",function(s){return r.filters.levellow=s}),u()(),c(132,"div",3)(133,"label",71),p(134," Level "),u(),c(135,"input",70),T("ngModelChange",function(s){return r.filters.levelhigh=s}),u()(),c(136,"div",3)(137,"label",72),p(138,"Atk <="),u(),c(139,"input",70),T("ngModelChange",function(s){return r.filters.atklow=s}),u()(),c(140,"div",3)(141,"label",73),p(142,"Atk"),u(),c(143,"input",70),T("ngModelChange",function(s){return r.filters.atkhigh=s}),u()(),c(144,"div",3)(145,"label",74),p(146,"Def <="),u(),c(147,"input",70),T("ngModelChange",function(s){return r.filters.deflow=s}),u()(),c(148,"div",3)(149,"label",75),p(150,"Def"),u(),c(151,"input",70),T("ngModelChange",function(s){return r.filters.defhigh=s}),u()(),c(152,"div",3)(153,"label",76),p(154,"Sort By"),u(),c(155,"select",11),T("ngModelChange",function(s){return r.filters.sort=s}),c(156,"option",77),p(157,"Release Date ASC"),u(),c(158,"option",78),p(159,"Release Date DESC"),u(),c(160,"option",79),p(161,"Alphabetical ASC"),u(),c(162,"option",80),p(163,"Alphabetical DESC"),u(),y(164,HJ,2,0,"option",81),y(165,zJ,2,0,"option",82),y(166,$J,2,0,"option",83),y(167,UJ,2,0,"option",84),y(168,jJ,2,0,"option",85),y(169,WJ,2,0,"option",86),u()(),c(170,"button",87),T("click",function(){return r.submitSearch()}),p(171,"Search"),u()(),c(172,"div",88)(173,"div")(174,"button",89),T("click",function(){return r.addTo("Main")}),p(175,"Main Deck"),u(),c(176,"button",89),T("click",function(){return r.addTo("Side")}),p(177,"Side Deck"),u()(),c(178,"div",3)(179,"div",90)(180,"div",91),D(181,"span",92),u()(),y(182,JJ,2,1,"span",93),c(183,"div",2)(184,"button",87),T("click",function(){return r.nextPage()}),p(185,"Next"),u(),c(186,"button",87),T("click",function(){return r.prevPage()}),p(187,"Previous"),u()()()(),c(188,"div",2)(189,"h1")(190,"b"),p(191),u(),c(192,"button",87),T("click",function(){return r.exportList()}),p(193,"Export XML"),u(),y(194,ZJ,2,0,"button",94),y(195,eZ,2,0,"span",95),u(),c(196,"div",96)(197,"h2"),p(198),u(),y(199,nZ,2,1,"span",93),u(),c(200,"div",96)(201,"h2"),p(202),u(),y(203,iZ,2,1,"span",93),u(),c(204,"div",96)(205,"h2"),p(206),u(),y(207,oZ,2,1,"span",93),u(),c(208,"div",96)(209,"h2"),p(210),u(),y(211,aZ,3,1,"span",93),u(),c(212,"div",96)(213,"h2"),p(214),u(),y(215,lZ,3,1,"span",93),u()()()),2&e&&(g("ngIf",!0===r.isHovering),h(6),g("ngModel",r.deckname),h(4),g("ngModel",r.deckdescription),h(5),g("ngModel",r.filters.name),h(4),g("ngModel",r.filters.desc),h(4),g("ngModel",r.filters.creator),h(4),g("ngModel",r.filters.initial),h(11),g("disabled",""==r.filters.initial)("ngModel",r.filters.cardtype),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Spell"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(1),g("ngIf","Trap"==r.filters.initial),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.monstertype),h(48),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.attribute),h(19),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levellow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.levelhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atklow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.atkhigh),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.deflow),h(4),g("disabled","Monster"!=r.filters.initial)("ngModel",r.filters.defhigh),h(4),g("ngModel",r.filters.sort),h(9),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(1),g("ngIf","Monster"==r.filters.initial),h(13),g("ngForOf",r.currentCards),h(9),Me("Current Decklist (",r.mainDeck.length,"/60) (",r.sideDeck.length,"/15)"),h(3),g("ngIf",r._authService.loggedIn()),h(1),g("ngIf",0==r.uploadCorrectly),h(3),I("Monsters (",r.monsterCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Spells (",r.spellCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Traps (",r.trapCounter,")"),h(1),g("ngForOf",r.mainDeck),h(3),I("Side Deck (",r.sideCounter,")"),h(1),g("ngForOf",r.sideDeck),h(3),I("Extra (",r.edCounter,")"),h(1),g("ngForOf",r.extraDeck))},directives:[me,at,Ze,Ut,yn,Yn,Jn,Hs,be],styles:['.smallcard[_ngcontent-%COMP%]{width:100px}.clickbutton[_ngcontent-%COMP%]{margin-left:2px;height:47.99px;margin-bottom:8px}.binder[_ngcontent-%COMP%]{font-size:xx-large}.col-auto[_ngcontent-%COMP%]{max-width:1200px}.col[_ngcontent-%COMP%]{width:1500px}.littlenumber[_ngcontent-%COMP%]{width:20px;background-color:#000000db;color:#fff;z-index:1000}.sparkle[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%], .rare-card[_ngcontent-%COMP%]{position:relative}.rare-card[_ngcontent-%COMP%]:after{content:"";top:0;transform:translate(100%);width:30px;height:100%;position:absolute;z-index:1;animation:slide 1s infinite .5s;background:linear-gradient(to right,rgba(255,255,255,0) 0%,rgba(255,255,255,.5) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@keyframes slide{0%{transform:translate(-400%)}to{transform:translate(-50%)}}button[_ngcontent-%COMP%]{padding:0;margin:0}.btn-success[_ngcontent-%COMP%]{margin:3px}']}),n})()},{path:"decklist/:deckid",component:HK},{path:"deck-master",component:$K},{path:"collections",component:nQ},{path:"checklist",component:BQ},{path:"cards/:cardid",component:JQ},{path:"packs/:packid",component:DX},{path:"players",component:wX},{path:"players/:playerid",component:hY},{path:"submit-match",component:DY},{path:"pack-editor",component:MY},{path:"matches",component:FY},{path:"settings",component:KY},{path:"duelist-decklists",component:XY},{path:"upload-decklist",component:YY},{path:"database",component:JY},{path:"admin",component:ZY},{path:"editor",component:rJ},{path:"articles/:articleid",component:oJ},{path:"articles/edit/:articleid",component:uJ}];let uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[[ad.forRoot(cZ),vd,ql,VV,QV,na],ad,vd,ql]}),n})();function dZ(n,t){1&n&&(c(0,"a",39),p(1,"Pack Maker"),u())}function pZ(n,t){1&n&&(c(0,"a",40),p(1,"Pack Editor"),u())}function hZ(n,t){if(1&n&&(c(0,"li",11)(1,"a",41),p(2),u(),c(3,"ul",13)(4,"li",42),p(5),u(),c(6,"li")(7,"a",43),p(8,"Settings"),u()(),c(9,"li")(10,"a",44),p(11,"Submit Match"),u()(),c(12,"li",8)(13,"a",45),p(14,"Binders"),u()(),c(15,"li",8)(16,"a",46),p(17,"Collection"),u()()()()),2&n){const e=C();h(1),A("routerLink","/players/",e.id,""),h(1),I(" ",e._authService.username," "),h(3),I("",e._authService.currency," Dosh\u2122")}}function fZ(n,t){1&n&&(c(0,"button",47),p(1,"Login"),u())}function mZ(n,t){1&n&&(c(0,"button",48),p(1,"Sign Up"),u())}function gZ(n,t){if(1&n){const e=L();c(0,"button",49),T("click",function(){return S(e),C()._authService.logoutUser()}),p(1,"Logout"),u()}}function _Z(n,t){1&n&&(c(0,"button",50),p(1,"Admin"),u())}let vZ=(()=>{class n{constructor(e,r,i){this._router=e,this._authService=r,this.customcardsService=i}ngOnInit(){this._authService.loggedIn()?this._authService.getUser().subscribe(e=>{console.log(e.username),this.username=e.username,this.id=e.id,this.currency=e.currency},e=>{console.log(e),this.username=void 0,this.id=void 0}):(this.username=void 0,this.id=void 0)}goToSealedDraft(){this.customcardsService.setSealedDraftMode(!0),this._router.navigate(["/packs"])}goToPackOpener(){this.customcardsService.setSealedDraftMode(!1),this._router.navigate(["/packs"])}}return n.\u0275fac=function(e){return new(e||n)(w(te),w(ye),w(ue))},n.\u0275cmp=G({type:n,selectors:[["app-navigation"]],decls:84,vars:7,consts:[[1,"navbar","navbar-default","navbar-expand-md","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://i.imgur.com/VaqZnwF.png",1,"wretched"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-dark"],[1,"navbar-toggler-icon","navbar-dark"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/banlist",1,"nav-link"],[1,"nav-item","dropdown"],["routerLink","/players","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["aria-labelledby","navbarDarkDropdownMenuLink",1,"dropdown-menu","dropdown-menu-dark"],["routerLink","/players",1,"nav-link"],["routerLink","/matches",1,"nav-link"],["routerLink","/articles",1,"nav-link"],["routerLink","/drafts","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/draft-maker",1,"nav-link"],["routerLink","/draftmode",1,"nav-link"],["routerLink","/packs","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link",3,"click"],["class","nav-link","routerLink","/pack-maker",4,"ngIf"],["class","nav-link","routerLink","/pack-editor",4,"ngIf"],["routerLink","/packs",1,"nav-link",3,"click"],["routerLink","/checklist",1,"nav-link"],["id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/deck-editor",1,"nav-link"],["routerLink","/collection-deck-editor",1,"nav-link"],["routerLink","/decklists","id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link"],["routerLink","/decklists",1,"nav-link"],["routerLink","/duelist-decklists",1,"nav-link"],["routerLink","/upload-decklist",1,"nav-link"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],["class","nav-item dropdown",4,"ngIf"],[1,"form-inline","my-2","my-lg-0"],["type","button","class","btn btn-success","routerLink","/login","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/register","routerLinkActive","active",4,"ngIf"],["type","button","class","btn btn-success","routerLinkActive","active",3,"click",4,"ngIf"],["type","button","class","btn btn-success","routerLink","/admin","routerLinkActive","active",4,"ngIf"],["routerLink","/pack-maker",1,"nav-link"],["routerLink","/pack-editor",1,"nav-link"],["id","navbarDarkDropdownMenuLink","role","button","aria-expanded","false",1,"nav-link",3,"routerLink"],[1,"nav-link"],["routerLink","/settings",1,"nav-link"],["routerLink","/submit-match",1,"nav-link"],["routerLink","/binders",1,"nav-link"],["routerLink","/collections",1,"nav-link"],["type","button","routerLink","/login","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLink","/register","routerLinkActive","active",1,"btn","btn-success"],["type","button","routerLinkActive","active",1,"btn","btn-success",3,"click"],["type","button","routerLink","/admin","routerLinkActive","active",1,"btn","btn-success"]],template:function(e,r){1&e&&(c(0,"nav",0)(1,"div",1)(2,"a",2),D(3,"img",3),u(),c(4,"button",4),D(5,"span",5),u(),c(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),p(10,"Home"),u()(),c(11,"li",8)(12,"a",10),p(13,"Banlist"),u()(),c(14,"li",11)(15,"a",12),p(16," Community "),u(),c(17,"ul",13)(18,"li")(19,"a",14),p(20,"Players "),u()(),c(21,"li")(22,"a",15),p(23,"Matches"),u()(),c(24,"li")(25,"a",16),p(26,"Articles"),u()()()(),c(27,"li",11)(28,"a",17),p(29," Drafts "),u(),c(30,"ul",13)(31,"li")(32,"a",18),p(33,"Draft Creator "),u()(),c(34,"li")(35,"a",19),p(36,"Draft Editor"),u()()()(),c(37,"li",11)(38,"a",20),T("click",function(){return r.goToPackOpener()}),p(39," Packs "),u(),c(40,"ul",13)(41,"li"),y(42,dZ,2,0,"a",21),u(),c(43,"li"),y(44,pZ,2,0,"a",22),u(),c(45,"li")(46,"a",23),T("click",function(){return r.goToSealedDraft()}),p(47,"Sealed Draft"),u()(),c(48,"li")(49,"a",24),p(50,"Checklist"),u()()()(),c(51,"li",11)(52,"a",25),p(53," Editor "),u(),c(54,"ul",13)(55,"li")(56,"a",26),p(57,"Deck Editor"),u()(),c(58,"li")(59,"a",27),p(60,"Collection Editor"),u()()()(),c(61,"li",11)(62,"a",28),p(63," Decklists "),u(),c(64,"ul",13)(65,"li")(66,"a",29),p(67,"Public Decklists"),u()(),c(68,"li")(69,"a",30),p(70,"Your Decklists"),u()(),c(71,"li")(72,"a",31),p(73,"Upload Decklist"),u()()()()(),c(74,"ul",32),y(75,hZ,18,3,"li",33),c(76,"form",34),y(77,fZ,2,0,"button",35),u(),c(78,"form",34),y(79,mZ,2,0,"button",36),u(),c(80,"form",34),y(81,gZ,2,0,"button",37),u()(),c(82,"form",34),y(83,_Z,2,0,"button",38),u()()()()),2&e&&(h(42),g("ngIf",r._authService.adminRole()),h(2),g("ngIf",r._authService.adminRole()),h(31),g("ngIf",null!=r.username),h(2),g("ngIf",!r._authService.loggedIn()),h(2),g("ngIf",!r._authService.loggedIn()),h(2),g("ngIf",r._authService.loggedIn()),h(2),g("ngIf",r._authService.adminRole()))},directives:[an,od,me,_n,gn,_d,on],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}.navbar-brand[_ngcontent-%COMP%]{padding-bottom:10px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}a[_ngcontent-%COMP%]{color:#fff!important}a[_ngcontent-%COMP%]:hover{color:green!important}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;margin-top:0}.navbar-light[_ngcontent-%COMP%]   span.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='yellow' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\");color:#fff}.navbar-light[_ngcontent-%COMP%]   button.navbar-toggler[_ngcontent-%COMP%]{border-color:#ff0}@media (max-width: 768px){.collapse[_ngcontent-%COMP%]{background-color:#212529;padding-left:5px;margin:0}.nav-item[_ngcontent-%COMP%]{padding-left:5px}.navbar-collapse[_ngcontent-%COMP%]{background-color:#212529;z-index:1000;padding:0;margin:0}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:medium}}"]}),n})(),yZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["app-bottom-nav"]],decls:6,vars:0,consts:[["id","sticky-footer",1,"flex-shrink-0","py-4","bg-dark","text-white-50"],[1,"container","text-center"],["href","https://github.com/farisalkhat"]],template:function(e,r){1&e&&(c(0,"footer",0)(1,"div",1)(2,"small"),p(3,"Faris Al-khatahtbeh \xa9 "),c(4,"a",2),p(5,"Github"),u()()()())},styles:[".container[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]{margin-top:100px;font-family:Oswald,sans-serif;color:#fff;font-size:20px}p[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;color:#fff}.bottom[_ngcontent-%COMP%]{background-color:#1f1a1f;overflow:hidden;bottom:0;width:100%;margin-top:50px}"]}),n})(),CZ=(()=>{class n{constructor(e){this._authService=e,this.title="The Attic"}}return n.\u0275fac=function(e){return new(e||n)(w(ye))},n.\u0275cmp=G({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&D(0,"app-navigation")(1,"router-outlet")(2,"app-bottom-nav")},directives:[vZ,zm,yZ],styles:["button[_ngcontent-%COMP%]{padding:5px;margin:3px}nav[_ngcontent-%COMP%]{font-family:Oswald,sans-serif;font-size:x-large}button[_ngcontent-%COMP%]{font-size:1.5rem}"]}),n})(),bZ=(()=>{class n{constructor(e,r){this._authService=e,this._router=r}canActivate(){return!!this._authService.loggedIn()||(this._router.navigate(["/login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(B(ye),B(te))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n}),n.\u0275inj=lt({imports:[[na]]}),n})(),MZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ft({type:n,bootstrap:[CZ]}),n.\u0275inj=lt({providers:[bZ],imports:[[z4,Ok,uZ,vd,ql,SZ,mq.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",blockquote:"Blockquote",underline:"Underline",strike:"Strike",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}})]]}),n})();(function aR(){z0=!1})(),g4().bootstrapModule(MZ).catch(n=>console.error(n))},327:function(ao,mc){var hs;void 0!==(hs=function(){"use strict";function ni(Te,Se,hn){var Be=new XMLHttpRequest;Be.open("GET",Te),Be.responseType="blob",Be.onload=function(){zn(Be.response,Se,hn)},Be.onerror=function(){console.error("could not download file")},Be.send()}function Kt(Te){var Se=new XMLHttpRequest;Se.open("HEAD",Te,!1);try{Se.send()}catch(hn){}return 200<=Se.status&&299>=Se.status}function fs(Te){try{Te.dispatchEvent(new MouseEvent("click"))}catch(hn){var Se=document.createEvent("MouseEvents");Se.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Te.dispatchEvent(Se)}}var Dn="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Ia=Dn.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),zn=Dn.saveAs||("object"!=typeof window||window!==Dn?function(){}:"download"in HTMLAnchorElement.prototype&&!Ia?function(Te,Se,hn){var Be=Dn.URL||Dn.webkitURL,Qt=document.createElement("a");Qt.download=Se=Se||Te.name||"download",Qt.rel="noopener","string"==typeof Te?(Qt.href=Te,Qt.origin===location.origin?fs(Qt):Kt(Qt.href)?ni(Te,Se,hn):fs(Qt,Qt.target="_blank")):(Qt.href=Be.createObjectURL(Te),setTimeout(function(){Be.revokeObjectURL(Qt.href)},4e4),setTimeout(function(){fs(Qt)},0))}:"msSaveOrOpenBlob"in navigator?function(Te,Se,hn){if(Se=Se||Te.name||"download","string"!=typeof Te)navigator.msSaveOrOpenBlob(function lo(Te,Se){return void 0===Se?Se={autoBom:!1}:"object"!=typeof Se&&(console.warn("Deprecated: Expected third argument to be a object"),Se={autoBom:!Se}),Se.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Te.type)?new Blob(["\ufeff",Te],{type:Te.type}):Te}(Te,hn),Se);else if(Kt(Te))ni(Te,Se,hn);else{var Be=document.createElement("a");Be.href=Te,Be.target="_blank",setTimeout(function(){fs(Be)})}}:function(Te,Se,hn,Be){if((Be=Be||open("","_blank"))&&(Be.document.title=Be.document.body.innerText="downloading..."),"string"==typeof Te)return ni(Te,Se,hn);var Qt="application/octet-stream"===Te.type,mp=/constructor/i.test(Dn.HTMLElement)||Dn.safari,co=/CriOS\/[\d]+/.test(navigator.userAgent);if((co||Qt&&mp||Ia)&&"undefined"!=typeof FileReader){var sr=new FileReader;sr.onloadend=function(){var ri=sr.result;ri=co?ri:ri.replace(/^data:[^;]*;/,"data:attachment/file;"),Be?Be.location.href=ri:location=ri,Be=null},sr.readAsDataURL(Te)}else{var ms=Dn.URL||Dn.webkitURL,Pa=ms.createObjectURL(Te);Be?Be.location=Pa:location.href=Pa,Be=null,setTimeout(function(){ms.revokeObjectURL(Pa)},4e4)}});Dn.saveAs=zn.saveAs=zn,ao.exports=zn}.apply(mc,[]))&&(ao.exports=hs)}},ao=>{ao(ao.s=208)}]);